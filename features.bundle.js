/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ var __webpack_modules__ = ({

/***/ "../bpmn-io/bpmn-js-color-picker/node_modules/bpmn-js/lib/util/ModelUtil.js":
/*!**********************************************************************************!*\
  !*** ../bpmn-io/bpmn-js-color-picker/node_modules/bpmn-js/lib/util/ModelUtil.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getBusinessObject: () => (/* binding */ getBusinessObject),\n/* harmony export */   getDi: () => (/* binding */ getDi),\n/* harmony export */   is: () => (/* binding */ is),\n/* harmony export */   isAny: () => (/* binding */ isAny)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"../bpmn-io/bpmn-js-color-picker/node_modules/min-dash/dist/index.esm.js\");\n\n\n\n/**\n * Is an element of the given BPMN type?\n *\n * @param  {djs.model.Base|ModdleElement} element\n * @param  {string} type\n *\n * @return {boolean}\n */\nfunction is(element, type) {\n  var bo = getBusinessObject(element);\n\n  return bo && (typeof bo.$instanceOf === 'function') && bo.$instanceOf(type);\n}\n\n\n/**\n * Return true if element has any of the given types.\n *\n * @param {djs.model.Base} element\n * @param {Array<string>} types\n *\n * @return {boolean}\n */\nfunction isAny(element, types) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.some)(types, function(t) {\n    return is(element, t);\n  });\n}\n\n/**\n * Return the business object for a given element.\n *\n * @param  {djs.model.Base|ModdleElement} element\n *\n * @return {ModdleElement}\n */\nfunction getBusinessObject(element) {\n  return (element && element.businessObject) || element;\n}\n\n/**\n * Return the di object for a given element.\n *\n * @param  {djs.model.Base} element\n *\n * @return {ModdleElement}\n */\nfunction getDi(element) {\n  return element && element.di;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vYnBtbi1pby9icG1uLWpzLWNvbG9yLXBpY2tlci9ub2RlX21vZHVsZXMvYnBtbi1qcy9saWIvdXRpbC9Nb2RlbFV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFa0I7OztBQUdsQjtBQUNBO0FBQ0E7QUFDQSxZQUFZLDhCQUE4QjtBQUMxQyxZQUFZLFFBQVE7QUFDcEI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCLFdBQVcsZUFBZTtBQUMxQjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1AsU0FBUyw4Q0FBSTtBQUNiO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOEJBQThCO0FBQzFDO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2RheXMtMjAyMy8uLi9icG1uLWlvL2JwbW4tanMtY29sb3ItcGlja2VyL25vZGVfbW9kdWxlcy9icG1uLWpzL2xpYi91dGlsL01vZGVsVXRpbC5qcz85MjAyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHNvbWVcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG5cbi8qKlxuICogSXMgYW4gZWxlbWVudCBvZiB0aGUgZ2l2ZW4gQlBNTiB0eXBlP1xuICpcbiAqIEBwYXJhbSAge2Rqcy5tb2RlbC5CYXNlfE1vZGRsZUVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSAge3N0cmluZ30gdHlwZVxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpcyhlbGVtZW50LCB0eXBlKSB7XG4gIHZhciBibyA9IGdldEJ1c2luZXNzT2JqZWN0KGVsZW1lbnQpO1xuXG4gIHJldHVybiBibyAmJiAodHlwZW9mIGJvLiRpbnN0YW5jZU9mID09PSAnZnVuY3Rpb24nKSAmJiBiby4kaW5zdGFuY2VPZih0eXBlKTtcbn1cblxuXG4vKipcbiAqIFJldHVybiB0cnVlIGlmIGVsZW1lbnQgaGFzIGFueSBvZiB0aGUgZ2l2ZW4gdHlwZXMuXG4gKlxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSB0eXBlc1xuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FueShlbGVtZW50LCB0eXBlcykge1xuICByZXR1cm4gc29tZSh0eXBlcywgZnVuY3Rpb24odCkge1xuICAgIHJldHVybiBpcyhlbGVtZW50LCB0KTtcbiAgfSk7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBidXNpbmVzcyBvYmplY3QgZm9yIGEgZ2l2ZW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0gIHtkanMubW9kZWwuQmFzZXxNb2RkbGVFbGVtZW50fSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7TW9kZGxlRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJ1c2luZXNzT2JqZWN0KGVsZW1lbnQpIHtcbiAgcmV0dXJuIChlbGVtZW50ICYmIGVsZW1lbnQuYnVzaW5lc3NPYmplY3QpIHx8IGVsZW1lbnQ7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBkaSBvYmplY3QgZm9yIGEgZ2l2ZW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0gIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge01vZGRsZUVsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREaShlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50ICYmIGVsZW1lbnQuZGk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../bpmn-io/bpmn-js-color-picker/node_modules/bpmn-js/lib/util/ModelUtil.js\n");

/***/ }),

/***/ "../bpmn-io/bpmn-js-color-picker/node_modules/min-dom/dist/index.esm.js":
/*!******************************************************************************!*\
  !*** ../bpmn-io/bpmn-js-color-picker/node_modules/min-dom/dist/index.esm.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assignStyle: () => (/* binding */ assign),\n/* harmony export */   attr: () => (/* binding */ attr),\n/* harmony export */   classes: () => (/* binding */ classes),\n/* harmony export */   clear: () => (/* binding */ clear),\n/* harmony export */   closest: () => (/* binding */ closest),\n/* harmony export */   delegate: () => (/* binding */ delegate),\n/* harmony export */   domify: () => (/* binding */ domify$1),\n/* harmony export */   event: () => (/* binding */ event),\n/* harmony export */   matches: () => (/* binding */ matches),\n/* harmony export */   query: () => (/* binding */ query),\n/* harmony export */   queryAll: () => (/* binding */ all),\n/* harmony export */   remove: () => (/* binding */ remove)\n/* harmony export */ });\nfunction _mergeNamespaces(n, m) {\n  m.forEach(function (e) {\n    e && typeof e !== 'string' && !Array.isArray(e) && Object.keys(e).forEach(function (k) {\n      if (k !== 'default' && !(k in n)) {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () { return e[k]; }\n        });\n      }\n    });\n  });\n  return Object.freeze(n);\n}\n\n/**\n * Flatten array, one level deep.\n *\n * @param {Array<?>} arr\n *\n * @return {Array<?>}\n */\n\nconst nativeToString = Object.prototype.toString;\nconst nativeHasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isUndefined(obj) {\n  return obj === undefined;\n}\n\nfunction isArray(obj) {\n  return nativeToString.call(obj) === '[object Array]';\n}\n\n/**\n * Return true, if target owns a property with the given key.\n *\n * @param {Object} target\n * @param {String} key\n *\n * @return {Boolean}\n */\nfunction has(target, key) {\n  return nativeHasOwnProperty.call(target, key);\n}\n\n\n/**\n * Iterate over collection; returning something\n * (non-undefined) will stop iteration.\n *\n * @param  {Array|Object} collection\n * @param  {Function} iterator\n *\n * @return {Object} return result that stopped the iteration\n */\nfunction forEach(collection, iterator) {\n\n  let val,\n      result;\n\n  if (isUndefined(collection)) {\n    return;\n  }\n\n  const convertKey = isArray(collection) ? toNum : identity;\n\n  for (let key in collection) {\n\n    if (has(collection, key)) {\n      val = collection[key];\n\n      result = iterator(val, convertKey(key));\n\n      if (result === false) {\n        return val;\n      }\n    }\n  }\n}\n\n\nfunction identity(arg) {\n  return arg;\n}\n\nfunction toNum(arg) {\n  return Number(arg);\n}\n\n/**\n * Assigns style attributes in a style-src compliant way.\n *\n * @param {Element} element\n * @param {...Object} styleSources\n *\n * @return {Element} the element\n */\nfunction assign(element, ...styleSources) {\n  const target = element.style;\n\n  forEach(styleSources, function(style) {\n    if (!style) {\n      return;\n    }\n\n    forEach(style, function(value, key) {\n      target[key] = value;\n    });\n  });\n\n  return element;\n}\n\n/**\n * Set attribute `name` to `val`, or get attr `name`.\n *\n * @param {Element} el\n * @param {String} name\n * @param {String} [val]\n * @api public\n */\nfunction attr(el, name, val) {\n\n  // get\n  if (arguments.length == 2) {\n    return el.getAttribute(name);\n  }\n\n  // remove\n  if (val === null) {\n    return el.removeAttribute(name);\n  }\n\n  // set\n  el.setAttribute(name, val);\n\n  return el;\n}\n\n/**\n * Taken from https://github.com/component/classes\n *\n * Without the component bits.\n */\n\n/**\n * toString reference.\n */\n\nconst toString = Object.prototype.toString;\n\n/**\n * Wrap `el` in a `ClassList`.\n *\n * @param {Element} el\n * @return {ClassList}\n * @api public\n */\n\nfunction classes(el) {\n  return new ClassList(el);\n}\n\n/**\n * Initialize a new ClassList for `el`.\n *\n * @param {Element} el\n * @api private\n */\n\nfunction ClassList(el) {\n  if (!el || !el.nodeType) {\n    throw new Error('A DOM element reference is required');\n  }\n  this.el = el;\n  this.list = el.classList;\n}\n\n/**\n * Add class `name` if not already present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.add = function(name) {\n  this.list.add(name);\n  return this;\n};\n\n/**\n * Remove class `name` when present, or\n * pass a regular expression to remove\n * any which match.\n *\n * @param {String|RegExp} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.remove = function(name) {\n  if ('[object RegExp]' == toString.call(name)) {\n    return this.removeMatching(name);\n  }\n\n  this.list.remove(name);\n  return this;\n};\n\n/**\n * Remove all classes matching `re`.\n *\n * @param {RegExp} re\n * @return {ClassList}\n * @api private\n */\n\nClassList.prototype.removeMatching = function(re) {\n  const arr = this.array();\n  for (let i = 0; i < arr.length; i++) {\n    if (re.test(arr[i])) {\n      this.remove(arr[i]);\n    }\n  }\n  return this;\n};\n\n/**\n * Toggle class `name`, can force state via `force`.\n *\n * For browsers that support classList, but do not support `force` yet,\n * the mistake will be detected and corrected.\n *\n * @param {String} name\n * @param {Boolean} force\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.toggle = function(name, force) {\n  if ('undefined' !== typeof force) {\n    if (force !== this.list.toggle(name, force)) {\n      this.list.toggle(name); // toggle again to correct\n    }\n  } else {\n    this.list.toggle(name);\n  }\n  return this;\n};\n\n/**\n * Return an array of classes.\n *\n * @return {Array}\n * @api public\n */\n\nClassList.prototype.array = function() {\n  return Array.from(this.list);\n};\n\n/**\n * Check if class `name` is present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.has =\nClassList.prototype.contains = function(name) {\n  return this.list.contains(name);\n};\n\n/**\n * Remove all children from the given element.\n */\nfunction clear(el) {\n\n  var c;\n\n  while (el.childNodes.length) {\n    c = el.childNodes[0];\n    el.removeChild(c);\n  }\n\n  return el;\n}\n\n/**\n * @param { HTMLElement } element\n * @param { String } selector\n *\n * @return { boolean }\n */\nfunction matches(element, selector) {\n  return element && typeof element.matches === 'function' && element.matches(selector);\n}\n\n/**\n * Closest\n *\n * @param {Element} el\n * @param {String} selector\n * @param {Boolean} checkYourSelf (optional)\n */\nfunction closest(element, selector, checkYourSelf) {\n  var currentElem = checkYourSelf ? element : element.parentNode;\n\n  while (currentElem && currentElem.nodeType !== document.DOCUMENT_NODE &&\n      currentElem.nodeType !== document.DOCUMENT_FRAGMENT_NODE) {\n\n    if (matches(currentElem, selector)) {\n      return currentElem;\n    }\n\n    currentElem = currentElem.parentNode;\n  }\n\n  return matches(currentElem, selector) ? currentElem : null;\n}\n\nvar componentEvent = {};\n\nvar bind$1 = window.addEventListener ? 'addEventListener' : 'attachEvent',\n    unbind$1 = window.removeEventListener ? 'removeEventListener' : 'detachEvent',\n    prefix = bind$1 !== 'addEventListener' ? 'on' : '';\n\n/**\n * Bind `el` event `type` to `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nvar bind_1 = componentEvent.bind = function(el, type, fn, capture){\n  el[bind$1](prefix + type, fn, capture || false);\n  return fn;\n};\n\n/**\n * Unbind `el` event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nvar unbind_1 = componentEvent.unbind = function(el, type, fn, capture){\n  el[unbind$1](prefix + type, fn, capture || false);\n  return fn;\n};\n\nvar event = /*#__PURE__*/_mergeNamespaces({\n  __proto__: null,\n  bind: bind_1,\n  unbind: unbind_1,\n  'default': componentEvent\n}, [componentEvent]);\n\n/**\n * Module dependencies.\n */\n\n/**\n * Delegate event `type` to `selector`\n * and invoke `fn(e)`. A callback function\n * is returned which may be passed to `.unbind()`.\n *\n * @param {Element} el\n * @param {String} selector\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\n// Some events don't bubble, so we want to bind to the capture phase instead\n// when delegating.\nvar forceCaptureEvents = [ 'focus', 'blur' ];\n\nfunction bind(el, selector, type, fn, capture) {\n  if (forceCaptureEvents.indexOf(type) !== -1) {\n    capture = true;\n  }\n\n  return event.bind(el, type, function(e) {\n    var target = e.target || e.srcElement;\n    e.delegateTarget = closest(target, selector, true);\n    if (e.delegateTarget) {\n      fn.call(el, e);\n    }\n  }, capture);\n}\n\n/**\n * Unbind event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @api public\n */\nfunction unbind(el, type, fn, capture) {\n  if (forceCaptureEvents.indexOf(type) !== -1) {\n    capture = true;\n  }\n\n  return event.unbind(el, type, fn, capture);\n}\n\nvar delegate = {\n  bind,\n  unbind\n};\n\n/**\n * Expose `parse`.\n */\n\nvar domify = parse;\n\n/**\n * Tests for browser support.\n */\n\nvar innerHTMLBug = false;\nvar bugTestDiv;\nif (typeof document !== 'undefined') {\n  bugTestDiv = document.createElement('div');\n  // Setup\n  bugTestDiv.innerHTML = '  <link/><table></table><a href=\"/a\">a</a><input type=\"checkbox\"/>';\n  // Make sure that link elements get serialized correctly by innerHTML\n  // This requires a wrapper element in IE\n  innerHTMLBug = !bugTestDiv.getElementsByTagName('link').length;\n  bugTestDiv = undefined;\n}\n\n/**\n * Wrap map from jquery.\n */\n\nvar map = {\n  legend: [1, '<fieldset>', '</fieldset>'],\n  tr: [2, '<table><tbody>', '</tbody></table>'],\n  col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n  // for script/link/style tags to work in IE6-8, you have to wrap\n  // in a div with a non-whitespace character in front, ha!\n  _default: innerHTMLBug ? [1, 'X<div>', '</div>'] : [0, '', '']\n};\n\nmap.td =\nmap.th = [3, '<table><tbody><tr>', '</tr></tbody></table>'];\n\nmap.option =\nmap.optgroup = [1, '<select multiple=\"multiple\">', '</select>'];\n\nmap.thead =\nmap.tbody =\nmap.colgroup =\nmap.caption =\nmap.tfoot = [1, '<table>', '</table>'];\n\nmap.polyline =\nmap.ellipse =\nmap.polygon =\nmap.circle =\nmap.text =\nmap.line =\nmap.path =\nmap.rect =\nmap.g = [1, '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">','</svg>'];\n\n/**\n * Parse `html` and return a DOM Node instance, which could be a TextNode,\n * HTML DOM Node of some kind (<div> for example), or a DocumentFragment\n * instance, depending on the contents of the `html` string.\n *\n * @param {String} html - HTML string to \"domify\"\n * @param {Document} doc - The `document` instance to create the Node for\n * @return {DOMNode} the TextNode, DOM Node, or DocumentFragment instance\n * @api private\n */\n\nfunction parse(html, doc) {\n  if ('string' != typeof html) throw new TypeError('String expected');\n\n  // default to the global `document` object\n  if (!doc) doc = document;\n\n  // tag name\n  var m = /<([\\w:]+)/.exec(html);\n  if (!m) return doc.createTextNode(html);\n\n  html = html.replace(/^\\s+|\\s+$/g, ''); // Remove leading/trailing whitespace\n\n  var tag = m[1];\n\n  // body support\n  if (tag == 'body') {\n    var el = doc.createElement('html');\n    el.innerHTML = html;\n    return el.removeChild(el.lastChild);\n  }\n\n  // wrap map\n  var wrap = Object.prototype.hasOwnProperty.call(map, tag) ? map[tag] : map._default;\n  var depth = wrap[0];\n  var prefix = wrap[1];\n  var suffix = wrap[2];\n  var el = doc.createElement('div');\n  el.innerHTML = prefix + html + suffix;\n  while (depth--) el = el.lastChild;\n\n  // one element\n  if (el.firstChild == el.lastChild) {\n    return el.removeChild(el.firstChild);\n  }\n\n  // several elements\n  var fragment = doc.createDocumentFragment();\n  while (el.firstChild) {\n    fragment.appendChild(el.removeChild(el.firstChild));\n  }\n\n  return fragment;\n}\n\nvar domify$1 = domify;\n\nfunction query(selector, el) {\n  el = el || document;\n\n  return el.querySelector(selector);\n}\n\nfunction all(selector, el) {\n  el = el || document;\n\n  return el.querySelectorAll(selector);\n}\n\nfunction remove(el) {\n  el.parentNode && el.parentNode.removeChild(el);\n}\n\n\n//# sourceMappingURL=index.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vYnBtbi1pby9icG1uLWpzLWNvbG9yLXBpY2tlci9ub2RlX21vZHVsZXMvbWluLWRvbS9kaXN0L2luZGV4LmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QixTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0EsWUFBWTtBQUNaOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCLFlBQVksVUFBVTtBQUN0QjtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFdBQVc7QUFDdEI7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckIsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSx5Q0FBeUM7O0FBRXpDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFOEk7QUFDOUkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZGF5cy0yMDIzLy4uL2JwbW4taW8vYnBtbi1qcy1jb2xvci1waWNrZXIvbm9kZV9tb2R1bGVzL21pbi1kb20vZGlzdC9pbmRleC5lc20uanM/NWM1MyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfbWVyZ2VOYW1lc3BhY2VzKG4sIG0pIHtcbiAgbS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgZSAmJiB0eXBlb2YgZSAhPT0gJ3N0cmluZycgJiYgIUFycmF5LmlzQXJyYXkoZSkgJiYgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgaWYgKGsgIT09ICdkZWZhdWx0JyAmJiAhKGsgaW4gbikpIHtcbiAgICAgICAgdmFyIGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIGspO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgaywgZC5nZXQgPyBkIDoge1xuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBlW2tdOyB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIE9iamVjdC5mcmVlemUobik7XG59XG5cbi8qKlxuICogRmxhdHRlbiBhcnJheSwgb25lIGxldmVsIGRlZXAuXG4gKlxuICogQHBhcmFtIHtBcnJheTw/Pn0gYXJyXG4gKlxuICogQHJldHVybiB7QXJyYXk8Pz59XG4gKi9cblxuY29uc3QgbmF0aXZlVG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgbmF0aXZlSGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChvYmopIHtcbiAgcmV0dXJuIG9iaiA9PT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBpc0FycmF5KG9iaikge1xuICByZXR1cm4gbmF0aXZlVG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG4vKipcbiAqIFJldHVybiB0cnVlLCBpZiB0YXJnZXQgb3ducyBhIHByb3BlcnR5IHdpdGggdGhlIGdpdmVuIGtleS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaGFzKHRhcmdldCwga2V5KSB7XG4gIHJldHVybiBuYXRpdmVIYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwga2V5KTtcbn1cblxuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBjb2xsZWN0aW9uOyByZXR1cm5pbmcgc29tZXRoaW5nXG4gKiAobm9uLXVuZGVmaW5lZCkgd2lsbCBzdG9wIGl0ZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBpdGVyYXRvclxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gcmV0dXJuIHJlc3VsdCB0aGF0IHN0b3BwZWQgdGhlIGl0ZXJhdGlvblxuICovXG5mdW5jdGlvbiBmb3JFYWNoKGNvbGxlY3Rpb24sIGl0ZXJhdG9yKSB7XG5cbiAgbGV0IHZhbCxcbiAgICAgIHJlc3VsdDtcblxuICBpZiAoaXNVbmRlZmluZWQoY29sbGVjdGlvbikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjb252ZXJ0S2V5ID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IHRvTnVtIDogaWRlbnRpdHk7XG5cbiAgZm9yIChsZXQga2V5IGluIGNvbGxlY3Rpb24pIHtcblxuICAgIGlmIChoYXMoY29sbGVjdGlvbiwga2V5KSkge1xuICAgICAgdmFsID0gY29sbGVjdGlvbltrZXldO1xuXG4gICAgICByZXN1bHQgPSBpdGVyYXRvcih2YWwsIGNvbnZlcnRLZXkoa2V5KSk7XG5cbiAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cblxuZnVuY3Rpb24gaWRlbnRpdHkoYXJnKSB7XG4gIHJldHVybiBhcmc7XG59XG5cbmZ1bmN0aW9uIHRvTnVtKGFyZykge1xuICByZXR1cm4gTnVtYmVyKGFyZyk7XG59XG5cbi8qKlxuICogQXNzaWducyBzdHlsZSBhdHRyaWJ1dGVzIGluIGEgc3R5bGUtc3JjIGNvbXBsaWFudCB3YXkuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0gey4uLk9iamVjdH0gc3R5bGVTb3VyY2VzXG4gKlxuICogQHJldHVybiB7RWxlbWVudH0gdGhlIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gYXNzaWduKGVsZW1lbnQsIC4uLnN0eWxlU291cmNlcykge1xuICBjb25zdCB0YXJnZXQgPSBlbGVtZW50LnN0eWxlO1xuXG4gIGZvckVhY2goc3R5bGVTb3VyY2VzLCBmdW5jdGlvbihzdHlsZSkge1xuICAgIGlmICghc3R5bGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3JFYWNoKHN0eWxlLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICB0YXJnZXRba2V5XSA9IHZhbHVlO1xuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gZWxlbWVudDtcbn1cblxuLyoqXG4gKiBTZXQgYXR0cmlidXRlIGBuYW1lYCB0byBgdmFsYCwgb3IgZ2V0IGF0dHIgYG5hbWVgLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gW3ZhbF1cbiAqIEBhcGkgcHVibGljXG4gKi9cbmZ1bmN0aW9uIGF0dHIoZWwsIG5hbWUsIHZhbCkge1xuXG4gIC8vIGdldFxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7XG4gICAgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgfVxuXG4gIC8vIHJlbW92ZVxuICBpZiAodmFsID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGVsLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgfVxuXG4gIC8vIHNldFxuICBlbC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsKTtcblxuICByZXR1cm4gZWw7XG59XG5cbi8qKlxuICogVGFrZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vY29tcG9uZW50L2NsYXNzZXNcbiAqXG4gKiBXaXRob3V0IHRoZSBjb21wb25lbnQgYml0cy5cbiAqL1xuXG4vKipcbiAqIHRvU3RyaW5nIHJlZmVyZW5jZS5cbiAqL1xuXG5jb25zdCB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKlxuICogV3JhcCBgZWxgIGluIGEgYENsYXNzTGlzdGAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHJldHVybiB7Q2xhc3NMaXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBjbGFzc2VzKGVsKSB7XG4gIHJldHVybiBuZXcgQ2xhc3NMaXN0KGVsKTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IENsYXNzTGlzdCBmb3IgYGVsYC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBDbGFzc0xpc3QoZWwpIHtcbiAgaWYgKCFlbCB8fCAhZWwubm9kZVR5cGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgRE9NIGVsZW1lbnQgcmVmZXJlbmNlIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgdGhpcy5lbCA9IGVsO1xuICB0aGlzLmxpc3QgPSBlbC5jbGFzc0xpc3Q7XG59XG5cbi8qKlxuICogQWRkIGNsYXNzIGBuYW1lYCBpZiBub3QgYWxyZWFkeSBwcmVzZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNsYXNzTGlzdC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24obmFtZSkge1xuICB0aGlzLmxpc3QuYWRkKG5hbWUpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGNsYXNzIGBuYW1lYCB3aGVuIHByZXNlbnQsIG9yXG4gKiBwYXNzIGEgcmVndWxhciBleHByZXNzaW9uIHRvIHJlbW92ZVxuICogYW55IHdoaWNoIG1hdGNoLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gbmFtZVxuICogQHJldHVybiB7Q2xhc3NMaXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5DbGFzc0xpc3QucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgaWYgKCdbb2JqZWN0IFJlZ0V4cF0nID09IHRvU3RyaW5nLmNhbGwobmFtZSkpIHtcbiAgICByZXR1cm4gdGhpcy5yZW1vdmVNYXRjaGluZyhuYW1lKTtcbiAgfVxuXG4gIHRoaXMubGlzdC5yZW1vdmUobmFtZSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGNsYXNzZXMgbWF0Y2hpbmcgYHJlYC5cbiAqXG4gKiBAcGFyYW0ge1JlZ0V4cH0gcmVcbiAqIEByZXR1cm4ge0NsYXNzTGlzdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkNsYXNzTGlzdC5wcm90b3R5cGUucmVtb3ZlTWF0Y2hpbmcgPSBmdW5jdGlvbihyZSkge1xuICBjb25zdCBhcnIgPSB0aGlzLmFycmF5KCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHJlLnRlc3QoYXJyW2ldKSkge1xuICAgICAgdGhpcy5yZW1vdmUoYXJyW2ldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFRvZ2dsZSBjbGFzcyBgbmFtZWAsIGNhbiBmb3JjZSBzdGF0ZSB2aWEgYGZvcmNlYC5cbiAqXG4gKiBGb3IgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IGNsYXNzTGlzdCwgYnV0IGRvIG5vdCBzdXBwb3J0IGBmb3JjZWAgeWV0LFxuICogdGhlIG1pc3Rha2Ugd2lsbCBiZSBkZXRlY3RlZCBhbmQgY29ycmVjdGVkLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGZvcmNlXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNsYXNzTGlzdC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24obmFtZSwgZm9yY2UpIHtcbiAgaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgZm9yY2UpIHtcbiAgICBpZiAoZm9yY2UgIT09IHRoaXMubGlzdC50b2dnbGUobmFtZSwgZm9yY2UpKSB7XG4gICAgICB0aGlzLmxpc3QudG9nZ2xlKG5hbWUpOyAvLyB0b2dnbGUgYWdhaW4gdG8gY29ycmVjdFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLmxpc3QudG9nZ2xlKG5hbWUpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgb2YgY2xhc3Nlcy5cbiAqXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ2xhc3NMaXN0LnByb3RvdHlwZS5hcnJheSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmxpc3QpO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBjbGFzcyBgbmFtZWAgaXMgcHJlc2VudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybiB7Q2xhc3NMaXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5DbGFzc0xpc3QucHJvdG90eXBlLmhhcyA9XG5DbGFzc0xpc3QucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24obmFtZSkge1xuICByZXR1cm4gdGhpcy5saXN0LmNvbnRhaW5zKG5hbWUpO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGNoaWxkcmVuIGZyb20gdGhlIGdpdmVuIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGNsZWFyKGVsKSB7XG5cbiAgdmFyIGM7XG5cbiAgd2hpbGUgKGVsLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgYyA9IGVsLmNoaWxkTm9kZXNbMF07XG4gICAgZWwucmVtb3ZlQ2hpbGQoYyk7XG4gIH1cblxuICByZXR1cm4gZWw7XG59XG5cbi8qKlxuICogQHBhcmFtIHsgSFRNTEVsZW1lbnQgfSBlbGVtZW50XG4gKiBAcGFyYW0geyBTdHJpbmcgfSBzZWxlY3RvclxuICpcbiAqIEByZXR1cm4geyBib29sZWFuIH1cbiAqL1xuZnVuY3Rpb24gbWF0Y2hlcyhlbGVtZW50LCBzZWxlY3Rvcikge1xuICByZXR1cm4gZWxlbWVudCAmJiB0eXBlb2YgZWxlbWVudC5tYXRjaGVzID09PSAnZnVuY3Rpb24nICYmIGVsZW1lbnQubWF0Y2hlcyhzZWxlY3Rvcik7XG59XG5cbi8qKlxuICogQ2xvc2VzdFxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtCb29sZWFufSBjaGVja1lvdXJTZWxmIChvcHRpb25hbClcbiAqL1xuZnVuY3Rpb24gY2xvc2VzdChlbGVtZW50LCBzZWxlY3RvciwgY2hlY2tZb3VyU2VsZikge1xuICB2YXIgY3VycmVudEVsZW0gPSBjaGVja1lvdXJTZWxmID8gZWxlbWVudCA6IGVsZW1lbnQucGFyZW50Tm9kZTtcblxuICB3aGlsZSAoY3VycmVudEVsZW0gJiYgY3VycmVudEVsZW0ubm9kZVR5cGUgIT09IGRvY3VtZW50LkRPQ1VNRU5UX05PREUgJiZcbiAgICAgIGN1cnJlbnRFbGVtLm5vZGVUeXBlICE9PSBkb2N1bWVudC5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFKSB7XG5cbiAgICBpZiAobWF0Y2hlcyhjdXJyZW50RWxlbSwgc2VsZWN0b3IpKSB7XG4gICAgICByZXR1cm4gY3VycmVudEVsZW07XG4gICAgfVxuXG4gICAgY3VycmVudEVsZW0gPSBjdXJyZW50RWxlbS5wYXJlbnROb2RlO1xuICB9XG5cbiAgcmV0dXJuIG1hdGNoZXMoY3VycmVudEVsZW0sIHNlbGVjdG9yKSA/IGN1cnJlbnRFbGVtIDogbnVsbDtcbn1cblxudmFyIGNvbXBvbmVudEV2ZW50ID0ge307XG5cbnZhciBiaW5kJDEgPSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciA/ICdhZGRFdmVudExpc3RlbmVyJyA6ICdhdHRhY2hFdmVudCcsXG4gICAgdW5iaW5kJDEgPSB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciA/ICdyZW1vdmVFdmVudExpc3RlbmVyJyA6ICdkZXRhY2hFdmVudCcsXG4gICAgcHJlZml4ID0gYmluZCQxICE9PSAnYWRkRXZlbnRMaXN0ZW5lcicgPyAnb24nIDogJyc7XG5cbi8qKlxuICogQmluZCBgZWxgIGV2ZW50IGB0eXBlYCB0byBgZm5gLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtCb29sZWFufSBjYXB0dXJlXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxudmFyIGJpbmRfMSA9IGNvbXBvbmVudEV2ZW50LmJpbmQgPSBmdW5jdGlvbihlbCwgdHlwZSwgZm4sIGNhcHR1cmUpe1xuICBlbFtiaW5kJDFdKHByZWZpeCArIHR5cGUsIGZuLCBjYXB0dXJlIHx8IGZhbHNlKTtcbiAgcmV0dXJuIGZuO1xufTtcblxuLyoqXG4gKiBVbmJpbmQgYGVsYCBldmVudCBgdHlwZWAncyBjYWxsYmFjayBgZm5gLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtCb29sZWFufSBjYXB0dXJlXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxudmFyIHVuYmluZF8xID0gY29tcG9uZW50RXZlbnQudW5iaW5kID0gZnVuY3Rpb24oZWwsIHR5cGUsIGZuLCBjYXB0dXJlKXtcbiAgZWxbdW5iaW5kJDFdKHByZWZpeCArIHR5cGUsIGZuLCBjYXB0dXJlIHx8IGZhbHNlKTtcbiAgcmV0dXJuIGZuO1xufTtcblxudmFyIGV2ZW50ID0gLyojX19QVVJFX18qL19tZXJnZU5hbWVzcGFjZXMoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIGJpbmQ6IGJpbmRfMSxcbiAgdW5iaW5kOiB1bmJpbmRfMSxcbiAgJ2RlZmF1bHQnOiBjb21wb25lbnRFdmVudFxufSwgW2NvbXBvbmVudEV2ZW50XSk7XG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG4vKipcbiAqIERlbGVnYXRlIGV2ZW50IGB0eXBlYCB0byBgc2VsZWN0b3JgXG4gKiBhbmQgaW52b2tlIGBmbihlKWAuIEEgY2FsbGJhY2sgZnVuY3Rpb25cbiAqIGlzIHJldHVybmVkIHdoaWNoIG1heSBiZSBwYXNzZWQgdG8gYC51bmJpbmQoKWAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gY2FwdHVyZVxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbi8vIFNvbWUgZXZlbnRzIGRvbid0IGJ1YmJsZSwgc28gd2Ugd2FudCB0byBiaW5kIHRvIHRoZSBjYXB0dXJlIHBoYXNlIGluc3RlYWRcbi8vIHdoZW4gZGVsZWdhdGluZy5cbnZhciBmb3JjZUNhcHR1cmVFdmVudHMgPSBbICdmb2N1cycsICdibHVyJyBdO1xuXG5mdW5jdGlvbiBiaW5kKGVsLCBzZWxlY3RvciwgdHlwZSwgZm4sIGNhcHR1cmUpIHtcbiAgaWYgKGZvcmNlQ2FwdHVyZUV2ZW50cy5pbmRleE9mKHR5cGUpICE9PSAtMSkge1xuICAgIGNhcHR1cmUgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGV2ZW50LmJpbmQoZWwsIHR5cGUsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuICAgIGUuZGVsZWdhdGVUYXJnZXQgPSBjbG9zZXN0KHRhcmdldCwgc2VsZWN0b3IsIHRydWUpO1xuICAgIGlmIChlLmRlbGVnYXRlVGFyZ2V0KSB7XG4gICAgICBmbi5jYWxsKGVsLCBlKTtcbiAgICB9XG4gIH0sIGNhcHR1cmUpO1xufVxuXG4vKipcbiAqIFVuYmluZCBldmVudCBgdHlwZWAncyBjYWxsYmFjayBgZm5gLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtCb29sZWFufSBjYXB0dXJlXG4gKiBAYXBpIHB1YmxpY1xuICovXG5mdW5jdGlvbiB1bmJpbmQoZWwsIHR5cGUsIGZuLCBjYXB0dXJlKSB7XG4gIGlmIChmb3JjZUNhcHR1cmVFdmVudHMuaW5kZXhPZih0eXBlKSAhPT0gLTEpIHtcbiAgICBjYXB0dXJlID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBldmVudC51bmJpbmQoZWwsIHR5cGUsIGZuLCBjYXB0dXJlKTtcbn1cblxudmFyIGRlbGVnYXRlID0ge1xuICBiaW5kLFxuICB1bmJpbmRcbn07XG5cbi8qKlxuICogRXhwb3NlIGBwYXJzZWAuXG4gKi9cblxudmFyIGRvbWlmeSA9IHBhcnNlO1xuXG4vKipcbiAqIFRlc3RzIGZvciBicm93c2VyIHN1cHBvcnQuXG4gKi9cblxudmFyIGlubmVySFRNTEJ1ZyA9IGZhbHNlO1xudmFyIGJ1Z1Rlc3REaXY7XG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICBidWdUZXN0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIC8vIFNldHVwXG4gIGJ1Z1Rlc3REaXYuaW5uZXJIVE1MID0gJyAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9XCIvYVwiPmE8L2E+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiLz4nO1xuICAvLyBNYWtlIHN1cmUgdGhhdCBsaW5rIGVsZW1lbnRzIGdldCBzZXJpYWxpemVkIGNvcnJlY3RseSBieSBpbm5lckhUTUxcbiAgLy8gVGhpcyByZXF1aXJlcyBhIHdyYXBwZXIgZWxlbWVudCBpbiBJRVxuICBpbm5lckhUTUxCdWcgPSAhYnVnVGVzdERpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGluaycpLmxlbmd0aDtcbiAgYnVnVGVzdERpdiA9IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBXcmFwIG1hcCBmcm9tIGpxdWVyeS5cbiAqL1xuXG52YXIgbWFwID0ge1xuICBsZWdlbmQ6IFsxLCAnPGZpZWxkc2V0PicsICc8L2ZpZWxkc2V0PiddLFxuICB0cjogWzIsICc8dGFibGU+PHRib2R5PicsICc8L3Rib2R5PjwvdGFibGU+J10sXG4gIGNvbDogWzIsICc8dGFibGU+PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPicsICc8L2NvbGdyb3VwPjwvdGFibGU+J10sXG4gIC8vIGZvciBzY3JpcHQvbGluay9zdHlsZSB0YWdzIHRvIHdvcmsgaW4gSUU2LTgsIHlvdSBoYXZlIHRvIHdyYXBcbiAgLy8gaW4gYSBkaXYgd2l0aCBhIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlciBpbiBmcm9udCwgaGEhXG4gIF9kZWZhdWx0OiBpbm5lckhUTUxCdWcgPyBbMSwgJ1g8ZGl2PicsICc8L2Rpdj4nXSA6IFswLCAnJywgJyddXG59O1xuXG5tYXAudGQgPVxubWFwLnRoID0gWzMsICc8dGFibGU+PHRib2R5Pjx0cj4nLCAnPC90cj48L3Rib2R5PjwvdGFibGU+J107XG5cbm1hcC5vcHRpb24gPVxubWFwLm9wdGdyb3VwID0gWzEsICc8c2VsZWN0IG11bHRpcGxlPVwibXVsdGlwbGVcIj4nLCAnPC9zZWxlY3Q+J107XG5cbm1hcC50aGVhZCA9XG5tYXAudGJvZHkgPVxubWFwLmNvbGdyb3VwID1cbm1hcC5jYXB0aW9uID1cbm1hcC50Zm9vdCA9IFsxLCAnPHRhYmxlPicsICc8L3RhYmxlPiddO1xuXG5tYXAucG9seWxpbmUgPVxubWFwLmVsbGlwc2UgPVxubWFwLnBvbHlnb24gPVxubWFwLmNpcmNsZSA9XG5tYXAudGV4dCA9XG5tYXAubGluZSA9XG5tYXAucGF0aCA9XG5tYXAucmVjdCA9XG5tYXAuZyA9IFsxLCAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmVyc2lvbj1cIjEuMVwiPicsJzwvc3ZnPiddO1xuXG4vKipcbiAqIFBhcnNlIGBodG1sYCBhbmQgcmV0dXJuIGEgRE9NIE5vZGUgaW5zdGFuY2UsIHdoaWNoIGNvdWxkIGJlIGEgVGV4dE5vZGUsXG4gKiBIVE1MIERPTSBOb2RlIG9mIHNvbWUga2luZCAoPGRpdj4gZm9yIGV4YW1wbGUpLCBvciBhIERvY3VtZW50RnJhZ21lbnRcbiAqIGluc3RhbmNlLCBkZXBlbmRpbmcgb24gdGhlIGNvbnRlbnRzIG9mIHRoZSBgaHRtbGAgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBodG1sIC0gSFRNTCBzdHJpbmcgdG8gXCJkb21pZnlcIlxuICogQHBhcmFtIHtEb2N1bWVudH0gZG9jIC0gVGhlIGBkb2N1bWVudGAgaW5zdGFuY2UgdG8gY3JlYXRlIHRoZSBOb2RlIGZvclxuICogQHJldHVybiB7RE9NTm9kZX0gdGhlIFRleHROb2RlLCBET00gTm9kZSwgb3IgRG9jdW1lbnRGcmFnbWVudCBpbnN0YW5jZVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2UoaHRtbCwgZG9jKSB7XG4gIGlmICgnc3RyaW5nJyAhPSB0eXBlb2YgaHRtbCkgdGhyb3cgbmV3IFR5cGVFcnJvcignU3RyaW5nIGV4cGVjdGVkJyk7XG5cbiAgLy8gZGVmYXVsdCB0byB0aGUgZ2xvYmFsIGBkb2N1bWVudGAgb2JqZWN0XG4gIGlmICghZG9jKSBkb2MgPSBkb2N1bWVudDtcblxuICAvLyB0YWcgbmFtZVxuICB2YXIgbSA9IC88KFtcXHc6XSspLy5leGVjKGh0bWwpO1xuICBpZiAoIW0pIHJldHVybiBkb2MuY3JlYXRlVGV4dE5vZGUoaHRtbCk7XG5cbiAgaHRtbCA9IGh0bWwucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpOyAvLyBSZW1vdmUgbGVhZGluZy90cmFpbGluZyB3aGl0ZXNwYWNlXG5cbiAgdmFyIHRhZyA9IG1bMV07XG5cbiAgLy8gYm9keSBzdXBwb3J0XG4gIGlmICh0YWcgPT0gJ2JvZHknKSB7XG4gICAgdmFyIGVsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2h0bWwnKTtcbiAgICBlbC5pbm5lckhUTUwgPSBodG1sO1xuICAgIHJldHVybiBlbC5yZW1vdmVDaGlsZChlbC5sYXN0Q2hpbGQpO1xuICB9XG5cbiAgLy8gd3JhcCBtYXBcbiAgdmFyIHdyYXAgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWFwLCB0YWcpID8gbWFwW3RhZ10gOiBtYXAuX2RlZmF1bHQ7XG4gIHZhciBkZXB0aCA9IHdyYXBbMF07XG4gIHZhciBwcmVmaXggPSB3cmFwWzFdO1xuICB2YXIgc3VmZml4ID0gd3JhcFsyXTtcbiAgdmFyIGVsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBlbC5pbm5lckhUTUwgPSBwcmVmaXggKyBodG1sICsgc3VmZml4O1xuICB3aGlsZSAoZGVwdGgtLSkgZWwgPSBlbC5sYXN0Q2hpbGQ7XG5cbiAgLy8gb25lIGVsZW1lbnRcbiAgaWYgKGVsLmZpcnN0Q2hpbGQgPT0gZWwubGFzdENoaWxkKSB7XG4gICAgcmV0dXJuIGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpO1xuICB9XG5cbiAgLy8gc2V2ZXJhbCBlbGVtZW50c1xuICB2YXIgZnJhZ21lbnQgPSBkb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICB3aGlsZSAoZWwuZmlyc3RDaGlsZCkge1xuICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpKTtcbiAgfVxuXG4gIHJldHVybiBmcmFnbWVudDtcbn1cblxudmFyIGRvbWlmeSQxID0gZG9taWZ5O1xuXG5mdW5jdGlvbiBxdWVyeShzZWxlY3RvciwgZWwpIHtcbiAgZWwgPSBlbCB8fCBkb2N1bWVudDtcblxuICByZXR1cm4gZWwucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG59XG5cbmZ1bmN0aW9uIGFsbChzZWxlY3RvciwgZWwpIHtcbiAgZWwgPSBlbCB8fCBkb2N1bWVudDtcblxuICByZXR1cm4gZWwucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZShlbCkge1xuICBlbC5wYXJlbnROb2RlICYmIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xufVxuXG5leHBvcnQgeyBhc3NpZ24gYXMgYXNzaWduU3R5bGUsIGF0dHIsIGNsYXNzZXMsIGNsZWFyLCBjbG9zZXN0LCBkZWxlZ2F0ZSwgZG9taWZ5JDEgYXMgZG9taWZ5LCBldmVudCwgbWF0Y2hlcywgcXVlcnksIGFsbCBhcyBxdWVyeUFsbCwgcmVtb3ZlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lc20uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../bpmn-io/bpmn-js-color-picker/node_modules/min-dom/dist/index.esm.js\n");

/***/ }),

/***/ "../bpmn-io/diagram-js/node_modules/path-intersection/intersect.js":
/*!*************************************************************************!*\
  !*** ../bpmn-io/diagram-js/node_modules/path-intersection/intersect.js ***!
  \*************************************************************************/
/***/ ((module) => {

eval("\n\n/**\n * This file contains source code adapted from Snap.svg (licensed Apache-2.0).\n *\n * @see https://github.com/adobe-webplatform/Snap.svg/blob/master/src/path.js\n */\n\n/* eslint no-fallthrough: \"off\" */\n\nvar p2s = /,?([a-z]),?/gi,\n    toFloat = parseFloat,\n    math = Math,\n    PI = math.PI,\n    mmin = math.min,\n    mmax = math.max,\n    pow = math.pow,\n    abs = math.abs,\n    pathCommand = /([a-z])[\\s,]*((-?\\d*\\.?\\d*(?:e[-+]?\\d+)?[\\s]*,?[\\s]*)+)/ig,\n    pathValues = /(-?\\d*\\.?\\d*(?:e[-+]?\\d+)?)[\\s]*,?[\\s]*/ig;\n\nvar isArray = Array.isArray || function(o) { return o instanceof Array; };\n\nfunction hasProperty(obj, property) {\n  return Object.prototype.hasOwnProperty.call(obj, property);\n}\n\nfunction clone(obj) {\n\n  if (typeof obj == 'function' || Object(obj) !== obj) {\n    return obj;\n  }\n\n  var res = new obj.constructor;\n\n  for (var key in obj) {\n    if (hasProperty(obj, key)) {\n      res[key] = clone(obj[key]);\n    }\n  }\n\n  return res;\n}\n\nfunction repush(array, item) {\n  for (var i = 0, ii = array.length; i < ii; i++) if (array[i] === item) {\n    return array.push(array.splice(i, 1)[0]);\n  }\n}\n\nfunction cacher(f) {\n\n  function newf() {\n\n    var arg = Array.prototype.slice.call(arguments, 0),\n        args = arg.join('\\u2400'),\n        cache = newf.cache = newf.cache || {},\n        count = newf.count = newf.count || [];\n\n    if (hasProperty(cache, args)) {\n      repush(count, args);\n      return cache[args];\n    }\n\n    count.length >= 1e3 && delete cache[count.shift()];\n    count.push(args);\n    cache[args] = f.apply(0, arg);\n\n    return cache[args];\n  }\n  return newf;\n}\n\nfunction parsePathString(pathString) {\n\n  if (!pathString) {\n    return null;\n  }\n\n  var pth = paths(pathString);\n\n  if (pth.arr) {\n    return clone(pth.arr);\n  }\n\n  var paramCounts = { a: 7, c: 6, h: 1, l: 2, m: 2, q: 4, s: 4, t: 2, v: 1, z: 0 },\n      data = [];\n\n  if (isArray(pathString) && isArray(pathString[0])) { // rough assumption\n    data = clone(pathString);\n  }\n\n  if (!data.length) {\n\n    String(pathString).replace(pathCommand, function(a, b, c) {\n      var params = [],\n          name = b.toLowerCase();\n\n      c.replace(pathValues, function(a, b) {\n        b && params.push(+b);\n      });\n\n      if (name == 'm' && params.length > 2) {\n        data.push([b].concat(params.splice(0, 2)));\n        name = 'l';\n        b = b == 'm' ? 'l' : 'L';\n      }\n\n      while (params.length >= paramCounts[name]) {\n        data.push([b].concat(params.splice(0, paramCounts[name])));\n        if (!paramCounts[name]) {\n          break;\n        }\n      }\n    });\n  }\n\n  data.toString = paths.toString;\n  pth.arr = clone(data);\n\n  return data;\n}\n\nfunction paths(ps) {\n  var p = paths.ps = paths.ps || {};\n\n  if (p[ps]) {\n    p[ps].sleep = 100;\n  } else {\n    p[ps] = {\n      sleep: 100\n    };\n  }\n\n  setTimeout(function() {\n    for (var key in p) {\n      if (hasProperty(p, key) && key != ps) {\n        p[key].sleep--;\n        !p[key].sleep && delete p[key];\n      }\n    }\n  });\n\n  return p[ps];\n}\n\nfunction rectBBox(x, y, width, height) {\n\n  if (arguments.length === 1) {\n    y = x.y;\n    width = x.width;\n    height = x.height;\n    x = x.x;\n  }\n\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    x2: x + width,\n    y2: y + height\n  };\n}\n\nfunction pathToString() {\n  return this.join(',').replace(p2s, '$1');\n}\n\nfunction pathClone(pathArray) {\n  var res = clone(pathArray);\n  res.toString = pathToString;\n  return res;\n}\n\nfunction findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n  var t1 = 1 - t,\n      t13 = pow(t1, 3),\n      t12 = pow(t1, 2),\n      t2 = t * t,\n      t3 = t2 * t,\n      x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x,\n      y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y;\n\n  return {\n    x: fixError(x),\n    y: fixError(y)\n  };\n}\n\nfunction bezierBBox(points) {\n\n  var bbox = curveBBox.apply(null, points);\n\n  return rectBBox(\n    bbox.x0,\n    bbox.y0,\n    bbox.x1 - bbox.x0,\n    bbox.y1 - bbox.y0\n  );\n}\n\nfunction isPointInsideBBox(bbox, x, y) {\n  return x >= bbox.x &&\n    x <= bbox.x + bbox.width &&\n    y >= bbox.y &&\n    y <= bbox.y + bbox.height;\n}\n\nfunction isBBoxIntersect(bbox1, bbox2) {\n  bbox1 = rectBBox(bbox1);\n  bbox2 = rectBBox(bbox2);\n  return isPointInsideBBox(bbox2, bbox1.x, bbox1.y)\n    || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y)\n    || isPointInsideBBox(bbox2, bbox1.x, bbox1.y2)\n    || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y2)\n    || isPointInsideBBox(bbox1, bbox2.x, bbox2.y)\n    || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y)\n    || isPointInsideBBox(bbox1, bbox2.x, bbox2.y2)\n    || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y2)\n    || (bbox1.x < bbox2.x2 && bbox1.x > bbox2.x\n        || bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)\n    && (bbox1.y < bbox2.y2 && bbox1.y > bbox2.y\n        || bbox2.y < bbox1.y2 && bbox2.y > bbox1.y);\n}\n\nfunction base3(t, p1, p2, p3, p4) {\n  var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4,\n      t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n  return t * t2 - 3 * p1 + 3 * p2;\n}\n\nfunction bezlen(x1, y1, x2, y2, x3, y3, x4, y4, z) {\n\n  if (z == null) {\n    z = 1;\n  }\n\n  z = z > 1 ? 1 : z < 0 ? 0 : z;\n\n  var z2 = z / 2,\n      n = 12,\n      Tvalues = [-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],\n      Cvalues = [0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],\n      sum = 0;\n\n  for (var i = 0; i < n; i++) {\n    var ct = z2 * Tvalues[i] + z2,\n        xbase = base3(ct, x1, x2, x3, x4),\n        ybase = base3(ct, y1, y2, y3, y4),\n        comb = xbase * xbase + ybase * ybase;\n\n    sum += Cvalues[i] * math.sqrt(comb);\n  }\n\n  return z2 * sum;\n}\n\n\nfunction intersectLines(x1, y1, x2, y2, x3, y3, x4, y4) {\n\n  if (\n    mmax(x1, x2) < mmin(x3, x4) ||\n      mmin(x1, x2) > mmax(x3, x4) ||\n      mmax(y1, y2) < mmin(y3, y4) ||\n      mmin(y1, y2) > mmax(y3, y4)\n  ) {\n    return;\n  }\n\n  var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n      ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n      denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n\n  if (!denominator) {\n    return;\n  }\n\n  var px = fixError(nx / denominator),\n      py = fixError(ny / denominator),\n      px2 = +px.toFixed(2),\n      py2 = +py.toFixed(2);\n\n  if (\n    px2 < +mmin(x1, x2).toFixed(2) ||\n      px2 > +mmax(x1, x2).toFixed(2) ||\n      px2 < +mmin(x3, x4).toFixed(2) ||\n      px2 > +mmax(x3, x4).toFixed(2) ||\n      py2 < +mmin(y1, y2).toFixed(2) ||\n      py2 > +mmax(y1, y2).toFixed(2) ||\n      py2 < +mmin(y3, y4).toFixed(2) ||\n      py2 > +mmax(y3, y4).toFixed(2)\n  ) {\n    return;\n  }\n\n  return { x: px, y: py };\n}\n\nfunction fixError(number) {\n  return Math.round(number * 100000000000) / 100000000000;\n}\n\nfunction findBezierIntersections(bez1, bez2, justCount) {\n  var bbox1 = bezierBBox(bez1),\n      bbox2 = bezierBBox(bez2);\n\n  if (!isBBoxIntersect(bbox1, bbox2)) {\n    return justCount ? 0 : [];\n  }\n\n  // As an optimization, lines will have only 1 segment\n\n  var l1 = bezlen.apply(0, bez1),\n      l2 = bezlen.apply(0, bez2),\n      n1 = isLine(bez1) ? 1 : ~~(l1 / 5) || 1,\n      n2 = isLine(bez2) ? 1 : ~~(l2 / 5) || 1,\n      dots1 = [],\n      dots2 = [],\n      xy = {},\n      res = justCount ? 0 : [];\n\n  for (var i = 0; i < n1 + 1; i++) {\n    var p = findDotsAtSegment.apply(0, bez1.concat(i / n1));\n    dots1.push({ x: p.x, y: p.y, t: i / n1 });\n  }\n\n  for (i = 0; i < n2 + 1; i++) {\n    p = findDotsAtSegment.apply(0, bez2.concat(i / n2));\n    dots2.push({ x: p.x, y: p.y, t: i / n2 });\n  }\n\n  for (i = 0; i < n1; i++) {\n\n    for (var j = 0; j < n2; j++) {\n      var di = dots1[i],\n          di1 = dots1[i + 1],\n          dj = dots2[j],\n          dj1 = dots2[j + 1],\n          ci = abs(di1.x - di.x) < .01 ? 'y' : 'x',\n          cj = abs(dj1.x - dj.x) < .01 ? 'y' : 'x',\n          is = intersectLines(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y),\n          key;\n\n      if (is) {\n        key = is.x.toFixed(9) + '#' + is.y.toFixed(9);\n\n        if (xy[key]) {\n          continue;\n        }\n\n        xy[key] = true;\n\n        var t1 = di.t + abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t),\n            t2 = dj.t + abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n\n        if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {\n\n          if (justCount) {\n            res++;\n          } else {\n            res.push({\n              x: is.x,\n              y: is.y,\n              t1: t1,\n              t2: t2\n            });\n          }\n        }\n      }\n    }\n  }\n\n  return res;\n}\n\n\n/**\n * Find or counts the intersections between two SVG paths.\n *\n * Returns a number in counting mode and a list of intersections otherwise.\n *\n * A single intersection entry contains the intersection coordinates (x, y)\n * as well as additional information regarding the intersecting segments\n * on each path (segment1, segment2) and the relative location of the\n * intersection on these segments (t1, t2).\n *\n * The path may be an SVG path string or a list of path components\n * such as `[ [ 'M', 0, 10 ], [ 'L', 20, 0 ] ]`.\n *\n * @example\n *\n * var intersections = findPathIntersections(\n *   'M0,0L100,100',\n *   [ [ 'M', 0, 100 ], [ 'L', 100, 0 ] ]\n * );\n *\n * // intersections = [\n * //   { x: 50, y: 50, segment1: 1, segment2: 1, t1: 0.5, t2: 0.5 }\n * // ]\n *\n * @param {String|Array<PathDef>} path1\n * @param {String|Array<PathDef>} path2\n * @param {Boolean} [justCount=false]\n *\n * @return {Array<Intersection>|Number}\n */\nfunction findPathIntersections(path1, path2, justCount) {\n  path1 = pathToCurve(path1);\n  path2 = pathToCurve(path2);\n\n  var x1, y1, x2, y2, x1m, y1m, x2m, y2m, bez1, bez2,\n      res = justCount ? 0 : [];\n\n  for (var i = 0, ii = path1.length; i < ii; i++) {\n    var pi = path1[i];\n\n    if (pi[0] == 'M') {\n      x1 = x1m = pi[1];\n      y1 = y1m = pi[2];\n    } else {\n\n      if (pi[0] == 'C') {\n        bez1 = [x1, y1].concat(pi.slice(1));\n        x1 = bez1[6];\n        y1 = bez1[7];\n      } else {\n        bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n        x1 = x1m;\n        y1 = y1m;\n      }\n\n      for (var j = 0, jj = path2.length; j < jj; j++) {\n        var pj = path2[j];\n\n        if (pj[0] == 'M') {\n          x2 = x2m = pj[1];\n          y2 = y2m = pj[2];\n        } else {\n\n          if (pj[0] == 'C') {\n            bez2 = [x2, y2].concat(pj.slice(1));\n            x2 = bez2[6];\n            y2 = bez2[7];\n          } else {\n            bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n            x2 = x2m;\n            y2 = y2m;\n          }\n\n          var intr = findBezierIntersections(bez1, bez2, justCount);\n\n          if (justCount) {\n            res += intr;\n          } else {\n\n            for (var k = 0, kk = intr.length; k < kk; k++) {\n              intr[k].segment1 = i;\n              intr[k].segment2 = j;\n              intr[k].bez1 = bez1;\n              intr[k].bez2 = bez2;\n            }\n\n            res = res.concat(intr);\n          }\n        }\n      }\n    }\n  }\n\n  return res;\n}\n\n\nfunction pathToAbsolute(pathArray) {\n  var pth = paths(pathArray);\n\n  if (pth.abs) {\n    return pathClone(pth.abs);\n  }\n\n  if (!isArray(pathArray) || !isArray(pathArray && pathArray[0])) { // rough assumption\n    pathArray = parsePathString(pathArray);\n  }\n\n  if (!pathArray || !pathArray.length) {\n    return [['M', 0, 0]];\n  }\n\n  var res = [],\n      x = 0,\n      y = 0,\n      mx = 0,\n      my = 0,\n      start = 0,\n      pa0;\n\n  if (pathArray[0][0] == 'M') {\n    x = +pathArray[0][1];\n    y = +pathArray[0][2];\n    mx = x;\n    my = y;\n    start++;\n    res[0] = ['M', x, y];\n  }\n\n  for (var r, pa, i = start, ii = pathArray.length; i < ii; i++) {\n    res.push(r = []);\n    pa = pathArray[i];\n    pa0 = pa[0];\n\n    if (pa0 != pa0.toUpperCase()) {\n      r[0] = pa0.toUpperCase();\n\n      switch (r[0]) {\n      case 'A':\n        r[1] = pa[1];\n        r[2] = pa[2];\n        r[3] = pa[3];\n        r[4] = pa[4];\n        r[5] = pa[5];\n        r[6] = +pa[6] + x;\n        r[7] = +pa[7] + y;\n        break;\n      case 'V':\n        r[1] = +pa[1] + y;\n        break;\n      case 'H':\n        r[1] = +pa[1] + x;\n        break;\n      case 'M':\n        mx = +pa[1] + x;\n        my = +pa[2] + y;\n      default:\n        for (var j = 1, jj = pa.length; j < jj; j++) {\n          r[j] = +pa[j] + ((j % 2) ? x : y);\n        }\n      }\n    } else {\n      for (var k = 0, kk = pa.length; k < kk; k++) {\n        r[k] = pa[k];\n      }\n    }\n    pa0 = pa0.toUpperCase();\n\n    switch (r[0]) {\n    case 'Z':\n      x = +mx;\n      y = +my;\n      break;\n    case 'H':\n      x = r[1];\n      break;\n    case 'V':\n      y = r[1];\n      break;\n    case 'M':\n      mx = r[r.length - 2];\n      my = r[r.length - 1];\n    default:\n      x = r[r.length - 2];\n      y = r[r.length - 1];\n    }\n  }\n\n  res.toString = pathToString;\n  pth.abs = pathClone(res);\n\n  return res;\n}\n\nfunction isLine(bez) {\n  return (\n    bez[0] === bez[2] &&\n    bez[1] === bez[3] &&\n    bez[4] === bez[6] &&\n    bez[5] === bez[7]\n  );\n}\n\nfunction lineToCurve(x1, y1, x2, y2) {\n  return [\n    x1, y1, x2,\n    y2, x2, y2\n  ];\n}\n\nfunction qubicToCurve(x1, y1, ax, ay, x2, y2) {\n  var _13 = 1 / 3,\n      _23 = 2 / 3;\n\n  return [\n    _13 * x1 + _23 * ax,\n    _13 * y1 + _23 * ay,\n    _13 * x2 + _23 * ax,\n    _13 * y2 + _23 * ay,\n    x2,\n    y2\n  ];\n}\n\nfunction arcToCurve(x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n\n  // for more information of where this math came from visit:\n  // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n  var _120 = PI * 120 / 180,\n      rad = PI / 180 * (+angle || 0),\n      res = [],\n      xy,\n      rotate = cacher(function(x, y, rad) {\n        var X = x * math.cos(rad) - y * math.sin(rad),\n            Y = x * math.sin(rad) + y * math.cos(rad);\n\n        return { x: X, y: Y };\n      });\n\n  if (!recursive) {\n    xy = rotate(x1, y1, -rad);\n    x1 = xy.x;\n    y1 = xy.y;\n    xy = rotate(x2, y2, -rad);\n    x2 = xy.x;\n    y2 = xy.y;\n\n    var x = (x1 - x2) / 2,\n        y = (y1 - y2) / 2;\n\n    var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n\n    if (h > 1) {\n      h = math.sqrt(h);\n      rx = h * rx;\n      ry = h * ry;\n    }\n\n    var rx2 = rx * rx,\n        ry2 = ry * ry,\n        k = (large_arc_flag == sweep_flag ? -1 : 1) *\n            math.sqrt(abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x))),\n        cx = k * rx * y / ry + (x1 + x2) / 2,\n        cy = k * -ry * x / rx + (y1 + y2) / 2,\n        f1 = math.asin(((y1 - cy) / ry).toFixed(9)),\n        f2 = math.asin(((y2 - cy) / ry).toFixed(9));\n\n    f1 = x1 < cx ? PI - f1 : f1;\n    f2 = x2 < cx ? PI - f2 : f2;\n    f1 < 0 && (f1 = PI * 2 + f1);\n    f2 < 0 && (f2 = PI * 2 + f2);\n\n    if (sweep_flag && f1 > f2) {\n      f1 = f1 - PI * 2;\n    }\n    if (!sweep_flag && f2 > f1) {\n      f2 = f2 - PI * 2;\n    }\n  } else {\n    f1 = recursive[0];\n    f2 = recursive[1];\n    cx = recursive[2];\n    cy = recursive[3];\n  }\n\n  var df = f2 - f1;\n\n  if (abs(df) > _120) {\n    var f2old = f2,\n        x2old = x2,\n        y2old = y2;\n\n    f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n    x2 = cx + rx * math.cos(f2);\n    y2 = cy + ry * math.sin(f2);\n    res = arcToCurve(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n  }\n\n  df = f2 - f1;\n\n  var c1 = math.cos(f1),\n      s1 = math.sin(f1),\n      c2 = math.cos(f2),\n      s2 = math.sin(f2),\n      t = math.tan(df / 4),\n      hx = 4 / 3 * rx * t,\n      hy = 4 / 3 * ry * t,\n      m1 = [x1, y1],\n      m2 = [x1 + hx * s1, y1 - hy * c1],\n      m3 = [x2 + hx * s2, y2 - hy * c2],\n      m4 = [x2, y2];\n\n  m2[0] = 2 * m1[0] - m2[0];\n  m2[1] = 2 * m1[1] - m2[1];\n\n  if (recursive) {\n    return [m2, m3, m4].concat(res);\n  } else {\n    res = [m2, m3, m4].concat(res).join().split(',');\n    var newres = [];\n\n    for (var i = 0, ii = res.length; i < ii; i++) {\n      newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n    }\n\n    return newres;\n  }\n}\n\n// Returns bounding box of cubic bezier curve.\n// Source: http://blog.hackers-cafe.net/2009/06/how-to-calculate-bezier-curves-bounding.html\n// Original version: NISHIO Hirokazu\n// Modifications: https://github.com/timo22345\nfunction curveBBox(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var tvalues = [],\n      bounds = [[], []],\n      a, b, c, t, t1, t2, b2ac, sqrtb2ac;\n\n  for (var i = 0; i < 2; ++i) {\n\n    if (i == 0) {\n      b = 6 * x0 - 12 * x1 + 6 * x2;\n      a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n      c = 3 * x1 - 3 * x0;\n    } else {\n      b = 6 * y0 - 12 * y1 + 6 * y2;\n      a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n      c = 3 * y1 - 3 * y0;\n    }\n\n    if (abs(a) < 1e-12) {\n\n      if (abs(b) < 1e-12) {\n        continue;\n      }\n\n      t = -c / b;\n\n      if (0 < t && t < 1) {\n        tvalues.push(t);\n      }\n\n      continue;\n    }\n\n    b2ac = b * b - 4 * c * a;\n    sqrtb2ac = math.sqrt(b2ac);\n\n    if (b2ac < 0) {\n      continue;\n    }\n\n    t1 = (-b + sqrtb2ac) / (2 * a);\n\n    if (0 < t1 && t1 < 1) {\n      tvalues.push(t1);\n    }\n\n    t2 = (-b - sqrtb2ac) / (2 * a);\n\n    if (0 < t2 && t2 < 1) {\n      tvalues.push(t2);\n    }\n  }\n\n  var j = tvalues.length,\n      jlen = j,\n      mt;\n\n  while (j--) {\n    t = tvalues[j];\n    mt = 1 - t;\n    bounds[0][j] = (mt * mt * mt * x0) + (3 * mt * mt * t * x1) + (3 * mt * t * t * x2) + (t * t * t * x3);\n    bounds[1][j] = (mt * mt * mt * y0) + (3 * mt * mt * t * y1) + (3 * mt * t * t * y2) + (t * t * t * y3);\n  }\n\n  bounds[0][jlen] = x0;\n  bounds[1][jlen] = y0;\n  bounds[0][jlen + 1] = x3;\n  bounds[1][jlen + 1] = y3;\n  bounds[0].length = bounds[1].length = jlen + 2;\n\n  return {\n    x0: mmin.apply(0, bounds[0]),\n    y0: mmin.apply(0, bounds[1]),\n    x1: mmax.apply(0, bounds[0]),\n    y1: mmax.apply(0, bounds[1])\n  };\n}\n\nfunction pathToCurve(path) {\n\n  var pth = paths(path);\n\n  // return cached curve, if existing\n  if (pth.curve) {\n    return pathClone(pth.curve);\n  }\n\n  var curvedPath = pathToAbsolute(path),\n      attrs = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null },\n      processPath = function(path, d, pathCommand) {\n        var nx, ny;\n\n        if (!path) {\n          return ['C', d.x, d.y, d.x, d.y, d.x, d.y];\n        }\n\n        !(path[0] in { T: 1, Q: 1 }) && (d.qx = d.qy = null);\n\n        switch (path[0]) {\n        case 'M':\n          d.X = path[1];\n          d.Y = path[2];\n          break;\n        case 'A':\n          path = ['C'].concat(arcToCurve.apply(0, [d.x, d.y].concat(path.slice(1))));\n          break;\n        case 'S':\n          if (pathCommand == 'C' || pathCommand == 'S') {\n\n            // In 'S' case we have to take into account, if the previous command is C/S.\n            nx = d.x * 2 - d.bx;\n\n            // And reflect the previous\n            ny = d.y * 2 - d.by;\n\n            // command's control point relative to the current point.\n          }\n          else {\n\n            // or some else or nothing\n            nx = d.x;\n            ny = d.y;\n          }\n          path = ['C', nx, ny].concat(path.slice(1));\n          break;\n        case 'T':\n          if (pathCommand == 'Q' || pathCommand == 'T') {\n\n            // In 'T' case we have to take into account, if the previous command is Q/T.\n            d.qx = d.x * 2 - d.qx;\n\n            // And make a reflection similar\n            d.qy = d.y * 2 - d.qy;\n\n            // to case 'S'.\n          }\n          else {\n\n            // or something else or nothing\n            d.qx = d.x;\n            d.qy = d.y;\n          }\n          path = ['C'].concat(qubicToCurve(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n          break;\n        case 'Q':\n          d.qx = path[1];\n          d.qy = path[2];\n          path = ['C'].concat(qubicToCurve(d.x, d.y, path[1], path[2], path[3], path[4]));\n          break;\n        case 'L':\n          path = ['C'].concat(lineToCurve(d.x, d.y, path[1], path[2]));\n          break;\n        case 'H':\n          path = ['C'].concat(lineToCurve(d.x, d.y, path[1], d.y));\n          break;\n        case 'V':\n          path = ['C'].concat(lineToCurve(d.x, d.y, d.x, path[1]));\n          break;\n        case 'Z':\n          path = ['C'].concat(lineToCurve(d.x, d.y, d.X, d.Y));\n          break;\n        }\n\n        return path;\n      },\n\n      fixArc = function(pp, i) {\n\n        if (pp[i].length > 7) {\n          pp[i].shift();\n          var pi = pp[i];\n\n          while (pi.length) {\n            pathCommands[i] = 'A'; // if created multiple C:s, their original seg is saved\n            pp.splice(i++, 0, ['C'].concat(pi.splice(0, 6)));\n          }\n\n          pp.splice(i, 1);\n          ii = curvedPath.length;\n        }\n      },\n\n      pathCommands = [], // path commands of original path p\n      pfirst = '', // temporary holder for original path command\n      pathCommand = ''; // holder for previous path command of original path\n\n  for (var i = 0, ii = curvedPath.length; i < ii; i++) {\n    curvedPath[i] && (pfirst = curvedPath[i][0]); // save current path command\n\n    if (pfirst != 'C') // C is not saved yet, because it may be result of conversion\n    {\n      pathCommands[i] = pfirst; // Save current path command\n      i && (pathCommand = pathCommands[i - 1]); // Get previous path command pathCommand\n    }\n    curvedPath[i] = processPath(curvedPath[i], attrs, pathCommand); // Previous path command is inputted to processPath\n\n    if (pathCommands[i] != 'A' && pfirst == 'C') pathCommands[i] = 'C'; // A is the only command\n    // which may produce multiple C:s\n    // so we have to make sure that C is also C in original path\n\n    fixArc(curvedPath, i); // fixArc adds also the right amount of A:s to pathCommands\n\n    var seg = curvedPath[i],\n        seglen = seg.length;\n\n    attrs.x = seg[seglen - 2];\n    attrs.y = seg[seglen - 1];\n    attrs.bx = toFloat(seg[seglen - 4]) || attrs.x;\n    attrs.by = toFloat(seg[seglen - 3]) || attrs.y;\n  }\n\n  // cache curve\n  pth.curve = pathClone(curvedPath);\n\n  return curvedPath;\n}\n\nmodule.exports = findPathIntersections;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vYnBtbi1pby9kaWFncmFtLWpzL25vZGVfbW9kdWxlcy9wYXRoLWludGVyc2VjdGlvbi9pbnRlcnNlY3QuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw2Q0FBNkM7O0FBRTdDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EscUNBQXFDLFFBQVE7QUFDN0M7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLDREQUE0RDtBQUNsRjs7QUFFQSx1REFBdUQ7QUFDdkQ7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsT0FBTztBQUN6QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBLGlCQUFpQiwyQkFBMkI7QUFDNUM7O0FBRUEsY0FBYyxZQUFZO0FBQzFCO0FBQ0EsaUJBQWlCLDJCQUEyQjtBQUM1Qzs7QUFFQSxjQUFjLFFBQVE7O0FBRXRCLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFdBQVcsdUJBQXVCO0FBQ2xDLFdBQVcsdUJBQXVCO0FBQ2xDLFdBQVcsU0FBUztBQUNwQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHFDQUFxQyxRQUFRO0FBQzdDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUEseUNBQXlDLFFBQVE7QUFDakQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTs7QUFFVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTs7QUFFWiw4Q0FBOEMsUUFBUTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxvRUFBb0U7QUFDcEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvREFBb0QsUUFBUTtBQUM1RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLHNDQUFzQyxRQUFRO0FBQzlDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUI7QUFDakIsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUEscUNBQXFDLFFBQVE7QUFDN0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsT0FBTzs7QUFFekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsMERBQTBEO0FBQzFFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHVCQUF1QixZQUFZOztBQUVuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPOztBQUVQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBLHdCQUF3Qjs7QUFFeEIsMENBQTBDLFFBQVE7QUFDbEQsa0RBQWtEOztBQUVsRDtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDLGdEQUFnRDtBQUNoRDtBQUNBLG9FQUFvRTs7QUFFcEUsd0VBQXdFO0FBQ3hFO0FBQ0E7O0FBRUEsMkJBQTJCOztBQUUzQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2RheXMtMjAyMy8uLi9icG1uLWlvL2RpYWdyYW0tanMvbm9kZV9tb2R1bGVzL3BhdGgtaW50ZXJzZWN0aW9uL2ludGVyc2VjdC5qcz8wMjVhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBUaGlzIGZpbGUgY29udGFpbnMgc291cmNlIGNvZGUgYWRhcHRlZCBmcm9tIFNuYXAuc3ZnIChsaWNlbnNlZCBBcGFjaGUtMi4wKS5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hZG9iZS13ZWJwbGF0Zm9ybS9TbmFwLnN2Zy9ibG9iL21hc3Rlci9zcmMvcGF0aC5qc1xuICovXG5cbi8qIGVzbGludCBuby1mYWxsdGhyb3VnaDogXCJvZmZcIiAqL1xuXG52YXIgcDJzID0gLyw/KFthLXpdKSw/L2dpLFxuICAgIHRvRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgIG1hdGggPSBNYXRoLFxuICAgIFBJID0gbWF0aC5QSSxcbiAgICBtbWluID0gbWF0aC5taW4sXG4gICAgbW1heCA9IG1hdGgubWF4LFxuICAgIHBvdyA9IG1hdGgucG93LFxuICAgIGFicyA9IG1hdGguYWJzLFxuICAgIHBhdGhDb21tYW5kID0gLyhbYS16XSlbXFxzLF0qKCgtP1xcZCpcXC4/XFxkKig/OmVbLStdP1xcZCspP1tcXHNdKiw/W1xcc10qKSspL2lnLFxuICAgIHBhdGhWYWx1ZXMgPSAvKC0/XFxkKlxcLj9cXGQqKD86ZVstK10/XFxkKyk/KVtcXHNdKiw/W1xcc10qL2lnO1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24obykgeyByZXR1cm4gbyBpbnN0YW5jZW9mIEFycmF5OyB9O1xuXG5mdW5jdGlvbiBoYXNQcm9wZXJ0eShvYmosIHByb3BlcnR5KSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wZXJ0eSk7XG59XG5cbmZ1bmN0aW9uIGNsb25lKG9iaikge1xuXG4gIGlmICh0eXBlb2Ygb2JqID09ICdmdW5jdGlvbicgfHwgT2JqZWN0KG9iaikgIT09IG9iaikge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgcmVzID0gbmV3IG9iai5jb25zdHJ1Y3RvcjtcblxuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKGhhc1Byb3BlcnR5KG9iaiwga2V5KSkge1xuICAgICAgcmVzW2tleV0gPSBjbG9uZShvYmpba2V5XSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gcmVwdXNoKGFycmF5LCBpdGVtKSB7XG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IGFycmF5Lmxlbmd0aDsgaSA8IGlpOyBpKyspIGlmIChhcnJheVtpXSA9PT0gaXRlbSkge1xuICAgIHJldHVybiBhcnJheS5wdXNoKGFycmF5LnNwbGljZShpLCAxKVswXSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FjaGVyKGYpIHtcblxuICBmdW5jdGlvbiBuZXdmKCkge1xuXG4gICAgdmFyIGFyZyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCksXG4gICAgICAgIGFyZ3MgPSBhcmcuam9pbignXFx1MjQwMCcpLFxuICAgICAgICBjYWNoZSA9IG5ld2YuY2FjaGUgPSBuZXdmLmNhY2hlIHx8IHt9LFxuICAgICAgICBjb3VudCA9IG5ld2YuY291bnQgPSBuZXdmLmNvdW50IHx8IFtdO1xuXG4gICAgaWYgKGhhc1Byb3BlcnR5KGNhY2hlLCBhcmdzKSkge1xuICAgICAgcmVwdXNoKGNvdW50LCBhcmdzKTtcbiAgICAgIHJldHVybiBjYWNoZVthcmdzXTtcbiAgICB9XG5cbiAgICBjb3VudC5sZW5ndGggPj0gMWUzICYmIGRlbGV0ZSBjYWNoZVtjb3VudC5zaGlmdCgpXTtcbiAgICBjb3VudC5wdXNoKGFyZ3MpO1xuICAgIGNhY2hlW2FyZ3NdID0gZi5hcHBseSgwLCBhcmcpO1xuXG4gICAgcmV0dXJuIGNhY2hlW2FyZ3NdO1xuICB9XG4gIHJldHVybiBuZXdmO1xufVxuXG5mdW5jdGlvbiBwYXJzZVBhdGhTdHJpbmcocGF0aFN0cmluZykge1xuXG4gIGlmICghcGF0aFN0cmluZykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHB0aCA9IHBhdGhzKHBhdGhTdHJpbmcpO1xuXG4gIGlmIChwdGguYXJyKSB7XG4gICAgcmV0dXJuIGNsb25lKHB0aC5hcnIpO1xuICB9XG5cbiAgdmFyIHBhcmFtQ291bnRzID0geyBhOiA3LCBjOiA2LCBoOiAxLCBsOiAyLCBtOiAyLCBxOiA0LCBzOiA0LCB0OiAyLCB2OiAxLCB6OiAwIH0sXG4gICAgICBkYXRhID0gW107XG5cbiAgaWYgKGlzQXJyYXkocGF0aFN0cmluZykgJiYgaXNBcnJheShwYXRoU3RyaW5nWzBdKSkgeyAvLyByb3VnaCBhc3N1bXB0aW9uXG4gICAgZGF0YSA9IGNsb25lKHBhdGhTdHJpbmcpO1xuICB9XG5cbiAgaWYgKCFkYXRhLmxlbmd0aCkge1xuXG4gICAgU3RyaW5nKHBhdGhTdHJpbmcpLnJlcGxhY2UocGF0aENvbW1hbmQsIGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgIHZhciBwYXJhbXMgPSBbXSxcbiAgICAgICAgICBuYW1lID0gYi50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICBjLnJlcGxhY2UocGF0aFZhbHVlcywgZnVuY3Rpb24oYSwgYikge1xuICAgICAgICBiICYmIHBhcmFtcy5wdXNoKCtiKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAobmFtZSA9PSAnbScgJiYgcGFyYW1zLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgZGF0YS5wdXNoKFtiXS5jb25jYXQocGFyYW1zLnNwbGljZSgwLCAyKSkpO1xuICAgICAgICBuYW1lID0gJ2wnO1xuICAgICAgICBiID0gYiA9PSAnbScgPyAnbCcgOiAnTCc7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlIChwYXJhbXMubGVuZ3RoID49IHBhcmFtQ291bnRzW25hbWVdKSB7XG4gICAgICAgIGRhdGEucHVzaChbYl0uY29uY2F0KHBhcmFtcy5zcGxpY2UoMCwgcGFyYW1Db3VudHNbbmFtZV0pKSk7XG4gICAgICAgIGlmICghcGFyYW1Db3VudHNbbmFtZV0pIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZGF0YS50b1N0cmluZyA9IHBhdGhzLnRvU3RyaW5nO1xuICBwdGguYXJyID0gY2xvbmUoZGF0YSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbmZ1bmN0aW9uIHBhdGhzKHBzKSB7XG4gIHZhciBwID0gcGF0aHMucHMgPSBwYXRocy5wcyB8fCB7fTtcblxuICBpZiAocFtwc10pIHtcbiAgICBwW3BzXS5zbGVlcCA9IDEwMDtcbiAgfSBlbHNlIHtcbiAgICBwW3BzXSA9IHtcbiAgICAgIHNsZWVwOiAxMDBcbiAgICB9O1xuICB9XG5cbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gcCkge1xuICAgICAgaWYgKGhhc1Byb3BlcnR5KHAsIGtleSkgJiYga2V5ICE9IHBzKSB7XG4gICAgICAgIHBba2V5XS5zbGVlcC0tO1xuICAgICAgICAhcFtrZXldLnNsZWVwICYmIGRlbGV0ZSBwW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcFtwc107XG59XG5cbmZ1bmN0aW9uIHJlY3RCQm94KHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIHkgPSB4Lnk7XG4gICAgd2lkdGggPSB4LndpZHRoO1xuICAgIGhlaWdodCA9IHguaGVpZ2h0O1xuICAgIHggPSB4Lng7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHg6IHgsXG4gICAgeTogeSxcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgeDI6IHggKyB3aWR0aCxcbiAgICB5MjogeSArIGhlaWdodFxuICB9O1xufVxuXG5mdW5jdGlvbiBwYXRoVG9TdHJpbmcoKSB7XG4gIHJldHVybiB0aGlzLmpvaW4oJywnKS5yZXBsYWNlKHAycywgJyQxJyk7XG59XG5cbmZ1bmN0aW9uIHBhdGhDbG9uZShwYXRoQXJyYXkpIHtcbiAgdmFyIHJlcyA9IGNsb25lKHBhdGhBcnJheSk7XG4gIHJlcy50b1N0cmluZyA9IHBhdGhUb1N0cmluZztcbiAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gZmluZERvdHNBdFNlZ21lbnQocDF4LCBwMXksIGMxeCwgYzF5LCBjMngsIGMyeSwgcDJ4LCBwMnksIHQpIHtcbiAgdmFyIHQxID0gMSAtIHQsXG4gICAgICB0MTMgPSBwb3codDEsIDMpLFxuICAgICAgdDEyID0gcG93KHQxLCAyKSxcbiAgICAgIHQyID0gdCAqIHQsXG4gICAgICB0MyA9IHQyICogdCxcbiAgICAgIHggPSB0MTMgKiBwMXggKyB0MTIgKiAzICogdCAqIGMxeCArIHQxICogMyAqIHQgKiB0ICogYzJ4ICsgdDMgKiBwMngsXG4gICAgICB5ID0gdDEzICogcDF5ICsgdDEyICogMyAqIHQgKiBjMXkgKyB0MSAqIDMgKiB0ICogdCAqIGMyeSArIHQzICogcDJ5O1xuXG4gIHJldHVybiB7XG4gICAgeDogZml4RXJyb3IoeCksXG4gICAgeTogZml4RXJyb3IoeSlcbiAgfTtcbn1cblxuZnVuY3Rpb24gYmV6aWVyQkJveChwb2ludHMpIHtcblxuICB2YXIgYmJveCA9IGN1cnZlQkJveC5hcHBseShudWxsLCBwb2ludHMpO1xuXG4gIHJldHVybiByZWN0QkJveChcbiAgICBiYm94LngwLFxuICAgIGJib3gueTAsXG4gICAgYmJveC54MSAtIGJib3gueDAsXG4gICAgYmJveC55MSAtIGJib3gueTBcbiAgKTtcbn1cblxuZnVuY3Rpb24gaXNQb2ludEluc2lkZUJCb3goYmJveCwgeCwgeSkge1xuICByZXR1cm4geCA+PSBiYm94LnggJiZcbiAgICB4IDw9IGJib3gueCArIGJib3gud2lkdGggJiZcbiAgICB5ID49IGJib3gueSAmJlxuICAgIHkgPD0gYmJveC55ICsgYmJveC5oZWlnaHQ7XG59XG5cbmZ1bmN0aW9uIGlzQkJveEludGVyc2VjdChiYm94MSwgYmJveDIpIHtcbiAgYmJveDEgPSByZWN0QkJveChiYm94MSk7XG4gIGJib3gyID0gcmVjdEJCb3goYmJveDIpO1xuICByZXR1cm4gaXNQb2ludEluc2lkZUJCb3goYmJveDIsIGJib3gxLngsIGJib3gxLnkpXG4gICAgfHwgaXNQb2ludEluc2lkZUJCb3goYmJveDIsIGJib3gxLngyLCBiYm94MS55KVxuICAgIHx8IGlzUG9pbnRJbnNpZGVCQm94KGJib3gyLCBiYm94MS54LCBiYm94MS55MilcbiAgICB8fCBpc1BvaW50SW5zaWRlQkJveChiYm94MiwgYmJveDEueDIsIGJib3gxLnkyKVxuICAgIHx8IGlzUG9pbnRJbnNpZGVCQm94KGJib3gxLCBiYm94Mi54LCBiYm94Mi55KVxuICAgIHx8IGlzUG9pbnRJbnNpZGVCQm94KGJib3gxLCBiYm94Mi54MiwgYmJveDIueSlcbiAgICB8fCBpc1BvaW50SW5zaWRlQkJveChiYm94MSwgYmJveDIueCwgYmJveDIueTIpXG4gICAgfHwgaXNQb2ludEluc2lkZUJCb3goYmJveDEsIGJib3gyLngyLCBiYm94Mi55MilcbiAgICB8fCAoYmJveDEueCA8IGJib3gyLngyICYmIGJib3gxLnggPiBiYm94Mi54XG4gICAgICAgIHx8IGJib3gyLnggPCBiYm94MS54MiAmJiBiYm94Mi54ID4gYmJveDEueClcbiAgICAmJiAoYmJveDEueSA8IGJib3gyLnkyICYmIGJib3gxLnkgPiBiYm94Mi55XG4gICAgICAgIHx8IGJib3gyLnkgPCBiYm94MS55MiAmJiBiYm94Mi55ID4gYmJveDEueSk7XG59XG5cbmZ1bmN0aW9uIGJhc2UzKHQsIHAxLCBwMiwgcDMsIHA0KSB7XG4gIHZhciB0MSA9IC0zICogcDEgKyA5ICogcDIgLSA5ICogcDMgKyAzICogcDQsXG4gICAgICB0MiA9IHQgKiB0MSArIDYgKiBwMSAtIDEyICogcDIgKyA2ICogcDM7XG4gIHJldHVybiB0ICogdDIgLSAzICogcDEgKyAzICogcDI7XG59XG5cbmZ1bmN0aW9uIGJlemxlbih4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQsIHopIHtcblxuICBpZiAoeiA9PSBudWxsKSB7XG4gICAgeiA9IDE7XG4gIH1cblxuICB6ID0geiA+IDEgPyAxIDogeiA8IDAgPyAwIDogejtcblxuICB2YXIgejIgPSB6IC8gMixcbiAgICAgIG4gPSAxMixcbiAgICAgIFR2YWx1ZXMgPSBbLS4xMjUyLC4xMjUyLC0uMzY3OCwuMzY3OCwtLjU4NzMsLjU4NzMsLS43Njk5LC43Njk5LC0uOTA0MSwuOTA0MSwtLjk4MTYsLjk4MTZdLFxuICAgICAgQ3ZhbHVlcyA9IFswLjI0OTEsMC4yNDkxLDAuMjMzNSwwLjIzMzUsMC4yMDMyLDAuMjAzMiwwLjE2MDEsMC4xNjAxLDAuMTA2OSwwLjEwNjksMC4wNDcyLDAuMDQ3Ml0sXG4gICAgICBzdW0gPSAwO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgdmFyIGN0ID0gejIgKiBUdmFsdWVzW2ldICsgejIsXG4gICAgICAgIHhiYXNlID0gYmFzZTMoY3QsIHgxLCB4MiwgeDMsIHg0KSxcbiAgICAgICAgeWJhc2UgPSBiYXNlMyhjdCwgeTEsIHkyLCB5MywgeTQpLFxuICAgICAgICBjb21iID0geGJhc2UgKiB4YmFzZSArIHliYXNlICogeWJhc2U7XG5cbiAgICBzdW0gKz0gQ3ZhbHVlc1tpXSAqIG1hdGguc3FydChjb21iKTtcbiAgfVxuXG4gIHJldHVybiB6MiAqIHN1bTtcbn1cblxuXG5mdW5jdGlvbiBpbnRlcnNlY3RMaW5lcyh4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQpIHtcblxuICBpZiAoXG4gICAgbW1heCh4MSwgeDIpIDwgbW1pbih4MywgeDQpIHx8XG4gICAgICBtbWluKHgxLCB4MikgPiBtbWF4KHgzLCB4NCkgfHxcbiAgICAgIG1tYXgoeTEsIHkyKSA8IG1taW4oeTMsIHk0KSB8fFxuICAgICAgbW1pbih5MSwgeTIpID4gbW1heCh5MywgeTQpXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBueCA9ICh4MSAqIHkyIC0geTEgKiB4MikgKiAoeDMgLSB4NCkgLSAoeDEgLSB4MikgKiAoeDMgKiB5NCAtIHkzICogeDQpLFxuICAgICAgbnkgPSAoeDEgKiB5MiAtIHkxICogeDIpICogKHkzIC0geTQpIC0gKHkxIC0geTIpICogKHgzICogeTQgLSB5MyAqIHg0KSxcbiAgICAgIGRlbm9taW5hdG9yID0gKHgxIC0geDIpICogKHkzIC0geTQpIC0gKHkxIC0geTIpICogKHgzIC0geDQpO1xuXG4gIGlmICghZGVub21pbmF0b3IpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgcHggPSBmaXhFcnJvcihueCAvIGRlbm9taW5hdG9yKSxcbiAgICAgIHB5ID0gZml4RXJyb3IobnkgLyBkZW5vbWluYXRvciksXG4gICAgICBweDIgPSArcHgudG9GaXhlZCgyKSxcbiAgICAgIHB5MiA9ICtweS50b0ZpeGVkKDIpO1xuXG4gIGlmIChcbiAgICBweDIgPCArbW1pbih4MSwgeDIpLnRvRml4ZWQoMikgfHxcbiAgICAgIHB4MiA+ICttbWF4KHgxLCB4MikudG9GaXhlZCgyKSB8fFxuICAgICAgcHgyIDwgK21taW4oeDMsIHg0KS50b0ZpeGVkKDIpIHx8XG4gICAgICBweDIgPiArbW1heCh4MywgeDQpLnRvRml4ZWQoMikgfHxcbiAgICAgIHB5MiA8ICttbWluKHkxLCB5MikudG9GaXhlZCgyKSB8fFxuICAgICAgcHkyID4gK21tYXgoeTEsIHkyKS50b0ZpeGVkKDIpIHx8XG4gICAgICBweTIgPCArbW1pbih5MywgeTQpLnRvRml4ZWQoMikgfHxcbiAgICAgIHB5MiA+ICttbWF4KHkzLCB5NCkudG9GaXhlZCgyKVxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4geyB4OiBweCwgeTogcHkgfTtcbn1cblxuZnVuY3Rpb24gZml4RXJyb3IobnVtYmVyKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKG51bWJlciAqIDEwMDAwMDAwMDAwMCkgLyAxMDAwMDAwMDAwMDA7XG59XG5cbmZ1bmN0aW9uIGZpbmRCZXppZXJJbnRlcnNlY3Rpb25zKGJlejEsIGJlejIsIGp1c3RDb3VudCkge1xuICB2YXIgYmJveDEgPSBiZXppZXJCQm94KGJlejEpLFxuICAgICAgYmJveDIgPSBiZXppZXJCQm94KGJlejIpO1xuXG4gIGlmICghaXNCQm94SW50ZXJzZWN0KGJib3gxLCBiYm94MikpIHtcbiAgICByZXR1cm4ganVzdENvdW50ID8gMCA6IFtdO1xuICB9XG5cbiAgLy8gQXMgYW4gb3B0aW1pemF0aW9uLCBsaW5lcyB3aWxsIGhhdmUgb25seSAxIHNlZ21lbnRcblxuICB2YXIgbDEgPSBiZXpsZW4uYXBwbHkoMCwgYmV6MSksXG4gICAgICBsMiA9IGJlemxlbi5hcHBseSgwLCBiZXoyKSxcbiAgICAgIG4xID0gaXNMaW5lKGJlejEpID8gMSA6IH5+KGwxIC8gNSkgfHwgMSxcbiAgICAgIG4yID0gaXNMaW5lKGJlejIpID8gMSA6IH5+KGwyIC8gNSkgfHwgMSxcbiAgICAgIGRvdHMxID0gW10sXG4gICAgICBkb3RzMiA9IFtdLFxuICAgICAgeHkgPSB7fSxcbiAgICAgIHJlcyA9IGp1c3RDb3VudCA/IDAgOiBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IG4xICsgMTsgaSsrKSB7XG4gICAgdmFyIHAgPSBmaW5kRG90c0F0U2VnbWVudC5hcHBseSgwLCBiZXoxLmNvbmNhdChpIC8gbjEpKTtcbiAgICBkb3RzMS5wdXNoKHsgeDogcC54LCB5OiBwLnksIHQ6IGkgLyBuMSB9KTtcbiAgfVxuXG4gIGZvciAoaSA9IDA7IGkgPCBuMiArIDE7IGkrKykge1xuICAgIHAgPSBmaW5kRG90c0F0U2VnbWVudC5hcHBseSgwLCBiZXoyLmNvbmNhdChpIC8gbjIpKTtcbiAgICBkb3RzMi5wdXNoKHsgeDogcC54LCB5OiBwLnksIHQ6IGkgLyBuMiB9KTtcbiAgfVxuXG4gIGZvciAoaSA9IDA7IGkgPCBuMTsgaSsrKSB7XG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IG4yOyBqKyspIHtcbiAgICAgIHZhciBkaSA9IGRvdHMxW2ldLFxuICAgICAgICAgIGRpMSA9IGRvdHMxW2kgKyAxXSxcbiAgICAgICAgICBkaiA9IGRvdHMyW2pdLFxuICAgICAgICAgIGRqMSA9IGRvdHMyW2ogKyAxXSxcbiAgICAgICAgICBjaSA9IGFicyhkaTEueCAtIGRpLngpIDwgLjAxID8gJ3knIDogJ3gnLFxuICAgICAgICAgIGNqID0gYWJzKGRqMS54IC0gZGoueCkgPCAuMDEgPyAneScgOiAneCcsXG4gICAgICAgICAgaXMgPSBpbnRlcnNlY3RMaW5lcyhkaS54LCBkaS55LCBkaTEueCwgZGkxLnksIGRqLngsIGRqLnksIGRqMS54LCBkajEueSksXG4gICAgICAgICAga2V5O1xuXG4gICAgICBpZiAoaXMpIHtcbiAgICAgICAga2V5ID0gaXMueC50b0ZpeGVkKDkpICsgJyMnICsgaXMueS50b0ZpeGVkKDkpO1xuXG4gICAgICAgIGlmICh4eVtrZXldKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB4eVtrZXldID0gdHJ1ZTtcblxuICAgICAgICB2YXIgdDEgPSBkaS50ICsgYWJzKChpc1tjaV0gLSBkaVtjaV0pIC8gKGRpMVtjaV0gLSBkaVtjaV0pKSAqIChkaTEudCAtIGRpLnQpLFxuICAgICAgICAgICAgdDIgPSBkai50ICsgYWJzKChpc1tjal0gLSBkaltjal0pIC8gKGRqMVtjal0gLSBkaltjal0pKSAqIChkajEudCAtIGRqLnQpO1xuXG4gICAgICAgIGlmICh0MSA+PSAwICYmIHQxIDw9IDEgJiYgdDIgPj0gMCAmJiB0MiA8PSAxKSB7XG5cbiAgICAgICAgICBpZiAoanVzdENvdW50KSB7XG4gICAgICAgICAgICByZXMrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzLnB1c2goe1xuICAgICAgICAgICAgICB4OiBpcy54LFxuICAgICAgICAgICAgICB5OiBpcy55LFxuICAgICAgICAgICAgICB0MTogdDEsXG4gICAgICAgICAgICAgIHQyOiB0MlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuXG4vKipcbiAqIEZpbmQgb3IgY291bnRzIHRoZSBpbnRlcnNlY3Rpb25zIGJldHdlZW4gdHdvIFNWRyBwYXRocy5cbiAqXG4gKiBSZXR1cm5zIGEgbnVtYmVyIGluIGNvdW50aW5nIG1vZGUgYW5kIGEgbGlzdCBvZiBpbnRlcnNlY3Rpb25zIG90aGVyd2lzZS5cbiAqXG4gKiBBIHNpbmdsZSBpbnRlcnNlY3Rpb24gZW50cnkgY29udGFpbnMgdGhlIGludGVyc2VjdGlvbiBjb29yZGluYXRlcyAoeCwgeSlcbiAqIGFzIHdlbGwgYXMgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgdGhlIGludGVyc2VjdGluZyBzZWdtZW50c1xuICogb24gZWFjaCBwYXRoIChzZWdtZW50MSwgc2VnbWVudDIpIGFuZCB0aGUgcmVsYXRpdmUgbG9jYXRpb24gb2YgdGhlXG4gKiBpbnRlcnNlY3Rpb24gb24gdGhlc2Ugc2VnbWVudHMgKHQxLCB0MikuXG4gKlxuICogVGhlIHBhdGggbWF5IGJlIGFuIFNWRyBwYXRoIHN0cmluZyBvciBhIGxpc3Qgb2YgcGF0aCBjb21wb25lbnRzXG4gKiBzdWNoIGFzIGBbIFsgJ00nLCAwLCAxMCBdLCBbICdMJywgMjAsIDAgXSBdYC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBpbnRlcnNlY3Rpb25zID0gZmluZFBhdGhJbnRlcnNlY3Rpb25zKFxuICogICAnTTAsMEwxMDAsMTAwJyxcbiAqICAgWyBbICdNJywgMCwgMTAwIF0sIFsgJ0wnLCAxMDAsIDAgXSBdXG4gKiApO1xuICpcbiAqIC8vIGludGVyc2VjdGlvbnMgPSBbXG4gKiAvLyAgIHsgeDogNTAsIHk6IDUwLCBzZWdtZW50MTogMSwgc2VnbWVudDI6IDEsIHQxOiAwLjUsIHQyOiAwLjUgfVxuICogLy8gXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfEFycmF5PFBhdGhEZWY+fSBwYXRoMVxuICogQHBhcmFtIHtTdHJpbmd8QXJyYXk8UGF0aERlZj59IHBhdGgyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtqdXN0Q291bnQ9ZmFsc2VdXG4gKlxuICogQHJldHVybiB7QXJyYXk8SW50ZXJzZWN0aW9uPnxOdW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGZpbmRQYXRoSW50ZXJzZWN0aW9ucyhwYXRoMSwgcGF0aDIsIGp1c3RDb3VudCkge1xuICBwYXRoMSA9IHBhdGhUb0N1cnZlKHBhdGgxKTtcbiAgcGF0aDIgPSBwYXRoVG9DdXJ2ZShwYXRoMik7XG5cbiAgdmFyIHgxLCB5MSwgeDIsIHkyLCB4MW0sIHkxbSwgeDJtLCB5Mm0sIGJlejEsIGJlejIsXG4gICAgICByZXMgPSBqdXN0Q291bnQgPyAwIDogW107XG5cbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gcGF0aDEubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgIHZhciBwaSA9IHBhdGgxW2ldO1xuXG4gICAgaWYgKHBpWzBdID09ICdNJykge1xuICAgICAgeDEgPSB4MW0gPSBwaVsxXTtcbiAgICAgIHkxID0geTFtID0gcGlbMl07XG4gICAgfSBlbHNlIHtcblxuICAgICAgaWYgKHBpWzBdID09ICdDJykge1xuICAgICAgICBiZXoxID0gW3gxLCB5MV0uY29uY2F0KHBpLnNsaWNlKDEpKTtcbiAgICAgICAgeDEgPSBiZXoxWzZdO1xuICAgICAgICB5MSA9IGJlejFbN107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiZXoxID0gW3gxLCB5MSwgeDEsIHkxLCB4MW0sIHkxbSwgeDFtLCB5MW1dO1xuICAgICAgICB4MSA9IHgxbTtcbiAgICAgICAgeTEgPSB5MW07XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGogPSAwLCBqaiA9IHBhdGgyLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgdmFyIHBqID0gcGF0aDJbal07XG5cbiAgICAgICAgaWYgKHBqWzBdID09ICdNJykge1xuICAgICAgICAgIHgyID0geDJtID0gcGpbMV07XG4gICAgICAgICAgeTIgPSB5Mm0gPSBwalsyXTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgIGlmIChwalswXSA9PSAnQycpIHtcbiAgICAgICAgICAgIGJlejIgPSBbeDIsIHkyXS5jb25jYXQocGouc2xpY2UoMSkpO1xuICAgICAgICAgICAgeDIgPSBiZXoyWzZdO1xuICAgICAgICAgICAgeTIgPSBiZXoyWzddO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiZXoyID0gW3gyLCB5MiwgeDIsIHkyLCB4Mm0sIHkybSwgeDJtLCB5Mm1dO1xuICAgICAgICAgICAgeDIgPSB4Mm07XG4gICAgICAgICAgICB5MiA9IHkybTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgaW50ciA9IGZpbmRCZXppZXJJbnRlcnNlY3Rpb25zKGJlejEsIGJlejIsIGp1c3RDb3VudCk7XG5cbiAgICAgICAgICBpZiAoanVzdENvdW50KSB7XG4gICAgICAgICAgICByZXMgKz0gaW50cjtcbiAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMCwga2sgPSBpbnRyLmxlbmd0aDsgayA8IGtrOyBrKyspIHtcbiAgICAgICAgICAgICAgaW50cltrXS5zZWdtZW50MSA9IGk7XG4gICAgICAgICAgICAgIGludHJba10uc2VnbWVudDIgPSBqO1xuICAgICAgICAgICAgICBpbnRyW2tdLmJlejEgPSBiZXoxO1xuICAgICAgICAgICAgICBpbnRyW2tdLmJlejIgPSBiZXoyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXMgPSByZXMuY29uY2F0KGludHIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXM7XG59XG5cblxuZnVuY3Rpb24gcGF0aFRvQWJzb2x1dGUocGF0aEFycmF5KSB7XG4gIHZhciBwdGggPSBwYXRocyhwYXRoQXJyYXkpO1xuXG4gIGlmIChwdGguYWJzKSB7XG4gICAgcmV0dXJuIHBhdGhDbG9uZShwdGguYWJzKTtcbiAgfVxuXG4gIGlmICghaXNBcnJheShwYXRoQXJyYXkpIHx8ICFpc0FycmF5KHBhdGhBcnJheSAmJiBwYXRoQXJyYXlbMF0pKSB7IC8vIHJvdWdoIGFzc3VtcHRpb25cbiAgICBwYXRoQXJyYXkgPSBwYXJzZVBhdGhTdHJpbmcocGF0aEFycmF5KTtcbiAgfVxuXG4gIGlmICghcGF0aEFycmF5IHx8ICFwYXRoQXJyYXkubGVuZ3RoKSB7XG4gICAgcmV0dXJuIFtbJ00nLCAwLCAwXV07XG4gIH1cblxuICB2YXIgcmVzID0gW10sXG4gICAgICB4ID0gMCxcbiAgICAgIHkgPSAwLFxuICAgICAgbXggPSAwLFxuICAgICAgbXkgPSAwLFxuICAgICAgc3RhcnQgPSAwLFxuICAgICAgcGEwO1xuXG4gIGlmIChwYXRoQXJyYXlbMF1bMF0gPT0gJ00nKSB7XG4gICAgeCA9ICtwYXRoQXJyYXlbMF1bMV07XG4gICAgeSA9ICtwYXRoQXJyYXlbMF1bMl07XG4gICAgbXggPSB4O1xuICAgIG15ID0geTtcbiAgICBzdGFydCsrO1xuICAgIHJlc1swXSA9IFsnTScsIHgsIHldO1xuICB9XG5cbiAgZm9yICh2YXIgciwgcGEsIGkgPSBzdGFydCwgaWkgPSBwYXRoQXJyYXkubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgIHJlcy5wdXNoKHIgPSBbXSk7XG4gICAgcGEgPSBwYXRoQXJyYXlbaV07XG4gICAgcGEwID0gcGFbMF07XG5cbiAgICBpZiAocGEwICE9IHBhMC50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICByWzBdID0gcGEwLnRvVXBwZXJDYXNlKCk7XG5cbiAgICAgIHN3aXRjaCAoclswXSkge1xuICAgICAgY2FzZSAnQSc6XG4gICAgICAgIHJbMV0gPSBwYVsxXTtcbiAgICAgICAgclsyXSA9IHBhWzJdO1xuICAgICAgICByWzNdID0gcGFbM107XG4gICAgICAgIHJbNF0gPSBwYVs0XTtcbiAgICAgICAgcls1XSA9IHBhWzVdO1xuICAgICAgICByWzZdID0gK3BhWzZdICsgeDtcbiAgICAgICAgcls3XSA9ICtwYVs3XSArIHk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnVic6XG4gICAgICAgIHJbMV0gPSArcGFbMV0gKyB5O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0gnOlxuICAgICAgICByWzFdID0gK3BhWzFdICsgeDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdNJzpcbiAgICAgICAgbXggPSArcGFbMV0gKyB4O1xuICAgICAgICBteSA9ICtwYVsyXSArIHk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBmb3IgKHZhciBqID0gMSwgamogPSBwYS5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgcltqXSA9ICtwYVtqXSArICgoaiAlIDIpID8geCA6IHkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIGsgPSAwLCBrayA9IHBhLmxlbmd0aDsgayA8IGtrOyBrKyspIHtcbiAgICAgICAgcltrXSA9IHBhW2tdO1xuICAgICAgfVxuICAgIH1cbiAgICBwYTAgPSBwYTAudG9VcHBlckNhc2UoKTtcblxuICAgIHN3aXRjaCAoclswXSkge1xuICAgIGNhc2UgJ1onOlxuICAgICAgeCA9ICtteDtcbiAgICAgIHkgPSArbXk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdIJzpcbiAgICAgIHggPSByWzFdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnVic6XG4gICAgICB5ID0gclsxXTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ00nOlxuICAgICAgbXggPSByW3IubGVuZ3RoIC0gMl07XG4gICAgICBteSA9IHJbci5sZW5ndGggLSAxXTtcbiAgICBkZWZhdWx0OlxuICAgICAgeCA9IHJbci5sZW5ndGggLSAyXTtcbiAgICAgIHkgPSByW3IubGVuZ3RoIC0gMV07XG4gICAgfVxuICB9XG5cbiAgcmVzLnRvU3RyaW5nID0gcGF0aFRvU3RyaW5nO1xuICBwdGguYWJzID0gcGF0aENsb25lKHJlcyk7XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gaXNMaW5lKGJleikge1xuICByZXR1cm4gKFxuICAgIGJlelswXSA9PT0gYmV6WzJdICYmXG4gICAgYmV6WzFdID09PSBiZXpbM10gJiZcbiAgICBiZXpbNF0gPT09IGJlels2XSAmJlxuICAgIGJlels1XSA9PT0gYmV6WzddXG4gICk7XG59XG5cbmZ1bmN0aW9uIGxpbmVUb0N1cnZlKHgxLCB5MSwgeDIsIHkyKSB7XG4gIHJldHVybiBbXG4gICAgeDEsIHkxLCB4MixcbiAgICB5MiwgeDIsIHkyXG4gIF07XG59XG5cbmZ1bmN0aW9uIHF1YmljVG9DdXJ2ZSh4MSwgeTEsIGF4LCBheSwgeDIsIHkyKSB7XG4gIHZhciBfMTMgPSAxIC8gMyxcbiAgICAgIF8yMyA9IDIgLyAzO1xuXG4gIHJldHVybiBbXG4gICAgXzEzICogeDEgKyBfMjMgKiBheCxcbiAgICBfMTMgKiB5MSArIF8yMyAqIGF5LFxuICAgIF8xMyAqIHgyICsgXzIzICogYXgsXG4gICAgXzEzICogeTIgKyBfMjMgKiBheSxcbiAgICB4MixcbiAgICB5MlxuICBdO1xufVxuXG5mdW5jdGlvbiBhcmNUb0N1cnZlKHgxLCB5MSwgcngsIHJ5LCBhbmdsZSwgbGFyZ2VfYXJjX2ZsYWcsIHN3ZWVwX2ZsYWcsIHgyLCB5MiwgcmVjdXJzaXZlKSB7XG5cbiAgLy8gZm9yIG1vcmUgaW5mb3JtYXRpb24gb2Ygd2hlcmUgdGhpcyBtYXRoIGNhbWUgZnJvbSB2aXNpdDpcbiAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvaW1wbG5vdGUuaHRtbCNBcmNJbXBsZW1lbnRhdGlvbk5vdGVzXG4gIHZhciBfMTIwID0gUEkgKiAxMjAgLyAxODAsXG4gICAgICByYWQgPSBQSSAvIDE4MCAqICgrYW5nbGUgfHwgMCksXG4gICAgICByZXMgPSBbXSxcbiAgICAgIHh5LFxuICAgICAgcm90YXRlID0gY2FjaGVyKGZ1bmN0aW9uKHgsIHksIHJhZCkge1xuICAgICAgICB2YXIgWCA9IHggKiBtYXRoLmNvcyhyYWQpIC0geSAqIG1hdGguc2luKHJhZCksXG4gICAgICAgICAgICBZID0geCAqIG1hdGguc2luKHJhZCkgKyB5ICogbWF0aC5jb3MocmFkKTtcblxuICAgICAgICByZXR1cm4geyB4OiBYLCB5OiBZIH07XG4gICAgICB9KTtcblxuICBpZiAoIXJlY3Vyc2l2ZSkge1xuICAgIHh5ID0gcm90YXRlKHgxLCB5MSwgLXJhZCk7XG4gICAgeDEgPSB4eS54O1xuICAgIHkxID0geHkueTtcbiAgICB4eSA9IHJvdGF0ZSh4MiwgeTIsIC1yYWQpO1xuICAgIHgyID0geHkueDtcbiAgICB5MiA9IHh5Lnk7XG5cbiAgICB2YXIgeCA9ICh4MSAtIHgyKSAvIDIsXG4gICAgICAgIHkgPSAoeTEgLSB5MikgLyAyO1xuXG4gICAgdmFyIGggPSAoeCAqIHgpIC8gKHJ4ICogcngpICsgKHkgKiB5KSAvIChyeSAqIHJ5KTtcblxuICAgIGlmIChoID4gMSkge1xuICAgICAgaCA9IG1hdGguc3FydChoKTtcbiAgICAgIHJ4ID0gaCAqIHJ4O1xuICAgICAgcnkgPSBoICogcnk7XG4gICAgfVxuXG4gICAgdmFyIHJ4MiA9IHJ4ICogcngsXG4gICAgICAgIHJ5MiA9IHJ5ICogcnksXG4gICAgICAgIGsgPSAobGFyZ2VfYXJjX2ZsYWcgPT0gc3dlZXBfZmxhZyA/IC0xIDogMSkgKlxuICAgICAgICAgICAgbWF0aC5zcXJ0KGFicygocngyICogcnkyIC0gcngyICogeSAqIHkgLSByeTIgKiB4ICogeCkgLyAocngyICogeSAqIHkgKyByeTIgKiB4ICogeCkpKSxcbiAgICAgICAgY3ggPSBrICogcnggKiB5IC8gcnkgKyAoeDEgKyB4MikgLyAyLFxuICAgICAgICBjeSA9IGsgKiAtcnkgKiB4IC8gcnggKyAoeTEgKyB5MikgLyAyLFxuICAgICAgICBmMSA9IG1hdGguYXNpbigoKHkxIC0gY3kpIC8gcnkpLnRvRml4ZWQoOSkpLFxuICAgICAgICBmMiA9IG1hdGguYXNpbigoKHkyIC0gY3kpIC8gcnkpLnRvRml4ZWQoOSkpO1xuXG4gICAgZjEgPSB4MSA8IGN4ID8gUEkgLSBmMSA6IGYxO1xuICAgIGYyID0geDIgPCBjeCA/IFBJIC0gZjIgOiBmMjtcbiAgICBmMSA8IDAgJiYgKGYxID0gUEkgKiAyICsgZjEpO1xuICAgIGYyIDwgMCAmJiAoZjIgPSBQSSAqIDIgKyBmMik7XG5cbiAgICBpZiAoc3dlZXBfZmxhZyAmJiBmMSA+IGYyKSB7XG4gICAgICBmMSA9IGYxIC0gUEkgKiAyO1xuICAgIH1cbiAgICBpZiAoIXN3ZWVwX2ZsYWcgJiYgZjIgPiBmMSkge1xuICAgICAgZjIgPSBmMiAtIFBJICogMjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZjEgPSByZWN1cnNpdmVbMF07XG4gICAgZjIgPSByZWN1cnNpdmVbMV07XG4gICAgY3ggPSByZWN1cnNpdmVbMl07XG4gICAgY3kgPSByZWN1cnNpdmVbM107XG4gIH1cblxuICB2YXIgZGYgPSBmMiAtIGYxO1xuXG4gIGlmIChhYnMoZGYpID4gXzEyMCkge1xuICAgIHZhciBmMm9sZCA9IGYyLFxuICAgICAgICB4Mm9sZCA9IHgyLFxuICAgICAgICB5Mm9sZCA9IHkyO1xuXG4gICAgZjIgPSBmMSArIF8xMjAgKiAoc3dlZXBfZmxhZyAmJiBmMiA+IGYxID8gMSA6IC0xKTtcbiAgICB4MiA9IGN4ICsgcnggKiBtYXRoLmNvcyhmMik7XG4gICAgeTIgPSBjeSArIHJ5ICogbWF0aC5zaW4oZjIpO1xuICAgIHJlcyA9IGFyY1RvQ3VydmUoeDIsIHkyLCByeCwgcnksIGFuZ2xlLCAwLCBzd2VlcF9mbGFnLCB4Mm9sZCwgeTJvbGQsIFtmMiwgZjJvbGQsIGN4LCBjeV0pO1xuICB9XG5cbiAgZGYgPSBmMiAtIGYxO1xuXG4gIHZhciBjMSA9IG1hdGguY29zKGYxKSxcbiAgICAgIHMxID0gbWF0aC5zaW4oZjEpLFxuICAgICAgYzIgPSBtYXRoLmNvcyhmMiksXG4gICAgICBzMiA9IG1hdGguc2luKGYyKSxcbiAgICAgIHQgPSBtYXRoLnRhbihkZiAvIDQpLFxuICAgICAgaHggPSA0IC8gMyAqIHJ4ICogdCxcbiAgICAgIGh5ID0gNCAvIDMgKiByeSAqIHQsXG4gICAgICBtMSA9IFt4MSwgeTFdLFxuICAgICAgbTIgPSBbeDEgKyBoeCAqIHMxLCB5MSAtIGh5ICogYzFdLFxuICAgICAgbTMgPSBbeDIgKyBoeCAqIHMyLCB5MiAtIGh5ICogYzJdLFxuICAgICAgbTQgPSBbeDIsIHkyXTtcblxuICBtMlswXSA9IDIgKiBtMVswXSAtIG0yWzBdO1xuICBtMlsxXSA9IDIgKiBtMVsxXSAtIG0yWzFdO1xuXG4gIGlmIChyZWN1cnNpdmUpIHtcbiAgICByZXR1cm4gW20yLCBtMywgbTRdLmNvbmNhdChyZXMpO1xuICB9IGVsc2Uge1xuICAgIHJlcyA9IFttMiwgbTMsIG00XS5jb25jYXQocmVzKS5qb2luKCkuc3BsaXQoJywnKTtcbiAgICB2YXIgbmV3cmVzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSByZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgbmV3cmVzW2ldID0gaSAlIDIgPyByb3RhdGUocmVzW2kgLSAxXSwgcmVzW2ldLCByYWQpLnkgOiByb3RhdGUocmVzW2ldLCByZXNbaSArIDFdLCByYWQpLng7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld3JlcztcbiAgfVxufVxuXG4vLyBSZXR1cm5zIGJvdW5kaW5nIGJveCBvZiBjdWJpYyBiZXppZXIgY3VydmUuXG4vLyBTb3VyY2U6IGh0dHA6Ly9ibG9nLmhhY2tlcnMtY2FmZS5uZXQvMjAwOS8wNi9ob3ctdG8tY2FsY3VsYXRlLWJlemllci1jdXJ2ZXMtYm91bmRpbmcuaHRtbFxuLy8gT3JpZ2luYWwgdmVyc2lvbjogTklTSElPIEhpcm9rYXp1XG4vLyBNb2RpZmljYXRpb25zOiBodHRwczovL2dpdGh1Yi5jb20vdGltbzIyMzQ1XG5mdW5jdGlvbiBjdXJ2ZUJCb3goeDAsIHkwLCB4MSwgeTEsIHgyLCB5MiwgeDMsIHkzKSB7XG4gIHZhciB0dmFsdWVzID0gW10sXG4gICAgICBib3VuZHMgPSBbW10sIFtdXSxcbiAgICAgIGEsIGIsIGMsIHQsIHQxLCB0MiwgYjJhYywgc3FydGIyYWM7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAyOyArK2kpIHtcblxuICAgIGlmIChpID09IDApIHtcbiAgICAgIGIgPSA2ICogeDAgLSAxMiAqIHgxICsgNiAqIHgyO1xuICAgICAgYSA9IC0zICogeDAgKyA5ICogeDEgLSA5ICogeDIgKyAzICogeDM7XG4gICAgICBjID0gMyAqIHgxIC0gMyAqIHgwO1xuICAgIH0gZWxzZSB7XG4gICAgICBiID0gNiAqIHkwIC0gMTIgKiB5MSArIDYgKiB5MjtcbiAgICAgIGEgPSAtMyAqIHkwICsgOSAqIHkxIC0gOSAqIHkyICsgMyAqIHkzO1xuICAgICAgYyA9IDMgKiB5MSAtIDMgKiB5MDtcbiAgICB9XG5cbiAgICBpZiAoYWJzKGEpIDwgMWUtMTIpIHtcblxuICAgICAgaWYgKGFicyhiKSA8IDFlLTEyKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB0ID0gLWMgLyBiO1xuXG4gICAgICBpZiAoMCA8IHQgJiYgdCA8IDEpIHtcbiAgICAgICAgdHZhbHVlcy5wdXNoKHQpO1xuICAgICAgfVxuXG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBiMmFjID0gYiAqIGIgLSA0ICogYyAqIGE7XG4gICAgc3FydGIyYWMgPSBtYXRoLnNxcnQoYjJhYyk7XG5cbiAgICBpZiAoYjJhYyA8IDApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHQxID0gKC1iICsgc3FydGIyYWMpIC8gKDIgKiBhKTtcblxuICAgIGlmICgwIDwgdDEgJiYgdDEgPCAxKSB7XG4gICAgICB0dmFsdWVzLnB1c2godDEpO1xuICAgIH1cblxuICAgIHQyID0gKC1iIC0gc3FydGIyYWMpIC8gKDIgKiBhKTtcblxuICAgIGlmICgwIDwgdDIgJiYgdDIgPCAxKSB7XG4gICAgICB0dmFsdWVzLnB1c2godDIpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBqID0gdHZhbHVlcy5sZW5ndGgsXG4gICAgICBqbGVuID0gaixcbiAgICAgIG10O1xuXG4gIHdoaWxlIChqLS0pIHtcbiAgICB0ID0gdHZhbHVlc1tqXTtcbiAgICBtdCA9IDEgLSB0O1xuICAgIGJvdW5kc1swXVtqXSA9IChtdCAqIG10ICogbXQgKiB4MCkgKyAoMyAqIG10ICogbXQgKiB0ICogeDEpICsgKDMgKiBtdCAqIHQgKiB0ICogeDIpICsgKHQgKiB0ICogdCAqIHgzKTtcbiAgICBib3VuZHNbMV1bal0gPSAobXQgKiBtdCAqIG10ICogeTApICsgKDMgKiBtdCAqIG10ICogdCAqIHkxKSArICgzICogbXQgKiB0ICogdCAqIHkyKSArICh0ICogdCAqIHQgKiB5Myk7XG4gIH1cblxuICBib3VuZHNbMF1bamxlbl0gPSB4MDtcbiAgYm91bmRzWzFdW2psZW5dID0geTA7XG4gIGJvdW5kc1swXVtqbGVuICsgMV0gPSB4MztcbiAgYm91bmRzWzFdW2psZW4gKyAxXSA9IHkzO1xuICBib3VuZHNbMF0ubGVuZ3RoID0gYm91bmRzWzFdLmxlbmd0aCA9IGpsZW4gKyAyO1xuXG4gIHJldHVybiB7XG4gICAgeDA6IG1taW4uYXBwbHkoMCwgYm91bmRzWzBdKSxcbiAgICB5MDogbW1pbi5hcHBseSgwLCBib3VuZHNbMV0pLFxuICAgIHgxOiBtbWF4LmFwcGx5KDAsIGJvdW5kc1swXSksXG4gICAgeTE6IG1tYXguYXBwbHkoMCwgYm91bmRzWzFdKVxuICB9O1xufVxuXG5mdW5jdGlvbiBwYXRoVG9DdXJ2ZShwYXRoKSB7XG5cbiAgdmFyIHB0aCA9IHBhdGhzKHBhdGgpO1xuXG4gIC8vIHJldHVybiBjYWNoZWQgY3VydmUsIGlmIGV4aXN0aW5nXG4gIGlmIChwdGguY3VydmUpIHtcbiAgICByZXR1cm4gcGF0aENsb25lKHB0aC5jdXJ2ZSk7XG4gIH1cblxuICB2YXIgY3VydmVkUGF0aCA9IHBhdGhUb0Fic29sdXRlKHBhdGgpLFxuICAgICAgYXR0cnMgPSB7IHg6IDAsIHk6IDAsIGJ4OiAwLCBieTogMCwgWDogMCwgWTogMCwgcXg6IG51bGwsIHF5OiBudWxsIH0sXG4gICAgICBwcm9jZXNzUGF0aCA9IGZ1bmN0aW9uKHBhdGgsIGQsIHBhdGhDb21tYW5kKSB7XG4gICAgICAgIHZhciBueCwgbnk7XG5cbiAgICAgICAgaWYgKCFwYXRoKSB7XG4gICAgICAgICAgcmV0dXJuIFsnQycsIGQueCwgZC55LCBkLngsIGQueSwgZC54LCBkLnldO1xuICAgICAgICB9XG5cbiAgICAgICAgIShwYXRoWzBdIGluIHsgVDogMSwgUTogMSB9KSAmJiAoZC5xeCA9IGQucXkgPSBudWxsKTtcblxuICAgICAgICBzd2l0Y2ggKHBhdGhbMF0pIHtcbiAgICAgICAgY2FzZSAnTSc6XG4gICAgICAgICAgZC5YID0gcGF0aFsxXTtcbiAgICAgICAgICBkLlkgPSBwYXRoWzJdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICBwYXRoID0gWydDJ10uY29uY2F0KGFyY1RvQ3VydmUuYXBwbHkoMCwgW2QueCwgZC55XS5jb25jYXQocGF0aC5zbGljZSgxKSkpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgaWYgKHBhdGhDb21tYW5kID09ICdDJyB8fCBwYXRoQ29tbWFuZCA9PSAnUycpIHtcblxuICAgICAgICAgICAgLy8gSW4gJ1MnIGNhc2Ugd2UgaGF2ZSB0byB0YWtlIGludG8gYWNjb3VudCwgaWYgdGhlIHByZXZpb3VzIGNvbW1hbmQgaXMgQy9TLlxuICAgICAgICAgICAgbnggPSBkLnggKiAyIC0gZC5ieDtcblxuICAgICAgICAgICAgLy8gQW5kIHJlZmxlY3QgdGhlIHByZXZpb3VzXG4gICAgICAgICAgICBueSA9IGQueSAqIDIgLSBkLmJ5O1xuXG4gICAgICAgICAgICAvLyBjb21tYW5kJ3MgY29udHJvbCBwb2ludCByZWxhdGl2ZSB0byB0aGUgY3VycmVudCBwb2ludC5cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG5cbiAgICAgICAgICAgIC8vIG9yIHNvbWUgZWxzZSBvciBub3RoaW5nXG4gICAgICAgICAgICBueCA9IGQueDtcbiAgICAgICAgICAgIG55ID0gZC55O1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXRoID0gWydDJywgbngsIG55XS5jb25jYXQocGF0aC5zbGljZSgxKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1QnOlxuICAgICAgICAgIGlmIChwYXRoQ29tbWFuZCA9PSAnUScgfHwgcGF0aENvbW1hbmQgPT0gJ1QnKSB7XG5cbiAgICAgICAgICAgIC8vIEluICdUJyBjYXNlIHdlIGhhdmUgdG8gdGFrZSBpbnRvIGFjY291bnQsIGlmIHRoZSBwcmV2aW91cyBjb21tYW5kIGlzIFEvVC5cbiAgICAgICAgICAgIGQucXggPSBkLnggKiAyIC0gZC5xeDtcblxuICAgICAgICAgICAgLy8gQW5kIG1ha2UgYSByZWZsZWN0aW9uIHNpbWlsYXJcbiAgICAgICAgICAgIGQucXkgPSBkLnkgKiAyIC0gZC5xeTtcblxuICAgICAgICAgICAgLy8gdG8gY2FzZSAnUycuXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgICAvLyBvciBzb21ldGhpbmcgZWxzZSBvciBub3RoaW5nXG4gICAgICAgICAgICBkLnF4ID0gZC54O1xuICAgICAgICAgICAgZC5xeSA9IGQueTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGF0aCA9IFsnQyddLmNvbmNhdChxdWJpY1RvQ3VydmUoZC54LCBkLnksIGQucXgsIGQucXksIHBhdGhbMV0sIHBhdGhbMl0pKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnUSc6XG4gICAgICAgICAgZC5xeCA9IHBhdGhbMV07XG4gICAgICAgICAgZC5xeSA9IHBhdGhbMl07XG4gICAgICAgICAgcGF0aCA9IFsnQyddLmNvbmNhdChxdWJpY1RvQ3VydmUoZC54LCBkLnksIHBhdGhbMV0sIHBhdGhbMl0sIHBhdGhbM10sIHBhdGhbNF0pKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTCc6XG4gICAgICAgICAgcGF0aCA9IFsnQyddLmNvbmNhdChsaW5lVG9DdXJ2ZShkLngsIGQueSwgcGF0aFsxXSwgcGF0aFsyXSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdIJzpcbiAgICAgICAgICBwYXRoID0gWydDJ10uY29uY2F0KGxpbmVUb0N1cnZlKGQueCwgZC55LCBwYXRoWzFdLCBkLnkpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnVic6XG4gICAgICAgICAgcGF0aCA9IFsnQyddLmNvbmNhdChsaW5lVG9DdXJ2ZShkLngsIGQueSwgZC54LCBwYXRoWzFdKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1onOlxuICAgICAgICAgIHBhdGggPSBbJ0MnXS5jb25jYXQobGluZVRvQ3VydmUoZC54LCBkLnksIGQuWCwgZC5ZKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgIH0sXG5cbiAgICAgIGZpeEFyYyA9IGZ1bmN0aW9uKHBwLCBpKSB7XG5cbiAgICAgICAgaWYgKHBwW2ldLmxlbmd0aCA+IDcpIHtcbiAgICAgICAgICBwcFtpXS5zaGlmdCgpO1xuICAgICAgICAgIHZhciBwaSA9IHBwW2ldO1xuXG4gICAgICAgICAgd2hpbGUgKHBpLmxlbmd0aCkge1xuICAgICAgICAgICAgcGF0aENvbW1hbmRzW2ldID0gJ0EnOyAvLyBpZiBjcmVhdGVkIG11bHRpcGxlIEM6cywgdGhlaXIgb3JpZ2luYWwgc2VnIGlzIHNhdmVkXG4gICAgICAgICAgICBwcC5zcGxpY2UoaSsrLCAwLCBbJ0MnXS5jb25jYXQocGkuc3BsaWNlKDAsIDYpKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcHAuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIGlpID0gY3VydmVkUGF0aC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIHBhdGhDb21tYW5kcyA9IFtdLCAvLyBwYXRoIGNvbW1hbmRzIG9mIG9yaWdpbmFsIHBhdGggcFxuICAgICAgcGZpcnN0ID0gJycsIC8vIHRlbXBvcmFyeSBob2xkZXIgZm9yIG9yaWdpbmFsIHBhdGggY29tbWFuZFxuICAgICAgcGF0aENvbW1hbmQgPSAnJzsgLy8gaG9sZGVyIGZvciBwcmV2aW91cyBwYXRoIGNvbW1hbmQgb2Ygb3JpZ2luYWwgcGF0aFxuXG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IGN1cnZlZFBhdGgubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgIGN1cnZlZFBhdGhbaV0gJiYgKHBmaXJzdCA9IGN1cnZlZFBhdGhbaV1bMF0pOyAvLyBzYXZlIGN1cnJlbnQgcGF0aCBjb21tYW5kXG5cbiAgICBpZiAocGZpcnN0ICE9ICdDJykgLy8gQyBpcyBub3Qgc2F2ZWQgeWV0LCBiZWNhdXNlIGl0IG1heSBiZSByZXN1bHQgb2YgY29udmVyc2lvblxuICAgIHtcbiAgICAgIHBhdGhDb21tYW5kc1tpXSA9IHBmaXJzdDsgLy8gU2F2ZSBjdXJyZW50IHBhdGggY29tbWFuZFxuICAgICAgaSAmJiAocGF0aENvbW1hbmQgPSBwYXRoQ29tbWFuZHNbaSAtIDFdKTsgLy8gR2V0IHByZXZpb3VzIHBhdGggY29tbWFuZCBwYXRoQ29tbWFuZFxuICAgIH1cbiAgICBjdXJ2ZWRQYXRoW2ldID0gcHJvY2Vzc1BhdGgoY3VydmVkUGF0aFtpXSwgYXR0cnMsIHBhdGhDb21tYW5kKTsgLy8gUHJldmlvdXMgcGF0aCBjb21tYW5kIGlzIGlucHV0dGVkIHRvIHByb2Nlc3NQYXRoXG5cbiAgICBpZiAocGF0aENvbW1hbmRzW2ldICE9ICdBJyAmJiBwZmlyc3QgPT0gJ0MnKSBwYXRoQ29tbWFuZHNbaV0gPSAnQyc7IC8vIEEgaXMgdGhlIG9ubHkgY29tbWFuZFxuICAgIC8vIHdoaWNoIG1heSBwcm9kdWNlIG11bHRpcGxlIEM6c1xuICAgIC8vIHNvIHdlIGhhdmUgdG8gbWFrZSBzdXJlIHRoYXQgQyBpcyBhbHNvIEMgaW4gb3JpZ2luYWwgcGF0aFxuXG4gICAgZml4QXJjKGN1cnZlZFBhdGgsIGkpOyAvLyBmaXhBcmMgYWRkcyBhbHNvIHRoZSByaWdodCBhbW91bnQgb2YgQTpzIHRvIHBhdGhDb21tYW5kc1xuXG4gICAgdmFyIHNlZyA9IGN1cnZlZFBhdGhbaV0sXG4gICAgICAgIHNlZ2xlbiA9IHNlZy5sZW5ndGg7XG5cbiAgICBhdHRycy54ID0gc2VnW3NlZ2xlbiAtIDJdO1xuICAgIGF0dHJzLnkgPSBzZWdbc2VnbGVuIC0gMV07XG4gICAgYXR0cnMuYnggPSB0b0Zsb2F0KHNlZ1tzZWdsZW4gLSA0XSkgfHwgYXR0cnMueDtcbiAgICBhdHRycy5ieSA9IHRvRmxvYXQoc2VnW3NlZ2xlbiAtIDNdKSB8fCBhdHRycy55O1xuICB9XG5cbiAgLy8gY2FjaGUgY3VydmVcbiAgcHRoLmN1cnZlID0gcGF0aENsb25lKGN1cnZlZFBhdGgpO1xuXG4gIHJldHVybiBjdXJ2ZWRQYXRoO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZpbmRQYXRoSW50ZXJzZWN0aW9ucztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../bpmn-io/diagram-js/node_modules/path-intersection/intersect.js\n");

/***/ }),

/***/ "../bpmn-io/bpmn-js-color-picker/colors/ColorContextPadProvider.js":
/*!*************************************************************************!*\
  !*** ../bpmn-io/bpmn-js-color-picker/colors/ColorContextPadProvider.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ColorContextPadProvider)\n/* harmony export */ });\n/* harmony import */ var bpmn_js_lib_draw_BpmnRenderUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bpmn-js/lib/draw/BpmnRenderUtil */ \"../bpmn-io/bpmn-js-color-picker/node_modules/bpmn-js/lib/util/ModelUtil.js\");\n\nfunction ColorContextPadProvider(contextPad, popupMenu, canvas, translate) {\n  this._contextPad = contextPad;\n  this._popupMenu = popupMenu;\n  this._canvas = canvas;\n  this._translate = translate;\n  contextPad.registerProvider(this);\n}\nColorContextPadProvider.$inject = ['contextPad', 'popupMenu', 'canvas', 'translate'];\nColorContextPadProvider.prototype.getContextPadEntries = function (element) {\n  return this._createPopupAction([element]);\n};\nColorContextPadProvider.prototype.getMultiElementContextPadEntries = function (elements) {\n  return this._createPopupAction(elements);\n};\nColorContextPadProvider.prototype._createPopupAction = function (elements) {\n  if (elements.length === 1 && elements[0].labelTarget) {\n    console.log('return no entries');\n    return {};\n  } else {\n    console.log('return entries');\n  }\n  const canvas = this._canvas;\n  const translate = this._translate;\n  const contextPad = this._contextPad;\n  const popupMenu = this._popupMenu;\n  return {\n    'set-color': {\n      group: 'edit',\n      className: 'bpmn-icon-color',\n      title: translate('Set Color'),\n      html: `<div class=\"entry\">${getSvg(elements)}</div>`,\n      action: {\n        click: (event, element) => {\n          // get start popup draw start position\n          var position = {\n            ...getStartPosition(canvas, contextPad, elements),\n            cursor: {\n              x: event.x,\n              y: event.y\n            }\n          };\n\n          // open new color-picker popup\n          popupMenu.open(elements, 'color-picker', position, {\n            orientation: 'horizontal',\n            separators: true\n          });\n        }\n      }\n    }\n  };\n};\n\n// helpers //////////////////////\n\nconst WHITE = '#ffffff',\n  BLACK = '#161616';\nfunction getColors(element) {\n  const di = (0,bpmn_js_lib_draw_BpmnRenderUtil__WEBPACK_IMPORTED_MODULE_0__.getDi)(element);\n  return {\n    fill: di.get('fill') || WHITE,\n    stroke: di.get('stroke') || BLACK\n  };\n}\nfunction getSvg(elements) {\n  if (elements.length === 1) {\n    const {\n      fill,\n      stroke\n    } = getColors(elements[0]);\n    return `<svg width=\"24\" height=\"24\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <circle cx=\"8\" cy=\"8\" r=\"7\" fill=\"${fill}\" stroke=\"${stroke}\" stroke-width=\"2\" />\n    </svg>\n    `;\n  }\n  return `<svg width=\"24\" height=\"24\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <circle cx=\"8\" cy=\"8\" r=\"7\" fill=\"${WHITE}\" stroke=\"${BLACK} stroke-width=\"2\" />\n  </svg>\n  `;\n}\nfunction getStartPosition(canvas, contextPad, elements) {\n  const pad = contextPad.getPad(elements).html;\n  console.log(pad);\n  const padRect = pad.getBoundingClientRect();\n  console.log(padRect);\n  const pos = {\n    x: padRect.left,\n    y: padRect.top - 50\n  };\n  return pos;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vYnBtbi1pby9icG1uLWpzLWNvbG9yLXBpY2tlci9jb2xvcnMvQ29sb3JDb250ZXh0UGFkUHJvdmlkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBd0Q7QUFFekMsU0FBU0MsdUJBQXVCQSxDQUFDQyxVQUFVLEVBQUVDLFNBQVMsRUFBRUMsTUFBTSxFQUFFQyxTQUFTLEVBQUU7RUFFeEYsSUFBSSxDQUFDQyxXQUFXLEdBQUdKLFVBQVU7RUFDN0IsSUFBSSxDQUFDSyxVQUFVLEdBQUdKLFNBQVM7RUFDM0IsSUFBSSxDQUFDSyxPQUFPLEdBQUdKLE1BQU07RUFDckIsSUFBSSxDQUFDSyxVQUFVLEdBQUdKLFNBQVM7RUFFM0JILFVBQVUsQ0FBQ1EsZ0JBQWdCLENBQUMsSUFBSSxDQUFDO0FBQ25DO0FBR0FULHVCQUF1QixDQUFDVSxPQUFPLEdBQUcsQ0FDaEMsWUFBWSxFQUNaLFdBQVcsRUFDWCxRQUFRLEVBQ1IsV0FBVyxDQUNaO0FBR0RWLHVCQUF1QixDQUFDVyxTQUFTLENBQUNDLG9CQUFvQixHQUFHLFVBQVNDLE9BQU8sRUFBRTtFQUN6RSxPQUFPLElBQUksQ0FBQ0Msa0JBQWtCLENBQUMsQ0FBRUQsT0FBTyxDQUFFLENBQUM7QUFDN0MsQ0FBQztBQUdEYix1QkFBdUIsQ0FBQ1csU0FBUyxDQUFDSSxnQ0FBZ0MsR0FBRyxVQUFTQyxRQUFRLEVBQUU7RUFFdEYsT0FBTyxJQUFJLENBQUNGLGtCQUFrQixDQUFDRSxRQUFRLENBQUM7QUFDMUMsQ0FBQztBQUVEaEIsdUJBQXVCLENBQUNXLFNBQVMsQ0FBQ0csa0JBQWtCLEdBQUcsVUFBU0UsUUFBUSxFQUFFO0VBQ3hFLElBQUlBLFFBQVEsQ0FBQ0MsTUFBTSxLQUFLLENBQUMsSUFBSUQsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDRSxXQUFXLEVBQUU7SUFDcERDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG1CQUFtQixDQUFDO0lBRWhDLE9BQU8sQ0FBQyxDQUFDO0VBQ1gsQ0FBQyxNQUFNO0lBQ0xELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGdCQUFnQixDQUFDO0VBQy9CO0VBRUEsTUFBTWpCLE1BQU0sR0FBRyxJQUFJLENBQUNJLE9BQU87RUFDM0IsTUFBTUgsU0FBUyxHQUFHLElBQUksQ0FBQ0ksVUFBVTtFQUNqQyxNQUFNUCxVQUFVLEdBQUcsSUFBSSxDQUFDSSxXQUFXO0VBQ25DLE1BQU1ILFNBQVMsR0FBRyxJQUFJLENBQUNJLFVBQVU7RUFFakMsT0FBTztJQUNMLFdBQVcsRUFBRTtNQUNYZSxLQUFLLEVBQUUsTUFBTTtNQUNiQyxTQUFTLEVBQUUsaUJBQWlCO01BQzVCQyxLQUFLLEVBQUVuQixTQUFTLENBQUMsV0FBVyxDQUFDO01BQzdCb0IsSUFBSSxFQUFHLHNCQUFxQkMsTUFBTSxDQUFDVCxRQUFRLENBQUUsUUFBTztNQUNwRFUsTUFBTSxFQUFFO1FBQ05DLEtBQUssRUFBRUEsQ0FBQ0MsS0FBSyxFQUFFZixPQUFPLEtBQUs7VUFFekI7VUFDQSxJQUFJZ0IsUUFBUSxHQUFHO1lBQ2IsR0FBR0MsZ0JBQWdCLENBQUMzQixNQUFNLEVBQUVGLFVBQVUsRUFBRWUsUUFBUSxDQUFDO1lBQ2pEZSxNQUFNLEVBQUU7Y0FDTkMsQ0FBQyxFQUFFSixLQUFLLENBQUNJLENBQUM7Y0FDVkMsQ0FBQyxFQUFFTCxLQUFLLENBQUNLO1lBQ1g7VUFDRixDQUFDOztVQUVEO1VBQ0EvQixTQUFTLENBQUNnQyxJQUFJLENBQUNsQixRQUFRLEVBQUUsY0FBYyxFQUFFYSxRQUFRLEVBQUU7WUFDakRNLFdBQVcsRUFBRSxZQUFZO1lBQ3pCQyxVQUFVLEVBQUU7VUFDZCxDQUFDLENBQUM7UUFDSjtNQUNGO0lBQ0Y7RUFDRixDQUFDO0FBRUgsQ0FBQzs7QUFHRDs7QUFFQSxNQUFNQyxLQUFLLEdBQUcsU0FBUztFQUNqQkMsS0FBSyxHQUFHLFNBQVM7QUFFdkIsU0FBU0MsU0FBU0EsQ0FBQzFCLE9BQU8sRUFBRTtFQUMxQixNQUFNMkIsRUFBRSxHQUFHekMsc0VBQUssQ0FBQ2MsT0FBTyxDQUFDO0VBRXpCLE9BQU87SUFDTDRCLElBQUksRUFBRUQsRUFBRSxDQUFDRSxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUlMLEtBQUs7SUFDN0JNLE1BQU0sRUFBRUgsRUFBRSxDQUFDRSxHQUFHLENBQUMsUUFBUSxDQUFDLElBQUlKO0VBQzlCLENBQUM7QUFDSDtBQUVBLFNBQVNiLE1BQU1BLENBQUNULFFBQVEsRUFBRTtFQUN4QixJQUFJQSxRQUFRLENBQUNDLE1BQU0sS0FBSyxDQUFDLEVBQUU7SUFDekIsTUFBTTtNQUFFd0IsSUFBSTtNQUFFRTtJQUFPLENBQUMsR0FBR0osU0FBUyxDQUFDdkIsUUFBUSxDQUFFLENBQUMsQ0FBRSxDQUFDO0lBRWpELE9BQVE7QUFDWiwwQ0FBMkN5QixJQUFNLGFBQWFFLE1BQVE7QUFDdEU7QUFDQSxLQUFLO0VBQ0g7RUFFQSxPQUFRO0FBQ1Ysd0NBQXlDTixLQUFPLGFBQWFDLEtBQU87QUFDcEU7QUFDQSxHQUFHO0FBQ0g7QUFFQSxTQUFTUixnQkFBZ0JBLENBQUMzQixNQUFNLEVBQUVGLFVBQVUsRUFBRWUsUUFBUSxFQUFFO0VBQ3RELE1BQU00QixHQUFHLEdBQUczQyxVQUFVLENBQUM0QyxNQUFNLENBQUM3QixRQUFRLENBQUMsQ0FBQ1EsSUFBSTtFQUU1Q0wsT0FBTyxDQUFDQyxHQUFHLENBQUN3QixHQUFHLENBQUM7RUFFaEIsTUFBTUUsT0FBTyxHQUFHRixHQUFHLENBQUNHLHFCQUFxQixDQUFDLENBQUM7RUFFM0M1QixPQUFPLENBQUNDLEdBQUcsQ0FBQzBCLE9BQU8sQ0FBQztFQUVwQixNQUFNRSxHQUFHLEdBQUc7SUFDVmhCLENBQUMsRUFBRWMsT0FBTyxDQUFDRyxJQUFJO0lBQ2ZoQixDQUFDLEVBQUVhLE9BQU8sQ0FBQ0ksR0FBRyxHQUFHO0VBQ25CLENBQUM7RUFFRCxPQUFPRixHQUFHO0FBQ1oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZGF5cy0yMDIzLy4uL2JwbW4taW8vYnBtbi1qcy1jb2xvci1waWNrZXIvY29sb3JzL0NvbG9yQ29udGV4dFBhZFByb3ZpZGVyLmpzPzI5YWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RGkgfSBmcm9tICdicG1uLWpzL2xpYi9kcmF3L0JwbW5SZW5kZXJVdGlsJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbG9yQ29udGV4dFBhZFByb3ZpZGVyKGNvbnRleHRQYWQsIHBvcHVwTWVudSwgY2FudmFzLCB0cmFuc2xhdGUpIHtcclxuXHJcbiAgdGhpcy5fY29udGV4dFBhZCA9IGNvbnRleHRQYWQ7XHJcbiAgdGhpcy5fcG9wdXBNZW51ID0gcG9wdXBNZW51O1xyXG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcclxuICB0aGlzLl90cmFuc2xhdGUgPSB0cmFuc2xhdGU7XHJcblxyXG4gIGNvbnRleHRQYWQucmVnaXN0ZXJQcm92aWRlcih0aGlzKTtcclxufVxyXG5cclxuXHJcbkNvbG9yQ29udGV4dFBhZFByb3ZpZGVyLiRpbmplY3QgPSBbXHJcbiAgJ2NvbnRleHRQYWQnLFxyXG4gICdwb3B1cE1lbnUnLFxyXG4gICdjYW52YXMnLFxyXG4gICd0cmFuc2xhdGUnXHJcbl07XHJcblxyXG5cclxuQ29sb3JDb250ZXh0UGFkUHJvdmlkZXIucHJvdG90eXBlLmdldENvbnRleHRQYWRFbnRyaWVzID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gIHJldHVybiB0aGlzLl9jcmVhdGVQb3B1cEFjdGlvbihbIGVsZW1lbnQgXSk7XHJcbn07XHJcblxyXG5cclxuQ29sb3JDb250ZXh0UGFkUHJvdmlkZXIucHJvdG90eXBlLmdldE11bHRpRWxlbWVudENvbnRleHRQYWRFbnRyaWVzID0gZnVuY3Rpb24oZWxlbWVudHMpIHtcclxuXHJcbiAgcmV0dXJuIHRoaXMuX2NyZWF0ZVBvcHVwQWN0aW9uKGVsZW1lbnRzKTtcclxufTtcclxuXHJcbkNvbG9yQ29udGV4dFBhZFByb3ZpZGVyLnByb3RvdHlwZS5fY3JlYXRlUG9wdXBBY3Rpb24gPSBmdW5jdGlvbihlbGVtZW50cykge1xyXG4gIGlmIChlbGVtZW50cy5sZW5ndGggPT09IDEgJiYgZWxlbWVudHNbMF0ubGFiZWxUYXJnZXQpIHtcclxuICAgIGNvbnNvbGUubG9nKCdyZXR1cm4gbm8gZW50cmllcycpO1xyXG5cclxuICAgIHJldHVybiB7fTtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc29sZS5sb2coJ3JldHVybiBlbnRyaWVzJyk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBjYW52YXMgPSB0aGlzLl9jYW52YXM7XHJcbiAgY29uc3QgdHJhbnNsYXRlID0gdGhpcy5fdHJhbnNsYXRlO1xyXG4gIGNvbnN0IGNvbnRleHRQYWQgPSB0aGlzLl9jb250ZXh0UGFkO1xyXG4gIGNvbnN0IHBvcHVwTWVudSA9IHRoaXMuX3BvcHVwTWVudTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgICdzZXQtY29sb3InOiB7XHJcbiAgICAgIGdyb3VwOiAnZWRpdCcsXHJcbiAgICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1jb2xvcicsXHJcbiAgICAgIHRpdGxlOiB0cmFuc2xhdGUoJ1NldCBDb2xvcicpLFxyXG4gICAgICBodG1sOiBgPGRpdiBjbGFzcz1cImVudHJ5XCI+JHtnZXRTdmcoZWxlbWVudHMpfTwvZGl2PmAsXHJcbiAgICAgIGFjdGlvbjoge1xyXG4gICAgICAgIGNsaWNrOiAoZXZlbnQsIGVsZW1lbnQpID0+IHtcclxuXHJcbiAgICAgICAgICAvLyBnZXQgc3RhcnQgcG9wdXAgZHJhdyBzdGFydCBwb3NpdGlvblxyXG4gICAgICAgICAgdmFyIHBvc2l0aW9uID0ge1xyXG4gICAgICAgICAgICAuLi5nZXRTdGFydFBvc2l0aW9uKGNhbnZhcywgY29udGV4dFBhZCwgZWxlbWVudHMpLFxyXG4gICAgICAgICAgICBjdXJzb3I6IHtcclxuICAgICAgICAgICAgICB4OiBldmVudC54LFxyXG4gICAgICAgICAgICAgIHk6IGV2ZW50LnlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAvLyBvcGVuIG5ldyBjb2xvci1waWNrZXIgcG9wdXBcclxuICAgICAgICAgIHBvcHVwTWVudS5vcGVuKGVsZW1lbnRzLCAnY29sb3ItcGlja2VyJywgcG9zaXRpb24sIHtcclxuICAgICAgICAgICAgb3JpZW50YXRpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgICAgICAgc2VwYXJhdG9yczogdHJ1ZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbn07XHJcblxyXG5cclxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5jb25zdCBXSElURSA9ICcjZmZmZmZmJyxcclxuICAgICAgQkxBQ0sgPSAnIzE2MTYxNic7XHJcblxyXG5mdW5jdGlvbiBnZXRDb2xvcnMoZWxlbWVudCkge1xyXG4gIGNvbnN0IGRpID0gZ2V0RGkoZWxlbWVudCk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBmaWxsOiBkaS5nZXQoJ2ZpbGwnKSB8fCBXSElURSxcclxuICAgIHN0cm9rZTogZGkuZ2V0KCdzdHJva2UnKSB8fCBCTEFDS1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0U3ZnKGVsZW1lbnRzKSB7XHJcbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgY29uc3QgeyBmaWxsLCBzdHJva2UgfSA9IGdldENvbG9ycyhlbGVtZW50c1sgMCBdKTtcclxuXHJcbiAgICByZXR1cm4gYDxzdmcgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAxNiAxNlwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxyXG4gICAgICA8Y2lyY2xlIGN4PVwiOFwiIGN5PVwiOFwiIHI9XCI3XCIgZmlsbD1cIiR7IGZpbGwgfVwiIHN0cm9rZT1cIiR7IHN0cm9rZSB9XCIgc3Ryb2tlLXdpZHRoPVwiMlwiIC8+XHJcbiAgICA8L3N2Zz5cclxuICAgIGBcclxuICB9XHJcblxyXG4gIHJldHVybiBgPHN2ZyB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDE2IDE2XCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XHJcbiAgICA8Y2lyY2xlIGN4PVwiOFwiIGN5PVwiOFwiIHI9XCI3XCIgZmlsbD1cIiR7IFdISVRFIH1cIiBzdHJva2U9XCIkeyBCTEFDSyB9IHN0cm9rZS13aWR0aD1cIjJcIiAvPlxyXG4gIDwvc3ZnPlxyXG4gIGBcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0U3RhcnRQb3NpdGlvbihjYW52YXMsIGNvbnRleHRQYWQsIGVsZW1lbnRzKSB7XHJcbiAgY29uc3QgcGFkID0gY29udGV4dFBhZC5nZXRQYWQoZWxlbWVudHMpLmh0bWw7XHJcblxyXG4gIGNvbnNvbGUubG9nKHBhZCk7XHJcblxyXG4gIGNvbnN0IHBhZFJlY3QgPSBwYWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gIGNvbnNvbGUubG9nKHBhZFJlY3QpO1xyXG5cclxuICBjb25zdCBwb3MgPSB7XHJcbiAgICB4OiBwYWRSZWN0LmxlZnQsXHJcbiAgICB5OiBwYWRSZWN0LnRvcCAtIDUwXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHBvcztcclxufSJdLCJuYW1lcyI6WyJnZXREaSIsIkNvbG9yQ29udGV4dFBhZFByb3ZpZGVyIiwiY29udGV4dFBhZCIsInBvcHVwTWVudSIsImNhbnZhcyIsInRyYW5zbGF0ZSIsIl9jb250ZXh0UGFkIiwiX3BvcHVwTWVudSIsIl9jYW52YXMiLCJfdHJhbnNsYXRlIiwicmVnaXN0ZXJQcm92aWRlciIsIiRpbmplY3QiLCJwcm90b3R5cGUiLCJnZXRDb250ZXh0UGFkRW50cmllcyIsImVsZW1lbnQiLCJfY3JlYXRlUG9wdXBBY3Rpb24iLCJnZXRNdWx0aUVsZW1lbnRDb250ZXh0UGFkRW50cmllcyIsImVsZW1lbnRzIiwibGVuZ3RoIiwibGFiZWxUYXJnZXQiLCJjb25zb2xlIiwibG9nIiwiZ3JvdXAiLCJjbGFzc05hbWUiLCJ0aXRsZSIsImh0bWwiLCJnZXRTdmciLCJhY3Rpb24iLCJjbGljayIsImV2ZW50IiwicG9zaXRpb24iLCJnZXRTdGFydFBvc2l0aW9uIiwiY3Vyc29yIiwieCIsInkiLCJvcGVuIiwib3JpZW50YXRpb24iLCJzZXBhcmF0b3JzIiwiV0hJVEUiLCJCTEFDSyIsImdldENvbG9ycyIsImRpIiwiZmlsbCIsImdldCIsInN0cm9rZSIsInBhZCIsImdldFBhZCIsInBhZFJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJwb3MiLCJsZWZ0IiwidG9wIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../bpmn-io/bpmn-js-color-picker/colors/ColorContextPadProvider.js\n");

/***/ }),

/***/ "../bpmn-io/bpmn-js-color-picker/colors/ColorPopupProvider.js":
/*!********************************************************************!*\
  !*** ../bpmn-io/bpmn-js-color-picker/colors/ColorPopupProvider.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ColorPopupProvider)\n/* harmony export */ });\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dom */ \"../bpmn-io/bpmn-js-color-picker/node_modules/min-dom/dist/index.esm.js\");\n\nconst COLORS = [{\n  label: 'Default',\n  fill: undefined,\n  stroke: undefined\n}, {\n  label: 'Blue',\n  fill: '#BBDEFB',\n  stroke: '#0D4372'\n}, {\n  label: 'Orange',\n  fill: '#FFE0B2',\n  stroke: '#6B3C00'\n}, {\n  label: 'Green',\n  fill: '#C8E6C9',\n  stroke: '#205022'\n}, {\n  label: 'Red',\n  fill: '#FFCDD2',\n  stroke: '#831311'\n}, {\n  label: 'Purple',\n  fill: '#E1BEE7',\n  stroke: '#5B176D'\n}];\nfunction ColorPopupProvider(config, bpmnRendererConfig, popupMenu, modeling, translate) {\n  this._popupMenu = popupMenu;\n  this._modeling = modeling;\n  this._translate = translate;\n  this._colors = config && config.colors || COLORS;\n  this._defaultFillColor = bpmnRendererConfig && bpmnRendererConfig.defaultFillColor || 'white';\n  this._defaultStrokeColor = bpmnRendererConfig && bpmnRendererConfig.defaultStrokeColor || 'rgb(34, 36, 42)';\n  this._popupMenu.registerProvider('color-picker', this);\n}\nColorPopupProvider.$inject = ['config.colorPicker', 'config.bpmnRenderer', 'popupMenu', 'modeling', 'translate'];\nColorPopupProvider.prototype.getEntries = function (elements) {\n  var self = this;\n  var colorIcon = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.domify)(`\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" height=\"100%\">\n      <circle cx=\"8\" cy=\"8\" r=\"7\" fill=\"var(--fill-color)\" stroke=\"var(--stroke-color)\" stroke-width=\"2\" />\n    </svg>\n  `);\n  var entries = this._colors.map(function (color) {\n    colorIcon.style.setProperty('--fill-color', color.fill || self._defaultFillColor);\n    colorIcon.style.setProperty('--stroke-color', color.stroke || self._defaultStrokeColor);\n    return {\n      group: color.label === 'Default' ? {\n        id: 'default',\n        name: 'Default'\n      } : {\n        id: 'custom',\n        name: 'Custom'\n      },\n      title: self._translate(color.label),\n      id: color.label.toLowerCase() + '-color',\n      imageUrl: `data:image/svg+xml;utf8,${encodeURIComponent(colorIcon.outerHTML)}`,\n      action: createAction(self._modeling, elements, color)\n    };\n  });\n  return entries;\n};\nfunction createAction(modeling, element, color) {\n  return function () {\n    modeling.setColor(element, color);\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vYnBtbi1pby9icG1uLWpzLWNvbG9yLXBpY2tlci9jb2xvcnMvQ29sb3JQb3B1cFByb3ZpZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBRWlCO0FBRWpCLE1BQU1DLE1BQU0sR0FBRyxDQUFFO0VBQ2ZDLEtBQUssRUFBRSxTQUFTO0VBQ2hCQyxJQUFJLEVBQUVDLFNBQVM7RUFDZkMsTUFBTSxFQUFFRDtBQUNWLENBQUMsRUFBRTtFQUNERixLQUFLLEVBQUUsTUFBTTtFQUNiQyxJQUFJLEVBQUUsU0FBUztFQUNmRSxNQUFNLEVBQUU7QUFDVixDQUFDLEVBQUU7RUFDREgsS0FBSyxFQUFFLFFBQVE7RUFDZkMsSUFBSSxFQUFFLFNBQVM7RUFDZkUsTUFBTSxFQUFFO0FBQ1YsQ0FBQyxFQUFFO0VBQ0RILEtBQUssRUFBRSxPQUFPO0VBQ2RDLElBQUksRUFBRSxTQUFTO0VBQ2ZFLE1BQU0sRUFBRTtBQUNWLENBQUMsRUFBRTtFQUNESCxLQUFLLEVBQUUsS0FBSztFQUNaQyxJQUFJLEVBQUUsU0FBUztFQUNmRSxNQUFNLEVBQUU7QUFDVixDQUFDLEVBQUU7RUFDREgsS0FBSyxFQUFFLFFBQVE7RUFDZkMsSUFBSSxFQUFFLFNBQVM7RUFDZkUsTUFBTSxFQUFFO0FBQ1YsQ0FBQyxDQUFFO0FBR1ksU0FBU0Msa0JBQWtCQSxDQUFDQyxNQUFNLEVBQUVDLGtCQUFrQixFQUFFQyxTQUFTLEVBQUVDLFFBQVEsRUFBRUMsU0FBUyxFQUFFO0VBQ3JHLElBQUksQ0FBQ0MsVUFBVSxHQUFHSCxTQUFTO0VBQzNCLElBQUksQ0FBQ0ksU0FBUyxHQUFHSCxRQUFRO0VBQ3pCLElBQUksQ0FBQ0ksVUFBVSxHQUFHSCxTQUFTO0VBRTNCLElBQUksQ0FBQ0ksT0FBTyxHQUFHUixNQUFNLElBQUlBLE1BQU0sQ0FBQ1MsTUFBTSxJQUFJZixNQUFNO0VBQ2hELElBQUksQ0FBQ2dCLGlCQUFpQixHQUFHVCxrQkFBa0IsSUFBSUEsa0JBQWtCLENBQUNVLGdCQUFnQixJQUFJLE9BQU87RUFDN0YsSUFBSSxDQUFDQyxtQkFBbUIsR0FBR1gsa0JBQWtCLElBQUlBLGtCQUFrQixDQUFDWSxrQkFBa0IsSUFBSSxpQkFBaUI7RUFFM0csSUFBSSxDQUFDUixVQUFVLENBQUNTLGdCQUFnQixDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUM7QUFDeEQ7QUFHQWYsa0JBQWtCLENBQUNnQixPQUFPLEdBQUcsQ0FDM0Isb0JBQW9CLEVBQ3BCLHFCQUFxQixFQUNyQixXQUFXLEVBQ1gsVUFBVSxFQUNWLFdBQVcsQ0FDWjtBQUdEaEIsa0JBQWtCLENBQUNpQixTQUFTLENBQUNDLFVBQVUsR0FBRyxVQUFTQyxRQUFRLEVBQUU7RUFDM0QsSUFBSUMsSUFBSSxHQUFHLElBQUk7RUFFZixJQUFJQyxTQUFTLEdBQUczQiwrQ0FBTSxDQUFFO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEdBQUcsQ0FBQztFQUVGLElBQUk0QixPQUFPLEdBQUcsSUFBSSxDQUFDYixPQUFPLENBQUNjLEdBQUcsQ0FBQyxVQUFTQyxLQUFLLEVBQUU7SUFFN0NILFNBQVMsQ0FBQ0ksS0FBSyxDQUFDQyxXQUFXLENBQUMsY0FBYyxFQUFFRixLQUFLLENBQUMzQixJQUFJLElBQUl1QixJQUFJLENBQUNULGlCQUFpQixDQUFDO0lBQ2pGVSxTQUFTLENBQUNJLEtBQUssQ0FBQ0MsV0FBVyxDQUFDLGdCQUFnQixFQUFFRixLQUFLLENBQUN6QixNQUFNLElBQUlxQixJQUFJLENBQUNQLG1CQUFtQixDQUFDO0lBRXZGLE9BQU87TUFDTGMsS0FBSyxFQUFFSCxLQUFLLENBQUM1QixLQUFLLEtBQUssU0FBUyxHQUM1QjtRQUNBZ0MsRUFBRSxFQUFFLFNBQVM7UUFDYkMsSUFBSSxFQUFFO01BQ1IsQ0FBQyxHQUNDO1FBQ0FELEVBQUUsRUFBRSxRQUFRO1FBQ1pDLElBQUksRUFBRTtNQUNSLENBQUM7TUFDSEMsS0FBSyxFQUFFVixJQUFJLENBQUNaLFVBQVUsQ0FBQ2dCLEtBQUssQ0FBQzVCLEtBQUssQ0FBQztNQUNuQ2dDLEVBQUUsRUFBRUosS0FBSyxDQUFDNUIsS0FBSyxDQUFDbUMsV0FBVyxDQUFDLENBQUMsR0FBRyxRQUFRO01BQ3hDQyxRQUFRLEVBQUcsMkJBQTJCQyxrQkFBa0IsQ0FBQ1osU0FBUyxDQUFDYSxTQUFTLENBQUcsRUFBQztNQUNoRkMsTUFBTSxFQUFFQyxZQUFZLENBQUNoQixJQUFJLENBQUNiLFNBQVMsRUFBRVksUUFBUSxFQUFFSyxLQUFLO0lBQ3RELENBQUM7RUFDSCxDQUFDLENBQUM7RUFFRixPQUFPRixPQUFPO0FBQ2hCLENBQUM7QUFHRCxTQUFTYyxZQUFZQSxDQUFDaEMsUUFBUSxFQUFFaUMsT0FBTyxFQUFFYixLQUFLLEVBQUU7RUFDOUMsT0FBTyxZQUFXO0lBQ2hCcEIsUUFBUSxDQUFDa0MsUUFBUSxDQUFDRCxPQUFPLEVBQUViLEtBQUssQ0FBQztFQUNuQyxDQUFDO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZGF5cy0yMDIzLy4uL2JwbW4taW8vYnBtbi1qcy1jb2xvci1waWNrZXIvY29sb3JzL0NvbG9yUG9wdXBQcm92aWRlci5qcz9lZGUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGRvbWlmeVxufSBmcm9tICdtaW4tZG9tJztcblxuY29uc3QgQ09MT1JTID0gWyB7XG4gIGxhYmVsOiAnRGVmYXVsdCcsXG4gIGZpbGw6IHVuZGVmaW5lZCxcbiAgc3Ryb2tlOiB1bmRlZmluZWRcbn0sIHtcbiAgbGFiZWw6ICdCbHVlJyxcbiAgZmlsbDogJyNCQkRFRkInLFxuICBzdHJva2U6ICcjMEQ0MzcyJ1xufSwge1xuICBsYWJlbDogJ09yYW5nZScsXG4gIGZpbGw6ICcjRkZFMEIyJyxcbiAgc3Ryb2tlOiAnIzZCM0MwMCdcbn0sIHtcbiAgbGFiZWw6ICdHcmVlbicsXG4gIGZpbGw6ICcjQzhFNkM5JyxcbiAgc3Ryb2tlOiAnIzIwNTAyMidcbn0sIHtcbiAgbGFiZWw6ICdSZWQnLFxuICBmaWxsOiAnI0ZGQ0REMicsXG4gIHN0cm9rZTogJyM4MzEzMTEnXG59LCB7XG4gIGxhYmVsOiAnUHVycGxlJyxcbiAgZmlsbDogJyNFMUJFRTcnLFxuICBzdHJva2U6ICcjNUIxNzZEJ1xufSBdO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbG9yUG9wdXBQcm92aWRlcihjb25maWcsIGJwbW5SZW5kZXJlckNvbmZpZywgcG9wdXBNZW51LCBtb2RlbGluZywgdHJhbnNsYXRlKSB7XG4gIHRoaXMuX3BvcHVwTWVudSA9IHBvcHVwTWVudTtcbiAgdGhpcy5fbW9kZWxpbmcgPSBtb2RlbGluZztcbiAgdGhpcy5fdHJhbnNsYXRlID0gdHJhbnNsYXRlO1xuXG4gIHRoaXMuX2NvbG9ycyA9IGNvbmZpZyAmJiBjb25maWcuY29sb3JzIHx8IENPTE9SUztcbiAgdGhpcy5fZGVmYXVsdEZpbGxDb2xvciA9IGJwbW5SZW5kZXJlckNvbmZpZyAmJiBicG1uUmVuZGVyZXJDb25maWcuZGVmYXVsdEZpbGxDb2xvciB8fCAnd2hpdGUnO1xuICB0aGlzLl9kZWZhdWx0U3Ryb2tlQ29sb3IgPSBicG1uUmVuZGVyZXJDb25maWcgJiYgYnBtblJlbmRlcmVyQ29uZmlnLmRlZmF1bHRTdHJva2VDb2xvciB8fCAncmdiKDM0LCAzNiwgNDIpJztcblxuICB0aGlzLl9wb3B1cE1lbnUucmVnaXN0ZXJQcm92aWRlcignY29sb3ItcGlja2VyJywgdGhpcyk7XG59XG5cblxuQ29sb3JQb3B1cFByb3ZpZGVyLiRpbmplY3QgPSBbXG4gICdjb25maWcuY29sb3JQaWNrZXInLFxuICAnY29uZmlnLmJwbW5SZW5kZXJlcicsXG4gICdwb3B1cE1lbnUnLFxuICAnbW9kZWxpbmcnLFxuICAndHJhbnNsYXRlJ1xuXTtcblxuXG5Db2xvclBvcHVwUHJvdmlkZXIucHJvdG90eXBlLmdldEVudHJpZXMgPSBmdW5jdGlvbihlbGVtZW50cykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdmFyIGNvbG9ySWNvbiA9IGRvbWlmeShgXG4gICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAxNiAxNlwiIGhlaWdodD1cIjEwMCVcIj5cbiAgICAgIDxjaXJjbGUgY3g9XCI4XCIgY3k9XCI4XCIgcj1cIjdcIiBmaWxsPVwidmFyKC0tZmlsbC1jb2xvcilcIiBzdHJva2U9XCJ2YXIoLS1zdHJva2UtY29sb3IpXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIC8+XG4gICAgPC9zdmc+XG4gIGApO1xuXG4gIHZhciBlbnRyaWVzID0gdGhpcy5fY29sb3JzLm1hcChmdW5jdGlvbihjb2xvcikge1xuXG4gICAgY29sb3JJY29uLnN0eWxlLnNldFByb3BlcnR5KCctLWZpbGwtY29sb3InLCBjb2xvci5maWxsIHx8IHNlbGYuX2RlZmF1bHRGaWxsQ29sb3IpO1xuICAgIGNvbG9ySWNvbi5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zdHJva2UtY29sb3InLCBjb2xvci5zdHJva2UgfHwgc2VsZi5fZGVmYXVsdFN0cm9rZUNvbG9yKTtcblxuICAgIHJldHVybiB7XG4gICAgICBncm91cDogY29sb3IubGFiZWwgPT09ICdEZWZhdWx0J1xuICAgICAgICA/IHtcbiAgICAgICAgICBpZDogJ2RlZmF1bHQnLFxuICAgICAgICAgIG5hbWU6ICdEZWZhdWx0J1xuICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgIGlkOiAnY3VzdG9tJyxcbiAgICAgICAgICBuYW1lOiAnQ3VzdG9tJ1xuICAgICAgICB9LFxuICAgICAgdGl0bGU6IHNlbGYuX3RyYW5zbGF0ZShjb2xvci5sYWJlbCksXG4gICAgICBpZDogY29sb3IubGFiZWwudG9Mb3dlckNhc2UoKSArICctY29sb3InLFxuICAgICAgaW1hZ2VVcmw6IGBkYXRhOmltYWdlL3N2Zyt4bWw7dXRmOCwkeyBlbmNvZGVVUklDb21wb25lbnQoY29sb3JJY29uLm91dGVySFRNTCkgfWAsXG4gICAgICBhY3Rpb246IGNyZWF0ZUFjdGlvbihzZWxmLl9tb2RlbGluZywgZWxlbWVudHMsIGNvbG9yKVxuICAgIH07XG4gIH0pO1xuXG4gIHJldHVybiBlbnRyaWVzO1xufTtcblxuXG5mdW5jdGlvbiBjcmVhdGVBY3Rpb24obW9kZWxpbmcsIGVsZW1lbnQsIGNvbG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBtb2RlbGluZy5zZXRDb2xvcihlbGVtZW50LCBjb2xvcik7XG4gIH07XG59Il0sIm5hbWVzIjpbImRvbWlmeSIsIkNPTE9SUyIsImxhYmVsIiwiZmlsbCIsInVuZGVmaW5lZCIsInN0cm9rZSIsIkNvbG9yUG9wdXBQcm92aWRlciIsImNvbmZpZyIsImJwbW5SZW5kZXJlckNvbmZpZyIsInBvcHVwTWVudSIsIm1vZGVsaW5nIiwidHJhbnNsYXRlIiwiX3BvcHVwTWVudSIsIl9tb2RlbGluZyIsIl90cmFuc2xhdGUiLCJfY29sb3JzIiwiY29sb3JzIiwiX2RlZmF1bHRGaWxsQ29sb3IiLCJkZWZhdWx0RmlsbENvbG9yIiwiX2RlZmF1bHRTdHJva2VDb2xvciIsImRlZmF1bHRTdHJva2VDb2xvciIsInJlZ2lzdGVyUHJvdmlkZXIiLCIkaW5qZWN0IiwicHJvdG90eXBlIiwiZ2V0RW50cmllcyIsImVsZW1lbnRzIiwic2VsZiIsImNvbG9ySWNvbiIsImVudHJpZXMiLCJtYXAiLCJjb2xvciIsInN0eWxlIiwic2V0UHJvcGVydHkiLCJncm91cCIsImlkIiwibmFtZSIsInRpdGxlIiwidG9Mb3dlckNhc2UiLCJpbWFnZVVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsIm91dGVySFRNTCIsImFjdGlvbiIsImNyZWF0ZUFjdGlvbiIsImVsZW1lbnQiLCJzZXRDb2xvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../bpmn-io/bpmn-js-color-picker/colors/ColorPopupProvider.js\n");

/***/ }),

/***/ "../bpmn-io/bpmn-js-color-picker/colors/index.js":
/*!*******************************************************!*\
  !*** ../bpmn-io/bpmn-js-color-picker/colors/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ColorContextPadProvider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ColorContextPadProvider */ \"../bpmn-io/bpmn-js-color-picker/colors/ColorContextPadProvider.js\");\n/* harmony import */ var _ColorPopupProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ColorPopupProvider */ \"../bpmn-io/bpmn-js-color-picker/colors/ColorPopupProvider.js\");\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: ['colorContextPadProvider', 'colorPopupProvider'],\n  colorContextPadProvider: ['type', _ColorContextPadProvider__WEBPACK_IMPORTED_MODULE_0__[\"default\"]],\n  colorPopupProvider: ['type', _ColorPopupProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"]]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vYnBtbi1pby9icG1uLWpzLWNvbG9yLXBpY2tlci9jb2xvcnMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdFO0FBQ1Y7QUFFdEQsaUVBQWU7RUFDYkUsUUFBUSxFQUFFLENBQ1IseUJBQXlCLEVBQ3pCLG9CQUFvQixDQUNyQjtFQUNEQyx1QkFBdUIsRUFBRSxDQUFFLE1BQU0sRUFBRUgsZ0VBQXVCLENBQUU7RUFDNURJLGtCQUFrQixFQUFFLENBQUUsTUFBTSxFQUFFSCwyREFBa0I7QUFDbEQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2tkYXlzLTIwMjMvLi4vYnBtbi1pby9icG1uLWpzLWNvbG9yLXBpY2tlci9jb2xvcnMvaW5kZXguanM/NmM3MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29sb3JDb250ZXh0UGFkUHJvdmlkZXIgZnJvbSAnLi9Db2xvckNvbnRleHRQYWRQcm92aWRlcic7XG5pbXBvcnQgQ29sb3JQb3B1cFByb3ZpZGVyIGZyb20gJy4vQ29sb3JQb3B1cFByb3ZpZGVyJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogW1xuICAgICdjb2xvckNvbnRleHRQYWRQcm92aWRlcicsXG4gICAgJ2NvbG9yUG9wdXBQcm92aWRlcidcbiAgXSxcbiAgY29sb3JDb250ZXh0UGFkUHJvdmlkZXI6IFsgJ3R5cGUnLCBDb2xvckNvbnRleHRQYWRQcm92aWRlciBdLFxuICBjb2xvclBvcHVwUHJvdmlkZXI6IFsgJ3R5cGUnLCBDb2xvclBvcHVwUHJvdmlkZXIgXVxufTsiXSwibmFtZXMiOlsiQ29sb3JDb250ZXh0UGFkUHJvdmlkZXIiLCJDb2xvclBvcHVwUHJvdmlkZXIiLCJfX2luaXRfXyIsImNvbG9yQ29udGV4dFBhZFByb3ZpZGVyIiwiY29sb3JQb3B1cFByb3ZpZGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../bpmn-io/bpmn-js-color-picker/colors/index.js\n");

/***/ }),

/***/ "../bpmn-io/bpmn-js-color-picker/index.js":
/*!************************************************!*\
  !*** ../bpmn-io/bpmn-js-color-picker/index.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _colors__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./colors */ "../bpmn-io/bpmn-js-color-picker/colors/index.js");


/***/ }),

/***/ "../bpmn-io/bpmn-js/lib/features/append-preview/AppendPreview.js":
/*!***********************************************************************!*\
  !*** ../bpmn-io/bpmn-js/lib/features/append-preview/AppendPreview.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AppendPreview)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"../bpmn-io/bpmn-js/node_modules/min-dash/dist/index.esm.js\");\n\nconst round = Math.round;\nfunction AppendPreview(complexPreview, connectionDocking, elementFactory, eventBus, layouter, rules) {\n  this._complexPreview = complexPreview;\n  this._connectionDocking = connectionDocking;\n  this._elementFactory = elementFactory;\n  this._eventBus = eventBus;\n  this._layouter = layouter;\n  this._rules = rules;\n}\nAppendPreview.prototype.create = function (source, type, options) {\n  const complexPreview = this._complexPreview,\n    connectionDocking = this._connectionDocking,\n    elementFactory = this._elementFactory,\n    eventBus = this._eventBus,\n    layouter = this._layouter,\n    rules = this._rules;\n  const shape = elementFactory.createShape((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({\n    type: type\n  }, options));\n  const position = eventBus.fire('autoPlace', {\n    source,\n    shape\n  });\n  if (!position) {\n    return;\n  }\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)(shape, {\n    x: position.x - round(shape.width / 2),\n    y: position.y - round(shape.height / 2)\n  });\n  const connectionCreateAllowed = rules.allowed('connection.create', {\n    source,\n    target: shape,\n    hints: {\n      targetParent: source.parent\n    }\n  });\n  let connection = null;\n  if (connectionCreateAllowed) {\n    connection = elementFactory.createConnection(connectionCreateAllowed);\n    connection.waypoints = layouter.layoutConnection(connection, {\n      source,\n      target: shape\n    });\n    connection.waypoints = connectionDocking.getCroppedWaypoints(connection, source, shape);\n  }\n  complexPreview.create({\n    create: [shape, connection].filter(element => !(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNil)(element))\n  });\n};\nAppendPreview.prototype.delete = function () {\n  this._complexPreview.delete();\n};\nAppendPreview.$inject = ['complexPreview', 'connectionDocking', 'elementFactory', 'eventBus', 'layouter', 'rules'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vYnBtbi1pby9icG1uLWpzL2xpYi9mZWF0dXJlcy9hcHBlbmQtcHJldmlldy9BcHBlbmRQcmV2aWV3LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBR2tCO0FBRWxCLE1BQU1FLEtBQUssR0FBR0MsSUFBSSxDQUFDRCxLQUFLO0FBRVQsU0FBU0UsYUFBYUEsQ0FBQ0MsY0FBYyxFQUFFQyxpQkFBaUIsRUFBRUMsY0FBYyxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsS0FBSyxFQUFFO0VBQ2xILElBQUksQ0FBQ0MsZUFBZSxHQUFHTixjQUFjO0VBQ3JDLElBQUksQ0FBQ08sa0JBQWtCLEdBQUdOLGlCQUFpQjtFQUMzQyxJQUFJLENBQUNPLGVBQWUsR0FBR04sY0FBYztFQUNyQyxJQUFJLENBQUNPLFNBQVMsR0FBR04sUUFBUTtFQUN6QixJQUFJLENBQUNPLFNBQVMsR0FBR04sUUFBUTtFQUN6QixJQUFJLENBQUNPLE1BQU0sR0FBR04sS0FBSztBQUNyQjtBQUVBTixhQUFhLENBQUNhLFNBQVMsQ0FBQ0MsTUFBTSxHQUFHLFVBQVNDLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxPQUFPLEVBQUU7RUFDL0QsTUFBTWhCLGNBQWMsR0FBRyxJQUFJLENBQUNNLGVBQWU7SUFDckNMLGlCQUFpQixHQUFHLElBQUksQ0FBQ00sa0JBQWtCO0lBQzNDTCxjQUFjLEdBQUcsSUFBSSxDQUFDTSxlQUFlO0lBQ3JDTCxRQUFRLEdBQUcsSUFBSSxDQUFDTSxTQUFTO0lBQ3pCTCxRQUFRLEdBQUcsSUFBSSxDQUFDTSxTQUFTO0lBQ3pCTCxLQUFLLEdBQUcsSUFBSSxDQUFDTSxNQUFNO0VBRXpCLE1BQU1NLEtBQUssR0FBR2YsY0FBYyxDQUFDZ0IsV0FBVyxDQUFDdkIsZ0RBQU0sQ0FBQztJQUFFb0IsSUFBSSxFQUFFQTtFQUFLLENBQUMsRUFBRUMsT0FBTyxDQUFDLENBQUM7RUFFekUsTUFBTUcsUUFBUSxHQUFHaEIsUUFBUSxDQUFDaUIsSUFBSSxDQUFDLFdBQVcsRUFBRTtJQUMxQ04sTUFBTTtJQUNORztFQUNGLENBQUMsQ0FBQztFQUVGLElBQUksQ0FBQ0UsUUFBUSxFQUFFO0lBQ2I7RUFDRjtFQUVBeEIsZ0RBQU0sQ0FBQ3NCLEtBQUssRUFBRTtJQUNaSSxDQUFDLEVBQUVGLFFBQVEsQ0FBQ0UsQ0FBQyxHQUFHeEIsS0FBSyxDQUFDb0IsS0FBSyxDQUFDSyxLQUFLLEdBQUcsQ0FBQyxDQUFDO0lBQ3RDQyxDQUFDLEVBQUVKLFFBQVEsQ0FBQ0ksQ0FBQyxHQUFHMUIsS0FBSyxDQUFDb0IsS0FBSyxDQUFDTyxNQUFNLEdBQUcsQ0FBQztFQUN4QyxDQUFDLENBQUM7RUFFRixNQUFNQyx1QkFBdUIsR0FBR3BCLEtBQUssQ0FBQ3FCLE9BQU8sQ0FBQyxtQkFBbUIsRUFBRTtJQUNqRVosTUFBTTtJQUNOYSxNQUFNLEVBQUVWLEtBQUs7SUFDYlcsS0FBSyxFQUFFO01BQ0xDLFlBQVksRUFBRWYsTUFBTSxDQUFDZ0I7SUFDdkI7RUFDRixDQUFDLENBQUM7RUFFRixJQUFJQyxVQUFVLEdBQUcsSUFBSTtFQUVyQixJQUFJTix1QkFBdUIsRUFBRTtJQUMzQk0sVUFBVSxHQUFHN0IsY0FBYyxDQUFDOEIsZ0JBQWdCLENBQUNQLHVCQUF1QixDQUFDO0lBRXJFTSxVQUFVLENBQUNFLFNBQVMsR0FBRzdCLFFBQVEsQ0FBQzhCLGdCQUFnQixDQUFDSCxVQUFVLEVBQUU7TUFDM0RqQixNQUFNO01BQ05hLE1BQU0sRUFBRVY7SUFDVixDQUFDLENBQUM7SUFFRmMsVUFBVSxDQUFDRSxTQUFTLEdBQUdoQyxpQkFBaUIsQ0FBQ2tDLG1CQUFtQixDQUFDSixVQUFVLEVBQUVqQixNQUFNLEVBQUVHLEtBQUssQ0FBQztFQUN6RjtFQUVBakIsY0FBYyxDQUFDYSxNQUFNLENBQUM7SUFDcEJBLE1BQU0sRUFBRSxDQUNOSSxLQUFLLEVBQ0xjLFVBQVUsQ0FDWCxDQUFDSyxNQUFNLENBQUVDLE9BQU8sSUFBSyxDQUFDekMsK0NBQUssQ0FBQ3lDLE9BQU8sQ0FBQztFQUN2QyxDQUFDLENBQUM7QUFDSixDQUFDO0FBRUR0QyxhQUFhLENBQUNhLFNBQVMsQ0FBQzBCLE1BQU0sR0FBRyxZQUFXO0VBQzFDLElBQUksQ0FBQ2hDLGVBQWUsQ0FBQ2dDLE1BQU0sQ0FBQyxDQUFDO0FBQy9CLENBQUM7QUFFRHZDLGFBQWEsQ0FBQ3dDLE9BQU8sR0FBRyxDQUN0QixnQkFBZ0IsRUFDaEIsbUJBQW1CLEVBQ25CLGdCQUFnQixFQUNoQixVQUFVLEVBQ1YsVUFBVSxFQUNWLE9BQU8sQ0FDUiIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2tkYXlzLTIwMjMvLi4vYnBtbi1pby9icG1uLWpzL2xpYi9mZWF0dXJlcy9hcHBlbmQtcHJldmlldy9BcHBlbmRQcmV2aWV3LmpzPzllZWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBpc05pbFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmNvbnN0IHJvdW5kID0gTWF0aC5yb3VuZDtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXBwZW5kUHJldmlldyhjb21wbGV4UHJldmlldywgY29ubmVjdGlvbkRvY2tpbmcsIGVsZW1lbnRGYWN0b3J5LCBldmVudEJ1cywgbGF5b3V0ZXIsIHJ1bGVzKSB7XG4gIHRoaXMuX2NvbXBsZXhQcmV2aWV3ID0gY29tcGxleFByZXZpZXc7XG4gIHRoaXMuX2Nvbm5lY3Rpb25Eb2NraW5nID0gY29ubmVjdGlvbkRvY2tpbmc7XG4gIHRoaXMuX2VsZW1lbnRGYWN0b3J5ID0gZWxlbWVudEZhY3Rvcnk7XG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG4gIHRoaXMuX2xheW91dGVyID0gbGF5b3V0ZXI7XG4gIHRoaXMuX3J1bGVzID0gcnVsZXM7XG59XG5cbkFwcGVuZFByZXZpZXcucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKHNvdXJjZSwgdHlwZSwgb3B0aW9ucykge1xuICBjb25zdCBjb21wbGV4UHJldmlldyA9IHRoaXMuX2NvbXBsZXhQcmV2aWV3LFxuICAgICAgICBjb25uZWN0aW9uRG9ja2luZyA9IHRoaXMuX2Nvbm5lY3Rpb25Eb2NraW5nLFxuICAgICAgICBlbGVtZW50RmFjdG9yeSA9IHRoaXMuX2VsZW1lbnRGYWN0b3J5LFxuICAgICAgICBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzLFxuICAgICAgICBsYXlvdXRlciA9IHRoaXMuX2xheW91dGVyLFxuICAgICAgICBydWxlcyA9IHRoaXMuX3J1bGVzO1xuXG4gIGNvbnN0IHNoYXBlID0gZWxlbWVudEZhY3RvcnkuY3JlYXRlU2hhcGUoYXNzaWduKHsgdHlwZTogdHlwZSB9LCBvcHRpb25zKSk7XG5cbiAgY29uc3QgcG9zaXRpb24gPSBldmVudEJ1cy5maXJlKCdhdXRvUGxhY2UnLCB7XG4gICAgc291cmNlLFxuICAgIHNoYXBlXG4gIH0pO1xuXG4gIGlmICghcG9zaXRpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBhc3NpZ24oc2hhcGUsIHtcbiAgICB4OiBwb3NpdGlvbi54IC0gcm91bmQoc2hhcGUud2lkdGggLyAyKSxcbiAgICB5OiBwb3NpdGlvbi55IC0gcm91bmQoc2hhcGUuaGVpZ2h0IC8gMilcbiAgfSk7XG5cbiAgY29uc3QgY29ubmVjdGlvbkNyZWF0ZUFsbG93ZWQgPSBydWxlcy5hbGxvd2VkKCdjb25uZWN0aW9uLmNyZWF0ZScsIHtcbiAgICBzb3VyY2UsXG4gICAgdGFyZ2V0OiBzaGFwZSxcbiAgICBoaW50czoge1xuICAgICAgdGFyZ2V0UGFyZW50OiBzb3VyY2UucGFyZW50XG4gICAgfVxuICB9KTtcblxuICBsZXQgY29ubmVjdGlvbiA9IG51bGw7XG5cbiAgaWYgKGNvbm5lY3Rpb25DcmVhdGVBbGxvd2VkKSB7XG4gICAgY29ubmVjdGlvbiA9IGVsZW1lbnRGYWN0b3J5LmNyZWF0ZUNvbm5lY3Rpb24oY29ubmVjdGlvbkNyZWF0ZUFsbG93ZWQpO1xuXG4gICAgY29ubmVjdGlvbi53YXlwb2ludHMgPSBsYXlvdXRlci5sYXlvdXRDb25uZWN0aW9uKGNvbm5lY3Rpb24sIHtcbiAgICAgIHNvdXJjZSxcbiAgICAgIHRhcmdldDogc2hhcGVcbiAgICB9KTtcblxuICAgIGNvbm5lY3Rpb24ud2F5cG9pbnRzID0gY29ubmVjdGlvbkRvY2tpbmcuZ2V0Q3JvcHBlZFdheXBvaW50cyhjb25uZWN0aW9uLCBzb3VyY2UsIHNoYXBlKTtcbiAgfVxuXG4gIGNvbXBsZXhQcmV2aWV3LmNyZWF0ZSh7XG4gICAgY3JlYXRlOiBbXG4gICAgICBzaGFwZSxcbiAgICAgIGNvbm5lY3Rpb25cbiAgICBdLmZpbHRlcigoZWxlbWVudCkgPT4gIWlzTmlsKGVsZW1lbnQpKVxuICB9KTtcbn07XG5cbkFwcGVuZFByZXZpZXcucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jb21wbGV4UHJldmlldy5kZWxldGUoKTtcbn07XG5cbkFwcGVuZFByZXZpZXcuJGluamVjdCA9IFtcbiAgJ2NvbXBsZXhQcmV2aWV3JyxcbiAgJ2Nvbm5lY3Rpb25Eb2NraW5nJyxcbiAgJ2VsZW1lbnRGYWN0b3J5JyxcbiAgJ2V2ZW50QnVzJyxcbiAgJ2xheW91dGVyJyxcbiAgJ3J1bGVzJ1xuXTsiXSwibmFtZXMiOlsiYXNzaWduIiwiaXNOaWwiLCJyb3VuZCIsIk1hdGgiLCJBcHBlbmRQcmV2aWV3IiwiY29tcGxleFByZXZpZXciLCJjb25uZWN0aW9uRG9ja2luZyIsImVsZW1lbnRGYWN0b3J5IiwiZXZlbnRCdXMiLCJsYXlvdXRlciIsInJ1bGVzIiwiX2NvbXBsZXhQcmV2aWV3IiwiX2Nvbm5lY3Rpb25Eb2NraW5nIiwiX2VsZW1lbnRGYWN0b3J5IiwiX2V2ZW50QnVzIiwiX2xheW91dGVyIiwiX3J1bGVzIiwicHJvdG90eXBlIiwiY3JlYXRlIiwic291cmNlIiwidHlwZSIsIm9wdGlvbnMiLCJzaGFwZSIsImNyZWF0ZVNoYXBlIiwicG9zaXRpb24iLCJmaXJlIiwieCIsIndpZHRoIiwieSIsImhlaWdodCIsImNvbm5lY3Rpb25DcmVhdGVBbGxvd2VkIiwiYWxsb3dlZCIsInRhcmdldCIsImhpbnRzIiwidGFyZ2V0UGFyZW50IiwicGFyZW50IiwiY29ubmVjdGlvbiIsImNyZWF0ZUNvbm5lY3Rpb24iLCJ3YXlwb2ludHMiLCJsYXlvdXRDb25uZWN0aW9uIiwiZ2V0Q3JvcHBlZFdheXBvaW50cyIsImZpbHRlciIsImVsZW1lbnQiLCJkZWxldGUiLCIkaW5qZWN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../bpmn-io/bpmn-js/lib/features/append-preview/AppendPreview.js\n");

/***/ }),

/***/ "../bpmn-io/bpmn-js/lib/features/modeling/util/LaneUtil.js":
/*!*****************************************************************!*\
  !*** ../bpmn-io/bpmn-js/lib/features/modeling/util/LaneUtil.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LANE_INDENTATION: () => (/* binding */ LANE_INDENTATION),\n/* harmony export */   collectLanes: () => (/* binding */ collectLanes),\n/* harmony export */   computeLanesResize: () => (/* binding */ computeLanesResize),\n/* harmony export */   getChildLanes: () => (/* binding */ getChildLanes),\n/* harmony export */   getLanesRoot: () => (/* binding */ getLanesRoot)\n/* harmony export */ });\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/ModelUtil */ \"../bpmn-io/bpmn-js/lib/util/ModelUtil.js\");\n/* harmony import */ var _ModelingUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ModelingUtil */ \"../bpmn-io/bpmn-js/lib/features/modeling/util/ModelingUtil.js\");\n/* harmony import */ var diagram_js_lib_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! diagram-js/lib/layout/LayoutUtil */ \"../bpmn-io/diagram-js/lib/layout/LayoutUtil.js\");\n/* harmony import */ var diagram_js_lib_features_resize_ResizeUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! diagram-js/lib/features/resize/ResizeUtil */ \"../bpmn-io/diagram-js/lib/features/resize/ResizeUtil.js\");\n\n\n\n\n\n/**\n * @typedef {import('../../../model/Types').Shape} Shape\n *\n * @typedef {import('diagram-js/lib/util/Types').Rect} Rect\n */\n\nvar abs = Math.abs;\nfunction getTRBLResize(oldBounds, newBounds) {\n  return (0,diagram_js_lib_features_resize_ResizeUtil__WEBPACK_IMPORTED_MODULE_0__.substractTRBL)((0,diagram_js_lib_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(newBounds), (0,diagram_js_lib_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(oldBounds));\n}\nvar LANE_PARENTS = ['bpmn:Participant', 'bpmn:Process', 'bpmn:SubProcess'];\nvar LANE_INDENTATION = 30;\n\n/**\n * Return all lanes that are children of the given shape.\n *\n * @param  {Shape} shape\n * @param  {Shape[]} [collectedShapes]\n *\n * @return {Shape[]}\n */\nfunction collectLanes(shape, collectedShapes) {\n  collectedShapes = collectedShapes || [];\n  shape.children.filter(function (s) {\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_2__.is)(s, 'bpmn:Lane')) {\n      collectLanes(s, collectedShapes);\n      collectedShapes.push(s);\n    }\n  });\n  return collectedShapes;\n}\n\n/**\n * Return all lanes that are direct children of the given shape.\n *\n * @param {Shape} shape\n *\n * @return {Shape[]}\n */\nfunction getChildLanes(shape) {\n  return shape.children.filter(function (c) {\n    return (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_2__.is)(c, 'bpmn:Lane');\n  });\n}\n\n/**\n * Return the parent shape of the given lane.\n *\n * @param {Shape} shape\n *\n * @return {Shape}\n */\nfunction getLanesRoot(shape) {\n  return (0,_ModelingUtil__WEBPACK_IMPORTED_MODULE_3__.getParent)(shape, LANE_PARENTS) || shape;\n}\n\n/**\n * Compute the required resize operations for lanes\n * adjacent to the given shape, assuming it will be\n * resized to the given new bounds.\n *\n * @param {Shape} shape\n * @param {Rect} newBounds\n *\n * @return { {\n *   shape: Shape;\n *   newBounds: Rect;\n * }[] }\n */\nfunction computeLanesResize(shape, newBounds) {\n  var rootElement = getLanesRoot(shape);\n  var initialShapes = (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_2__.is)(rootElement, 'bpmn:Process') ? [] : [rootElement];\n  var allLanes = collectLanes(rootElement, initialShapes),\n    shapeTrbl = (0,diagram_js_lib_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(shape),\n    shapeNewTrbl = (0,diagram_js_lib_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(newBounds),\n    trblResize = getTRBLResize(shape, newBounds),\n    resizeNeeded = [];\n  allLanes.forEach(function (other) {\n    if (other === shape) {\n      return;\n    }\n    var topResize = 0,\n      rightResize = trblResize.right,\n      bottomResize = 0,\n      leftResize = trblResize.left;\n    var otherTrbl = (0,diagram_js_lib_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(other);\n    if (trblResize.top) {\n      if (abs(otherTrbl.bottom - shapeTrbl.top) < 10) {\n        bottomResize = shapeNewTrbl.top - otherTrbl.bottom;\n      }\n      if (abs(otherTrbl.top - shapeTrbl.top) < 5) {\n        topResize = shapeNewTrbl.top - otherTrbl.top;\n      }\n    }\n    if (trblResize.bottom) {\n      if (abs(otherTrbl.top - shapeTrbl.bottom) < 10) {\n        topResize = shapeNewTrbl.bottom - otherTrbl.top;\n      }\n      if (abs(otherTrbl.bottom - shapeTrbl.bottom) < 5) {\n        bottomResize = shapeNewTrbl.bottom - otherTrbl.bottom;\n      }\n    }\n    if (topResize || rightResize || bottomResize || leftResize) {\n      resizeNeeded.push({\n        shape: other,\n        newBounds: (0,diagram_js_lib_features_resize_ResizeUtil__WEBPACK_IMPORTED_MODULE_0__.resizeTRBL)(other, {\n          top: topResize,\n          right: rightResize,\n          bottom: bottomResize,\n          left: leftResize\n        })\n      });\n    }\n  });\n  return resizeNeeded;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vYnBtbi1pby9icG1uLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy91dGlsL0xhbmVVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUE2QztBQUlyQjtBQUlrQjtBQUtTOztBQUVuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQUlLLEdBQUcsR0FBR0MsSUFBSSxDQUFDRCxHQUFHO0FBR2xCLFNBQVNFLGFBQWFBLENBQUNDLFNBQVMsRUFBRUMsU0FBUyxFQUFFO0VBQzNDLE9BQU9OLHdGQUFhLENBQUNELHdFQUFNLENBQUNPLFNBQVMsQ0FBQyxFQUFFUCx3RUFBTSxDQUFDTSxTQUFTLENBQUMsQ0FBQztBQUM1RDtBQUdBLElBQUlFLFlBQVksR0FBRyxDQUNqQixrQkFBa0IsRUFDbEIsY0FBYyxFQUNkLGlCQUFpQixDQUNsQjtBQUVNLElBQUlDLGdCQUFnQixHQUFHLEVBQUU7O0FBR2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTQyxZQUFZQSxDQUFDQyxLQUFLLEVBQUVDLGVBQWUsRUFBRTtFQUVuREEsZUFBZSxHQUFHQSxlQUFlLElBQUksRUFBRTtFQUV2Q0QsS0FBSyxDQUFDRSxRQUFRLENBQUNDLE1BQU0sQ0FBQyxVQUFTQyxDQUFDLEVBQUU7SUFDaEMsSUFBSWpCLG1EQUFFLENBQUNpQixDQUFDLEVBQUUsV0FBVyxDQUFDLEVBQUU7TUFDdEJMLFlBQVksQ0FBQ0ssQ0FBQyxFQUFFSCxlQUFlLENBQUM7TUFFaENBLGVBQWUsQ0FBQ0ksSUFBSSxDQUFDRCxDQUFDLENBQUM7SUFDekI7RUFDRixDQUFDLENBQUM7RUFFRixPQUFPSCxlQUFlO0FBQ3hCOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sU0FBU0ssYUFBYUEsQ0FBQ04sS0FBSyxFQUFFO0VBQ25DLE9BQU9BLEtBQUssQ0FBQ0UsUUFBUSxDQUFDQyxNQUFNLENBQUMsVUFBU0ksQ0FBQyxFQUFFO0lBQ3ZDLE9BQU9w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LENBQUM7SUFDSjtFQUVGLENBQUMsQ0FBQztFQUVGLE9BQU9QLFlBQVk7QUFDckIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZGF5cy0yMDIzLy4uL2JwbW4taW8vYnBtbi1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvdXRpbC9MYW5lVXRpbC5qcz8yNmYzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG5pbXBvcnQge1xuICBnZXRQYXJlbnRcbn0gZnJvbSAnLi9Nb2RlbGluZ1V0aWwnO1xuXG5pbXBvcnQge1xuICBhc1RSQkxcbn0gZnJvbSAnZGlhZ3JhbS1qcy9saWIvbGF5b3V0L0xheW91dFV0aWwnO1xuXG5pbXBvcnQge1xuICBzdWJzdHJhY3RUUkJMLFxuICByZXNpemVUUkJMXG59IGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3Jlc2l6ZS9SZXNpemVVdGlsJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi8uLi9tb2RlbC9UeXBlcycpLlNoYXBlfSBTaGFwZVxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpYWdyYW0tanMvbGliL3V0aWwvVHlwZXMnKS5SZWN0fSBSZWN0XG4gKi9cblxudmFyIGFicyA9IE1hdGguYWJzO1xuXG5cbmZ1bmN0aW9uIGdldFRSQkxSZXNpemUob2xkQm91bmRzLCBuZXdCb3VuZHMpIHtcbiAgcmV0dXJuIHN1YnN0cmFjdFRSQkwoYXNUUkJMKG5ld0JvdW5kcyksIGFzVFJCTChvbGRCb3VuZHMpKTtcbn1cblxuXG52YXIgTEFORV9QQVJFTlRTID0gW1xuICAnYnBtbjpQYXJ0aWNpcGFudCcsXG4gICdicG1uOlByb2Nlc3MnLFxuICAnYnBtbjpTdWJQcm9jZXNzJ1xuXTtcblxuZXhwb3J0IHZhciBMQU5FX0lOREVOVEFUSU9OID0gMzA7XG5cblxuLyoqXG4gKiBSZXR1cm4gYWxsIGxhbmVzIHRoYXQgYXJlIGNoaWxkcmVuIG9mIHRoZSBnaXZlbiBzaGFwZS5cbiAqXG4gKiBAcGFyYW0gIHtTaGFwZX0gc2hhcGVcbiAqIEBwYXJhbSAge1NoYXBlW119IFtjb2xsZWN0ZWRTaGFwZXNdXG4gKlxuICogQHJldHVybiB7U2hhcGVbXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbGxlY3RMYW5lcyhzaGFwZSwgY29sbGVjdGVkU2hhcGVzKSB7XG5cbiAgY29sbGVjdGVkU2hhcGVzID0gY29sbGVjdGVkU2hhcGVzIHx8IFtdO1xuXG4gIHNoYXBlLmNoaWxkcmVuLmZpbHRlcihmdW5jdGlvbihzKSB7XG4gICAgaWYgKGlzKHMsICdicG1uOkxhbmUnKSkge1xuICAgICAgY29sbGVjdExhbmVzKHMsIGNvbGxlY3RlZFNoYXBlcyk7XG5cbiAgICAgIGNvbGxlY3RlZFNoYXBlcy5wdXNoKHMpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGNvbGxlY3RlZFNoYXBlcztcbn1cblxuXG4vKipcbiAqIFJldHVybiBhbGwgbGFuZXMgdGhhdCBhcmUgZGlyZWN0IGNoaWxkcmVuIG9mIHRoZSBnaXZlbiBzaGFwZS5cbiAqXG4gKiBAcGFyYW0ge1NoYXBlfSBzaGFwZVxuICpcbiAqIEByZXR1cm4ge1NoYXBlW119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaGlsZExhbmVzKHNoYXBlKSB7XG4gIHJldHVybiBzaGFwZS5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24oYykge1xuICAgIHJldHVybiBpcyhjLCAnYnBtbjpMYW5lJyk7XG4gIH0pO1xufVxuXG5cbi8qKlxuICogUmV0dXJuIHRoZSBwYXJlbnQgc2hhcGUgb2YgdGhlIGdpdmVuIGxhbmUuXG4gKlxuICogQHBhcmFtIHtTaGFwZX0gc2hhcGVcbiAqXG4gKiBAcmV0dXJuIHtTaGFwZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExhbmVzUm9vdChzaGFwZSkge1xuICByZXR1cm4gZ2V0UGFyZW50KHNoYXBlLCBMQU5FX1BBUkVOVFMpIHx8IHNoYXBlO1xufVxuXG5cbi8qKlxuICogQ29tcHV0ZSB0aGUgcmVxdWlyZWQgcmVzaXplIG9wZXJhdGlvbnMgZm9yIGxhbmVzXG4gKiBhZGphY2VudCB0byB0aGUgZ2l2ZW4gc2hhcGUsIGFzc3VtaW5nIGl0IHdpbGwgYmVcbiAqIHJlc2l6ZWQgdG8gdGhlIGdpdmVuIG5ldyBib3VuZHMuXG4gKlxuICogQHBhcmFtIHtTaGFwZX0gc2hhcGVcbiAqIEBwYXJhbSB7UmVjdH0gbmV3Qm91bmRzXG4gKlxuICogQHJldHVybiB7IHtcbiAqICAgc2hhcGU6IFNoYXBlO1xuICogICBuZXdCb3VuZHM6IFJlY3Q7XG4gKiB9W10gfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUxhbmVzUmVzaXplKHNoYXBlLCBuZXdCb3VuZHMpIHtcblxuICB2YXIgcm9vdEVsZW1lbnQgPSBnZXRMYW5lc1Jvb3Qoc2hhcGUpO1xuXG4gIHZhciBpbml0aWFsU2hhcGVzID0gaXMocm9vdEVsZW1lbnQsICdicG1uOlByb2Nlc3MnKSA/IFtdIDogWyByb290RWxlbWVudCBdO1xuXG4gIHZhciBhbGxMYW5lcyA9IGNvbGxlY3RMYW5lcyhyb290RWxlbWVudCwgaW5pdGlhbFNoYXBlcyksXG4gICAgICBzaGFwZVRyYmwgPSBhc1RSQkwoc2hhcGUpLFxuICAgICAgc2hhcGVOZXdUcmJsID0gYXNUUkJMKG5ld0JvdW5kcyksXG4gICAgICB0cmJsUmVzaXplID0gZ2V0VFJCTFJlc2l6ZShzaGFwZSwgbmV3Qm91bmRzKSxcbiAgICAgIHJlc2l6ZU5lZWRlZCA9IFtdO1xuXG4gIGFsbExhbmVzLmZvckVhY2goZnVuY3Rpb24ob3RoZXIpIHtcblxuICAgIGlmIChvdGhlciA9PT0gc2hhcGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdG9wUmVzaXplID0gMCxcbiAgICAgICAgcmlnaHRSZXNpemUgPSB0cmJsUmVzaXplLnJpZ2h0LFxuICAgICAgICBib3R0b21SZXNpemUgPSAwLFxuICAgICAgICBsZWZ0UmVzaXplID0gdHJibFJlc2l6ZS5sZWZ0O1xuXG4gICAgdmFyIG90aGVyVHJibCA9IGFzVFJCTChvdGhlcik7XG5cbiAgICBpZiAodHJibFJlc2l6ZS50b3ApIHtcbiAgICAgIGlmIChhYnMob3RoZXJUcmJsLmJvdHRvbSAtIHNoYXBlVHJibC50b3ApIDwgMTApIHtcbiAgICAgICAgYm90dG9tUmVzaXplID0gc2hhcGVOZXdUcmJsLnRvcCAtIG90aGVyVHJibC5ib3R0b207XG4gICAgICB9XG5cbiAgICAgIGlmIChhYnMob3RoZXJUcmJsLnRvcCAtIHNoYXBlVHJibC50b3ApIDwgNSkge1xuICAgICAgICB0b3BSZXNpemUgPSBzaGFwZU5ld1RyYmwudG9wIC0gb3RoZXJUcmJsLnRvcDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHJibFJlc2l6ZS5ib3R0b20pIHtcbiAgICAgIGlmIChhYnMob3RoZXJUcmJsLnRvcCAtIHNoYXBlVHJibC5ib3R0b20pIDwgMTApIHtcbiAgICAgICAgdG9wUmVzaXplID0gc2hhcGVOZXdUcmJsLmJvdHRvbSAtIG90aGVyVHJibC50b3A7XG4gICAgICB9XG5cbiAgICAgIGlmIChhYnMob3RoZXJUcmJsLmJvdHRvbSAtIHNoYXBlVHJibC5ib3R0b20pIDwgNSkge1xuICAgICAgICBib3R0b21SZXNpemUgPSBzaGFwZU5ld1RyYmwuYm90dG9tIC0gb3RoZXJUcmJsLmJvdHRvbTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodG9wUmVzaXplIHx8IHJpZ2h0UmVzaXplIHx8IGJvdHRvbVJlc2l6ZSB8fCBsZWZ0UmVzaXplKSB7XG5cbiAgICAgIHJlc2l6ZU5lZWRlZC5wdXNoKHtcbiAgICAgICAgc2hhcGU6IG90aGVyLFxuICAgICAgICBuZXdCb3VuZHM6IHJlc2l6ZVRSQkwob3RoZXIsIHtcbiAgICAgICAgICB0b3A6IHRvcFJlc2l6ZSxcbiAgICAgICAgICByaWdodDogcmlnaHRSZXNpemUsXG4gICAgICAgICAgYm90dG9tOiBib3R0b21SZXNpemUsXG4gICAgICAgICAgbGVmdDogbGVmdFJlc2l6ZVxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfVxuXG4gIH0pO1xuXG4gIHJldHVybiByZXNpemVOZWVkZWQ7XG59Il0sIm5hbWVzIjpbImlzIiwiZ2V0UGFyZW50IiwiYXNUUkJMIiwic3Vic3RyYWN0VFJCTCIsInJlc2l6ZVRSQkwiLCJhYnMiLCJNYXRoIiwiZ2V0VFJCTFJlc2l6ZSIsIm9sZEJvdW5kcyIsIm5ld0JvdW5kcyIsIkxBTkVfUEFSRU5UUyIsIkxBTkVfSU5ERU5UQVRJT04iLCJjb2xsZWN0TGFuZXMiLCJzaGFwZSIsImNvbGxlY3RlZFNoYXBlcyIsImNoaWxkcmVuIiwiZmlsdGVyIiwicyIsInB1c2giLCJnZXRDaGlsZExhbmVzIiwiYyIsImdldExhbmVzUm9vdCIsImNvbXB1dGVMYW5lc1Jlc2l6ZSIsInJvb3RFbGVtZW50IiwiaW5pdGlhbFNoYXBlcyIsImFsbExhbmVzIiwic2hhcGVUcmJsIiwic2hhcGVOZXdUcmJsIiwidHJibFJlc2l6ZSIsInJlc2l6ZU5lZWRlZCIsImZvckVhY2giLCJvdGhlciIsInRvcFJlc2l6ZSIsInJpZ2h0UmVzaXplIiwicmlnaHQiLCJib3R0b21SZXNpemUiLCJsZWZ0UmVzaXplIiwibGVmdCIsIm90aGVyVHJibCIsInRvcCIsImJvdHRvbSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../bpmn-io/bpmn-js/lib/features/modeling/util/LaneUtil.js\n");

/***/ }),

/***/ "../bpmn-io/bpmn-js/lib/features/modeling/util/ModelingUtil.js":
/*!*********************************************************************!*\
  !*** ../bpmn-io/bpmn-js/lib/features/modeling/util/ModelingUtil.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getParent: () => (/* binding */ getParent),\n/* harmony export */   is: () => (/* reexport safe */ _util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.is),\n/* harmony export */   isAny: () => (/* reexport safe */ _util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isAny)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"../bpmn-io/bpmn-js/node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../util/ModelUtil */ \"../bpmn-io/bpmn-js/lib/util/ModelUtil.js\");\n\n\n\n\n/**\n * @typedef {import('../../../model/Types').Element} Element\n */\n\n/**\n * Return the parent of the element with any of the given types.\n *\n * @param {Element} element\n * @param {string|string[]} anyType\n *\n * @return {Element|null}\n */\nfunction getParent(element, anyType) {\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isString)(anyType)) {\n    anyType = [anyType];\n  }\n  while (element = element.parent) {\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isAny)(element, anyType)) {\n      return element;\n    }\n  }\n  return null;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vYnBtbi1pby9icG1uLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy91dGlsL01vZGVsaW5nVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFvQztBQUVnQjtBQUVKOztBQUVoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVNHLFNBQVNBLENBQUNDLE9BQU8sRUFBRUMsT0FBTyxFQUFFO0VBRTFDLElBQUlMLGtEQUFRLENBQUNLLE9BQU8sQ0FBQyxFQUFFO0lBQ3JCQSxPQUFPLEdBQUcsQ0FBRUEsT0FBTyxDQUFFO0VBQ3ZCO0VBRUEsT0FBUUQsT0FBTyxHQUFHQSxPQUFPLENBQUNFLE1BQU0sRUFBRztJQUNqQyxJQUFJSixzREFBSyxDQUFDRSxPQUFPLEVBQUVDLE9BQU8sQ0FBQyxFQUFFO01BQzNCLE9BQU9ELE9BQU87SUFDaEI7RUFDRjtFQUVBLE9BQU8sSUFBSTtBQUNiIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2RheXMtMjAyMy8uLi9icG1uLWlvL2JwbW4tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL3V0aWwvTW9kZWxpbmdVdGlsLmpzPzVjMzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNTdHJpbmcgfSBmcm9tICdtaW4tZGFzaCc7XG5cbmV4cG9ydCB7IGlzLCBpc0FueSB9IGZyb20gJy4uLy4uLy4uL3V0aWwvTW9kZWxVdGlsJztcblxuaW1wb3J0IHsgaXNBbnkgfSBmcm9tICcuLi8uLi8uLi91dGlsL01vZGVsVXRpbCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vLi4vbW9kZWwvVHlwZXMnKS5FbGVtZW50fSBFbGVtZW50XG4gKi9cblxuLyoqXG4gKiBSZXR1cm4gdGhlIHBhcmVudCBvZiB0aGUgZWxlbWVudCB3aXRoIGFueSBvZiB0aGUgZ2l2ZW4gdHlwZXMuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gYW55VHlwZVxuICpcbiAqIEByZXR1cm4ge0VsZW1lbnR8bnVsbH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmVudChlbGVtZW50LCBhbnlUeXBlKSB7XG5cbiAgaWYgKGlzU3RyaW5nKGFueVR5cGUpKSB7XG4gICAgYW55VHlwZSA9IFsgYW55VHlwZSBdO1xuICB9XG5cbiAgd2hpbGUgKChlbGVtZW50ID0gZWxlbWVudC5wYXJlbnQpKSB7XG4gICAgaWYgKGlzQW55KGVsZW1lbnQsIGFueVR5cGUpKSB7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn0iXSwibmFtZXMiOlsiaXNTdHJpbmciLCJpcyIsImlzQW55IiwiZ2V0UGFyZW50IiwiZWxlbWVudCIsImFueVR5cGUiLCJwYXJlbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../bpmn-io/bpmn-js/lib/features/modeling/util/ModelingUtil.js\n");

/***/ }),

/***/ "../bpmn-io/bpmn-js/lib/util/DiUtil.js":
/*!*********************************************!*\
  !*** ../bpmn-io/bpmn-js/lib/util/DiUtil.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hasCompensateEventDefinition: () => (/* binding */ hasCompensateEventDefinition),\n/* harmony export */   hasErrorEventDefinition: () => (/* binding */ hasErrorEventDefinition),\n/* harmony export */   hasEscalationEventDefinition: () => (/* binding */ hasEscalationEventDefinition),\n/* harmony export */   hasEventDefinition: () => (/* binding */ hasEventDefinition),\n/* harmony export */   isEventSubProcess: () => (/* binding */ isEventSubProcess),\n/* harmony export */   isExpanded: () => (/* binding */ isExpanded),\n/* harmony export */   isInterrupting: () => (/* binding */ isInterrupting)\n/* harmony export */ });\n/* harmony import */ var _ModelUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ModelUtil */ \"../bpmn-io/bpmn-js/lib/util/ModelUtil.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"../bpmn-io/bpmn-js/node_modules/min-dash/dist/index.esm.js\");\n\n\n\n/**\n * @typedef {import('../model/Types').Element} Element\n * @typedef {import('../model/Types').ModdleElement} ModdleElement\n */\n\n/**\n * @param {Element} element\n * @param {ModdleElement} [di]\n *\n * @return {boolean}\n */\nfunction isExpanded(element, di) {\n  if ((0,_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.is)(element, 'bpmn:CallActivity')) {\n    return false;\n  }\n  if ((0,_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.is)(element, 'bpmn:SubProcess')) {\n    di = di || (0,_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.getDi)(element);\n    if (di && (0,_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.is)(di, 'bpmndi:BPMNPlane')) {\n      return true;\n    }\n    return di && !!di.isExpanded;\n  }\n  if ((0,_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.is)(element, 'bpmn:Participant')) {\n    return !!(0,_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.getBusinessObject)(element).processRef;\n  }\n  return true;\n}\n\n/**\n * @param {Element} element\n *\n * @return {boolean}\n */\nfunction isInterrupting(element) {\n  return element && (0,_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.getBusinessObject)(element).isInterrupting !== false;\n}\n\n/**\n * @param {Element} element\n *\n * @return {boolean}\n */\nfunction isEventSubProcess(element) {\n  return element && !!(0,_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.getBusinessObject)(element).triggeredByEvent;\n}\n\n/**\n * @param {Element} element\n * @param {string} eventType\n *\n * @return {boolean}\n */\nfunction hasEventDefinition(element, eventType) {\n  var eventDefinitions = (0,_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.getBusinessObject)(element).eventDefinitions;\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.some)(eventDefinitions, function (event) {\n    return (0,_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.is)(event, eventType);\n  });\n}\n\n/**\n * @param {Element} element\n *\n * @return {boolean}\n */\nfunction hasErrorEventDefinition(element) {\n  return hasEventDefinition(element, 'bpmn:ErrorEventDefinition');\n}\n\n/**\n * @param {Element} element\n *\n * @return {boolean}\n */\nfunction hasEscalationEventDefinition(element) {\n  return hasEventDefinition(element, 'bpmn:EscalationEventDefinition');\n}\n\n/**\n * @param {Element} element\n *\n * @return {boolean}\n */\nfunction hasCompensateEventDefinition(element) {\n  return hasEventDefinition(element, 'bpmn:CompensateEventDefinition');\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vYnBtbi1pby9icG1uLWpzL2xpYi91dGlsL0RpVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFJcUI7QUFJSDs7QUFFbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sU0FBU0ksVUFBVUEsQ0FBQ0MsT0FBTyxFQUFFQyxFQUFFLEVBQUU7RUFFdEMsSUFBSU4sOENBQUUsQ0FBQ0ssT0FBTyxFQUFFLG1CQUFtQixDQUFDLEVBQUU7SUFDcEMsT0FBTyxLQUFLO0VBQ2Q7RUFFQSxJQUFJTCw4Q0FBRSxDQUFDSyxPQUFPLEVBQUUsaUJBQWlCLENBQUMsRUFBRTtJQUNsQ0MsRUFBRSxHQUFHQSxFQUFFLElBQUlKLGlEQUFLLENBQUNHLE9BQU8sQ0FBQztJQUV6QixJQUFJQyxFQUFFLElBQUlOLDhDQUFFLENBQUNNLEVBQUUsRUFBRSxrQkFBa0IsQ0FBQyxFQUFFO01BQ3BDLE9BQU8sSUFBSTtJQUNiO0lBRUEsT0FBT0EsRUFBRSxJQUFJLENBQUMsQ0FBQ0EsRUFBRSxDQUFDRixVQUFVO0VBQzlCO0VBRUEsSUFBSUosOENBQUUsQ0FBQ0ssT0FBTyxFQUFFLGtCQUFrQixDQUFDLEVBQUU7SUFDbkMsT0FBTyxDQUFDLENBQUNKLDZEQUFpQixDQUFDSSxPQUFPLENBQUMsQ0FBQ0UsVUFBVTtFQUNoRDtFQUVBLE9BQU8sSUFBSTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTQyxjQUFjQSxDQUFDSCxPQUFPLEVBQUU7RUFDdEMsT0FBT0EsT0FBTyxJQUFJSiw2REFBaUIsQ0FBQ0ksT0FBTyxDQUFDLENBQUNHLGNBQWMsS0FBSyxLQUFLO0FBQ3ZFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTQyxpQkFBaUJBLENBQUNKLE9BQU8sRUFBRTtFQUN6QyxPQUFPQSxPQUFPLElBQUksQ0FBQyxDQUFDSiw2REFBaUIsQ0FBQ0ksT0FBTyxDQUFDLENBQUNLLGdCQUFnQjtBQUNqRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTQyxrQkFBa0JBLENBQUNOLE9BQU8sRUFBRU8sU0FBUyxFQUFFO0VBQ3JELElBQUlDLGdCQUFnQixHQUFHWiw2REFBaUIsQ0FBQ0ksT0FBTyxDQUFDLENBQUNRLGdCQUFnQjtFQUVsRSxPQUFPViw4Q0FBSSxDQUFDVSxnQkFBZ0IsRUFBRSxVQUFTQyxLQUFLLEVBQUU7SUFDNUMsT0FBT2QsOENBQUUsQ0FBQ2MsS0FBSyxFQUFFRixTQUFTLENBQUM7RUFDN0IsQ0FBQyxDQUFDO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVNHLHVCQUF1QkEsQ0FBQ1YsT0FBTyxFQUFFO0VBQy9DLE9BQU9NLGtCQUFrQixDQUFDTixPQUFPLEVBQUUsMkJBQTJCLENBQUM7QUFDakU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVNXLDRCQUE0QkEsQ0FBQ1gsT0FBTyxFQUFFO0VBQ3BELE9BQU9NLGtCQUFrQixDQUFDTixPQUFPLEVBQUUsZ0NBQWdDLENBQUM7QUFDdEU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVNZLDRCQUE0QkEsQ0FBQ1osT0FBTyxFQUFFO0VBQ3BELE9BQU9NLGtCQUFrQixDQUFDTixPQUFPLEVBQUUsZ0NBQWdDLENBQUM7QUFDdEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZGF5cy0yMDIzLy4uL2JwbW4taW8vYnBtbi1qcy9saWIvdXRpbC9EaVV0aWwuanM/MWFjMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBpcyxcbiAgZ2V0QnVzaW5lc3NPYmplY3QsXG4gIGdldERpXG59IGZyb20gJy4vTW9kZWxVdGlsJztcblxuaW1wb3J0IHtcbiAgc29tZVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vbW9kZWwvVHlwZXMnKS5FbGVtZW50fSBFbGVtZW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb2RlbC9UeXBlcycpLk1vZGRsZUVsZW1lbnR9IE1vZGRsZUVsZW1lbnRcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtNb2RkbGVFbGVtZW50fSBbZGldXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRXhwYW5kZWQoZWxlbWVudCwgZGkpIHtcblxuICBpZiAoaXMoZWxlbWVudCwgJ2JwbW46Q2FsbEFjdGl2aXR5JykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoaXMoZWxlbWVudCwgJ2JwbW46U3ViUHJvY2VzcycpKSB7XG4gICAgZGkgPSBkaSB8fCBnZXREaShlbGVtZW50KTtcblxuICAgIGlmIChkaSAmJiBpcyhkaSwgJ2JwbW5kaTpCUE1OUGxhbmUnKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpICYmICEhZGkuaXNFeHBhbmRlZDtcbiAgfVxuXG4gIGlmIChpcyhlbGVtZW50LCAnYnBtbjpQYXJ0aWNpcGFudCcpKSB7XG4gICAgcmV0dXJuICEhZ2V0QnVzaW5lc3NPYmplY3QoZWxlbWVudCkucHJvY2Vzc1JlZjtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVycnVwdGluZyhlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50ICYmIGdldEJ1c2luZXNzT2JqZWN0KGVsZW1lbnQpLmlzSW50ZXJydXB0aW5nICE9PSBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFdmVudFN1YlByb2Nlc3MoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudCAmJiAhIWdldEJ1c2luZXNzT2JqZWN0KGVsZW1lbnQpLnRyaWdnZXJlZEJ5RXZlbnQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0V2ZW50RGVmaW5pdGlvbihlbGVtZW50LCBldmVudFR5cGUpIHtcbiAgdmFyIGV2ZW50RGVmaW5pdGlvbnMgPSBnZXRCdXNpbmVzc09iamVjdChlbGVtZW50KS5ldmVudERlZmluaXRpb25zO1xuXG4gIHJldHVybiBzb21lKGV2ZW50RGVmaW5pdGlvbnMsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgcmV0dXJuIGlzKGV2ZW50LCBldmVudFR5cGUpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzRXJyb3JFdmVudERlZmluaXRpb24oZWxlbWVudCkge1xuICByZXR1cm4gaGFzRXZlbnREZWZpbml0aW9uKGVsZW1lbnQsICdicG1uOkVycm9yRXZlbnREZWZpbml0aW9uJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0VzY2FsYXRpb25FdmVudERlZmluaXRpb24oZWxlbWVudCkge1xuICByZXR1cm4gaGFzRXZlbnREZWZpbml0aW9uKGVsZW1lbnQsICdicG1uOkVzY2FsYXRpb25FdmVudERlZmluaXRpb24nKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzQ29tcGVuc2F0ZUV2ZW50RGVmaW5pdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBoYXNFdmVudERlZmluaXRpb24oZWxlbWVudCwgJ2JwbW46Q29tcGVuc2F0ZUV2ZW50RGVmaW5pdGlvbicpO1xufVxuIl0sIm5hbWVzIjpbImlzIiwiZ2V0QnVzaW5lc3NPYmplY3QiLCJnZXREaSIsInNvbWUiLCJpc0V4cGFuZGVkIiwiZWxlbWVudCIsImRpIiwicHJvY2Vzc1JlZiIsImlzSW50ZXJydXB0aW5nIiwiaXNFdmVudFN1YlByb2Nlc3MiLCJ0cmlnZ2VyZWRCeUV2ZW50IiwiaGFzRXZlbnREZWZpbml0aW9uIiwiZXZlbnRUeXBlIiwiZXZlbnREZWZpbml0aW9ucyIsImV2ZW50IiwiaGFzRXJyb3JFdmVudERlZmluaXRpb24iLCJoYXNFc2NhbGF0aW9uRXZlbnREZWZpbml0aW9uIiwiaGFzQ29tcGVuc2F0ZUV2ZW50RGVmaW5pdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../bpmn-io/bpmn-js/lib/util/DiUtil.js\n");

/***/ }),

/***/ "../bpmn-io/bpmn-js/lib/util/ModelUtil.js":
/*!************************************************!*\
  !*** ../bpmn-io/bpmn-js/lib/util/ModelUtil.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getBusinessObject: () => (/* binding */ getBusinessObject),\n/* harmony export */   getDi: () => (/* binding */ getDi),\n/* harmony export */   is: () => (/* binding */ is),\n/* harmony export */   isAny: () => (/* binding */ isAny)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"../bpmn-io/bpmn-js/node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef { import('../model/Types').Element } Element\n * @typedef { import('../model/Types').ModdleElement } ModdleElement\n */\n\n/**\n * Is an element of the given BPMN type?\n *\n * @param  {Element|ModdleElement} element\n * @param  {string} type\n *\n * @return {boolean}\n */\nfunction is(element, type) {\n  var bo = getBusinessObject(element);\n  return bo && typeof bo.$instanceOf === 'function' && bo.$instanceOf(type);\n}\n\n/**\n * Return true if element has any of the given types.\n *\n * @param {Element|ModdleElement} element\n * @param {string[]} types\n *\n * @return {boolean}\n */\nfunction isAny(element, types) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.some)(types, function (t) {\n    return is(element, t);\n  });\n}\n\n/**\n * Return the business object for a given element.\n *\n * @param {Element|ModdleElement} element\n *\n * @return {ModdleElement}\n */\nfunction getBusinessObject(element) {\n  return element && element.businessObject || element;\n}\n\n/**\n * Return the di object for a given element.\n *\n * @param {Element} element\n *\n * @return {ModdleElement}\n */\nfunction getDi(element) {\n  return element && element.di;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vYnBtbi1pby9icG1uLWpzL2xpYi91dGlsL01vZGVsVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUVrQjs7QUFFbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVNDLEVBQUVBLENBQUNDLE9BQU8sRUFBRUMsSUFBSSxFQUFFO0VBQ2hDLElBQUlDLEVBQUUsR0FBR0MsaUJBQWlCLENBQUNILE9BQU8sQ0FBQztFQUVuQyxPQUFPRSxFQUFFLElBQUssT0FBT0EsRUFBRSxDQUFDRSxXQUFXLEtBQUssVUFBVyxJQUFJRixFQUFFLENBQUNFLFdBQVcsQ0FBQ0gsSUFBSSxDQUFDO0FBQzdFOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTSSxLQUFLQSxDQUFDTCxPQUFPLEVBQUVNLEtBQUssRUFBRTtFQUNwQyxPQUFPUiw4Q0FBSSxDQUFDUSxLQUFLLEVBQUUsVUFBU0MsQ0FBQyxFQUFFO0lBQzdCLE9BQU9SLEVBQUUsQ0FBQ0MsT0FBTyxFQUFFTyxDQUFDLENBQUM7RUFDdkIsQ0FBQyxDQUFDO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTSixpQkFBaUJBLENBQUNILE9BQU8sRUFBRTtFQUN6QyxPQUFRQSxPQUFPLElBQUlBLE9BQU8sQ0FBQ1EsY0FBYyxJQUFLUixPQUFPO0FBQ3ZEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sU0FBU1MsS0FBS0EsQ0FBQ1QsT0FBTyxFQUFFO0VBQzdCLE9BQU9BLE9BQU8sSUFBSUEsT0FBTyxDQUFDVSxFQUFFO0FBQzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2RheXMtMjAyMy8uLi9icG1uLWlvL2JwbW4tanMvbGliL3V0aWwvTW9kZWxVdGlsLmpzPzdlYjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgc29tZVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbi8qKlxuICogQHR5cGVkZWYgeyBpbXBvcnQoJy4uL21vZGVsL1R5cGVzJykuRWxlbWVudCB9IEVsZW1lbnRcbiAqIEB0eXBlZGVmIHsgaW1wb3J0KCcuLi9tb2RlbC9UeXBlcycpLk1vZGRsZUVsZW1lbnQgfSBNb2RkbGVFbGVtZW50XG4gKi9cblxuLyoqXG4gKiBJcyBhbiBlbGVtZW50IG9mIHRoZSBnaXZlbiBCUE1OIHR5cGU/XG4gKlxuICogQHBhcmFtICB7RWxlbWVudHxNb2RkbGVFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0gIHtzdHJpbmd9IHR5cGVcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXMoZWxlbWVudCwgdHlwZSkge1xuICB2YXIgYm8gPSBnZXRCdXNpbmVzc09iamVjdChlbGVtZW50KTtcblxuICByZXR1cm4gYm8gJiYgKHR5cGVvZiBiby4kaW5zdGFuY2VPZiA9PT0gJ2Z1bmN0aW9uJykgJiYgYm8uJGluc3RhbmNlT2YodHlwZSk7XG59XG5cblxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSBpZiBlbGVtZW50IGhhcyBhbnkgb2YgdGhlIGdpdmVuIHR5cGVzLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudHxNb2RkbGVFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ1tdfSB0eXBlc1xuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FueShlbGVtZW50LCB0eXBlcykge1xuICByZXR1cm4gc29tZSh0eXBlcywgZnVuY3Rpb24odCkge1xuICAgIHJldHVybiBpcyhlbGVtZW50LCB0KTtcbiAgfSk7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBidXNpbmVzcyBvYmplY3QgZm9yIGEgZ2l2ZW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR8TW9kZGxlRWxlbWVudH0gZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge01vZGRsZUVsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRCdXNpbmVzc09iamVjdChlbGVtZW50KSB7XG4gIHJldHVybiAoZWxlbWVudCAmJiBlbGVtZW50LmJ1c2luZXNzT2JqZWN0KSB8fCBlbGVtZW50O1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgZGkgb2JqZWN0IGZvciBhIGdpdmVuIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7TW9kZGxlRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERpKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQgJiYgZWxlbWVudC5kaTtcbn0iXSwibmFtZXMiOlsic29tZSIsImlzIiwiZWxlbWVudCIsInR5cGUiLCJibyIsImdldEJ1c2luZXNzT2JqZWN0IiwiJGluc3RhbmNlT2YiLCJpc0FueSIsInR5cGVzIiwidCIsImJ1c2luZXNzT2JqZWN0IiwiZ2V0RGkiLCJkaSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../bpmn-io/bpmn-js/lib/util/ModelUtil.js\n");

/***/ }),

/***/ "../bpmn-io/diagram-js/lib/features/resize/ResizeUtil.js":
/*!***************************************************************!*\
  !*** ../bpmn-io/diagram-js/lib/features/resize/ResizeUtil.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addPadding: () => (/* binding */ addPadding),\n/* harmony export */   computeChildrenBBox: () => (/* binding */ computeChildrenBBox),\n/* harmony export */   ensureConstraints: () => (/* binding */ ensureConstraints),\n/* harmony export */   getMinResizeBounds: () => (/* binding */ getMinResizeBounds),\n/* harmony export */   reattachPoint: () => (/* binding */ reattachPoint),\n/* harmony export */   resizeBounds: () => (/* binding */ resizeBounds),\n/* harmony export */   resizeTRBL: () => (/* binding */ resizeTRBL),\n/* harmony export */   substractTRBL: () => (/* binding */ substractTRBL)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"../bpmn-io/diagram-js/node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_Elements__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Elements */ \"../bpmn-io/diagram-js/lib/util/Elements.js\");\n/* harmony import */ var _layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layout/LayoutUtil */ \"../bpmn-io/diagram-js/lib/layout/LayoutUtil.js\");\n\nvar max = Math.max,\n  min = Math.min;\nvar DEFAULT_CHILD_BOX_PADDING = 20;\n\n\n\n/**\n * @typedef {import('../../core/Types').ElementLike} Element\n * @typedef {import('../../core/Types').ShapeLike} Shape\n *\n * @typedef {import('../../util/Types').Direction} Direction\n * @typedef {import('../../util/Types').Point} Point\n * @typedef {import('../../util/Types').Rect} Rect\n * @typedef {import('../../util/Types').RectTRBL} RectTRBL\n */\n\n/**\n * Substract a TRBL from another\n *\n * @param {RectTRBL} trblA\n * @param {RectTRBL} trblB\n *\n * @return {RectTRBL}\n */\nfunction substractTRBL(trblA, trblB) {\n  return {\n    top: trblA.top - trblB.top,\n    right: trblA.right - trblB.right,\n    bottom: trblA.bottom - trblB.bottom,\n    left: trblA.left - trblB.left\n  };\n}\n\n/**\n * Resize the given bounds by the specified delta from a given anchor point.\n *\n * @param {Rect} bounds the bounding box that should be resized\n * @param {Direction} direction in which the element is resized (nw, ne, se, sw)\n * @param {Point} delta of the resize operation\n *\n * @return {Rect} resized bounding box\n */\nfunction resizeBounds(bounds, direction, delta) {\n  var dx = delta.x,\n    dy = delta.y;\n  var newBounds = {\n    x: bounds.x,\n    y: bounds.y,\n    width: bounds.width,\n    height: bounds.height\n  };\n  if (direction.indexOf('n') !== -1) {\n    newBounds.y = bounds.y + dy;\n    newBounds.height = bounds.height - dy;\n  } else if (direction.indexOf('s') !== -1) {\n    newBounds.height = bounds.height + dy;\n  }\n  if (direction.indexOf('e') !== -1) {\n    newBounds.width = bounds.width + dx;\n  } else if (direction.indexOf('w') !== -1) {\n    newBounds.x = bounds.x + dx;\n    newBounds.width = bounds.width - dx;\n  }\n  return newBounds;\n}\n\n/**\n * Resize the given bounds by applying the passed\n * { top, right, bottom, left } delta.\n *\n * @param {Rect} bounds\n * @param {RectTRBL} resize\n *\n * @return {Rect}\n */\nfunction resizeTRBL(bounds, resize) {\n  return {\n    x: bounds.x + (resize.left || 0),\n    y: bounds.y + (resize.top || 0),\n    width: bounds.width - (resize.left || 0) + (resize.right || 0),\n    height: bounds.height - (resize.top || 0) + (resize.bottom || 0)\n  };\n}\nfunction reattachPoint(bounds, newBounds, point) {\n  var sx = bounds.width / newBounds.width,\n    sy = bounds.height / newBounds.height;\n  return {\n    x: Math.round(newBounds.x + newBounds.width / 2) - Math.floor((bounds.x + bounds.width / 2 - point.x) / sx),\n    y: Math.round(newBounds.y + newBounds.height / 2) - Math.floor((bounds.y + bounds.height / 2 - point.y) / sy)\n  };\n}\nfunction applyConstraints(attr, trbl, resizeConstraints) {\n  var value = trbl[attr],\n    minValue = resizeConstraints.min && resizeConstraints.min[attr],\n    maxValue = resizeConstraints.max && resizeConstraints.max[attr];\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(minValue)) {\n    value = (/top|left/.test(attr) ? min : max)(value, minValue);\n  }\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(maxValue)) {\n    value = (/top|left/.test(attr) ? max : min)(value, maxValue);\n  }\n  return value;\n}\nfunction ensureConstraints(currentBounds, resizeConstraints) {\n  if (!resizeConstraints) {\n    return currentBounds;\n  }\n  var currentTrbl = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(currentBounds);\n  return (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asBounds)({\n    top: applyConstraints('top', currentTrbl, resizeConstraints),\n    right: applyConstraints('right', currentTrbl, resizeConstraints),\n    bottom: applyConstraints('bottom', currentTrbl, resizeConstraints),\n    left: applyConstraints('left', currentTrbl, resizeConstraints)\n  });\n}\nfunction getMinResizeBounds(direction, currentBounds, minDimensions, childrenBounds) {\n  var currentBox = (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(currentBounds);\n  var minBox = {\n    top: /n/.test(direction) ? currentBox.bottom - minDimensions.height : currentBox.top,\n    left: /w/.test(direction) ? currentBox.right - minDimensions.width : currentBox.left,\n    bottom: /s/.test(direction) ? currentBox.top + minDimensions.height : currentBox.bottom,\n    right: /e/.test(direction) ? currentBox.left + minDimensions.width : currentBox.right\n  };\n  var childrenBox = childrenBounds ? (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asTRBL)(childrenBounds) : minBox;\n  var combinedBox = {\n    top: min(minBox.top, childrenBox.top),\n    left: min(minBox.left, childrenBox.left),\n    bottom: max(minBox.bottom, childrenBox.bottom),\n    right: max(minBox.right, childrenBox.right)\n  };\n  return (0,_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.asBounds)(combinedBox);\n}\nfunction asPadding(mayBePadding, defaultValue) {\n  if (typeof mayBePadding !== 'undefined') {\n    return mayBePadding;\n  } else {\n    return DEFAULT_CHILD_BOX_PADDING;\n  }\n}\nfunction addPadding(bbox, padding) {\n  var left, right, top, bottom;\n  if (typeof padding === 'object') {\n    left = asPadding(padding.left);\n    right = asPadding(padding.right);\n    top = asPadding(padding.top);\n    bottom = asPadding(padding.bottom);\n  } else {\n    left = right = top = bottom = asPadding(padding);\n  }\n  return {\n    x: bbox.x - left,\n    y: bbox.y - top,\n    width: bbox.width + left + right,\n    height: bbox.height + top + bottom\n  };\n}\n\n/**\n * Is the given element part of the resize\n * targets min boundary box?\n *\n * This is the default implementation which excludes\n * connections and labels.\n *\n * @param {Element} element\n */\nfunction isBBoxChild(element) {\n  // exclude connections\n  if (element.waypoints) {\n    return false;\n  }\n\n  // exclude labels\n  if (element.type === 'label') {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Return children bounding computed from a shapes children\n * or a list of prefiltered children.\n *\n * @param {Shape|Shape[]} shapeOrChildren\n * @param {RectTRBL|number} padding\n *\n * @return {Rect}\n */\nfunction computeChildrenBBox(shapeOrChildren, padding) {\n  var elements;\n\n  // compute based on shape\n  if (shapeOrChildren.length === undefined) {\n    // grab all the children that are part of the\n    // parents children box\n    elements = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.filter)(shapeOrChildren.children, isBBoxChild);\n  } else {\n    elements = shapeOrChildren;\n  }\n  if (elements.length) {\n    return addPadding((0,_util_Elements__WEBPACK_IMPORTED_MODULE_2__.getBBox)(elements), padding);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vYnBtbi1pby9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9yZXNpemUvUmVzaXplVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUdrQjtBQUVsQixJQUFJRSxHQUFHLEdBQUdDLElBQUksQ0FBQ0QsR0FBRztFQUNkRSxHQUFHLEdBQUdELElBQUksQ0FBQ0MsR0FBRztBQUVsQixJQUFJQyx5QkFBeUIsR0FBRyxFQUFFO0FBSUw7QUFLSTs7QUFFakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTSSxhQUFhQSxDQUFDQyxLQUFLLEVBQUVDLEtBQUssRUFBRTtFQUMxQyxPQUFPO0lBQ0xDLEdBQUcsRUFBRUYsS0FBSyxDQUFDRSxHQUFHLEdBQUdELEtBQUssQ0FBQ0MsR0FBRztJQUMxQkMsS0FBSyxFQUFFSCxLQUFLLENBQUNHLEtBQUssR0FBR0YsS0FBSyxDQUFDRSxLQUFLO0lBQ2hDQyxNQUFNLEVBQUVKLEtBQUssQ0FBQ0ksTUFBTSxHQUFHSCxLQUFLLENBQUNHLE1BQU07SUFDbkNDLElBQUksRUFBRUwsS0FBSyxDQUFDSyxJQUFJLEdBQUdKLEtBQUssQ0FBQ0k7RUFDM0IsQ0FBQztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVNDLFlBQVlBLENBQUNDLE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxLQUFLLEVBQUU7RUFDckQsSUFBSUMsRUFBRSxHQUFHRCxLQUFLLENBQUNFLENBQUM7SUFDWkMsRUFBRSxHQUFHSCxLQUFLLENBQUNJLENBQUM7RUFFaEIsSUFBSUMsU0FBUyxHQUFHO0lBQ2RILENBQUMsRUFBRUosTUFBTSxDQUFDSSxDQUFDO0lBQ1hFLENBQUMsRUFBRU4sTUFBTSxDQUFDTSxDQUFDO0lBQ1hFLEtBQUssRUFBRVIsTUFBTSxDQUFDUSxLQUFLO0lBQ25CQyxN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QUksQ0FBQ3JDLENBQUMsR0FBR04sSUFBSTtJQUNoQlEsQ0FBQyxFQUFFbUMsSUFBSSxDQUFDbkMsQ0FBQyxHQUFHWCxHQUFHO0lBQ2ZhLEtBQUssRUFBRWlDLElBQUksQ0FBQ2pDLEtBQUssR0FBR1YsSUFBSSxHQUFHRixLQUFLO0lBQ2hDYSxNQUFNLEVBQUVnQyxJQUFJLENBQUNoQyxNQUFNLEdBQUdkLEdBQUcsR0FBR0U7RUFDOUIsQ0FBQztBQUNIOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM4QyxXQUFXQSxDQUFDQyxPQUFPLEVBQUU7RUFFNUI7RUFDQSxJQUFJQSxPQUFPLENBQUNDLFNBQVMsRUFBRTtJQUNyQixPQUFPLEtBQUs7RUFDZDs7RUFFQTtFQUNBLElBQUlELE9BQU8sQ0FBQ0UsSUFBSSxLQUFLLE9BQU8sRUFBRTtJQUM1QixPQUFPLEtBQUs7RUFDZDtFQUVBLE9BQU8sSUFBSTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVNDLG1CQUFtQkEsQ0FBQ0MsZUFBZSxFQUFFTixPQUFPLEVBQUU7RUFFNUQsSUFBSU8sUUFBUTs7RUFFWjtFQUNBLElBQUlELGVBQWUsQ0FBQ0UsTUFBTSxLQUFLQyxTQUFTLEVBQUU7SUFFeEM7SUFDQTtJQUNBRixRQUFRLEdBQUdsRSxnREFBTSxDQUFDaUUsZUFBZSxDQUFDSSxRQUFRLEVBQUVULFdBQVcsQ0FBQztFQUUxRCxDQUFDLE1BQU07SUFDTE0sUUFBUSxHQUFHRCxlQUFlO0VBQzVCO0VBRUEsSUFBSUMsUUFBUSxDQUFDQyxNQUFNLEVBQUU7SUFDbkIsT0FBT1YsVUFBVSxDQUFDbkQsdURBQU8sQ0FBQzRELFFBQVEsQ0FBQyxFQUFFUCxPQUFPLENBQUM7RUFDL0M7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2tkYXlzLTIwMjMvLi4vYnBtbi1pby9kaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9yZXNpemUvUmVzaXplVXRpbC5qcz84ZDNiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGZpbHRlcixcbiAgaXNOdW1iZXJcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG52YXIgbWF4ID0gTWF0aC5tYXgsXG4gICAgbWluID0gTWF0aC5taW47XG5cbnZhciBERUZBVUxUX0NISUxEX0JPWF9QQURESU5HID0gMjA7XG5cbmltcG9ydCB7XG4gIGdldEJCb3hcbn0gZnJvbSAnLi4vLi4vdXRpbC9FbGVtZW50cyc7XG5cbmltcG9ydCB7XG4gIGFzVFJCTCxcbiAgYXNCb3VuZHNcbn0gZnJvbSAnLi4vLi4vbGF5b3V0L0xheW91dFV0aWwnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvVHlwZXMnKS5FbGVtZW50TGlrZX0gRWxlbWVudFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9UeXBlcycpLlNoYXBlTGlrZX0gU2hhcGVcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuRGlyZWN0aW9ufSBEaXJlY3Rpb25cbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5SZWN0fSBSZWN0XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuUmVjdFRSQkx9IFJlY3RUUkJMXG4gKi9cblxuLyoqXG4gKiBTdWJzdHJhY3QgYSBUUkJMIGZyb20gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7UmVjdFRSQkx9IHRyYmxBXG4gKiBAcGFyYW0ge1JlY3RUUkJMfSB0cmJsQlxuICpcbiAqIEByZXR1cm4ge1JlY3RUUkJMfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3Vic3RyYWN0VFJCTCh0cmJsQSwgdHJibEIpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IHRyYmxBLnRvcCAtIHRyYmxCLnRvcCxcbiAgICByaWdodDogdHJibEEucmlnaHQgLSB0cmJsQi5yaWdodCxcbiAgICBib3R0b206IHRyYmxBLmJvdHRvbSAtIHRyYmxCLmJvdHRvbSxcbiAgICBsZWZ0OiB0cmJsQS5sZWZ0IC0gdHJibEIubGVmdFxuICB9O1xufVxuXG4vKipcbiAqIFJlc2l6ZSB0aGUgZ2l2ZW4gYm91bmRzIGJ5IHRoZSBzcGVjaWZpZWQgZGVsdGEgZnJvbSBhIGdpdmVuIGFuY2hvciBwb2ludC5cbiAqXG4gKiBAcGFyYW0ge1JlY3R9IGJvdW5kcyB0aGUgYm91bmRpbmcgYm94IHRoYXQgc2hvdWxkIGJlIHJlc2l6ZWRcbiAqIEBwYXJhbSB7RGlyZWN0aW9ufSBkaXJlY3Rpb24gaW4gd2hpY2ggdGhlIGVsZW1lbnQgaXMgcmVzaXplZCAobncsIG5lLCBzZSwgc3cpXG4gKiBAcGFyYW0ge1BvaW50fSBkZWx0YSBvZiB0aGUgcmVzaXplIG9wZXJhdGlvblxuICpcbiAqIEByZXR1cm4ge1JlY3R9IHJlc2l6ZWQgYm91bmRpbmcgYm94XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNpemVCb3VuZHMoYm91bmRzLCBkaXJlY3Rpb24sIGRlbHRhKSB7XG4gIHZhciBkeCA9IGRlbHRhLngsXG4gICAgICBkeSA9IGRlbHRhLnk7XG5cbiAgdmFyIG5ld0JvdW5kcyA9IHtcbiAgICB4OiBib3VuZHMueCxcbiAgICB5OiBib3VuZHMueSxcbiAgICB3aWR0aDogYm91bmRzLndpZHRoLFxuICAgIGhlaWdodDogYm91bmRzLmhlaWdodFxuICB9O1xuXG4gIGlmIChkaXJlY3Rpb24uaW5kZXhPZignbicpICE9PSAtMSkge1xuICAgIG5ld0JvdW5kcy55ID0gYm91bmRzLnkgKyBkeTtcbiAgICBuZXdCb3VuZHMuaGVpZ2h0ID0gYm91bmRzLmhlaWdodCAtIGR5O1xuICB9IGVsc2UgaWYgKGRpcmVjdGlvbi5pbmRleE9mKCdzJykgIT09IC0xKSB7XG4gICAgbmV3Qm91bmRzLmhlaWdodCA9IGJvdW5kcy5oZWlnaHQgKyBkeTtcbiAgfVxuXG4gIGlmIChkaXJlY3Rpb24uaW5kZXhPZignZScpICE9PSAtMSkge1xuICAgIG5ld0JvdW5kcy53aWR0aCA9IGJvdW5kcy53aWR0aCArIGR4O1xuICB9IGVsc2UgaWYgKGRpcmVjdGlvbi5pbmRleE9mKCd3JykgIT09IC0xKSB7XG4gICAgbmV3Qm91bmRzLnggPSBib3VuZHMueCArIGR4O1xuICAgIG5ld0JvdW5kcy53aWR0aCA9IGJvdW5kcy53aWR0aCAtIGR4O1xuICB9XG5cbiAgcmV0dXJuIG5ld0JvdW5kcztcbn1cblxuXG4vKipcbiAqIFJlc2l6ZSB0aGUgZ2l2ZW4gYm91bmRzIGJ5IGFwcGx5aW5nIHRoZSBwYXNzZWRcbiAqIHsgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0IH0gZGVsdGEuXG4gKlxuICogQHBhcmFtIHtSZWN0fSBib3VuZHNcbiAqIEBwYXJhbSB7UmVjdFRSQkx9IHJlc2l6ZVxuICpcbiAqIEByZXR1cm4ge1JlY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNpemVUUkJMKGJvdW5kcywgcmVzaXplKSB7XG4gIHJldHVybiB7XG4gICAgeDogYm91bmRzLnggKyAocmVzaXplLmxlZnQgfHwgMCksXG4gICAgeTogYm91bmRzLnkgKyAocmVzaXplLnRvcCB8fCAwKSxcbiAgICB3aWR0aDogYm91bmRzLndpZHRoIC0gKHJlc2l6ZS5sZWZ0IHx8IDApICsgKHJlc2l6ZS5yaWdodCB8fCAwKSxcbiAgICBoZWlnaHQ6IGJvdW5kcy5oZWlnaHQgLSAocmVzaXplLnRvcCB8fCAwKSArIChyZXNpemUuYm90dG9tIHx8IDApXG4gIH07XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJlYXR0YWNoUG9pbnQoYm91bmRzLCBuZXdCb3VuZHMsIHBvaW50KSB7XG5cbiAgdmFyIHN4ID0gYm91bmRzLndpZHRoIC8gbmV3Qm91bmRzLndpZHRoLFxuICAgICAgc3kgPSBib3VuZHMuaGVpZ2h0IC8gbmV3Qm91bmRzLmhlaWdodDtcblxuICByZXR1cm4ge1xuICAgIHg6IE1hdGgucm91bmQoKG5ld0JvdW5kcy54ICsgbmV3Qm91bmRzLndpZHRoIC8gMikpIC0gTWF0aC5mbG9vcigoKGJvdW5kcy54ICsgYm91bmRzLndpZHRoIC8gMikgLSBwb2ludC54KSAvIHN4KSxcbiAgICB5OiBNYXRoLnJvdW5kKChuZXdCb3VuZHMueSArIG5ld0JvdW5kcy5oZWlnaHQgLyAyKSkgLSBNYXRoLmZsb29yKCgoYm91bmRzLnkgKyBib3VuZHMuaGVpZ2h0IC8gMikgLSBwb2ludC55KSAvIHN5KVxuICB9O1xufVxuXG5cbmZ1bmN0aW9uIGFwcGx5Q29uc3RyYWludHMoYXR0ciwgdHJibCwgcmVzaXplQ29uc3RyYWludHMpIHtcblxuICB2YXIgdmFsdWUgPSB0cmJsW2F0dHJdLFxuICAgICAgbWluVmFsdWUgPSByZXNpemVDb25zdHJhaW50cy5taW4gJiYgcmVzaXplQ29uc3RyYWludHMubWluW2F0dHJdLFxuICAgICAgbWF4VmFsdWUgPSByZXNpemVDb25zdHJhaW50cy5tYXggJiYgcmVzaXplQ29uc3RyYWludHMubWF4W2F0dHJdO1xuXG4gIGlmIChpc051bWJlcihtaW5WYWx1ZSkpIHtcbiAgICB2YWx1ZSA9ICgvdG9wfGxlZnQvLnRlc3QoYXR0cikgPyBtaW4gOiBtYXgpKHZhbHVlLCBtaW5WYWx1ZSk7XG4gIH1cblxuICBpZiAoaXNOdW1iZXIobWF4VmFsdWUpKSB7XG4gICAgdmFsdWUgPSAoL3RvcHxsZWZ0Ly50ZXN0KGF0dHIpID8gbWF4IDogbWluKSh2YWx1ZSwgbWF4VmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlQ29uc3RyYWludHMoY3VycmVudEJvdW5kcywgcmVzaXplQ29uc3RyYWludHMpIHtcblxuICBpZiAoIXJlc2l6ZUNvbnN0cmFpbnRzKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRCb3VuZHM7XG4gIH1cblxuICB2YXIgY3VycmVudFRyYmwgPSBhc1RSQkwoY3VycmVudEJvdW5kcyk7XG5cbiAgcmV0dXJuIGFzQm91bmRzKHtcbiAgICB0b3A6IGFwcGx5Q29uc3RyYWludHMoJ3RvcCcsIGN1cnJlbnRUcmJsLCByZXNpemVDb25zdHJhaW50cyksXG4gICAgcmlnaHQ6IGFwcGx5Q29uc3RyYWludHMoJ3JpZ2h0JywgY3VycmVudFRyYmwsIHJlc2l6ZUNvbnN0cmFpbnRzKSxcbiAgICBib3R0b206IGFwcGx5Q29uc3RyYWludHMoJ2JvdHRvbScsIGN1cnJlbnRUcmJsLCByZXNpemVDb25zdHJhaW50cyksXG4gICAgbGVmdDogYXBwbHlDb25zdHJhaW50cygnbGVmdCcsIGN1cnJlbnRUcmJsLCByZXNpemVDb25zdHJhaW50cylcbiAgfSk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1pblJlc2l6ZUJvdW5kcyhkaXJlY3Rpb24sIGN1cnJlbnRCb3VuZHMsIG1pbkRpbWVuc2lvbnMsIGNoaWxkcmVuQm91bmRzKSB7XG5cbiAgdmFyIGN1cnJlbnRCb3ggPSBhc1RSQkwoY3VycmVudEJvdW5kcyk7XG5cbiAgdmFyIG1pbkJveCA9IHtcbiAgICB0b3A6IC9uLy50ZXN0KGRpcmVjdGlvbikgPyBjdXJyZW50Qm94LmJvdHRvbSAtIG1pbkRpbWVuc2lvbnMuaGVpZ2h0IDogY3VycmVudEJveC50b3AsXG4gICAgbGVmdDogL3cvLnRlc3QoZGlyZWN0aW9uKSA/IGN1cnJlbnRCb3gucmlnaHQgLSBtaW5EaW1lbnNpb25zLndpZHRoIDogY3VycmVudEJveC5sZWZ0LFxuICAgIGJvdHRvbTogL3MvLnRlc3QoZGlyZWN0aW9uKSA/IGN1cnJlbnRCb3gudG9wICsgbWluRGltZW5zaW9ucy5oZWlnaHQgOiBjdXJyZW50Qm94LmJvdHRvbSxcbiAgICByaWdodDogL2UvLnRlc3QoZGlyZWN0aW9uKSA/IGN1cnJlbnRCb3gubGVmdCArIG1pbkRpbWVuc2lvbnMud2lkdGggOiBjdXJyZW50Qm94LnJpZ2h0XG4gIH07XG5cbiAgdmFyIGNoaWxkcmVuQm94ID0gY2hpbGRyZW5Cb3VuZHMgPyBhc1RSQkwoY2hpbGRyZW5Cb3VuZHMpIDogbWluQm94O1xuXG4gIHZhciBjb21iaW5lZEJveCA9IHtcbiAgICB0b3A6IG1pbihtaW5Cb3gudG9wLCBjaGlsZHJlbkJveC50b3ApLFxuICAgIGxlZnQ6IG1pbihtaW5Cb3gubGVmdCwgY2hpbGRyZW5Cb3gubGVmdCksXG4gICAgYm90dG9tOiBtYXgobWluQm94LmJvdHRvbSwgY2hpbGRyZW5Cb3guYm90dG9tKSxcbiAgICByaWdodDogbWF4KG1pbkJveC5yaWdodCwgY2hpbGRyZW5Cb3gucmlnaHQpXG4gIH07XG5cbiAgcmV0dXJuIGFzQm91bmRzKGNvbWJpbmVkQm94KTtcbn1cblxuZnVuY3Rpb24gYXNQYWRkaW5nKG1heUJlUGFkZGluZywgZGVmYXVsdFZhbHVlKSB7XG4gIGlmICh0eXBlb2YgbWF5QmVQYWRkaW5nICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBtYXlCZVBhZGRpbmc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIERFRkFVTFRfQ0hJTERfQk9YX1BBRERJTkc7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFBhZGRpbmcoYmJveCwgcGFkZGluZykge1xuICB2YXIgbGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tO1xuXG4gIGlmICh0eXBlb2YgcGFkZGluZyA9PT0gJ29iamVjdCcpIHtcbiAgICBsZWZ0ID0gYXNQYWRkaW5nKHBhZGRpbmcubGVmdCk7XG4gICAgcmlnaHQgPSBhc1BhZGRpbmcocGFkZGluZy5yaWdodCk7XG4gICAgdG9wID0gYXNQYWRkaW5nKHBhZGRpbmcudG9wKTtcbiAgICBib3R0b20gPSBhc1BhZGRpbmcocGFkZGluZy5ib3R0b20pO1xuICB9IGVsc2Uge1xuICAgIGxlZnQgPSByaWdodCA9IHRvcCA9IGJvdHRvbSA9IGFzUGFkZGluZyhwYWRkaW5nKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgeDogYmJveC54IC0gbGVmdCxcbiAgICB5OiBiYm94LnkgLSB0b3AsXG4gICAgd2lkdGg6IGJib3gud2lkdGggKyBsZWZ0ICsgcmlnaHQsXG4gICAgaGVpZ2h0OiBiYm94LmhlaWdodCArIHRvcCArIGJvdHRvbVxuICB9O1xufVxuXG5cbi8qKlxuICogSXMgdGhlIGdpdmVuIGVsZW1lbnQgcGFydCBvZiB0aGUgcmVzaXplXG4gKiB0YXJnZXRzIG1pbiBib3VuZGFyeSBib3g/XG4gKlxuICogVGhpcyBpcyB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiB3aGljaCBleGNsdWRlc1xuICogY29ubmVjdGlvbnMgYW5kIGxhYmVscy5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gaXNCQm94Q2hpbGQoZWxlbWVudCkge1xuXG4gIC8vIGV4Y2x1ZGUgY29ubmVjdGlvbnNcbiAgaWYgKGVsZW1lbnQud2F5cG9pbnRzKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gZXhjbHVkZSBsYWJlbHNcbiAgaWYgKGVsZW1lbnQudHlwZSA9PT0gJ2xhYmVsJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFJldHVybiBjaGlsZHJlbiBib3VuZGluZyBjb21wdXRlZCBmcm9tIGEgc2hhcGVzIGNoaWxkcmVuXG4gKiBvciBhIGxpc3Qgb2YgcHJlZmlsdGVyZWQgY2hpbGRyZW4uXG4gKlxuICogQHBhcmFtIHtTaGFwZXxTaGFwZVtdfSBzaGFwZU9yQ2hpbGRyZW5cbiAqIEBwYXJhbSB7UmVjdFRSQkx8bnVtYmVyfSBwYWRkaW5nXG4gKlxuICogQHJldHVybiB7UmVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVDaGlsZHJlbkJCb3goc2hhcGVPckNoaWxkcmVuLCBwYWRkaW5nKSB7XG5cbiAgdmFyIGVsZW1lbnRzO1xuXG4gIC8vIGNvbXB1dGUgYmFzZWQgb24gc2hhcGVcbiAgaWYgKHNoYXBlT3JDaGlsZHJlbi5sZW5ndGggPT09IHVuZGVmaW5lZCkge1xuXG4gICAgLy8gZ3JhYiBhbGwgdGhlIGNoaWxkcmVuIHRoYXQgYXJlIHBhcnQgb2YgdGhlXG4gICAgLy8gcGFyZW50cyBjaGlsZHJlbiBib3hcbiAgICBlbGVtZW50cyA9IGZpbHRlcihzaGFwZU9yQ2hpbGRyZW4uY2hpbGRyZW4sIGlzQkJveENoaWxkKTtcblxuICB9IGVsc2Uge1xuICAgIGVsZW1lbnRzID0gc2hhcGVPckNoaWxkcmVuO1xuICB9XG5cbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCkge1xuICAgIHJldHVybiBhZGRQYWRkaW5nKGdldEJCb3goZWxlbWVudHMpLCBwYWRkaW5nKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImZpbHRlciIsImlzTnVtYmVyIiwibWF4IiwiTWF0aCIsIm1pbiIsIkRFRkFVTFRfQ0hJTERfQk9YX1BBRERJTkciLCJnZXRCQm94IiwiYXNUUkJMIiwiYXNCb3VuZHMiLCJzdWJzdHJhY3RUUkJMIiwidHJibEEiLCJ0cmJsQiIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsInJlc2l6ZUJvdW5kcyIsImJvdW5kcyIsImRpcmVjdGlvbiIsImRlbHRhIiwiZHgiLCJ4IiwiZHkiLCJ5IiwibmV3Qm91bmRzIiwid2lkdGgiLCJoZWlnaHQiLCJpbmRleE9mIiwicmVzaXplVFJCTCIsInJlc2l6ZSIsInJlYXR0YWNoUG9pbnQiLCJwb2ludCIsInN4Iiwic3kiLCJyb3VuZCIsImZsb29yIiwiYXBwbHlDb25zdHJhaW50cyIsImF0dHIiLCJ0cmJsIiwicmVzaXplQ29uc3RyYWludHMiLCJ2YWx1ZSIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJ0ZXN0IiwiZW5zdXJlQ29uc3RyYWludHMiLCJjdXJyZW50Qm91bmRzIiwiY3VycmVudFRyYmwiLCJnZXRNaW5SZXNpemVCb3VuZHMiLCJtaW5EaW1lbnNpb25zIiwiY2hpbGRyZW5Cb3VuZHMiLCJjdXJyZW50Qm94IiwibWluQm94IiwiY2hpbGRyZW5Cb3giLCJjb21iaW5lZEJveCIsImFzUGFkZGluZyIsIm1heUJlUGFkZGluZyIsImRlZmF1bHRWYWx1ZSIsImFkZFBhZGRpbmciLCJiYm94IiwicGFkZGluZyIsImlzQkJveENoaWxkIiwiZWxlbWVudCIsIndheXBvaW50cyIsInR5cGUiLCJjb21wdXRlQ2hpbGRyZW5CQm94Iiwic2hhcGVPckNoaWxkcmVuIiwiZWxlbWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJjaGlsZHJlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../bpmn-io/diagram-js/lib/features/resize/ResizeUtil.js\n");

/***/ }),

/***/ "../bpmn-io/diagram-js/lib/layout/LayoutUtil.js":
/*!******************************************************!*\
  !*** ../bpmn-io/diagram-js/lib/layout/LayoutUtil.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asBounds: () => (/* binding */ asBounds),\n/* harmony export */   asTRBL: () => (/* binding */ asTRBL),\n/* harmony export */   filterRedundantWaypoints: () => (/* binding */ filterRedundantWaypoints),\n/* harmony export */   getBoundsMid: () => (/* binding */ getBoundsMid),\n/* harmony export */   getConnectionMid: () => (/* binding */ getConnectionMid),\n/* harmony export */   getElementLineIntersection: () => (/* binding */ getElementLineIntersection),\n/* harmony export */   getIntersections: () => (/* binding */ getIntersections),\n/* harmony export */   getMid: () => (/* binding */ getMid),\n/* harmony export */   getOrientation: () => (/* binding */ getOrientation),\n/* harmony export */   roundBounds: () => (/* binding */ roundBounds),\n/* harmony export */   roundPoint: () => (/* binding */ roundPoint)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dash */ \"../bpmn-io/diagram-js/node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_Geometry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Geometry */ \"../bpmn-io/diagram-js/lib/util/Geometry.js\");\n/* harmony import */ var path_intersection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path-intersection */ \"../bpmn-io/diagram-js/node_modules/path-intersection/intersect.js\");\n/* harmony import */ var path_intersection__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path_intersection__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/ModelUtil */ \"../bpmn-io/diagram-js/lib/util/ModelUtil.js\");\n\n\n\n\n\n/**\n * @typedef {import('../core/Types').ElementLike} Element\n * @typedef {import('../core/Types').ConnectionLike} Connection\n *\n * @typedef {import('../util/Types').DirectionTRBL} DirectionTRBL\n * @typedef {import('../util/Types').Point} Point\n * @typedef {import('../util/Types').Rect} Rect\n * @typedef {import('../util/Types').RectTRBL} RectTRBL\n */\n\n/**\n * @param {Rect} bounds\n *\n * @returns {Rect}\n */\nfunction roundBounds(bounds) {\n  return {\n    x: Math.round(bounds.x),\n    y: Math.round(bounds.y),\n    width: Math.round(bounds.width),\n    height: Math.round(bounds.height)\n  };\n}\n\n/**\n * @param {Point} point\n *\n * @returns {Point}\n */\nfunction roundPoint(point) {\n  return {\n    x: Math.round(point.x),\n    y: Math.round(point.y)\n  };\n}\n\n/**\n * Convert the given bounds to a { top, left, bottom, right } descriptor.\n *\n * @param {Point|Rect} bounds\n *\n * @return {RectTRBL}\n */\nfunction asTRBL(bounds) {\n  return {\n    top: bounds.y,\n    right: bounds.x + (bounds.width || 0),\n    bottom: bounds.y + (bounds.height || 0),\n    left: bounds.x\n  };\n}\n\n/**\n * Convert a { top, left, bottom, right } to an objects bounds.\n *\n * @param {RectTRBL} trbl\n *\n * @return {Rect}\n */\nfunction asBounds(trbl) {\n  return {\n    x: trbl.left,\n    y: trbl.top,\n    width: trbl.right - trbl.left,\n    height: trbl.bottom - trbl.top\n  };\n}\n\n/**\n * Get the mid of the given bounds or point.\n *\n * @param {Point|Rect} bounds\n *\n * @return {Point}\n */\nfunction getBoundsMid(bounds) {\n  return roundPoint({\n    x: bounds.x + (bounds.width || 0) / 2,\n    y: bounds.y + (bounds.height || 0) / 2\n  });\n}\n\n/**\n * Get the mid of the given Connection.\n *\n * @param {Connection} connection\n *\n * @return {Point}\n */\nfunction getConnectionMid(connection) {\n  var waypoints = connection.waypoints;\n\n  // calculate total length and length of each segment\n  var parts = waypoints.reduce(function (parts, point, index) {\n    var lastPoint = waypoints[index - 1];\n    if (lastPoint) {\n      var lastPart = parts[parts.length - 1];\n      var startLength = lastPart && lastPart.endLength || 0;\n      var length = distance(lastPoint, point);\n      parts.push({\n        start: lastPoint,\n        end: point,\n        startLength: startLength,\n        endLength: startLength + length,\n        length: length\n      });\n    }\n    return parts;\n  }, []);\n  var totalLength = parts.reduce(function (length, part) {\n    return length + part.length;\n  }, 0);\n\n  // find which segement contains middle point\n  var midLength = totalLength / 2;\n  var i = 0;\n  var midSegment = parts[i];\n  while (midSegment.endLength < midLength) {\n    midSegment = parts[++i];\n  }\n\n  // calculate relative position on mid segment\n  var segmentProgress = (midLength - midSegment.startLength) / midSegment.length;\n  var midPoint = {\n    x: midSegment.start.x + (midSegment.end.x - midSegment.start.x) * segmentProgress,\n    y: midSegment.start.y + (midSegment.end.y - midSegment.start.y) * segmentProgress\n  };\n  return midPoint;\n}\n\n/**\n * Get the mid of the given Element.\n *\n * @param {Element} element\n *\n * @return {Point}\n */\nfunction getMid(element) {\n  if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isConnection)(element)) {\n    return getConnectionMid(element);\n  }\n  return getBoundsMid(element);\n}\n\n// orientation utils //////////////////////\n\n/**\n * Get orientation of the given rectangle with respect to\n * the reference rectangle.\n *\n * A padding (positive or negative) may be passed to influence\n * horizontal / vertical orientation and intersection.\n *\n * @param {Rect} rect\n * @param {Rect} reference\n * @param {Point|number} padding\n *\n * @return {DirectionTRBL} the orientation; one of top, top-left, left, ..., bottom, right or intersect.\n */\nfunction getOrientation(rect, reference, padding) {\n  padding = padding || 0;\n\n  // make sure we can use an object, too\n  // for individual { x, y } padding\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isObject)(padding)) {\n    padding = {\n      x: padding,\n      y: padding\n    };\n  }\n  var rectOrientation = asTRBL(rect),\n    referenceOrientation = asTRBL(reference);\n  var top = rectOrientation.bottom + padding.y <= referenceOrientation.top,\n    right = rectOrientation.left - padding.x >= referenceOrientation.right,\n    bottom = rectOrientation.top - padding.y >= referenceOrientation.bottom,\n    left = rectOrientation.right + padding.x <= referenceOrientation.left;\n  var vertical = top ? 'top' : bottom ? 'bottom' : null,\n    horizontal = left ? 'left' : right ? 'right' : null;\n  if (horizontal && vertical) {\n    return vertical + '-' + horizontal;\n  } else {\n    return horizontal || vertical || 'intersect';\n  }\n}\n\n// intersection utils //////////////////////\n\n/**\n * Get intersection between an element and a line path.\n *\n * @param {string} elementPath\n * @param {string} linePath\n * @param {boolean} cropStart Whether to crop start or end.\n *\n * @return {Point}\n */\nfunction getElementLineIntersection(elementPath, linePath, cropStart) {\n  var intersections = getIntersections(elementPath, linePath);\n\n  // recognize intersections\n  // only one -> choose\n  // two close together -> choose first\n  // two or more distinct -> pull out appropriate one\n  // none -> ok (fallback to point itself)\n  if (intersections.length === 1) {\n    return roundPoint(intersections[0]);\n  } else if (intersections.length === 2 && (0,_util_Geometry__WEBPACK_IMPORTED_MODULE_3__.pointDistance)(intersections[0], intersections[1]) < 1) {\n    return roundPoint(intersections[0]);\n  } else if (intersections.length > 1) {\n    // sort by intersections based on connection segment +\n    // distance from start\n    intersections = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.sortBy)(intersections, function (i) {\n      var distance = Math.floor(i.t2 * 100) || 1;\n      distance = 100 - distance;\n      distance = (distance < 10 ? '0' : '') + distance;\n\n      // create a sort string that makes sure we sort\n      // line segment ASC + line segment position DESC (for cropStart)\n      // line segment ASC + line segment position ASC (for cropEnd)\n      return i.segment2 + '#' + distance;\n    });\n    return roundPoint(intersections[cropStart ? 0 : intersections.length - 1]);\n  }\n  return null;\n}\nfunction getIntersections(a, b) {\n  return path_intersection__WEBPACK_IMPORTED_MODULE_0___default()(a, b);\n}\nfunction filterRedundantWaypoints(waypoints) {\n  // alter copy of waypoints, not original\n  waypoints = waypoints.slice();\n  var idx = 0,\n    point,\n    previousPoint,\n    nextPoint;\n  while (waypoints[idx]) {\n    point = waypoints[idx];\n    previousPoint = waypoints[idx - 1];\n    nextPoint = waypoints[idx + 1];\n    if ((0,_util_Geometry__WEBPACK_IMPORTED_MODULE_3__.pointDistance)(point, nextPoint) === 0 || (0,_util_Geometry__WEBPACK_IMPORTED_MODULE_3__.pointsOnLine)(previousPoint, nextPoint, point)) {\n      // remove point, if overlapping with {nextPoint}\n      // or on line with {previousPoint} -> {point} -> {nextPoint}\n      waypoints.splice(idx, 1);\n    } else {\n      idx++;\n    }\n  }\n  return waypoints;\n}\n\n// helpers //////////////////////\n\nfunction distance(a, b) {\n  return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vYnBtbi1pby9kaWFncmFtLWpzL2xpYi9sYXlvdXQvTGF5b3V0VXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR2tCO0FBS1E7QUFFcUI7QUFFRTs7QUFFakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTTSxXQUFXQSxDQUFDQyxNQUFNLEVBQUU7RUFDbEMsT0FBTztJQUNMQyxDQUFDLEVBQUVDLElBQUksQ0FBQ0MsS0FBSyxDQUFDSCxNQUFNLENBQUNDLENBQUMsQ0FBQztJQUN2QkcsQ0FBQyxFQUFFRixJQUFJLENBQUNDLEtBQUssQ0FBQ0gsTUFBTSxDQUFDSSxDQUFDLENBQUM7SUFDdkJDLEtBQUssRUFBRUgsSUFBSSxDQUFDQyxLQUFLLENBQUNILE1BQU0sQ0FBQ0ssS0FBSyxDQUFDO0lBQy9CQyxNQUFNLEVBQUVKLElBQUksQ0FBQ0MsS0FBSyxDQUFDSCxNQUFNLENBQUNNLE1BQU07RUFDbEMsQ0FBQztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTQyxVQUFVQSxDQUFDQyxLQUFLLEVBQUU7RUFFaEMsT0FBTztJQUNMUCxDQUFDLEVBQUVDLElBQUksQ0FBQ0MsS0FBSyxDQUFDSyxLQUFLLENBQUNQLENBQUMsQ0FBQztJQUN0QkcsQ0FBQyxFQUFFRixJQUFJLENBQUNDLEtBQUssQ0FBQ0ssS0FBSyxDQUFDSixDQUFDO0VBQ3ZCLENBQUM7QUFDSDs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVNLLE1BQU1BLENBQUNULE1BQU0sRUFBRTtFQUM3QixPQUFPO0lBQ0xVLEdBQUcsRUFBRVYsTUFBTSxDQUFDSSxDQUFDO0lBQ2JPLEtBQUssRUFBRVgsTUFBTSxDQUFDQyxDQUFDLElBQUlELE1BQU0sQ0FBQ0ssS0FBSyxJQUFJLENBQUMsQ0FBQztJQUNyQ08sTUFBTSxFQUFFWixNQUFN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QUcsQ0FBQyxFQUFFO0lBQ3JCdEQsS0FBSyxHQUFHVyxTQUFTLENBQUMyQyxHQUFHLENBQUM7SUFDdEJDLGFBQWEsR0FBRzVDLFNBQVMsQ0FBQzJDLEdBQUcsR0FBRyxDQUFDLENBQUM7SUFDbENFLFNBQVMsR0FBRzdDLFNBQVMsQ0FBQzJDLEdBQUcsR0FBRyxDQUFDLENBQUM7SUFFOUIsSUFBSW5FLDZEQUFhLENBQUNhLEtBQUssRUFBRXdELFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFDckNwRSw0REFBWSxDQUFDbUUsYUFBYSxFQUFFQyxTQUFTLEVBQUV4RCxLQUFLLENBQUMsRUFBRTtNQUVqRDtNQUNBO01BQ0FXLFNBQVMsQ0FBQzhDLE1BQU0sQ0FBQ0gsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUMxQixDQUFDLE1BQU07TUFDTEEsR0FBRyxFQUFFO0lBQ1A7RUFDRjtFQUVBLE9BQU8zQyxTQUFTO0FBQ2xCOztBQUVBOztBQUVBLFNBQVNTLFFBQVFBLENBQUM4QixDQUFDLEVBQUVDLENBQUMsRUFBRTtFQUN0QixPQUFPekQsSUFBSSxDQUFDZ0UsSUFBSSxDQUFDaEUsSUFBSSxDQUFDaUUsR0FBRyxDQUFDVCxDQUFDLENBQUN6RCxDQUFDLEdBQUcwRCxDQUFDLENBQUMxRCxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUdDLElBQUksQ0FBQ2lFLEdBQUcsQ0FBQ1QsQ0FBQyxDQUFDdEQsQ0FBQyxHQUFHdUQsQ0FBQyxDQUFDdkQsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ25FIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2RheXMtMjAyMy8uLi9icG1uLWlvL2RpYWdyYW0tanMvbGliL2xheW91dC9MYXlvdXRVdGlsLmpzP2FkYWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgaXNPYmplY3QsXG4gIHNvcnRCeVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIHBvaW50RGlzdGFuY2UsXG4gIHBvaW50c09uTGluZVxufSBmcm9tICcuLi91dGlsL0dlb21ldHJ5JztcblxuaW1wb3J0IGludGVyc2VjdFBhdGhzIGZyb20gJ3BhdGgtaW50ZXJzZWN0aW9uJztcblxuaW1wb3J0IHsgaXNDb25uZWN0aW9uIH0gZnJvbSAnLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2NvcmUvVHlwZXMnKS5FbGVtZW50TGlrZX0gRWxlbWVudFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vY29yZS9UeXBlcycpLkNvbm5lY3Rpb25MaWtlfSBDb25uZWN0aW9uXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLkRpcmVjdGlvblRSQkx9IERpcmVjdGlvblRSQkxcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3V0aWwvVHlwZXMnKS5SZWN0fSBSZWN0XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi91dGlsL1R5cGVzJykuUmVjdFRSQkx9IFJlY3RUUkJMXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge1JlY3R9IGJvdW5kc1xuICpcbiAqIEByZXR1cm5zIHtSZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcm91bmRCb3VuZHMoYm91bmRzKSB7XG4gIHJldHVybiB7XG4gICAgeDogTWF0aC5yb3VuZChib3VuZHMueCksXG4gICAgeTogTWF0aC5yb3VuZChib3VuZHMueSksXG4gICAgd2lkdGg6IE1hdGgucm91bmQoYm91bmRzLndpZHRoKSxcbiAgICBoZWlnaHQ6IE1hdGgucm91bmQoYm91bmRzLmhlaWdodClcbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1BvaW50fSBwb2ludFxuICpcbiAqIEByZXR1cm5zIHtQb2ludH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kUG9pbnQocG9pbnQpIHtcblxuICByZXR1cm4ge1xuICAgIHg6IE1hdGgucm91bmQocG9pbnQueCksXG4gICAgeTogTWF0aC5yb3VuZChwb2ludC55KVxuICB9O1xufVxuXG5cbi8qKlxuICogQ29udmVydCB0aGUgZ2l2ZW4gYm91bmRzIHRvIGEgeyB0b3AsIGxlZnQsIGJvdHRvbSwgcmlnaHQgfSBkZXNjcmlwdG9yLlxuICpcbiAqIEBwYXJhbSB7UG9pbnR8UmVjdH0gYm91bmRzXG4gKlxuICogQHJldHVybiB7UmVjdFRSQkx9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc1RSQkwoYm91bmRzKSB7XG4gIHJldHVybiB7XG4gICAgdG9wOiBib3VuZHMueSxcbiAgICByaWdodDogYm91bmRzLnggKyAoYm91bmRzLndpZHRoIHx8IDApLFxuICAgIGJvdHRvbTogYm91bmRzLnkgKyAoYm91bmRzLmhlaWdodCB8fCAwKSxcbiAgICBsZWZ0OiBib3VuZHMueFxuICB9O1xufVxuXG5cbi8qKlxuICogQ29udmVydCBhIHsgdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0IH0gdG8gYW4gb2JqZWN0cyBib3VuZHMuXG4gKlxuICogQHBhcmFtIHtSZWN0VFJCTH0gdHJibFxuICpcbiAqIEByZXR1cm4ge1JlY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc0JvdW5kcyh0cmJsKSB7XG4gIHJldHVybiB7XG4gICAgeDogdHJibC5sZWZ0LFxuICAgIHk6IHRyYmwudG9wLFxuICAgIHdpZHRoOiB0cmJsLnJpZ2h0IC0gdHJibC5sZWZ0LFxuICAgIGhlaWdodDogdHJibC5ib3R0b20gLSB0cmJsLnRvcFxuICB9O1xufVxuXG5cbi8qKlxuICogR2V0IHRoZSBtaWQgb2YgdGhlIGdpdmVuIGJvdW5kcyBvciBwb2ludC5cbiAqXG4gKiBAcGFyYW0ge1BvaW50fFJlY3R9IGJvdW5kc1xuICpcbiAqIEByZXR1cm4ge1BvaW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm91bmRzTWlkKGJvdW5kcykge1xuICByZXR1cm4gcm91bmRQb2ludCh7XG4gICAgeDogYm91bmRzLnggKyAoYm91bmRzLndpZHRoIHx8IDApIC8gMixcbiAgICB5OiBib3VuZHMueSArIChib3VuZHMuaGVpZ2h0IHx8IDApIC8gMlxuICB9KTtcbn1cblxuXG4vKipcbiAqIEdldCB0aGUgbWlkIG9mIHRoZSBnaXZlbiBDb25uZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7Q29ubmVjdGlvbn0gY29ubmVjdGlvblxuICpcbiAqIEByZXR1cm4ge1BvaW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29ubmVjdGlvbk1pZChjb25uZWN0aW9uKSB7XG4gIHZhciB3YXlwb2ludHMgPSBjb25uZWN0aW9uLndheXBvaW50cztcblxuICAvLyBjYWxjdWxhdGUgdG90YWwgbGVuZ3RoIGFuZCBsZW5ndGggb2YgZWFjaCBzZWdtZW50XG4gIHZhciBwYXJ0cyA9IHdheXBvaW50cy5yZWR1Y2UoZnVuY3Rpb24ocGFydHMsIHBvaW50LCBpbmRleCkge1xuXG4gICAgdmFyIGxhc3RQb2ludCA9IHdheXBvaW50c1tpbmRleCAtIDFdO1xuXG4gICAgaWYgKGxhc3RQb2ludCkge1xuICAgICAgdmFyIGxhc3RQYXJ0ID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMV07XG5cbiAgICAgIHZhciBzdGFydExlbmd0aCA9IGxhc3RQYXJ0ICYmIGxhc3RQYXJ0LmVuZExlbmd0aCB8fCAwO1xuICAgICAgdmFyIGxlbmd0aCA9IGRpc3RhbmNlKGxhc3RQb2ludCwgcG9pbnQpO1xuXG4gICAgICBwYXJ0cy5wdXNoKHtcbiAgICAgICAgc3RhcnQ6IGxhc3RQb2ludCxcbiAgICAgICAgZW5kOiBwb2ludCxcbiAgICAgICAgc3RhcnRMZW5ndGg6IHN0YXJ0TGVuZ3RoLFxuICAgICAgICBlbmRMZW5ndGg6IHN0YXJ0TGVuZ3RoICsgbGVuZ3RoLFxuICAgICAgICBsZW5ndGg6IGxlbmd0aFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnRzO1xuICB9LCBbXSk7XG5cbiAgdmFyIHRvdGFsTGVuZ3RoID0gcGFydHMucmVkdWNlKGZ1bmN0aW9uKGxlbmd0aCwgcGFydCkge1xuICAgIHJldHVybiBsZW5ndGggKyBwYXJ0Lmxlbmd0aDtcbiAgfSwgMCk7XG5cbiAgLy8gZmluZCB3aGljaCBzZWdlbWVudCBjb250YWlucyBtaWRkbGUgcG9pbnRcbiAgdmFyIG1pZExlbmd0aCA9IHRvdGFsTGVuZ3RoIC8gMjtcblxuICB2YXIgaSA9IDA7XG4gIHZhciBtaWRTZWdtZW50ID0gcGFydHNbaV07XG5cbiAgd2hpbGUgKG1pZFNlZ21lbnQuZW5kTGVuZ3RoIDwgbWlkTGVuZ3RoKSB7XG4gICAgbWlkU2VnbWVudCA9IHBhcnRzWysraV07XG4gIH1cblxuICAvLyBjYWxjdWxhdGUgcmVsYXRpdmUgcG9zaXRpb24gb24gbWlkIHNlZ21lbnRcbiAgdmFyIHNlZ21lbnRQcm9ncmVzcyA9IChtaWRMZW5ndGggLSBtaWRTZWdtZW50LnN0YXJ0TGVuZ3RoKSAvIG1pZFNlZ21lbnQubGVuZ3RoO1xuXG4gIHZhciBtaWRQb2ludCA9IHtcbiAgICB4OiBtaWRTZWdtZW50LnN0YXJ0LnggKyAobWlkU2VnbWVudC5lbmQueCAtIG1pZFNlZ21lbnQuc3RhcnQueCkgKiBzZWdtZW50UHJvZ3Jlc3MsXG4gICAgeTogbWlkU2VnbWVudC5zdGFydC55ICsgKG1pZFNlZ21lbnQuZW5kLnkgLSBtaWRTZWdtZW50LnN0YXJ0LnkpICogc2VnbWVudFByb2dyZXNzXG4gIH07XG5cbiAgcmV0dXJuIG1pZFBvaW50O1xufVxuXG5cbi8qKlxuICogR2V0IHRoZSBtaWQgb2YgdGhlIGdpdmVuIEVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7UG9pbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNaWQoZWxlbWVudCkge1xuICBpZiAoaXNDb25uZWN0aW9uKGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIGdldENvbm5lY3Rpb25NaWQoZWxlbWVudCk7XG4gIH1cblxuICByZXR1cm4gZ2V0Qm91bmRzTWlkKGVsZW1lbnQpO1xufVxuXG4vLyBvcmllbnRhdGlvbiB1dGlscyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogR2V0IG9yaWVudGF0aW9uIG9mIHRoZSBnaXZlbiByZWN0YW5nbGUgd2l0aCByZXNwZWN0IHRvXG4gKiB0aGUgcmVmZXJlbmNlIHJlY3RhbmdsZS5cbiAqXG4gKiBBIHBhZGRpbmcgKHBvc2l0aXZlIG9yIG5lZ2F0aXZlKSBtYXkgYmUgcGFzc2VkIHRvIGluZmx1ZW5jZVxuICogaG9yaXpvbnRhbCAvIHZlcnRpY2FsIG9yaWVudGF0aW9uIGFuZCBpbnRlcnNlY3Rpb24uXG4gKlxuICogQHBhcmFtIHtSZWN0fSByZWN0XG4gKiBAcGFyYW0ge1JlY3R9IHJlZmVyZW5jZVxuICogQHBhcmFtIHtQb2ludHxudW1iZXJ9IHBhZGRpbmdcbiAqXG4gKiBAcmV0dXJuIHtEaXJlY3Rpb25UUkJMfSB0aGUgb3JpZW50YXRpb247IG9uZSBvZiB0b3AsIHRvcC1sZWZ0LCBsZWZ0LCAuLi4sIGJvdHRvbSwgcmlnaHQgb3IgaW50ZXJzZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3JpZW50YXRpb24ocmVjdCwgcmVmZXJlbmNlLCBwYWRkaW5nKSB7XG5cbiAgcGFkZGluZyA9IHBhZGRpbmcgfHwgMDtcblxuICAvLyBtYWtlIHN1cmUgd2UgY2FuIHVzZSBhbiBvYmplY3QsIHRvb1xuICAvLyBmb3IgaW5kaXZpZHVhbCB7IHgsIHkgfSBwYWRkaW5nXG4gIGlmICghaXNPYmplY3QocGFkZGluZykpIHtcbiAgICBwYWRkaW5nID0geyB4OiBwYWRkaW5nLCB5OiBwYWRkaW5nIH07XG4gIH1cblxuXG4gIHZhciByZWN0T3JpZW50YXRpb24gPSBhc1RSQkwocmVjdCksXG4gICAgICByZWZlcmVuY2VPcmllbnRhdGlvbiA9IGFzVFJCTChyZWZlcmVuY2UpO1xuXG4gIHZhciB0b3AgPSByZWN0T3JpZW50YXRpb24uYm90dG9tICsgcGFkZGluZy55IDw9IHJlZmVyZW5jZU9yaWVudGF0aW9uLnRvcCxcbiAgICAgIHJpZ2h0ID0gcmVjdE9yaWVudGF0aW9uLmxlZnQgLSBwYWRkaW5nLnggPj0gcmVmZXJlbmNlT3JpZW50YXRpb24ucmlnaHQsXG4gICAgICBib3R0b20gPSByZWN0T3JpZW50YXRpb24udG9wIC0gcGFkZGluZy55ID49IHJlZmVyZW5jZU9yaWVudGF0aW9uLmJvdHRvbSxcbiAgICAgIGxlZnQgPSByZWN0T3JpZW50YXRpb24ucmlnaHQgKyBwYWRkaW5nLnggPD0gcmVmZXJlbmNlT3JpZW50YXRpb24ubGVmdDtcblxuICB2YXIgdmVydGljYWwgPSB0b3AgPyAndG9wJyA6IChib3R0b20gPyAnYm90dG9tJyA6IG51bGwpLFxuICAgICAgaG9yaXpvbnRhbCA9IGxlZnQgPyAnbGVmdCcgOiAocmlnaHQgPyAncmlnaHQnIDogbnVsbCk7XG5cbiAgaWYgKGhvcml6b250YWwgJiYgdmVydGljYWwpIHtcbiAgICByZXR1cm4gdmVydGljYWwgKyAnLScgKyBob3Jpem9udGFsO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBob3Jpem9udGFsIHx8IHZlcnRpY2FsIHx8ICdpbnRlcnNlY3QnO1xuICB9XG59XG5cblxuLy8gaW50ZXJzZWN0aW9uIHV0aWxzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBHZXQgaW50ZXJzZWN0aW9uIGJldHdlZW4gYW4gZWxlbWVudCBhbmQgYSBsaW5lIHBhdGguXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnRQYXRoXG4gKiBAcGFyYW0ge3N0cmluZ30gbGluZVBhdGhcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gY3JvcFN0YXJ0IFdoZXRoZXIgdG8gY3JvcCBzdGFydCBvciBlbmQuXG4gKlxuICogQHJldHVybiB7UG9pbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50TGluZUludGVyc2VjdGlvbihlbGVtZW50UGF0aCwgbGluZVBhdGgsIGNyb3BTdGFydCkge1xuXG4gIHZhciBpbnRlcnNlY3Rpb25zID0gZ2V0SW50ZXJzZWN0aW9ucyhlbGVtZW50UGF0aCwgbGluZVBhdGgpO1xuXG4gIC8vIHJlY29nbml6ZSBpbnRlcnNlY3Rpb25zXG4gIC8vIG9ubHkgb25lIC0+IGNob29zZVxuICAvLyB0d28gY2xvc2UgdG9nZXRoZXIgLT4gY2hvb3NlIGZpcnN0XG4gIC8vIHR3byBvciBtb3JlIGRpc3RpbmN0IC0+IHB1bGwgb3V0IGFwcHJvcHJpYXRlIG9uZVxuICAvLyBub25lIC0+IG9rIChmYWxsYmFjayB0byBwb2ludCBpdHNlbGYpXG4gIGlmIChpbnRlcnNlY3Rpb25zLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiByb3VuZFBvaW50KGludGVyc2VjdGlvbnNbMF0pO1xuICB9IGVsc2UgaWYgKGludGVyc2VjdGlvbnMubGVuZ3RoID09PSAyICYmIHBvaW50RGlzdGFuY2UoaW50ZXJzZWN0aW9uc1swXSwgaW50ZXJzZWN0aW9uc1sxXSkgPCAxKSB7XG4gICAgcmV0dXJuIHJvdW5kUG9pbnQoaW50ZXJzZWN0aW9uc1swXSk7XG4gIH0gZWxzZSBpZiAoaW50ZXJzZWN0aW9ucy5sZW5ndGggPiAxKSB7XG5cbiAgICAvLyBzb3J0IGJ5IGludGVyc2VjdGlvbnMgYmFzZWQgb24gY29ubmVjdGlvbiBzZWdtZW50ICtcbiAgICAvLyBkaXN0YW5jZSBmcm9tIHN0YXJ0XG4gICAgaW50ZXJzZWN0aW9ucyA9IHNvcnRCeShpbnRlcnNlY3Rpb25zLCBmdW5jdGlvbihpKSB7XG4gICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLmZsb29yKGkudDIgKiAxMDApIHx8IDE7XG5cbiAgICAgIGRpc3RhbmNlID0gMTAwIC0gZGlzdGFuY2U7XG5cbiAgICAgIGRpc3RhbmNlID0gKGRpc3RhbmNlIDwgMTAgPyAnMCcgOiAnJykgKyBkaXN0YW5jZTtcblxuICAgICAgLy8gY3JlYXRlIGEgc29ydCBzdHJpbmcgdGhhdCBtYWtlcyBzdXJlIHdlIHNvcnRcbiAgICAgIC8vIGxpbmUgc2VnbWVudCBBU0MgKyBsaW5lIHNlZ21lbnQgcG9zaXRpb24gREVTQyAoZm9yIGNyb3BTdGFydClcbiAgICAgIC8vIGxpbmUgc2VnbWVudCBBU0MgKyBsaW5lIHNlZ21lbnQgcG9zaXRpb24gQVNDIChmb3IgY3JvcEVuZClcbiAgICAgIHJldHVybiBpLnNlZ21lbnQyICsgJyMnICsgZGlzdGFuY2U7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcm91bmRQb2ludChpbnRlcnNlY3Rpb25zW2Nyb3BTdGFydCA/IDAgOiBpbnRlcnNlY3Rpb25zLmxlbmd0aCAtIDFdKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcnNlY3Rpb25zKGEsIGIpIHtcbiAgcmV0dXJuIGludGVyc2VjdFBhdGhzKGEsIGIpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJSZWR1bmRhbnRXYXlwb2ludHMod2F5cG9pbnRzKSB7XG5cbiAgLy8gYWx0ZXIgY29weSBvZiB3YXlwb2ludHMsIG5vdCBvcmlnaW5hbFxuICB3YXlwb2ludHMgPSB3YXlwb2ludHMuc2xpY2UoKTtcblxuICB2YXIgaWR4ID0gMCxcbiAgICAgIHBvaW50LFxuICAgICAgcHJldmlvdXNQb2ludCxcbiAgICAgIG5leHRQb2ludDtcblxuICB3aGlsZSAod2F5cG9pbnRzW2lkeF0pIHtcbiAgICBwb2ludCA9IHdheXBvaW50c1tpZHhdO1xuICAgIHByZXZpb3VzUG9pbnQgPSB3YXlwb2ludHNbaWR4IC0gMV07XG4gICAgbmV4dFBvaW50ID0gd2F5cG9pbnRzW2lkeCArIDFdO1xuXG4gICAgaWYgKHBvaW50RGlzdGFuY2UocG9pbnQsIG5leHRQb2ludCkgPT09IDAgfHxcbiAgICAgICAgcG9pbnRzT25MaW5lKHByZXZpb3VzUG9pbnQsIG5leHRQb2ludCwgcG9pbnQpKSB7XG5cbiAgICAgIC8vIHJlbW92ZSBwb2ludCwgaWYgb3ZlcmxhcHBpbmcgd2l0aCB7bmV4dFBvaW50fVxuICAgICAgLy8gb3Igb24gbGluZSB3aXRoIHtwcmV2aW91c1BvaW50fSAtPiB7cG9pbnR9IC0+IHtuZXh0UG9pbnR9XG4gICAgICB3YXlwb2ludHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlkeCsrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB3YXlwb2ludHM7XG59XG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coYS54IC0gYi54LCAyKSArIE1hdGgucG93KGEueSAtIGIueSwgMikpO1xufSJdLCJuYW1lcyI6WyJpc09iamVjdCIsInNvcnRCeSIsInBvaW50RGlzdGFuY2UiLCJwb2ludHNPbkxpbmUiLCJpbnRlcnNlY3RQYXRocyIsImlzQ29ubmVjdGlvbiIsInJvdW5kQm91bmRzIiwiYm91bmRzIiwieCIsIk1hdGgiLCJyb3VuZCIsInkiLCJ3aWR0aCIsImhlaWdodCIsInJvdW5kUG9pbnQiLCJwb2ludCIsImFzVFJCTCIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsImFzQm91bmRzIiwidHJibCIsImdldEJvdW5kc01pZCIsImdldENvbm5lY3Rpb25NaWQiLCJjb25uZWN0aW9uIiwid2F5cG9pbnRzIiwicGFydHMiLCJyZWR1Y2UiLCJpbmRleCIsImxhc3RQb2ludCIsImxhc3RQYXJ0IiwibGVuZ3RoIiwic3RhcnRMZW5ndGgiLCJlbmRMZW5ndGgiLCJkaXN0YW5jZSIsInB1c2giLCJzdGFydCIsImVuZCIsInRvdGFsTGVuZ3RoIiwicGFydCIsIm1pZExlbmd0aCIsImkiLCJtaWRTZWdtZW50Iiwic2VnbWVudFByb2dyZXNzIiwibWlkUG9pbnQiLCJnZXRNaWQiLCJlbGVtZW50IiwiZ2V0T3JpZW50YXRpb24iLCJyZWN0IiwicmVmZXJlbmNlIiwicGFkZGluZyIsInJlY3RPcmllbnRhdGlvbiIsInJlZmVyZW5jZU9yaWVudGF0aW9uIiwidmVydGljYWwiLCJob3Jpem9udGFsIiwiZ2V0RWxlbWVudExpbmVJbnRlcnNlY3Rpb24iLCJlbGVtZW50UGF0aCIsImxpbmVQYXRoIiwiY3JvcFN0YXJ0IiwiaW50ZXJzZWN0aW9ucyIsImdldEludGVyc2VjdGlvbnMiLCJmbG9vciIsInQyIiwic2VnbWVudDIiLCJhIiwiYiIsImZpbHRlclJlZHVuZGFudFdheXBvaW50cyIsInNsaWNlIiwiaWR4IiwicHJldmlvdXNQb2ludCIsIm5leHRQb2ludCIsInNwbGljZSIsInNxcnQiLCJwb3ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../bpmn-io/diagram-js/lib/layout/LayoutUtil.js\n");

/***/ }),

/***/ "../bpmn-io/diagram-js/lib/util/Elements.js":
/*!**************************************************!*\
  !*** ../bpmn-io/diagram-js/lib/util/Elements.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   eachElement: () => (/* binding */ eachElement),\n/* harmony export */   getBBox: () => (/* binding */ getBBox),\n/* harmony export */   getClosure: () => (/* binding */ getClosure),\n/* harmony export */   getEnclosedElements: () => (/* binding */ getEnclosedElements),\n/* harmony export */   getParents: () => (/* binding */ getParents),\n/* harmony export */   getType: () => (/* binding */ getType),\n/* harmony export */   isFrameElement: () => (/* binding */ isFrameElement),\n/* harmony export */   selfAndAllChildren: () => (/* binding */ selfAndAllChildren),\n/* harmony export */   selfAndChildren: () => (/* binding */ selfAndChildren),\n/* harmony export */   selfAndDirectChildren: () => (/* binding */ selfAndDirectChildren)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"../bpmn-io/diagram-js/node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../model/Types').Connection} Connection\n * @typedef {import('../model/Types').Element} Element\n * @typedef {import('../model/Types').Shape} Shape\n *\n * @typedef {import('../../type/Types').Rect} Rect\n *\n * @typedef { {\n *   allShapes: Record<string, Shape>,\n *   allConnections: Record<string, Connection>,\n *   topLevel: Record<string, Element>,\n *   enclosedConnections: Record<string, Connection>,\n *   enclosedElements: Record<string, Element>\n * } } Closure\n */\n\n/**\n * Get parent elements.\n *\n * @param {Element[]} elements\n *\n * @return {Element[]}\n */\nfunction getParents(elements) {\n  // find elements that are not children of any other elements\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.filter)(elements, function (element) {\n    return !(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.find)(elements, function (e) {\n      return e !== element && getParent(element, e);\n    });\n  });\n}\nfunction getParent(element, parent) {\n  if (!parent) {\n    return;\n  }\n  if (element === parent) {\n    return parent;\n  }\n  if (!element.parent) {\n    return;\n  }\n  return getParent(element.parent, parent);\n}\n\n/**\n * Adds an element to a collection and returns true if the\n * element was added.\n *\n * @param {Object[]} elements\n * @param {Object} element\n * @param {boolean} [unique]\n */\nfunction add(elements, element, unique) {\n  var canAdd = !unique || elements.indexOf(element) === -1;\n  if (canAdd) {\n    elements.push(element);\n  }\n  return canAdd;\n}\n\n/**\n * Iterate over each element in a collection, calling the iterator function `fn`\n * with (element, index, recursionDepth).\n *\n * Recurse into all elements that are returned by `fn`.\n *\n * @param {Element|Element[]} elements\n * @param {(element: Element, index: number, depth: number) => Element[] | boolean | undefined} fn\n * @param {number} [depth] maximum recursion depth\n */\nfunction eachElement(elements, fn, depth) {\n  depth = depth || 0;\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(elements)) {\n    elements = [elements];\n  }\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function (s, i) {\n    var filter = fn(s, i, depth);\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(filter) && filter.length) {\n      eachElement(filter, fn, depth + 1);\n    }\n  });\n}\n\n/**\n * Collects self + child elements up to a given depth from a list of elements.\n *\n * @param {Element|Element[]} elements the elements to select the children from\n * @param {boolean} unique whether to return a unique result set (no duplicates)\n * @param {number} maxDepth the depth to search through or -1 for infinite\n *\n * @return {Element[]} found elements\n */\nfunction selfAndChildren(elements, unique, maxDepth) {\n  var result = [],\n    processedChildren = [];\n  eachElement(elements, function (element, i, depth) {\n    add(result, element, unique);\n    var children = element.children;\n\n    // max traversal depth not reached yet\n    if (maxDepth === -1 || depth < maxDepth) {\n      // children exist && children not yet processed\n      if (children && add(processedChildren, children, unique)) {\n        return children;\n      }\n    }\n  });\n  return result;\n}\n\n/**\n * Return self + direct children for a number of elements\n *\n * @param {Element[]} elements to query\n * @param {boolean} [allowDuplicates] to allow duplicates in the result set\n *\n * @return {Element[]} the collected elements\n */\nfunction selfAndDirectChildren(elements, allowDuplicates) {\n  return selfAndChildren(elements, !allowDuplicates, 1);\n}\n\n/**\n * Return self + ALL children for a number of elements\n *\n * @param {Element[]} elements to query\n * @param {boolean} [allowDuplicates] to allow duplicates in the result set\n *\n * @return {Element[]} the collected elements\n */\nfunction selfAndAllChildren(elements, allowDuplicates) {\n  return selfAndChildren(elements, !allowDuplicates, -1);\n}\n\n/**\n * Gets the the closure for all selected elements,\n * their enclosed children and connections.\n *\n * @param {Element[]} elements\n * @param {boolean} [isTopLevel=true]\n * @param {Closure} [closure]\n *\n * @return {Closure} newClosure\n */\nfunction getClosure(elements, isTopLevel, closure) {\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isUndefined)(isTopLevel)) {\n    isTopLevel = true;\n  }\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(isTopLevel)) {\n    closure = isTopLevel;\n    isTopLevel = true;\n  }\n  closure = closure || {};\n  var allShapes = copyObject(closure.allShapes),\n    allConnections = copyObject(closure.allConnections),\n    enclosedElements = copyObject(closure.enclosedElements),\n    enclosedConnections = copyObject(closure.enclosedConnections);\n  var topLevel = copyObject(closure.topLevel, isTopLevel && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.groupBy)(elements, function (e) {\n    return e.id;\n  }));\n  function handleConnection(c) {\n    if (topLevel[c.source.id] && topLevel[c.target.id]) {\n      topLevel[c.id] = [c];\n    }\n\n    // not enclosed as a child, but maybe logically\n    // (connecting two moved elements?)\n    if (allShapes[c.source.id] && allShapes[c.target.id]) {\n      enclosedConnections[c.id] = enclosedElements[c.id] = c;\n    }\n    allConnections[c.id] = c;\n  }\n  function handleElement(element) {\n    enclosedElements[element.id] = element;\n    if (element.waypoints) {\n      // remember connection\n      enclosedConnections[element.id] = allConnections[element.id] = element;\n    } else {\n      // remember shape\n      allShapes[element.id] = element;\n\n      // remember all connections\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(element.incoming, handleConnection);\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(element.outgoing, handleConnection);\n\n      // recurse into children\n      return element.children;\n    }\n  }\n  eachElement(elements, handleElement);\n  return {\n    allShapes: allShapes,\n    allConnections: allConnections,\n    topLevel: topLevel,\n    enclosedConnections: enclosedConnections,\n    enclosedElements: enclosedElements\n  };\n}\n\n/**\n * Returns the surrounding bbox for all elements in\n * the array or the element primitive.\n *\n * @param {Element|Element[]} elements\n * @param {boolean} [stopRecursion=false]\n *\n * @return {Rect}\n */\nfunction getBBox(elements, stopRecursion) {\n  stopRecursion = !!stopRecursion;\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(elements)) {\n    elements = [elements];\n  }\n  var minX, minY, maxX, maxY;\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function (element) {\n    // If element is a connection the bbox must be computed first\n    var bbox = element;\n    if (element.waypoints && !stopRecursion) {\n      bbox = getBBox(element.waypoints, true);\n    }\n    var x = bbox.x,\n      y = bbox.y,\n      height = bbox.height || 0,\n      width = bbox.width || 0;\n    if (x < minX || minX === undefined) {\n      minX = x;\n    }\n    if (y < minY || minY === undefined) {\n      minY = y;\n    }\n    if (x + width > maxX || maxX === undefined) {\n      maxX = x + width;\n    }\n    if (y + height > maxY || maxY === undefined) {\n      maxY = y + height;\n    }\n  });\n  return {\n    x: minX,\n    y: minY,\n    height: maxY - minY,\n    width: maxX - minX\n  };\n}\n\n/**\n * Returns all elements that are enclosed from the bounding box.\n *\n *   * If bbox.(width|height) is not specified the method returns\n *     all elements with element.x/y > bbox.x/y\n *   * If only bbox.x or bbox.y is specified, method return all elements with\n *     e.x > bbox.x or e.y > bbox.y\n *\n * @param {Element[]} elements List of Elements to search through\n * @param {Rect} bbox the enclosing bbox.\n *\n * @return {Element[]} enclosed elements\n */\nfunction getEnclosedElements(elements, bbox) {\n  var filteredElements = {};\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function (element) {\n    var e = element;\n    if (e.waypoints) {\n      e = getBBox(e);\n    }\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.y) && e.x > bbox.x) {\n      filteredElements[element.id] = element;\n    }\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.x) && e.y > bbox.y) {\n      filteredElements[element.id] = element;\n    }\n    if (e.x > bbox.x && e.y > bbox.y) {\n      if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.width) && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.height) && e.width + e.x < bbox.width + bbox.x && e.height + e.y < bbox.height + bbox.y) {\n        filteredElements[element.id] = element;\n      } else if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.width) || !(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.height)) {\n        filteredElements[element.id] = element;\n      }\n    }\n  });\n  return filteredElements;\n}\n\n/**\n * Get the element's type\n *\n * @param {Element} element\n *\n * @return {'connection' | 'shape' | 'root'}\n */\nfunction getType(element) {\n  if ('waypoints' in element) {\n    return 'connection';\n  }\n  if ('x' in element) {\n    return 'shape';\n  }\n  return 'root';\n}\n\n/**\n * @param {Element} element\n *\n * @return {boolean}\n */\nfunction isFrameElement(element) {\n  return !!(element && element.isFrame);\n}\n\n// helpers ///////////////////////////////\n\nfunction copyObject(src1, src2) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, src1 || {}, src2 || {});\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vYnBtbi1pby9kaWFncmFtLWpzL2xpYi91dGlsL0VsZW1lbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQVVrQjs7QUFFbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sU0FBU1MsVUFBVUEsQ0FBQ0MsUUFBUSxFQUFFO0VBRW5DO0VBQ0EsT0FBT1QsZ0RBQU0sQ0FBQ1MsUUFBUSxFQUFFLFVBQVNDLE9BQU8sRUFBRTtJQUN4QyxPQUFPLENBQUNULDhDQUFJLENBQUNRLFFBQVEsRUFBRSxVQUFTRSxDQUFDLEVBQUU7TUFDakMsT0FBT0EsQ0FBQyxLQUFLRCxPQUFPLElBQUlFLFNBQVMsQ0FBQ0YsT0FBTyxFQUFFQyxDQUFDLENBQUM7SUFDL0MsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0o7QUFHQSxTQUFTQyxTQUFTQSxDQUFDRixPQUFPLEVBQUVHLE1BQU0sRUFBRTtFQUNsQyxJQUFJLENBQUNBLE1BQU0sRUFBRTtJQUNYO0VBQ0Y7RUFFQSxJQUFJSCxPQUFPLEtBQUtHLE1BQU0sRUFBRTtJQUN0QixPQUFPQSxNQUFNO0VBQ2Y7RUFFQSxJQUFJLENBQUNILE9BQU8sQ0FBQ0csTUFBTSxFQUFFO0lBQ25CO0VBQ0Y7RUFFQSxPQUFPRCxTQUFTLENBQUNGLE9BQU8sQ0FBQ0csTUFBTSxFQUFFQSxNQUFNLENBQUM7QUFDMUM7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVNDLEdBQUdBLENBQUNMLFFBQVEsRUFBRUMsT0FBTyxFQUFFSyxNQUFNLEVBQUU7RUFDN0MsSUFBSUMsTUFBTSxHQUFHLENBQUNELE1BQU0sSUFBSU4sUUFBUSxDQUFDUSxPQUFPLENBQUNQLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztFQUV4RCxJQUFJTSxNQUFNLEVBQUU7SUFDVlAsUUFBUSxDQUFDUyxJQUFJLENBQUNSLE9BQU8sQ0FBQztFQUN4QjtFQUVBLE9BQU9NLE1BQU07QUFDZjs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVNHLFdBQVdBLENBQUNWLFFBQVEsRUFBRVcsRUFBRSxFQUFFQyxLQUFLLEVBQUU7RUFFL0NBLEtBQUssR0FBR0EsS0FBSyxJQUFJLENBQUM7RUFFbEIsSUFBSSxDQUFDbkIsaURBQU8sQ0FBQ08sUUFBUSxDQUFDLEVBQUU7SUFDdEJBLFFBQVEsR0FBRyxDQUFFQSxRQUFRLENBQUU7RUFDekI7RUFFQUYsaURBQU8sQ0FBQ0UsUUFBUSxFQUFFLFVBQVNhLENBQUMsRUFBRUMsQ0FBQyxFQUFFO0lBQy9CLElBQUl2QixNQUFNLEdBQUdvQixFQUFFLENBQUNFLENBQUMsRUFBRUMsQ0FBQyxFQUFFRixLQUFLLENBQUM7SUFFNUIsSUFBSW5CLGlEQUFPLENBQUNGLE1BQU0sQ0FBQyxJQUFJQSxNQUFNLENBQUN3QixNQUFNLEVBQUU7TUFDcENMLFdBQVcsQ0FBQ25CLE1BQU0sRUFBRW9CLEVBQUUsRUFBRUMsS0FBSyxHQUFHLENBQUMsQ0FBQztJQUNwQztFQUNGLENBQUMsQ0FBQztBQUNKOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVNJLGVBQWVBLENBQUNoQixRQUFRLEVBQUVNLE1BQU0sRUFBRVcsUUFBUSxFQUFFO0VBQzFELElBQUlDLE1BQU0sR0FBRyxFQUFFO0lBQ1hDLGlCQUFpQixHQUFHLEVBQUU7RUFFMUJULFdBQVcsQ0FBQ1YsUUFBUSxFQUFFLFVBQVNDLE9BQU8sRUFBRWEsQ0FBQyxFQUFFRixLQUFLLEVBQUU7SUFDaERQLEdBQUcsQ0FBQ2EsTUFBTSxFQUFFakIsT0FBTyxFQUFFSyxNQUFNLENBQUM7SUFFNUIsSUFBSWMsUUFBUSxHQUFHbkIsT0FBTyxDQUFDbUIsUUFBUTs7SUFFL0I7SUFDQSxJQUFJSCxRQUFRLEtBQUssQ0FBQyxDQUFDLElBQUlMLEtBQUssR0FBR0ssUUFBUSxFQUFFO01BRXZDO01BQ0EsSUFBSUcsUUFBUSxJQUFJZixHQUFHLENBQUNjLGlCQUFpQixFQUFFQyxRQUFRLEVBQUVkLE1BQU0sQ0FBQyxFQUFFO1FBQ3hELE9BQU9jLFFBQVE7TUFDakI7SUFDRjtFQUNGLENBQUMsQ0FBQztFQUVGLE9BQU9GLE1BQU07QUFDZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sU0FBU0cscUJBQXFCQSxDQUFDckIsUUFBUSxFQUFFc0IsZUFBZSxFQUFFO0VBQy9ELE9BQU9OLGVBQWUsQ0FBQ2hCLFFBQVEsRUFBRSxDQUFDc0IsZUFBZSxFQUFFLENBQUMsQ0FBQztBQUN2RDs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sU0FBU0Msa0JBQWtCQSxDQUFDdkIsUUFBUSxFQUFFc0IsZUFBZSxFQUFFO0VBQzVELE9BQU9OLGVBQWUsQ0FBQ2hCLFFBQVEsRUFBRSxDQUFDc0IsZUFBZSxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3hEOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sU0FBU0UsVUFBVUEsQ0FBQ3hCLFFBQVEsRUFBRXlCLFVBQVUsRUFBRUMsT0FBTyxFQUFFO0VBRXhELElBQUk5QixxREFBVyxDQUFDNkIsVUFBVSxDQUFDLEVBQUU7SUFDM0JBLFVBQVUsR0FBRyxJQUFJO0VBQ25CO0VBRUEsSUFBSTlCLGtEQUFRLENBQUM4QixVQUFVLENBQUMsRUFBRTtJQUN4QkMsT0FBTyxHQUFHRCxVQUFVO0lBQ3BCQSxVQUFVLEdBQUcsSUFBSTtFQUNuQjtFQUdBQyxPQUFPLEdBQUdBLE9BQU8sSUFBSSxDQUFDLENBQUM7RUFFdkIsSUFBSUMsU0FBUyxHQUFHQyxVQUFVLENBQUNGLE9BQU8sQ0FBQ0MsU0FBUyxDQUFDO0lBQ3pDRSxjQUFjLEdBQUdELFVBQVUsQ0FBQ0YsT0FBTyxDQUFDRyxjQUFjLENBQUM7SUFDbkRDLGdCQUFnQixHQUFHRixVQUFVLENBQUNGLE9BQU8sQ0FBQ0ksZ0JBQWdCLENBQUM7SUFDdkRDLG1CQUFtQixHQUFHSCxVQUFVLENBQUNGLE9BQU8sQ0FBQ0ssbUJBQW1CLENBQUM7RUFFakUsSUFBSUMsUUFBUSxHQUFHSixVQUFVLENBQ3ZCRixPQUFPLENBQUNNLFFBQVEsRUFDaEJQLFVBQVUsSUFBSTVCLGlEQUFPLENBQUNHLFFBQVEsRUFBRSxVQUFTRSxDQUFDLEVBQUU7SUFBRSxPQUFPQSxDQUFDLENBQUMrQixFQUFFO0VBQUUsQ0FBQyxDQUM5RCxDQUFDO0VBR0QsU0FBU0MsZ0JBQWdCQSxDQUFDQyxDQUFDLEVBQUU7SUFDM0IsSUFBSUgsUUFBUSxDQUFDRyxDQUFDLENBQUNDLE1BQU0sQ0FBQ0gsRUFBRSxDQUFDLElBQUlELFFBQVEsQ0FBQ0csQ0FBQyxDQUFDRSxNQUFNLENBQUNKLEVBQUUsQ0FBQyxFQUFFO01BQ2xERCxRQUFRLENBQUNHLENBQUMsQ0FBQ0YsRUFBRSxDQUFDLEdBQUcsQ0FBRUUsQ0FBQyxDQUFFO0lBQ3hCOztJQUVBO0lBQ0E7SUFDQSxJQUFJUixTQUFTLENBQUNRLENBQUMsQ0FBQ0MsTUFBTSxDQUFDSCxFQUFFLENBQUMsSUFBSU4sU0FBUyxDQUFDUSxDQUFDLENBQUNFLE1BQU0sQ0FBQ0osRUFBRSxDQUFDLEVBQUU7TUFDcERGLG1CQUFtQixDQUFDSSxDQUFDLENBQUNGLEVBQUUsQ0FBQyxHQUFHSCxnQkFBZ0IsQ0FBQ0ssQ0FBQyxDQUFDRixFQUFFLENBQUMsR0FBR0UsQ0FBQztJQUN4RDtJQUVBTixjQUFjLENBQUNNLENBQUMsQ0FBQ0YsRUFBRSxDQUFDLEdBQUdFLENBQUM7RUFDMUI7RUFFQSxTQUFTRyxhQUFhQSxDQUFDckMsT0FBTyxFQUFFO0lBRTlCNkIsZ0JBQWdCLENBQUM3QixPQUFPLENBQUNnQyxFQUFFLENBQUMsR0FBR2hDLE9BQU87SUFFdEMsSUFBSUEsT0FBTyxDQUFDc0MsU0FBUyxFQUFFO01BRXJCO01BQ0FSLG1CQUFtQixDQUFDOUIsT0FBTyxDQUFDZ0MsRUFBRSxDQUFDLEdBQUdKLGNBQWMsQ0FBQzVCLE9BQU8sQ0FBQ2dDLEVBQUUsQ0FBQyxHQUFHaEMsT0FBTztJQUN4RSxDQUFDLE1BQU07TUFFTDtNQUNBMEIsU0FBUyxDQUFDMUIsT0FBTyxDQUFDZ0MsRUFBRSxDQUFDLEdBQUdoQyxPQUFPOztNQUUvQjtNQUNBSCxpREFBTyxDQUFDRyxPQUFPLENBQUN1QyxRQUFRLEVBQUVOLGdCQUFnQixDQUFDO01BRTNDcEMsaURBQU8sQ0FBQ0csT0FBTyxDQUFDd0MsUUFBUSxFQUFFUCxnQkFBZ0IsQ0FBQzs7TUFFM0M7TUFDQSxPQUFPakMsT0FBTyxDQUFDbUIsUUFBUTtJQUN6QjtFQUNGO0VBRUFWLFdBQVcsQ0FBQ1YsUUFBUSxFQUFFc0MsYUFBYSxDQUFDO0VBRXBDLE9BQU87SUFDTFgsU0FBUyxFQUFFQSxTQUFTO0lBQ3BCRSxjQUFjLEVBQUVBLGNBQWM7SUFDOUJHLFFBQVEsRUFBRUEsUUFBUTtJQUNsQkQsbUJBQW1CLEVBQUVBLG1CQUFtQjtJQUN4Q0QsZ0JBQWdCLEVBQUVBO0VBQ3BCLENBQUM7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTWSxPQUFPQSxDQUFDMUMsUUFBUSxFQUFFMkMsYUFBYSxFQUFFO0VBRS9DQSxhQUFhLEdBQUcsQ0FBQyxDQUFDQSxhQUFhO0VBQy9CLElBQUksQ0FBQ2xELGlEQUFPLENBQUNPLFFBQVEsQ0FBQyxFQUFFO0lBQ3RCQSxRQUFRLEdBQUcsQ0FBRUEsUUFBUSxDQUFFO0VBQ3pCO0VBRUEsSUFBSTRDLElBQUksRUFDSkMsSUFBSSxFQUNKQyxJQUFJLEVBQ0pDLElBQUk7RUFFUmpELGlEQUFPLENBQUNFLFFBQVEsRUFBRSxVQUFTQyxPQUFPLEVBQUU7SUFFbEM7SUFDQSxJQUFJK0MsSUFBSSxHQUFHL0MsT0FBTztJQUNsQixJQUFJQSxPQUFPLENBQUNzQyxTQUFTLElBQUksQ0FBQ0ksYUFBYSxFQUFFO01BQ3ZDSyxJQUFJLEdBQUdOLE9BQU8sQ0FBQ3pDLE9BQU8sQ0FBQ3NDLFNBQVMsRUFBRSxJQUFJLENBQUM7SUFDekM7SUFFQSxJQUFJVSxDQUFDLEdBQUdELElBQUksQ0FBQ0MsQ0FBQztNQUNWQyxDQUFDLEdBQUdGLElBQUksQ0FBQ0UsQ0FBQztNQUNWQyxNQUFNLEdBQUdILElBQUksQ0FBQ0csTUFBTSxJQUFJLENBQUM7TUFDekJDLEtBQUssR0FBR0osSUFBSSxDQUFDSSxLQUFLLElBQUksQ0FBQztJQUUzQixJQUFJSCxDQUFDLEdBQUdMLElBQUksSUFBSUEsSUFBSSxLQUFLUyxTQUFTLEVBQUU7TUFDbENULElBQUksR0FBR0ssQ0FBQztJQUNWO0lBQ0EsSUFBSUMsQ0FBQyxHQUFHTCxJQUFJLElBQUlBLElBQUksS0FBS1EsU0FBUyxFQUFFO01BQ2xDUixJQUFJLEdBQUdLLENBQUM7SUFDVjtJQUVBLElBQUtELENBQUMsR0FBR0csS0FBSyxHQUFJTixJQUFJLElBQUlBLElBQUksS0FBS08sU0FBUyxFQUFFO01BQzVDUCxJQUFJLEdBQUdHLENBQUMsR0FBR0csS0FBSztJQUNsQjtJQUNBLElBQUtGLENBQUMsR0FBR0MsTUFBTSxHQUFJSixJQUFJLElBQUlBLElBQUksS0FBS00sU0FBUyxFQUFFO01BQzdDTixJQUFJLEdBQUdHLENBQUMsR0FBR0MsTUFBTTtJQUNuQjtFQUNGLENBQUMsQ0FBQztFQUVGLE9BQU87SUFDTEYsQ0FBQyxFQUFFTCxJQUFJO0lBQ1BNLENBQUMsRUFBRUwsSUFBSTtJQUNQTSxNQUFNLEVBQUVKLElBQUksR0FBR0YsSUFBSTtJQUNuQk8sS0FBSyxFQUFFTixJQUFJLEdBQUdGO0VBQ2hCLENBQUM7QUFDSDs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVNVLG1CQUFtQkEsQ0FBQ3RELFFBQVEsRUFBRWdELElBQUksRUFBRTtFQUVsRCxJQUFJTyxnQkFBZ0IsR0FBRyxDQUFDLENBQUM7RUFFekJ6RCxpREFBTyxDQUFDRSxRQUFRLEVBQUUsVUFBU0MsT0FBTyxFQUFFO0lBRWxDLElBQUlDLENBQUMsR0FBR0QsT0FBTztJQUVmLElBQUlDLENBQUMsQ0FBQ3FDLFNBQVMsRUFBRTtNQUNmckMsQ0FBQyxHQUFHd0MsT0FBTyxDQUFDeEMsQ0FBQyxDQUFDO0lBQ2hCO0lBRUEsSUFBSSxDQUFDUixrREFBUSxDQUFDc0QsSUFBSSxDQUFDRSxDQUFDLENBQUMsSUFBS2hELENBQUMsQ0FBQytDLENBQUMsR0FBR0QsSUFBSSxDQUFDQyxDQUFFLEVBQUU7TUFDdkNNLGdCQUFnQixDQUFDdEQsT0FBTyxDQUFDZ0MsRUFBRSxDQUFDLEdBQUdoQyxPQUFPO0lBQ3hDO0lBQ0EsSUFBSSxDQUFDUCxrREFBUSxDQUFDc0QsSUFBSSxDQUFDQyxDQUFDLENBQUMsSUFBSy9DLENBQUMsQ0FBQ2dELENBQUMsR0FBR0YsSUFBSSxDQUFDRSxDQUFFLEVBQUU7TUFDdkNLLGdCQUFnQixDQUFDdEQsT0FBTyxDQUFDZ0MsRUFBRSxDQUFDLEdBQUdoQyxPQUFPO0lBQ3hDO0lBQ0EsSUFBSUMsQ0FBQyxDQUFDK0MsQ0FBQyxHQUFHRCxJQUFJLENBQUNDLENBQUMsSUFBSS9DLENBQUMsQ0FBQ2dELENBQUMsR0FBR0YsSUFBSSxDQUFDRSxDQUFDLEVBQUU7TUFDaEMsSUFBSXhELGtEQUFRLENBQUNzRCxJQUFJLENBQUNJLEtBQUssQ0FBQyxJQUFJMUQsa0RBQVEsQ0FBQ3NELElBQUksQ0FBQ0csTUFBTSxDQUFDLElBQzdDakQsQ0FBQyxDQUFDa0QsS0FBSyxHQUFHbEQsQ0FBQyxDQUFDK0MsQ0FBQyxHQUFHRCxJQUFJLENBQUNJLEtBQUssR0FBR0osSUFBSSxDQUFDQyxDQUFDLElBQ25DL0MsQ0FBQyxDQUFDaUQsTUFBTSxHQUFHakQsQ0FBQyxDQUFDZ0QsQ0FBQyxHQUFHRixJQUFJLENBQUNHLE1BQU0sR0FBR0gsSUFBSSxDQUFDRSxDQUFDLEVBQUU7UUFFekNLLGdCQUFnQixDQUFDdEQsT0FBTyxDQUFDZ0MsRUFBRSxDQUFDLEdBQUdoQyxPQUFPO01BQ3hDLENBQUMsTUFBTSxJQUFJLENBQUNQLGtEQUFRLENBQUNzRCxJQUFJLENBQUNJLEtBQUssQ0FBQyxJQUFJLENBQUMxRCxrREFBUSxDQUFDc0QsSUFBSSxDQUFDRyxNQUFNLENBQUMsRUFBRTtRQUMxREksZ0JBQWdCLENBQUN0RCxPQUFPLENBQUNnQyxFQUFFLENBQUMsR0FBR2hDLE9BQU87TUFDeEM7SUFDRjtFQUNGLENBQUMsQ0FBQztFQUVGLE9BQU9zRCxnQkFBZ0I7QUFDekI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTQyxPQUFPQSxDQUFDdkQsT0FBTyxFQUFFO0VBRS9CLElBQUksV0FBVyxJQUFJQSxPQUFPLEVBQUU7SUFDMUIsT0FBTyxZQUFZO0VBQ3JCO0VBRUEsSUFBSSxHQUFHLElBQUlBLE9BQU8sRUFBRTtJQUNsQixPQUFPLE9BQU87RUFDaEI7RUFFQSxPQUFPLE1BQU07QUFDZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sU0FBU3dELGNBQWNBLENBQUN4RCxPQUFPLEVBQUU7RUFDdEMsT0FBTyxDQUFDLEVBQUVBLE9BQU8sSUFBSUEsT0FBTyxDQUFDeUQsT0FBTyxDQUFDO0FBQ3ZDOztBQUVBOztBQUVBLFNBQVM5QixVQUFVQSxDQUFDK0IsSUFBSSxFQUFFQyxJQUFJLEVBQUU7RUFDOUIsT0FBT3RFLGdEQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUVxRSxJQUFJLElBQUksQ0FBQyxDQUFDLEVBQUVDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztBQUMzQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2tkYXlzLTIwMjMvLi4vYnBtbi1pby9kaWFncmFtLWpzL2xpYi91dGlsL0VsZW1lbnRzLmpzPzZjNTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmaWx0ZXIsXG4gIGZpbmQsXG4gIGlzQXJyYXksXG4gIGlzTnVtYmVyLFxuICBpc09iamVjdCxcbiAgaXNVbmRlZmluZWQsXG4gIGdyb3VwQnksXG4gIGZvckVhY2hcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21vZGVsL1R5cGVzJykuQ29ubmVjdGlvbn0gQ29ubmVjdGlvblxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vbW9kZWwvVHlwZXMnKS5FbGVtZW50fSBFbGVtZW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb2RlbC9UeXBlcycpLlNoYXBlfSBTaGFwZVxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3R5cGUvVHlwZXMnKS5SZWN0fSBSZWN0XG4gKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgIGFsbFNoYXBlczogUmVjb3JkPHN0cmluZywgU2hhcGU+LFxuICogICBhbGxDb25uZWN0aW9uczogUmVjb3JkPHN0cmluZywgQ29ubmVjdGlvbj4sXG4gKiAgIHRvcExldmVsOiBSZWNvcmQ8c3RyaW5nLCBFbGVtZW50PixcbiAqICAgZW5jbG9zZWRDb25uZWN0aW9uczogUmVjb3JkPHN0cmluZywgQ29ubmVjdGlvbj4sXG4gKiAgIGVuY2xvc2VkRWxlbWVudHM6IFJlY29yZDxzdHJpbmcsIEVsZW1lbnQ+XG4gKiB9IH0gQ2xvc3VyZVxuICovXG5cbi8qKlxuICogR2V0IHBhcmVudCBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxlbWVudHNcbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50W119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJlbnRzKGVsZW1lbnRzKSB7XG5cbiAgLy8gZmluZCBlbGVtZW50cyB0aGF0IGFyZSBub3QgY2hpbGRyZW4gb2YgYW55IG90aGVyIGVsZW1lbnRzXG4gIHJldHVybiBmaWx0ZXIoZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gIWZpbmQoZWxlbWVudHMsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHJldHVybiBlICE9PSBlbGVtZW50ICYmIGdldFBhcmVudChlbGVtZW50LCBlKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cblxuZnVuY3Rpb24gZ2V0UGFyZW50KGVsZW1lbnQsIHBhcmVudCkge1xuICBpZiAoIXBhcmVudCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChlbGVtZW50ID09PSBwYXJlbnQpIHtcbiAgICByZXR1cm4gcGFyZW50O1xuICB9XG5cbiAgaWYgKCFlbGVtZW50LnBhcmVudCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiBnZXRQYXJlbnQoZWxlbWVudC5wYXJlbnQsIHBhcmVudCk7XG59XG5cblxuLyoqXG4gKiBBZGRzIGFuIGVsZW1lbnQgdG8gYSBjb2xsZWN0aW9uIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlXG4gKiBlbGVtZW50IHdhcyBhZGRlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdFtdfSBlbGVtZW50c1xuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VuaXF1ZV1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZChlbGVtZW50cywgZWxlbWVudCwgdW5pcXVlKSB7XG4gIHZhciBjYW5BZGQgPSAhdW5pcXVlIHx8IGVsZW1lbnRzLmluZGV4T2YoZWxlbWVudCkgPT09IC0xO1xuXG4gIGlmIChjYW5BZGQpIHtcbiAgICBlbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICB9XG5cbiAgcmV0dXJuIGNhbkFkZDtcbn1cblxuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBlYWNoIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uLCBjYWxsaW5nIHRoZSBpdGVyYXRvciBmdW5jdGlvbiBgZm5gXG4gKiB3aXRoIChlbGVtZW50LCBpbmRleCwgcmVjdXJzaW9uRGVwdGgpLlxuICpcbiAqIFJlY3Vyc2UgaW50byBhbGwgZWxlbWVudHMgdGhhdCBhcmUgcmV0dXJuZWQgYnkgYGZuYC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR8RWxlbWVudFtdfSBlbGVtZW50c1xuICogQHBhcmFtIHsoZWxlbWVudDogRWxlbWVudCwgaW5kZXg6IG51bWJlciwgZGVwdGg6IG51bWJlcikgPT4gRWxlbWVudFtdIHwgYm9vbGVhbiB8IHVuZGVmaW5lZH0gZm5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGhdIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYWNoRWxlbWVudChlbGVtZW50cywgZm4sIGRlcHRoKSB7XG5cbiAgZGVwdGggPSBkZXB0aCB8fCAwO1xuXG4gIGlmICghaXNBcnJheShlbGVtZW50cykpIHtcbiAgICBlbGVtZW50cyA9IFsgZWxlbWVudHMgXTtcbiAgfVxuXG4gIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKHMsIGkpIHtcbiAgICB2YXIgZmlsdGVyID0gZm4ocywgaSwgZGVwdGgpO1xuXG4gICAgaWYgKGlzQXJyYXkoZmlsdGVyKSAmJiBmaWx0ZXIubGVuZ3RoKSB7XG4gICAgICBlYWNoRWxlbWVudChmaWx0ZXIsIGZuLCBkZXB0aCArIDEpO1xuICAgIH1cbiAgfSk7XG59XG5cblxuLyoqXG4gKiBDb2xsZWN0cyBzZWxmICsgY2hpbGQgZWxlbWVudHMgdXAgdG8gYSBnaXZlbiBkZXB0aCBmcm9tIGEgbGlzdCBvZiBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR8RWxlbWVudFtdfSBlbGVtZW50cyB0aGUgZWxlbWVudHMgdG8gc2VsZWN0IHRoZSBjaGlsZHJlbiBmcm9tXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVuaXF1ZSB3aGV0aGVyIHRvIHJldHVybiBhIHVuaXF1ZSByZXN1bHQgc2V0IChubyBkdXBsaWNhdGVzKVxuICogQHBhcmFtIHtudW1iZXJ9IG1heERlcHRoIHRoZSBkZXB0aCB0byBzZWFyY2ggdGhyb3VnaCBvciAtMSBmb3IgaW5maW5pdGVcbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50W119IGZvdW5kIGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxmQW5kQ2hpbGRyZW4oZWxlbWVudHMsIHVuaXF1ZSwgbWF4RGVwdGgpIHtcbiAgdmFyIHJlc3VsdCA9IFtdLFxuICAgICAgcHJvY2Vzc2VkQ2hpbGRyZW4gPSBbXTtcblxuICBlYWNoRWxlbWVudChlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCwgaSwgZGVwdGgpIHtcbiAgICBhZGQocmVzdWx0LCBlbGVtZW50LCB1bmlxdWUpO1xuXG4gICAgdmFyIGNoaWxkcmVuID0gZWxlbWVudC5jaGlsZHJlbjtcblxuICAgIC8vIG1heCB0cmF2ZXJzYWwgZGVwdGggbm90IHJlYWNoZWQgeWV0XG4gICAgaWYgKG1heERlcHRoID09PSAtMSB8fCBkZXB0aCA8IG1heERlcHRoKSB7XG5cbiAgICAgIC8vIGNoaWxkcmVuIGV4aXN0ICYmIGNoaWxkcmVuIG5vdCB5ZXQgcHJvY2Vzc2VkXG4gICAgICBpZiAoY2hpbGRyZW4gJiYgYWRkKHByb2Nlc3NlZENoaWxkcmVuLCBjaGlsZHJlbiwgdW5pcXVlKSkge1xuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFJldHVybiBzZWxmICsgZGlyZWN0IGNoaWxkcmVuIGZvciBhIG51bWJlciBvZiBlbGVtZW50c1xuICpcbiAqIEBwYXJhbSB7RWxlbWVudFtdfSBlbGVtZW50cyB0byBxdWVyeVxuICogQHBhcmFtIHtib29sZWFufSBbYWxsb3dEdXBsaWNhdGVzXSB0byBhbGxvdyBkdXBsaWNhdGVzIGluIHRoZSByZXN1bHQgc2V0XG4gKlxuICogQHJldHVybiB7RWxlbWVudFtdfSB0aGUgY29sbGVjdGVkIGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxmQW5kRGlyZWN0Q2hpbGRyZW4oZWxlbWVudHMsIGFsbG93RHVwbGljYXRlcykge1xuICByZXR1cm4gc2VsZkFuZENoaWxkcmVuKGVsZW1lbnRzLCAhYWxsb3dEdXBsaWNhdGVzLCAxKTtcbn1cblxuXG4vKipcbiAqIFJldHVybiBzZWxmICsgQUxMIGNoaWxkcmVuIGZvciBhIG51bWJlciBvZiBlbGVtZW50c1xuICpcbiAqIEBwYXJhbSB7RWxlbWVudFtdfSBlbGVtZW50cyB0byBxdWVyeVxuICogQHBhcmFtIHtib29sZWFufSBbYWxsb3dEdXBsaWNhdGVzXSB0byBhbGxvdyBkdXBsaWNhdGVzIGluIHRoZSByZXN1bHQgc2V0XG4gKlxuICogQHJldHVybiB7RWxlbWVudFtdfSB0aGUgY29sbGVjdGVkIGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxmQW5kQWxsQ2hpbGRyZW4oZWxlbWVudHMsIGFsbG93RHVwbGljYXRlcykge1xuICByZXR1cm4gc2VsZkFuZENoaWxkcmVuKGVsZW1lbnRzLCAhYWxsb3dEdXBsaWNhdGVzLCAtMSk7XG59XG5cblxuLyoqXG4gKiBHZXRzIHRoZSB0aGUgY2xvc3VyZSBmb3IgYWxsIHNlbGVjdGVkIGVsZW1lbnRzLFxuICogdGhlaXIgZW5jbG9zZWQgY2hpbGRyZW4gYW5kIGNvbm5lY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudFtdfSBlbGVtZW50c1xuICogQHBhcmFtIHtib29sZWFufSBbaXNUb3BMZXZlbD10cnVlXVxuICogQHBhcmFtIHtDbG9zdXJlfSBbY2xvc3VyZV1cbiAqXG4gKiBAcmV0dXJuIHtDbG9zdXJlfSBuZXdDbG9zdXJlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDbG9zdXJlKGVsZW1lbnRzLCBpc1RvcExldmVsLCBjbG9zdXJlKSB7XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGlzVG9wTGV2ZWwpKSB7XG4gICAgaXNUb3BMZXZlbCA9IHRydWU7XG4gIH1cblxuICBpZiAoaXNPYmplY3QoaXNUb3BMZXZlbCkpIHtcbiAgICBjbG9zdXJlID0gaXNUb3BMZXZlbDtcbiAgICBpc1RvcExldmVsID0gdHJ1ZTtcbiAgfVxuXG5cbiAgY2xvc3VyZSA9IGNsb3N1cmUgfHwge307XG5cbiAgdmFyIGFsbFNoYXBlcyA9IGNvcHlPYmplY3QoY2xvc3VyZS5hbGxTaGFwZXMpLFxuICAgICAgYWxsQ29ubmVjdGlvbnMgPSBjb3B5T2JqZWN0KGNsb3N1cmUuYWxsQ29ubmVjdGlvbnMpLFxuICAgICAgZW5jbG9zZWRFbGVtZW50cyA9IGNvcHlPYmplY3QoY2xvc3VyZS5lbmNsb3NlZEVsZW1lbnRzKSxcbiAgICAgIGVuY2xvc2VkQ29ubmVjdGlvbnMgPSBjb3B5T2JqZWN0KGNsb3N1cmUuZW5jbG9zZWRDb25uZWN0aW9ucyk7XG5cbiAgdmFyIHRvcExldmVsID0gY29weU9iamVjdChcbiAgICBjbG9zdXJlLnRvcExldmVsLFxuICAgIGlzVG9wTGV2ZWwgJiYgZ3JvdXBCeShlbGVtZW50cywgZnVuY3Rpb24oZSkgeyByZXR1cm4gZS5pZDsgfSlcbiAgKTtcblxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNvbm5lY3Rpb24oYykge1xuICAgIGlmICh0b3BMZXZlbFtjLnNvdXJjZS5pZF0gJiYgdG9wTGV2ZWxbYy50YXJnZXQuaWRdKSB7XG4gICAgICB0b3BMZXZlbFtjLmlkXSA9IFsgYyBdO1xuICAgIH1cblxuICAgIC8vIG5vdCBlbmNsb3NlZCBhcyBhIGNoaWxkLCBidXQgbWF5YmUgbG9naWNhbGx5XG4gICAgLy8gKGNvbm5lY3RpbmcgdHdvIG1vdmVkIGVsZW1lbnRzPylcbiAgICBpZiAoYWxsU2hhcGVzW2Muc291cmNlLmlkXSAmJiBhbGxTaGFwZXNbYy50YXJnZXQuaWRdKSB7XG4gICAgICBlbmNsb3NlZENvbm5lY3Rpb25zW2MuaWRdID0gZW5jbG9zZWRFbGVtZW50c1tjLmlkXSA9IGM7XG4gICAgfVxuXG4gICAgYWxsQ29ubmVjdGlvbnNbYy5pZF0gPSBjO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlRWxlbWVudChlbGVtZW50KSB7XG5cbiAgICBlbmNsb3NlZEVsZW1lbnRzW2VsZW1lbnQuaWRdID0gZWxlbWVudDtcblxuICAgIGlmIChlbGVtZW50LndheXBvaW50cykge1xuXG4gICAgICAvLyByZW1lbWJlciBjb25uZWN0aW9uXG4gICAgICBlbmNsb3NlZENvbm5lY3Rpb25zW2VsZW1lbnQuaWRdID0gYWxsQ29ubmVjdGlvbnNbZWxlbWVudC5pZF0gPSBlbGVtZW50O1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIC8vIHJlbWVtYmVyIHNoYXBlXG4gICAgICBhbGxTaGFwZXNbZWxlbWVudC5pZF0gPSBlbGVtZW50O1xuXG4gICAgICAvLyByZW1lbWJlciBhbGwgY29ubmVjdGlvbnNcbiAgICAgIGZvckVhY2goZWxlbWVudC5pbmNvbWluZywgaGFuZGxlQ29ubmVjdGlvbik7XG5cbiAgICAgIGZvckVhY2goZWxlbWVudC5vdXRnb2luZywgaGFuZGxlQ29ubmVjdGlvbik7XG5cbiAgICAgIC8vIHJlY3Vyc2UgaW50byBjaGlsZHJlblxuICAgICAgcmV0dXJuIGVsZW1lbnQuY2hpbGRyZW47XG4gICAgfVxuICB9XG5cbiAgZWFjaEVsZW1lbnQoZWxlbWVudHMsIGhhbmRsZUVsZW1lbnQpO1xuXG4gIHJldHVybiB7XG4gICAgYWxsU2hhcGVzOiBhbGxTaGFwZXMsXG4gICAgYWxsQ29ubmVjdGlvbnM6IGFsbENvbm5lY3Rpb25zLFxuICAgIHRvcExldmVsOiB0b3BMZXZlbCxcbiAgICBlbmNsb3NlZENvbm5lY3Rpb25zOiBlbmNsb3NlZENvbm5lY3Rpb25zLFxuICAgIGVuY2xvc2VkRWxlbWVudHM6IGVuY2xvc2VkRWxlbWVudHNcbiAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzdXJyb3VuZGluZyBiYm94IGZvciBhbGwgZWxlbWVudHMgaW5cbiAqIHRoZSBhcnJheSBvciB0aGUgZWxlbWVudCBwcmltaXRpdmUuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fEVsZW1lbnRbXX0gZWxlbWVudHNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0b3BSZWN1cnNpb249ZmFsc2VdXG4gKlxuICogQHJldHVybiB7UmVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJCb3goZWxlbWVudHMsIHN0b3BSZWN1cnNpb24pIHtcblxuICBzdG9wUmVjdXJzaW9uID0gISFzdG9wUmVjdXJzaW9uO1xuICBpZiAoIWlzQXJyYXkoZWxlbWVudHMpKSB7XG4gICAgZWxlbWVudHMgPSBbIGVsZW1lbnRzIF07XG4gIH1cblxuICB2YXIgbWluWCxcbiAgICAgIG1pblksXG4gICAgICBtYXhYLFxuICAgICAgbWF4WTtcblxuICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgICAvLyBJZiBlbGVtZW50IGlzIGEgY29ubmVjdGlvbiB0aGUgYmJveCBtdXN0IGJlIGNvbXB1dGVkIGZpcnN0XG4gICAgdmFyIGJib3ggPSBlbGVtZW50O1xuICAgIGlmIChlbGVtZW50LndheXBvaW50cyAmJiAhc3RvcFJlY3Vyc2lvbikge1xuICAgICAgYmJveCA9IGdldEJCb3goZWxlbWVudC53YXlwb2ludHMsIHRydWUpO1xuICAgIH1cblxuICAgIHZhciB4ID0gYmJveC54LFxuICAgICAgICB5ID0gYmJveC55LFxuICAgICAgICBoZWlnaHQgPSBiYm94LmhlaWdodCB8fCAwLFxuICAgICAgICB3aWR0aCA9IGJib3gud2lkdGggfHwgMDtcblxuICAgIGlmICh4IDwgbWluWCB8fCBtaW5YID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG1pblggPSB4O1xuICAgIH1cbiAgICBpZiAoeSA8IG1pblkgfHwgbWluWSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBtaW5ZID0geTtcbiAgICB9XG5cbiAgICBpZiAoKHggKyB3aWR0aCkgPiBtYXhYIHx8IG1heFggPT09IHVuZGVmaW5lZCkge1xuICAgICAgbWF4WCA9IHggKyB3aWR0aDtcbiAgICB9XG4gICAgaWYgKCh5ICsgaGVpZ2h0KSA+IG1heFkgfHwgbWF4WSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBtYXhZID0geSArIGhlaWdodDtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgeDogbWluWCxcbiAgICB5OiBtaW5ZLFxuICAgIGhlaWdodDogbWF4WSAtIG1pblksXG4gICAgd2lkdGg6IG1heFggLSBtaW5YXG4gIH07XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGFsbCBlbGVtZW50cyB0aGF0IGFyZSBlbmNsb3NlZCBmcm9tIHRoZSBib3VuZGluZyBib3guXG4gKlxuICogICAqIElmIGJib3guKHdpZHRofGhlaWdodCkgaXMgbm90IHNwZWNpZmllZCB0aGUgbWV0aG9kIHJldHVybnNcbiAqICAgICBhbGwgZWxlbWVudHMgd2l0aCBlbGVtZW50LngveSA+IGJib3gueC95XG4gKiAgICogSWYgb25seSBiYm94Lnggb3IgYmJveC55IGlzIHNwZWNpZmllZCwgbWV0aG9kIHJldHVybiBhbGwgZWxlbWVudHMgd2l0aFxuICogICAgIGUueCA+IGJib3gueCBvciBlLnkgPiBiYm94LnlcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxlbWVudHMgTGlzdCBvZiBFbGVtZW50cyB0byBzZWFyY2ggdGhyb3VnaFxuICogQHBhcmFtIHtSZWN0fSBiYm94IHRoZSBlbmNsb3NpbmcgYmJveC5cbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50W119IGVuY2xvc2VkIGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbmNsb3NlZEVsZW1lbnRzKGVsZW1lbnRzLCBiYm94KSB7XG5cbiAgdmFyIGZpbHRlcmVkRWxlbWVudHMgPSB7fTtcblxuICBmb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgICB2YXIgZSA9IGVsZW1lbnQ7XG5cbiAgICBpZiAoZS53YXlwb2ludHMpIHtcbiAgICAgIGUgPSBnZXRCQm94KGUpO1xuICAgIH1cblxuICAgIGlmICghaXNOdW1iZXIoYmJveC55KSAmJiAoZS54ID4gYmJveC54KSkge1xuICAgICAgZmlsdGVyZWRFbGVtZW50c1tlbGVtZW50LmlkXSA9IGVsZW1lbnQ7XG4gICAgfVxuICAgIGlmICghaXNOdW1iZXIoYmJveC54KSAmJiAoZS55ID4gYmJveC55KSkge1xuICAgICAgZmlsdGVyZWRFbGVtZW50c1tlbGVtZW50LmlkXSA9IGVsZW1lbnQ7XG4gICAgfVxuICAgIGlmIChlLnggPiBiYm94LnggJiYgZS55ID4gYmJveC55KSB7XG4gICAgICBpZiAoaXNOdW1iZXIoYmJveC53aWR0aCkgJiYgaXNOdW1iZXIoYmJveC5oZWlnaHQpICYmXG4gICAgICAgICAgZS53aWR0aCArIGUueCA8IGJib3gud2lkdGggKyBiYm94LnggJiZcbiAgICAgICAgICBlLmhlaWdodCArIGUueSA8IGJib3guaGVpZ2h0ICsgYmJveC55KSB7XG5cbiAgICAgICAgZmlsdGVyZWRFbGVtZW50c1tlbGVtZW50LmlkXSA9IGVsZW1lbnQ7XG4gICAgICB9IGVsc2UgaWYgKCFpc051bWJlcihiYm94LndpZHRoKSB8fCAhaXNOdW1iZXIoYmJveC5oZWlnaHQpKSB7XG4gICAgICAgIGZpbHRlcmVkRWxlbWVudHNbZWxlbWVudC5pZF0gPSBlbGVtZW50O1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGZpbHRlcmVkRWxlbWVudHM7XG59XG5cbi8qKlxuICogR2V0IHRoZSBlbGVtZW50J3MgdHlwZVxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICpcbiAqIEByZXR1cm4geydjb25uZWN0aW9uJyB8ICdzaGFwZScgfCAncm9vdCd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUeXBlKGVsZW1lbnQpIHtcblxuICBpZiAoJ3dheXBvaW50cycgaW4gZWxlbWVudCkge1xuICAgIHJldHVybiAnY29ubmVjdGlvbic7XG4gIH1cblxuICBpZiAoJ3gnIGluIGVsZW1lbnQpIHtcbiAgICByZXR1cm4gJ3NoYXBlJztcbiAgfVxuXG4gIHJldHVybiAncm9vdCc7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnJhbWVFbGVtZW50KGVsZW1lbnQpIHtcbiAgcmV0dXJuICEhKGVsZW1lbnQgJiYgZWxlbWVudC5pc0ZyYW1lKTtcbn1cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGNvcHlPYmplY3Qoc3JjMSwgc3JjMikge1xuICByZXR1cm4gYXNzaWduKHt9LCBzcmMxIHx8IHt9LCBzcmMyIHx8IHt9KTtcbn1cbiJdLCJuYW1lcyI6WyJhc3NpZ24iLCJmaWx0ZXIiLCJmaW5kIiwiaXNBcnJheSIsImlzTnVtYmVyIiwiaXNPYmplY3QiLCJpc1VuZGVmaW5lZCIsImdyb3VwQnkiLCJmb3JFYWNoIiwiZ2V0UGFyZW50cyIsImVsZW1lbnRzIiwiZWxlbWVudCIsImUiLCJnZXRQYXJlbnQiLCJwYXJlbnQiLCJhZGQiLCJ1bmlxdWUiLCJjYW5BZGQiLCJpbmRleE9mIiwicHVzaCIsImVhY2hFbGVtZW50IiwiZm4iLCJkZXB0aCIsInMiLCJpIiwibGVuZ3RoIiwic2VsZkFuZENoaWxkcmVuIiwibWF4RGVwdGgiLCJyZXN1bHQiLCJwcm9jZXNzZWRDaGlsZHJlbiIsImNoaWxkcmVuIiwic2VsZkFuZERpcmVjdENoaWxkcmVuIiwiYWxsb3dEdXBsaWNhdGVzIiwic2VsZkFuZEFsbENoaWxkcmVuIiwiZ2V0Q2xvc3VyZSIsImlzVG9wTGV2ZWwiLCJjbG9zdXJlIiwiYWxsU2hhcGVzIiwiY29weU9iamVjdCIsImFsbENvbm5lY3Rpb25zIiwiZW5jbG9zZWRFbGVtZW50cyIsImVuY2xvc2VkQ29ubmVjdGlvbnMiLCJ0b3BMZXZlbCIsImlkIiwiaGFuZGxlQ29ubmVjdGlvbiIsImMiLCJzb3VyY2UiLCJ0YXJnZXQiLCJoYW5kbGVFbGVtZW50Iiwid2F5cG9pbnRzIiwiaW5jb21pbmciLCJvdXRnb2luZyIsImdldEJCb3giLCJzdG9wUmVjdXJzaW9uIiwibWluWCIsIm1pblkiLCJtYXhYIiwibWF4WSIsImJib3giLCJ4IiwieSIsImhlaWdodCIsIndpZHRoIiwidW5kZWZpbmVkIiwiZ2V0RW5jbG9zZWRFbGVtZW50cyIsImZpbHRlcmVkRWxlbWVudHMiLCJnZXRUeXBlIiwiaXNGcmFtZUVsZW1lbnQiLCJpc0ZyYW1lIiwic3JjMSIsInNyYzIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../bpmn-io/diagram-js/lib/util/Elements.js\n");

/***/ }),

/***/ "../bpmn-io/diagram-js/lib/util/Geometry.js":
/*!**************************************************!*\
  !*** ../bpmn-io/diagram-js/lib/util/Geometry.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getMidPoint: () => (/* binding */ getMidPoint),\n/* harmony export */   pointDistance: () => (/* binding */ pointDistance),\n/* harmony export */   pointInRect: () => (/* binding */ pointInRect),\n/* harmony export */   pointsAligned: () => (/* binding */ pointsAligned),\n/* harmony export */   pointsAlignedOnAxis: () => (/* binding */ pointsAlignedOnAxis),\n/* harmony export */   pointsOnLine: () => (/* binding */ pointsOnLine)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"../bpmn-io/diagram-js/node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../util/Types').Axis} Axis\n * @typedef {import('../util/Types').Point} Point\n * @typedef {import('../util/Types').Rect} Rect\n */\n\n/**\n * Computes the distance between two points.\n *\n * @param {Point} a\n * @param {Point} b\n *\n * @return {number} The distance between the two points.\n */\nfunction pointDistance(a, b) {\n  if (!a || !b) {\n    return -1;\n  }\n  return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\n}\n\n/**\n * Returns true if the point r is on the line between p and q.\n *\n * @param {Point} p\n * @param {Point} q\n * @param {Point} r\n * @param {number} [accuracy=5] The accuracy with which to check (lower is better).\n *\n * @return {boolean}\n */\nfunction pointsOnLine(p, q, r, accuracy) {\n  if (typeof accuracy === 'undefined') {\n    accuracy = 5;\n  }\n  if (!p || !q || !r) {\n    return false;\n  }\n  var val = (q.x - p.x) * (r.y - p.y) - (q.y - p.y) * (r.x - p.x),\n    dist = pointDistance(p, q);\n\n  // @see http://stackoverflow.com/a/907491/412190\n  return Math.abs(val / dist) <= accuracy;\n}\nvar ALIGNED_THRESHOLD = 2;\n\n/**\n * Check whether two points are horizontally or vertically aligned.\n *\n * @param {Point[]|Point} a\n * @param {Point} [b]\n *\n * @return {string|boolean} If and how the two points are aligned ('h', 'v' or `false`).\n */\nfunction pointsAligned(a, b) {\n  var points = Array.from(arguments).flat();\n  const axisMap = {\n    'x': 'v',\n    'y': 'h'\n  };\n  for (const [axis, orientation] of Object.entries(axisMap)) {\n    if (pointsAlignedOnAxis(axis, points)) {\n      return orientation;\n    }\n  }\n  return false;\n}\n\n/**\n * @param {Axis} axis\n * @param {Point[]} points\n *\n * @return {boolean}\n */\nfunction pointsAlignedOnAxis(axis, points) {\n  const referencePoint = points[0];\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.every)(points, function (point) {\n    return Math.abs(referencePoint[axis] - point[axis]) <= ALIGNED_THRESHOLD;\n  });\n}\n\n/**\n * Returns true if the point p is inside the rectangle rect\n *\n * @param {Point} p\n * @param {Rect} rect\n * @param {number} tolerance\n *\n * @return {boolean}\n */\nfunction pointInRect(p, rect, tolerance) {\n  tolerance = tolerance || 0;\n  return p.x > rect.x - tolerance && p.y > rect.y - tolerance && p.x < rect.x + rect.width + tolerance && p.y < rect.y + rect.height + tolerance;\n}\n\n/**\n * Returns a point in the middle of points p and q\n *\n * @param {Point} p\n * @param {Point} q\n *\n * @return {Point} The mid point between the two points.\n */\nfunction getMidPoint(p, q) {\n  return {\n    x: Math.round(p.x + (q.x - p.x) / 2.0),\n    y: Math.round(p.y + (q.y - p.y) / 2.0)\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vYnBtbi1pby9kaWFncmFtLWpzL2xpYi91dGlsL0dlb21ldHJ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFa0I7O0FBRWxCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVNDLGFBQWFBLENBQUNDLENBQUMsRUFBRUMsQ0FBQyxFQUFFO0VBQ2xDLElBQUksQ0FBQ0QsQ0FBQyxJQUFJLENBQUNDLENBQUMsRUFBRTtJQUNaLE9BQU8sQ0FBQyxDQUFDO0VBQ1g7RUFFQSxPQUFPQyxJQUFJLENBQUNDLElBQUksQ0FDZEQsSUFBSSxDQUFDRSxHQUFHLENBQUNKLENBQUMsQ0FBQ0ssQ0FBQyxHQUFHSixDQUFDLENBQUNJLENBQUMsRUFBRSxDQUFDLENBQUMsR0FDdEJILElBQUksQ0FBQ0UsR0FBRyxDQUFDSixDQUFDLENBQUNNLENBQUMsR0FBR0wsQ0FBQyxDQUFDSyxDQUFDLEVBQUUsQ0FBQyxDQUN2QixDQUFDO0FBQ0g7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTQyxZQUFZQSxDQUFDQyxDQUFDLEVBQUVDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxRQUFRLEVBQUU7RUFFOUMsSUFBSSxPQUFPQSxRQUFRLEtBQUssV0FBVyxFQUFFO0lBQ25DQSxRQUFRLEdBQUcsQ0FBQztFQUNkO0VBRUEsSUFBSSxDQUFDSCxDQUFDLElBQUksQ0FBQ0MsQ0FBQyxJQUFJLENBQUNDLENBQUMsRUFBRTtJQUNsQixPQUFPLEtBQUs7RUFDZDtFQUVBLElBQUlFLEdBQUcsR0FBRyxDQUFDSCxDQUFDLENBQUNKLENBQUMsR0FBR0csQ0FBQyxDQUFDSCxDQUFDLEtBQUtLLENBQUMsQ0FBQ0osQ0FBQyxHQUFHRSxDQUFDLENBQUNGLENBQUMsQ0FBQyxHQUFHLENBQUNHLENBQUMsQ0FBQ0gsQ0FBQyxHQUFHRSxDQUFDLENBQUNGLENBQUMsS0FBS0ksQ0FBQyxDQUFDTCxDQUFDLEdBQUdHLENBQUMsQ0FBQ0gsQ0FBQyxDQUFDO0lBQzNEUSxJQUFJLEdBQUdkLGFBQWEsQ0FBQ1MsQ0FBQyxFQUFFQyxDQUFDLENBQUM7O0VBRTlCO0VBQ0EsT0FBT1AsSUFBSSxDQUFDWSxHQUFHLENBQUNGLEdBQUcsR0FBR0MsSUFBSSxDQUFDLElBQUlGLFFBQVE7QUFDekM7QUFHQSxJQUFJSSxpQkFBaUIsR0FBRyxDQUFDOztBQUV6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sU0FBU0MsYUFBYUEsQ0FBQ2hCLENBQUMsRUFBRUMsQ0FBQyxFQUFFO0VBQ2xDLElBQUlnQixNQUFNLEdBQUdDLEtBQUssQ0FBQ0MsSUFBSSxDQUFDQyxTQUFTLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUM7RUFFekMsTUFBTUMsT0FBTyxHQUFHO0lBQ2QsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUU7RUFDUCxDQUFDO0VBRUQsS0FBSyxNQUFNLENBQUVDLElBQUksRUFBRUMsV0FBVyxDQUFFLElBQUlDLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDSixPQUFPLENBQUMsRUFBRTtJQUMzRCxJQUFJSyxtQkFBbUIsQ0FBQ0osSUFBSSxFQUFFTixNQUFNLENBQUMsRUFBRTtNQUNyQyxPQUFPTyxXQUFXO0lBQ3BCO0VBQ0Y7RUFFQSxPQUFPLEtBQUs7QUFDZDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTRyxtQkFBbUJBLENBQUNKLElBQUksRUFBRU4sTUFBTSxFQUFFO0VBQ2hELE1BQU1XLGNBQWMsR0FBR1gsTUFBTSxDQUFDLENBQUMsQ0FBQztFQUVoQyxPQUFPbkIsK0NBQUssQ0FBQ21CLE1BQU0sRUFBRSxVQUFTWSxLQUFLLEVBQUU7SUFDbkMsT0FBTzNCLElBQUksQ0FBQ1ksR0FBRyxDQUFDYyxjQUFjLENBQUNMLElBQUksQ0FBQyxHQUFHTSxLQUFLLENBQUNOLElBQUksQ0FBQyxDQUFDLElBQUlSLGlCQUFpQjtFQUMxRSxDQUFDLENBQUM7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTZSxXQUFXQSxDQUFDdEIsQ0FBQyxFQUFFdUIsSUFBSSxFQUFFQyxTQUFTLEVBQUU7RUFDOUNBLFNBQVMsR0FBR0EsU0FBUyxJQUFJLENBQUM7RUFFMUIsT0FBT3hCLENBQUMsQ0FBQ0gsQ0FBQyxHQUFHMEIsSUFBSSxDQUFDMUIsQ0FBQyxHQUFHMkIsU0FBUyxJQUN4QnhCLENBQUMsQ0FBQ0YsQ0FBQyxHQUFHeUIsSUFBSSxDQUFDekIsQ0FBQyxHQUFHMEIsU0FBUyxJQUN4QnhCLENBQUMsQ0FBQ0gsQ0FBQyxHQUFHMEIsSUFBSSxDQUFDMUIsQ0FBQyxHQUFHMEIsSUFBSSxDQUFDRSxLQUFLLEdBQUdELFNBQVMsSUFDckN4QixDQUFDLENBQUNGLENBQUMsR0FBR3lCLElBQUksQ0FBQ3pCLENBQUMsR0FBR3lCLElBQUksQ0FBQ0csTUFBTSxHQUFHRixTQUFTO0FBQy9DOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTRyxXQUFXQSxDQUFDM0IsQ0FBQyxFQUFFQyxDQUFDLEVBQUU7RUFDaEMsT0FBTztJQUNMSixDQUFDLEVBQUVILElBQUksQ0FBQ2tDLEtBQUssQ0FBQzVCLENBQUMsQ0FBQ0gsQ0FBQyxHQUFJLENBQUNJLENBQUMsQ0FBQ0osQ0FBQyxHQUFHRyxDQUFDLENBQUNILENBQUMsSUFBSSxHQUFJLENBQUM7SUFDeENDLENBQUMsRUFBRUosSUFBSSxDQUFDa0MsS0FBSyxDQUFDNUIsQ0FBQyxDQUFDRixDQUFDLEdBQUksQ0FBQ0csQ0FBQyxDQUFDSCxDQUFDLEdBQUdFLENBQUMsQ0FBQ0YsQ0FBQyxJQUFJLEdBQUk7RUFDekMsQ0FBQztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2RheXMtMjAyMy8uLi9icG1uLWlvL2RpYWdyYW0tanMvbGliL3V0aWwvR2VvbWV0cnkuanM/MjY0MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBldmVyeVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLkF4aXN9IEF4aXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3V0aWwvVHlwZXMnKS5SZWN0fSBSZWN0XG4gKi9cblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzLlxuICpcbiAqIEBwYXJhbSB7UG9pbnR9IGFcbiAqIEBwYXJhbSB7UG9pbnR9IGJcbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB0d28gcG9pbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9pbnREaXN0YW5jZShhLCBiKSB7XG4gIGlmICghYSB8fCAhYikge1xuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIHJldHVybiBNYXRoLnNxcnQoXG4gICAgTWF0aC5wb3coYS54IC0gYi54LCAyKSArXG4gICAgTWF0aC5wb3coYS55IC0gYi55LCAyKVxuICApO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBwb2ludCByIGlzIG9uIHRoZSBsaW5lIGJldHdlZW4gcCBhbmQgcS5cbiAqXG4gKiBAcGFyYW0ge1BvaW50fSBwXG4gKiBAcGFyYW0ge1BvaW50fSBxXG4gKiBAcGFyYW0ge1BvaW50fSByXG4gKiBAcGFyYW0ge251bWJlcn0gW2FjY3VyYWN5PTVdIFRoZSBhY2N1cmFjeSB3aXRoIHdoaWNoIHRvIGNoZWNrIChsb3dlciBpcyBiZXR0ZXIpLlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb2ludHNPbkxpbmUocCwgcSwgciwgYWNjdXJhY3kpIHtcblxuICBpZiAodHlwZW9mIGFjY3VyYWN5ID09PSAndW5kZWZpbmVkJykge1xuICAgIGFjY3VyYWN5ID0gNTtcbiAgfVxuXG4gIGlmICghcCB8fCAhcSB8fCAhcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciB2YWwgPSAocS54IC0gcC54KSAqIChyLnkgLSBwLnkpIC0gKHEueSAtIHAueSkgKiAoci54IC0gcC54KSxcbiAgICAgIGRpc3QgPSBwb2ludERpc3RhbmNlKHAsIHEpO1xuXG4gIC8vIEBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvOTA3NDkxLzQxMjE5MFxuICByZXR1cm4gTWF0aC5hYnModmFsIC8gZGlzdCkgPD0gYWNjdXJhY3k7XG59XG5cblxudmFyIEFMSUdORURfVEhSRVNIT0xEID0gMjtcblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIHR3byBwb2ludHMgYXJlIGhvcml6b250YWxseSBvciB2ZXJ0aWNhbGx5IGFsaWduZWQuXG4gKlxuICogQHBhcmFtIHtQb2ludFtdfFBvaW50fSBhXG4gKiBAcGFyYW0ge1BvaW50fSBbYl1cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd8Ym9vbGVhbn0gSWYgYW5kIGhvdyB0aGUgdHdvIHBvaW50cyBhcmUgYWxpZ25lZCAoJ2gnLCAndicgb3IgYGZhbHNlYCkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb2ludHNBbGlnbmVkKGEsIGIpIHtcbiAgdmFyIHBvaW50cyA9IEFycmF5LmZyb20oYXJndW1lbnRzKS5mbGF0KCk7XG5cbiAgY29uc3QgYXhpc01hcCA9IHtcbiAgICAneCc6ICd2JyxcbiAgICAneSc6ICdoJ1xuICB9O1xuXG4gIGZvciAoY29uc3QgWyBheGlzLCBvcmllbnRhdGlvbiBdIG9mIE9iamVjdC5lbnRyaWVzKGF4aXNNYXApKSB7XG4gICAgaWYgKHBvaW50c0FsaWduZWRPbkF4aXMoYXhpcywgcG9pbnRzKSkge1xuICAgICAgcmV0dXJuIG9yaWVudGF0aW9uO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0F4aXN9IGF4aXNcbiAqIEBwYXJhbSB7UG9pbnRbXX0gcG9pbnRzXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvaW50c0FsaWduZWRPbkF4aXMoYXhpcywgcG9pbnRzKSB7XG4gIGNvbnN0IHJlZmVyZW5jZVBvaW50ID0gcG9pbnRzWzBdO1xuXG4gIHJldHVybiBldmVyeShwb2ludHMsIGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKHJlZmVyZW5jZVBvaW50W2F4aXNdIC0gcG9pbnRbYXhpc10pIDw9IEFMSUdORURfVEhSRVNIT0xEO1xuICB9KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHBvaW50IHAgaXMgaW5zaWRlIHRoZSByZWN0YW5nbGUgcmVjdFxuICpcbiAqIEBwYXJhbSB7UG9pbnR9IHBcbiAqIEBwYXJhbSB7UmVjdH0gcmVjdFxuICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZVxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb2ludEluUmVjdChwLCByZWN0LCB0b2xlcmFuY2UpIHtcbiAgdG9sZXJhbmNlID0gdG9sZXJhbmNlIHx8IDA7XG5cbiAgcmV0dXJuIHAueCA+IHJlY3QueCAtIHRvbGVyYW5jZSAmJlxuICAgICAgICAgcC55ID4gcmVjdC55IC0gdG9sZXJhbmNlICYmXG4gICAgICAgICBwLnggPCByZWN0LnggKyByZWN0LndpZHRoICsgdG9sZXJhbmNlICYmXG4gICAgICAgICBwLnkgPCByZWN0LnkgKyByZWN0LmhlaWdodCArIHRvbGVyYW5jZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcG9pbnQgaW4gdGhlIG1pZGRsZSBvZiBwb2ludHMgcCBhbmQgcVxuICpcbiAqIEBwYXJhbSB7UG9pbnR9IHBcbiAqIEBwYXJhbSB7UG9pbnR9IHFcbiAqXG4gKiBAcmV0dXJuIHtQb2ludH0gVGhlIG1pZCBwb2ludCBiZXR3ZWVuIHRoZSB0d28gcG9pbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWlkUG9pbnQocCwgcSkge1xuICByZXR1cm4ge1xuICAgIHg6IE1hdGgucm91bmQocC54ICsgKChxLnggLSBwLngpIC8gMi4wKSksXG4gICAgeTogTWF0aC5yb3VuZChwLnkgKyAoKHEueSAtIHAueSkgLyAyLjApKVxuICB9O1xufVxuIl0sIm5hbWVzIjpbImV2ZXJ5IiwicG9pbnREaXN0YW5jZSIsImEiLCJiIiwiTWF0aCIsInNxcnQiLCJwb3ciLCJ4IiwieSIsInBvaW50c09uTGluZSIsInAiLCJxIiwiciIsImFjY3VyYWN5IiwidmFsIiwiZGlzdCIsImFicyIsIkFMSUdORURfVEhSRVNIT0xEIiwicG9pbnRzQWxpZ25lZCIsInBvaW50cyIsIkFycmF5IiwiZnJvbSIsImFyZ3VtZW50cyIsImZsYXQiLCJheGlzTWFwIiwiYXhpcyIsIm9yaWVudGF0aW9uIiwiT2JqZWN0IiwiZW50cmllcyIsInBvaW50c0FsaWduZWRPbkF4aXMiLCJyZWZlcmVuY2VQb2ludCIsInBvaW50IiwicG9pbnRJblJlY3QiLCJyZWN0IiwidG9sZXJhbmNlIiwid2lkdGgiLCJoZWlnaHQiLCJnZXRNaWRQb2ludCIsInJvdW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../bpmn-io/diagram-js/lib/util/Geometry.js\n");

/***/ }),

/***/ "../bpmn-io/diagram-js/lib/util/ModelUtil.js":
/*!***************************************************!*\
  !*** ../bpmn-io/diagram-js/lib/util/ModelUtil.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isConnection: () => (/* binding */ isConnection),\n/* harmony export */   isLabel: () => (/* binding */ isLabel),\n/* harmony export */   isRoot: () => (/* binding */ isRoot)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"../bpmn-io/diagram-js/node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * Checks whether a value is an instance of Connection.\n *\n * @param {any} value\n *\n * @return {boolean}\n */\nfunction isConnection(value) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(value) && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.has)(value, 'waypoints');\n}\n\n/**\n * Checks whether a value is an instance of Label.\n *\n * @param {any} value\n *\n * @return {boolean}\n */\nfunction isLabel(value) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(value) && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.has)(value, 'labelTarget');\n}\n\n/**\n * Checks whether a value is an instance of Root.\n *\n * @param {any} value\n *\n * @return {boolean}\n */\nfunction isRoot(value) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(value) && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNil)(value.parent);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vYnBtbi1pby9kaWFncmFtLWpzL2xpYi91dGlsL01vZGVsVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBSWtCOztBQUVsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVNHLFlBQVlBLENBQUNDLEtBQUssRUFBRTtFQUNsQyxPQUFPRixrREFBUSxDQUFDRSxLQUFLLENBQUMsSUFBSUosNkNBQUcsQ0FBQ0ksS0FBSyxFQUFFLFdBQVcsQ0FBQztBQUNuRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVNDLE9BQU9BLENBQUNELEtBQUssRUFBRTtFQUM3QixPQUFPRixrREFBUSxDQUFDRSxLQUFLLENBQUMsSUFBSUosNkNBQUcsQ0FBQ0ksS0FBSyxFQUFFLGFBQWEsQ0FBQztBQUNyRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLFNBQVNFLE1BQU1BLENBQUNGLEtBQUssRUFBRTtFQUM1QixPQUFPRixrREFBUSxDQUFDRSxLQUFLLENBQUMsSUFBSUgsK0NBQUssQ0FBQ0csS0FBSyxDQUFDRyxNQUFNLENBQUM7QUFDL0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZGF5cy0yMDIzLy4uL2JwbW4taW8vZGlhZ3JhbS1qcy9saWIvdXRpbC9Nb2RlbFV0aWwuanM/NTdlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBoYXMsXG4gIGlzTmlsLFxuICBpc09iamVjdFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSB2YWx1ZSBpcyBhbiBpbnN0YW5jZSBvZiBDb25uZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Nvbm5lY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbHVlKSAmJiBoYXModmFsdWUsICd3YXlwb2ludHMnKTtcbn1cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIHZhbHVlIGlzIGFuIGluc3RhbmNlIG9mIExhYmVsLlxuICpcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xhYmVsKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWx1ZSkgJiYgaGFzKHZhbHVlLCAnbGFiZWxUYXJnZXQnKTtcbn1cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIHZhbHVlIGlzIGFuIGluc3RhbmNlIG9mIFJvb3QuXG4gKlxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUm9vdCh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3QodmFsdWUpICYmIGlzTmlsKHZhbHVlLnBhcmVudCk7XG59Il0sIm5hbWVzIjpbImhhcyIsImlzTmlsIiwiaXNPYmplY3QiLCJpc0Nvbm5lY3Rpb24iLCJ2YWx1ZSIsImlzTGFiZWwiLCJpc1Jvb3QiLCJwYXJlbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../bpmn-io/diagram-js/lib/util/ModelUtil.js\n");

/***/ }),

/***/ "./src/features/AppendNode.js":
/*!************************************!*\
  !*** ./src/features/AppendNode.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AppendNode)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var diagram_js_lib_util_Elements__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! diagram-js/lib/util/Elements */ \"./node_modules/diagram-js/lib/util/Elements.js\");\n\n\n\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../util/Types').Rect} Rect\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../overlays/Overlays').default} Overlays\n *\n * @typedef {import('../overlays/Overlays').Overlay} Overlay\n *\n */\n\n/**\n * @template {Element} [ElementType=Element]\n *\n * @typedef {ElementType|ElementType[]} AppendNodeTarget\n */\n\nvar nodeSelector = '.djs-append-node-circle';\nvar OFFSET = 4;\nvar NODE_WIDTH = 20;\nvar DEFAULT_PRIORITY = 1000;\nvar ALLOWED_ACTIONS = ['click', 'dragstart'];\n\n/**\n * Append node around elements,\n * allowing to append anything.\n *\n * @param {Canvas} canvas\n * @param {EventBus} eventBus\n * @param {Overlays} overlays\n */\nfunction AppendNode(canvas, eventBus, overlays, appendPreview) {\n  this._canvas = canvas;\n  this._eventBus = eventBus;\n  this._overlays = overlays;\n  this._appendPreview = appendPreview;\n  this._current = null;\n  this._init();\n}\nAppendNode.$inject = ['canvas', 'eventBus', 'overlays', 'appendPreview'];\n\n// TODO provider to only show on relevant elements\n\n/**\n * Registers events needed for interaction with other components.\n */\nAppendNode.prototype._init = function () {\n  var self = this;\n  this._eventBus.on('selection.changed', function (event) {\n    var selection = event.newSelection;\n    var target = selection.length ? selection.length === 1 ? selection[0] : selection : null;\n    if (target) {\n      self.show(target, true);\n    } else {\n      self.hide();\n    }\n  });\n  this._eventBus.on('elements.changed', function (event) {\n    var elements = event.elements,\n      current = self._current;\n    if (!current) {\n      return;\n    }\n    var currentTarget = current.target;\n    var currentChanged = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.some)((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(currentTarget) ? currentTarget : [currentTarget], function (element) {\n      return includes(elements, element);\n    });\n\n    // re-open if elements in current selection changed\n    if (currentChanged) {\n      self.show(currentTarget, true);\n    }\n  });\n};\n\n/**\n * @overlord\n *\n * Register a context pad provider with the default priority. See\n * {@link AppendNodeProvider} for examples.\n *\n * @param {AppendNodeProvider} provider\n */\n\n/**\n * Register a context pad provider with the given priority. See\n * {@link AppendNodeProvider} for examples.\n *\n * @param {number} priority\n * @param {AppendNodeProvider} provider\n */\nAppendNode.prototype.registerProvider = function (priority, provider) {\n  if (!provider) {\n    provider = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n  this._eventBus.on('appendNode.getProviders', priority, function (event) {\n    event.providers.push(provider);\n  });\n};\n\n/**\n * Get append node actions for given elements.\n *\n * @param {AppendNodeTarget} target\n *\n * @return {AppendNodeActions} object of drag and click actions\n */\nAppendNode.prototype.getActions = function (target) {\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(target)) return {};\n  var providers = this._getProviders();\n  var clickFn = 'getAppendNodeClickAction';\n  var dragFn = 'getAppendNodeDragAction';\n  var entries = {};\n\n  // TODO does it make sense to register multiple?\n\n  // loop through all providers and their entries.\n  // group entries by id so that overriding an entry is possible\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(providers, provider => {\n    // click\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(provider[clickFn])) {\n      entries['click'] = provider[clickFn](target);\n    }\n\n    // drag\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(provider[dragFn])) {\n      entries['dragstart'] = provider[dragFn](target);\n    }\n    console.log('entries: ', entries);\n    entries.hover = (_, element) => {\n      // mouseover\n      console.log('mouseover');\n      this._appendPreview.create(element, 'bpmn:Task', {\n        hidden: true\n      });\n      return () => {\n        // mouseout\n        console.log('mouseout');\n        this._appendPreview.delete();\n      };\n    };\n  });\n  return entries;\n};\n\n/**\n * Trigger context pad via DOM event.\n *\n * The entry to trigger is determined by the target element.\n *\n * @param {string} action\n * @param {Event} event\n * @param {boolean} [autoActivate=false]\n */\n\nAppendNode.prototype.trigger = function (action, event, autoActivate) {\n  var originalEvent,\n    button = event.delegateTarget || event.target;\n  if (!button) {\n    return event.preventDefault();\n  }\n\n  //entry = domAttr(button, 'data-action');\n  originalEvent = event.originalEvent || event;\n  const HOVER_DELAY = 300;\n  if (action === 'mouseover') {\n    this._timeout = setTimeout(() => {\n      this._mouseout = this.triggerAction('hover', originalEvent, autoActivate);\n    }, HOVER_DELAY);\n  } else if (action === 'mouseout') {\n    clearTimeout(this._timeout);\n    if (this._mouseout) {\n      this._mouseout();\n      this._mouseout = null;\n    }\n  }\n  return this.triggerAction(action, originalEvent, autoActivate);\n};\n\n/**\n * Trigger append node action.\n *\n * @param {string} action\n * @param {Event} event\n * @param {boolean} [autoActivate=false]\n */\nAppendNode.prototype.triggerAction = function (actionId, event, autoActivate) {\n  if (!this.isShown()) {\n    return;\n  }\n  var target = this._current.target,\n    actions = this._current.actions;\n  var action = actions[actionId];\n  if (!action) {\n    return;\n  }\n\n  //var handler = entry.action;\n  // action\n\n  if (this._eventBus.fire('appendNode.trigger', {\n    action,\n    event\n  }) === false) {\n    return;\n  }\n\n  // simple action (via callback function)\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(action)) {\n    return action(event, target, autoActivate);\n  }\n\n  // silence other actions\n  event.preventDefault();\n};\n\n/**\n * Show the append node for given elements.\n *\n * @param {AppendNodeTarget} target\n * @param {boolean} [force=false] - Force re-showing append node.\n */\nAppendNode.prototype.show = function (target, force) {\n  if (!force && this.isShown(target)) {\n    return;\n  }\n  this.hide();\n  this._updateAndShow(target);\n};\nAppendNode.prototype._getProviders = function () {\n  var event = this._eventBus.createEvent({\n    type: 'appendNode.getProviders',\n    providers: []\n  });\n  this._eventBus.fire(event);\n  return event.providers;\n};\n\n/**\n * @param {AppendNodeTarget} target\n */\nAppendNode.prototype._updateAndShow = function (target) {\n  var actions = this.getActions(target),\n    node = this.getNode(target),\n    html = node.html,\n    // TODO multiple nodes\n    image;\n  var showNode = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(actions) && ALLOWED_ACTIONS.some(action => (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(actions[action]));\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(html).add(showNode ? 'show' : 'hide'); // TODO rename classes\n\n  this._current = {\n    target: target,\n    actions: actions,\n    node: node\n  };\n  this._eventBus.fire('appendNodes.show', {\n    current: this._current\n  });\n};\n\n/**\n * @param {AppendNodeTarget} target\n *\n * @return {Overlay}\n */\nAppendNode.prototype.getNode = function (target) {\n  if (this.isShown()) {\n    return this._current.node;\n  }\n  var self = this;\n  var overlays = this._overlays;\n\n  // TODO use real preview\n  /*\n  var appendPreview = `\n    <svg>  \n      <g class=\"djs-element djs-connection\" style=\"display: block;\">\n        <g class=\"djs-visual\">\n          <path data-corner-radius=\"5\" style=\"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px; marker-end: url(&quot;#sequenceflow-end-white-hsl_225_10_15_-341b8e86qykbiuvsan2j7nkil&quot;);\" d=\"M370,790L420,790\"></path>\n        </g>\n      </g>\n    </svg>\n  `;\n  */\n\n  // TODO multiple nodes\n  var html = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.domify)(`\n    <div class=\"djs-append-node\">\n      <div class=\"djs-append-node-circle\" title=\"Append/connect\" draggable=\"true\"></div>\n    </div>\n  `);\n  var position = this._getPosition(target);\n  var overlaysConfig = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({\n    html: html\n  }, this._overlaysConfig, position);\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.delegate.bind(html, nodeSelector, 'click', function (event) {\n    self.trigger('click', event);\n  });\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.delegate.bind(html, nodeSelector, 'dragstart', function (event) {\n    self.trigger('dragstart', event);\n  });\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.delegate.bind(html, nodeSelector, 'mouseover', function (event) {\n    self.trigger('mouseover', event);\n  });\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.delegate.bind(html, nodeSelector, 'mouseout', function (event) {\n    self.trigger('mouseout', event);\n  });\n\n  // stop propagation of mouse events\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.event.bind(html, 'mousedown', function (event) {\n    event.stopPropagation();\n  });\n  var activeRootElement = this._canvas.getRootElement();\n\n  // TODO multiple nodes\n  this._overlayId = overlays.add(activeRootElement, 'append-node', overlaysConfig);\n  var node = overlays.get(this._overlayId);\n  this._eventBus.fire('appendNodes.create', {\n    target: target,\n    node: node\n  });\n  return node;\n};\n\n/**\n * Hide the node\n */\nAppendNode.prototype.hide = function () {\n  if (!this.isShown()) {\n    return;\n  }\n  this._overlays.remove(this._overlayId);\n  this._overlayId = null;\n  this._eventBus.fire('appendNodes.hide', {\n    current: this._current\n  });\n  this._current = null;\n};\n\n/**\n * Check if node is shown.\n *\n * If target is provided, check if it is shown\n * for the given target.\n *\n * @param {AppendNodeTarget} [target]\n * @return {boolean}\n */\nAppendNode.prototype.isShown = function (target) {\n  var current = this._current;\n  if (!current) {\n    return false;\n  }\n\n  // basic no-args is open check\n  if (!target) {\n    return true;\n  }\n  var currentTarget = current.target;\n\n  // TODO\n  // strict handling of single vs. multi-selection\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(target) !== (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(currentTarget)) {\n    return false;\n  }\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(target)) {\n    return target.length === currentTarget.length && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.every)(target, function (element) {\n      return includes(currentTarget, element);\n    });\n  } else {\n    return currentTarget === target;\n  }\n};\n\n// TODO multiple nodes\n/**\n * Get append node position.\n *\n * @param {AppendNodeTarget} target\n *\n * @return {Rect}\n */\nAppendNode.prototype._getPosition = function (target) {\n  var elements = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(target) ? target : [target];\n  var bBox = (0,diagram_js_lib_util_Elements__WEBPACK_IMPORTED_MODULE_2__.getBBox)(elements);\n  return {\n    position: {\n      left: bBox.x + bBox.width + OFFSET,\n      top: bBox.y + bBox.height / 2 - NODE_WIDTH\n    }\n  };\n};\n\n// helpers //////////\n\n/**\n * @param {any[]} array\n * @param {any} item\n *\n * @return {boolean}\n */\nfunction includes(array, item) {\n  return array.indexOf(item) !== -1;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QzFDLCtDQUFLLENBQUN5QyxNQUFNLEVBQUUsVUFBU1EsT0FBTyxFQUFFO01BQzlCLE9BQU9DLFFBQVEsQ0FBQ0gsYUFBYSxFQUFFRSxPQUFPLENBQUM7SUFDekMsQ0FBQyxDQUFDO0VBRU4sQ0FBQyxNQUFNO0lBQ0wsT0FBT0YsYUFBYSxLQUFLTixNQUFNO0VBQ2pDO0FBQ0YsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FqQixVQUFVLENBQUNZLFNBQVMsQ0FBQzRELFlBQVksR0FBRyxVQUFTdkQsTUFBTSxFQUFFO0VBRW5ELElBQUlJLFFBQVEsR0FBRzNDLGlEQUFPLENBQUN1QyxNQUFNLENBQUMsR0FBR0EsTUFBTSxHQUFHLENBQUVBLE1BQU0sQ0FBRTtFQUNwRCxJQUFJaUUsSUFBSSxHQUFHeEYscUVBQU8sQ0FBQzJCLFFBQVEsQ0FBQztFQUU1QixPQUFPO0lBQ0xrRCxRQUFRLEVBQUU7TUFDUlksSUFBSSxFQUFFRCxJQUFJLENBQUNFLENBQUMsR0FBR0YsSUFBSSxDQUFDRyxLQUFLLEdBQUd6RixNQUFNO01BQ2xDMEYsR0FBRyxFQUFFSixJQUFJLENBQUNLLENBQUMsR0FBR0wsSUFBSSxDQUFDTSxNQUFNLEdBQUcsQ0FBQyxHQUFHM0Y7SUFDbEM7RUFDRixDQUFDO0FBQ0gsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTNkIsUUFBUUEsQ0FBQytELEtBQUssRUFBRUMsSUFBSSxFQUFFO0VBQzdCLE9BQU9ELEtBQUssQ0FBQ0UsT0FBTyxDQUFDRCxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDbkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZGF5cy0yMDIzLy4vc3JjL2ZlYXR1cmVzL0FwcGVuZE5vZGUuanM/Njc4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBhc3NpZ24sXG4gIGV2ZXJ5LFxuICBmb3JFYWNoLFxuICBpc0FycmF5LFxuICBpc0RlZmluZWQsXG4gIGlzRnVuY3Rpb24sXG4gIGlzT2JqZWN0LFxuICBzb21lXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZGVsZWdhdGUgYXMgZG9tRGVsZWdhdGUsXG4gIGV2ZW50IGFzIGRvbUV2ZW50LFxuICBhdHRyIGFzIGRvbUF0dHIsXG4gIHF1ZXJ5IGFzIGRvbVF1ZXJ5LFxuICBjbGFzc2VzIGFzIGRvbUNsYXNzZXMsXG4gIGRvbWlmeSBhcyBkb21pZnlcbn0gZnJvbSAnbWluLWRvbSc7XG5cbmltcG9ydCB7IGdldEJCb3ggfSBmcm9tICdkaWFncmFtLWpzL2xpYi91dGlsL0VsZW1lbnRzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9tb2RlbC9UeXBlcycpLkVsZW1lbnR9IEVsZW1lbnRcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi91dGlsL1R5cGVzJykuUmVjdH0gUmVjdFxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL2NvcmUvQ2FudmFzJykuZGVmYXVsdH0gQ2FudmFzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL292ZXJsYXlzL092ZXJsYXlzJykuZGVmYXVsdH0gT3ZlcmxheXNcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9vdmVybGF5cy9PdmVybGF5cycpLk92ZXJsYXl9IE92ZXJsYXlcbiAqXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUge0VsZW1lbnR9IFtFbGVtZW50VHlwZT1FbGVtZW50XVxuICpcbiAqIEB0eXBlZGVmIHtFbGVtZW50VHlwZXxFbGVtZW50VHlwZVtdfSBBcHBlbmROb2RlVGFyZ2V0XG4gKi9cblxudmFyIG5vZGVTZWxlY3RvciA9ICcuZGpzLWFwcGVuZC1ub2RlLWNpcmNsZSc7XG52YXIgT0ZGU0VUID0gNDtcbnZhciBOT0RFX1dJRFRIID0gMjA7XG5cbnZhciBERUZBVUxUX1BSSU9SSVRZID0gMTAwMDtcblxudmFyIEFMTE9XRURfQUNUSU9OUyA9IFsnY2xpY2snLCAnZHJhZ3N0YXJ0J107XG5cbi8qKlxuICogQXBwZW5kIG5vZGUgYXJvdW5kIGVsZW1lbnRzLFxuICogYWxsb3dpbmcgdG8gYXBwZW5kIGFueXRoaW5nLlxuICpcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge092ZXJsYXlzfSBvdmVybGF5c1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBcHBlbmROb2RlKGNhbnZhcywgZXZlbnRCdXMsIG92ZXJsYXlzLCBhcHBlbmRQcmV2aWV3KSB7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fb3ZlcmxheXMgPSBvdmVybGF5cztcbiAgdGhpcy5fYXBwZW5kUHJldmlldyA9IGFwcGVuZFByZXZpZXc7XG5cblxuICB0aGlzLl9jdXJyZW50ID0gbnVsbDtcblxuICB0aGlzLl9pbml0KCk7XG59XG5cbkFwcGVuZE5vZGUuJGluamVjdCA9IFtcbiAgJ2NhbnZhcycsXG4gICdldmVudEJ1cycsXG4gICdvdmVybGF5cycsXG4gICdhcHBlbmRQcmV2aWV3J1xuXTtcblxuLy8gVE9ETyBwcm92aWRlciB0byBvbmx5IHNob3cgb24gcmVsZXZhbnQgZWxlbWVudHNcblxuLyoqXG4gKiBSZWdpc3RlcnMgZXZlbnRzIG5lZWRlZCBmb3IgaW50ZXJhY3Rpb24gd2l0aCBvdGhlciBjb21wb25lbnRzLlxuICovXG5BcHBlbmROb2RlLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRoaXMuX2V2ZW50QnVzLm9uKCdzZWxlY3Rpb24uY2hhbmdlZCcsIGZ1bmN0aW9uIChldmVudCkge1xuXG4gICAgdmFyIHNlbGVjdGlvbiA9IGV2ZW50Lm5ld1NlbGVjdGlvbjtcblxuICAgIHZhciB0YXJnZXQgPSBzZWxlY3Rpb24ubGVuZ3RoXG4gICAgICA/IHNlbGVjdGlvbi5sZW5ndGggPT09IDFcbiAgICAgICAgPyBzZWxlY3Rpb25bMF1cbiAgICAgICAgOiBzZWxlY3Rpb25cbiAgICAgIDogbnVsbDtcblxuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIHNlbGYuc2hvdyh0YXJnZXQsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmhpZGUoKTtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMuX2V2ZW50QnVzLm9uKCdlbGVtZW50cy5jaGFuZ2VkJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIGVsZW1lbnRzID0gZXZlbnQuZWxlbWVudHMsXG4gICAgICBjdXJyZW50ID0gc2VsZi5fY3VycmVudDtcblxuICAgIGlmICghY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjdXJyZW50VGFyZ2V0ID0gY3VycmVudC50YXJnZXQ7XG5cbiAgICB2YXIgY3VycmVudENoYW5nZWQgPSBzb21lKFxuICAgICAgaXNBcnJheShjdXJyZW50VGFyZ2V0KSA/IGN1cnJlbnRUYXJnZXQgOiBbY3VycmVudFRhcmdldF0sXG4gICAgICBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gaW5jbHVkZXMoZWxlbWVudHMsIGVsZW1lbnQpO1xuICAgICAgfVxuICAgICk7XG5cbiAgICAvLyByZS1vcGVuIGlmIGVsZW1lbnRzIGluIGN1cnJlbnQgc2VsZWN0aW9uIGNoYW5nZWRcbiAgICBpZiAoY3VycmVudENoYW5nZWQpIHtcbiAgICAgIHNlbGYuc2hvdyhjdXJyZW50VGFyZ2V0LCB0cnVlKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLyoqXG4gKiBAb3ZlcmxvcmRcbiAqXG4gKiBSZWdpc3RlciBhIGNvbnRleHQgcGFkIHByb3ZpZGVyIHdpdGggdGhlIGRlZmF1bHQgcHJpb3JpdHkuIFNlZVxuICoge0BsaW5rIEFwcGVuZE5vZGVQcm92aWRlcn0gZm9yIGV4YW1wbGVzLlxuICpcbiAqIEBwYXJhbSB7QXBwZW5kTm9kZVByb3ZpZGVyfSBwcm92aWRlclxuICovXG5cbi8qKlxuICogUmVnaXN0ZXIgYSBjb250ZXh0IHBhZCBwcm92aWRlciB3aXRoIHRoZSBnaXZlbiBwcmlvcml0eS4gU2VlXG4gKiB7QGxpbmsgQXBwZW5kTm9kZVByb3ZpZGVyfSBmb3IgZXhhbXBsZXMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHByaW9yaXR5XG4gKiBAcGFyYW0ge0FwcGVuZE5vZGVQcm92aWRlcn0gcHJvdmlkZXJcbiAqL1xuQXBwZW5kTm9kZS5wcm90b3R5cGUucmVnaXN0ZXJQcm92aWRlciA9IGZ1bmN0aW9uKHByaW9yaXR5LCBwcm92aWRlcikge1xuICBpZiAoIXByb3ZpZGVyKSB7XG4gICAgcHJvdmlkZXIgPSBwcmlvcml0eTtcbiAgICBwcmlvcml0eSA9IERFRkFVTFRfUFJJT1JJVFk7XG4gIH1cblxuICB0aGlzLl9ldmVudEJ1cy5vbignYXBwZW5kTm9kZS5nZXRQcm92aWRlcnMnLCBwcmlvcml0eSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudC5wcm92aWRlcnMucHVzaChwcm92aWRlcik7XG4gIH0pO1xufTtcblxuXG4vKipcbiAqIEdldCBhcHBlbmQgbm9kZSBhY3Rpb25zIGZvciBnaXZlbiBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge0FwcGVuZE5vZGVUYXJnZXR9IHRhcmdldFxuICpcbiAqIEByZXR1cm4ge0FwcGVuZE5vZGVBY3Rpb25zfSBvYmplY3Qgb2YgZHJhZyBhbmQgY2xpY2sgYWN0aW9uc1xuICovXG5BcHBlbmROb2RlLnByb3RvdHlwZS5nZXRBY3Rpb25zID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gIGlmIChpc0FycmF5KHRhcmdldCkpIHJldHVybiB7fTtcbiAgXG4gIHZhciBwcm92aWRlcnMgPSB0aGlzLl9nZXRQcm92aWRlcnMoKTtcblxuICB2YXIgY2xpY2tGbiA9ICdnZXRBcHBlbmROb2RlQ2xpY2tBY3Rpb24nO1xuICB2YXIgZHJhZ0ZuID0gJ2dldEFwcGVuZE5vZGVEcmFnQWN0aW9uJztcblxuICB2YXIgZW50cmllcyA9IHt9O1xuXG4gIC8vIFRPRE8gZG9lcyBpdCBtYWtlIHNlbnNlIHRvIHJlZ2lzdGVyIG11bHRpcGxlP1xuXG4gIC8vIGxvb3AgdGhyb3VnaCBhbGwgcHJvdmlkZXJzIGFuZCB0aGVpciBlbnRyaWVzLlxuICAvLyBncm91cCBlbnRyaWVzIGJ5IGlkIHNvIHRoYXQgb3ZlcnJpZGluZyBhbiBlbnRyeSBpcyBwb3NzaWJsZVxuICBmb3JFYWNoKHByb3ZpZGVycywgKHByb3ZpZGVyKSA9PiB7XG5cbiAgICAvLyBjbGlja1xuICAgIGlmIChpc0Z1bmN0aW9uKHByb3ZpZGVyW2NsaWNrRm5dKSkge1xuICAgICAgZW50cmllc1snY2xpY2snXSA9IHByb3ZpZGVyW2NsaWNrRm5dKHRhcmdldCk7XG4gICAgfVxuXG4gICAgLy8gZHJhZ1xuICAgIGlmIChpc0Z1bmN0aW9uKHByb3ZpZGVyW2RyYWdGbl0pKSB7XG4gICAgICBlbnRyaWVzWydkcmFnc3RhcnQnXSA9IHByb3ZpZGVyW2RyYWdGbl0odGFyZ2V0KTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygnZW50cmllczogJywgZW50cmllcyk7XG5cbiAgICBlbnRyaWVzLmhvdmVyID0gKF8sIGVsZW1lbnQpID0+IHtcblxuICAgICAgLy8gbW91c2VvdmVyXG4gICAgICBjb25zb2xlLmxvZygnbW91c2VvdmVyJyk7XG5cbiAgICAgIHRoaXMuX2FwcGVuZFByZXZpZXcuY3JlYXRlKGVsZW1lbnQsICdicG1uOlRhc2snLCB7IGhpZGRlbjogdHJ1ZSB9KTtcblxuICAgICAgcmV0dXJuICgpID0+IHtcblxuICAgICAgICAvLyBtb3VzZW91dFxuICAgICAgICBjb25zb2xlLmxvZygnbW91c2VvdXQnKTtcblxuICAgICAgICB0aGlzLl9hcHBlbmRQcmV2aWV3LmRlbGV0ZSgpO1xuICAgICAgfTtcbiAgICB9O1xuICB9KTtcblxuICByZXR1cm4gZW50cmllcztcbn07XG5cbi8qKlxuICogVHJpZ2dlciBjb250ZXh0IHBhZCB2aWEgRE9NIGV2ZW50LlxuICpcbiAqIFRoZSBlbnRyeSB0byB0cmlnZ2VyIGlzIGRldGVybWluZWQgYnkgdGhlIHRhcmdldCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25cbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvQWN0aXZhdGU9ZmFsc2VdXG4gKi9cblxuXG5BcHBlbmROb2RlLnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24oYWN0aW9uLCBldmVudCwgYXV0b0FjdGl2YXRlKSB7XG5cbiAgdmFyIG9yaWdpbmFsRXZlbnQsXG4gICAgICBidXR0b24gPSBldmVudC5kZWxlZ2F0ZVRhcmdldCB8fCBldmVudC50YXJnZXQ7XG5cbiAgaWYgKCFidXR0b24pIHtcbiAgICByZXR1cm4gZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIC8vZW50cnkgPSBkb21BdHRyKGJ1dHRvbiwgJ2RhdGEtYWN0aW9uJyk7XG4gIG9yaWdpbmFsRXZlbnQgPSBldmVudC5vcmlnaW5hbEV2ZW50IHx8IGV2ZW50O1xuXG4gIGNvbnN0IEhPVkVSX0RFTEFZID0gMzAwO1xuXG4gIGlmIChhY3Rpb24gPT09ICdtb3VzZW92ZXInKSB7XG4gICAgdGhpcy5fdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5fbW91c2VvdXQgPSB0aGlzLnRyaWdnZXJBY3Rpb24oJ2hvdmVyJywgb3JpZ2luYWxFdmVudCwgYXV0b0FjdGl2YXRlKTtcbiAgICB9LCBIT1ZFUl9ERUxBWSk7XG4gIH0gZWxzZSBpZiAoYWN0aW9uID09PSAnbW91c2VvdXQnKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuXG4gICAgaWYgKHRoaXMuX21vdXNlb3V0KSB7XG4gICAgICB0aGlzLl9tb3VzZW91dCgpO1xuXG4gICAgICB0aGlzLl9tb3VzZW91dCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXMudHJpZ2dlckFjdGlvbihhY3Rpb24sIG9yaWdpbmFsRXZlbnQsIGF1dG9BY3RpdmF0ZSk7XG59O1xuXG4vKipcbiAqIFRyaWdnZXIgYXBwZW5kIG5vZGUgYWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25cbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvQWN0aXZhdGU9ZmFsc2VdXG4gKi9cbkFwcGVuZE5vZGUucHJvdG90eXBlLnRyaWdnZXJBY3Rpb24gPSBmdW5jdGlvbihhY3Rpb25JZCwgZXZlbnQsIGF1dG9BY3RpdmF0ZSkge1xuXG4gIGlmICghdGhpcy5pc1Nob3duKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgdGFyZ2V0ID0gdGhpcy5fY3VycmVudC50YXJnZXQsXG4gICAgYWN0aW9ucyA9IHRoaXMuX2N1cnJlbnQuYWN0aW9ucztcblxuICB2YXIgYWN0aW9uID0gYWN0aW9uc1thY3Rpb25JZF07XG5cbiAgaWYgKCFhY3Rpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvL3ZhciBoYW5kbGVyID0gZW50cnkuYWN0aW9uO1xuICAvLyBhY3Rpb25cblxuICBpZiAodGhpcy5fZXZlbnRCdXMuZmlyZSgnYXBwZW5kTm9kZS50cmlnZ2VyJywgeyBhY3Rpb24sIGV2ZW50IH0pID09PSBmYWxzZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIHNpbXBsZSBhY3Rpb24gKHZpYSBjYWxsYmFjayBmdW5jdGlvbilcbiAgaWYgKGlzRnVuY3Rpb24oYWN0aW9uKSkge1xuICAgIHJldHVybiBhY3Rpb24oZXZlbnQsIHRhcmdldCwgYXV0b0FjdGl2YXRlKTtcbiAgfVxuXG4gIC8vIHNpbGVuY2Ugb3RoZXIgYWN0aW9uc1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xufTtcblxuLyoqXG4gKiBTaG93IHRoZSBhcHBlbmQgbm9kZSBmb3IgZ2l2ZW4gZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtBcHBlbmROb2RlVGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ZvcmNlPWZhbHNlXSAtIEZvcmNlIHJlLXNob3dpbmcgYXBwZW5kIG5vZGUuXG4gKi9cbkFwcGVuZE5vZGUucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbih0YXJnZXQsIGZvcmNlKSB7XG4gIGlmICghZm9yY2UgJiYgdGhpcy5pc1Nob3duKHRhcmdldCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLmhpZGUoKTtcblxuICB0aGlzLl91cGRhdGVBbmRTaG93KHRhcmdldCk7XG59O1xuXG5BcHBlbmROb2RlLnByb3RvdHlwZS5fZ2V0UHJvdmlkZXJzID0gZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGV2ZW50ID0gdGhpcy5fZXZlbnRCdXMuY3JlYXRlRXZlbnQoe1xuICAgIHR5cGU6ICdhcHBlbmROb2RlLmdldFByb3ZpZGVycycsXG4gICAgcHJvdmlkZXJzOiBbXVxuICB9KTtcblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKGV2ZW50KTtcblxuICByZXR1cm4gZXZlbnQucHJvdmlkZXJzO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0FwcGVuZE5vZGVUYXJnZXR9IHRhcmdldFxuICovXG5BcHBlbmROb2RlLnByb3RvdHlwZS5fdXBkYXRlQW5kU2hvdyA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICB2YXIgYWN0aW9ucyA9IHRoaXMuZ2V0QWN0aW9ucyh0YXJnZXQpLFxuICAgICAgbm9kZSA9IHRoaXMuZ2V0Tm9kZSh0YXJnZXQpLFxuICAgICAgaHRtbCA9IG5vZGUuaHRtbCwgLy8gVE9ETyBtdWx0aXBsZSBub2Rlc1xuICAgICAgaW1hZ2U7XG5cbiAgdmFyIHNob3dOb2RlID0gaXNPYmplY3QoYWN0aW9ucykgJiYgXG4gICAgQUxMT1dFRF9BQ1RJT05TLnNvbWUoYWN0aW9uID0+IGlzRnVuY3Rpb24oYWN0aW9uc1thY3Rpb25dKSk7XG5cbiAgZG9tQ2xhc3NlcyhodG1sKS5hZGQoc2hvd05vZGUgPyAnc2hvdycgOiAnaGlkZScpOyAvLyBUT0RPIHJlbmFtZSBjbGFzc2VzXG5cbiAgdGhpcy5fY3VycmVudCA9IHtcbiAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICBhY3Rpb25zOiBhY3Rpb25zLFxuICAgIG5vZGU6IG5vZGVcbiAgfTtcblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdhcHBlbmROb2Rlcy5zaG93JywgeyBjdXJyZW50OiB0aGlzLl9jdXJyZW50IH0pO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0FwcGVuZE5vZGVUYXJnZXR9IHRhcmdldFxuICpcbiAqIEByZXR1cm4ge092ZXJsYXl9XG4gKi9cbkFwcGVuZE5vZGUucHJvdG90eXBlLmdldE5vZGUgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgaWYgKHRoaXMuaXNTaG93bigpKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnQubm9kZTtcbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICB2YXIgb3ZlcmxheXMgPSB0aGlzLl9vdmVybGF5cztcblxuICAvLyBUT0RPIHVzZSByZWFsIHByZXZpZXdcbiAgLypcbiAgdmFyIGFwcGVuZFByZXZpZXcgPSBgXG4gICAgPHN2Zz4gIFxuICAgICAgPGcgY2xhc3M9XCJkanMtZWxlbWVudCBkanMtY29ubmVjdGlvblwiIHN0eWxlPVwiZGlzcGxheTogYmxvY2s7XCI+XG4gICAgICAgIDxnIGNsYXNzPVwiZGpzLXZpc3VhbFwiPlxuICAgICAgICAgIDxwYXRoIGRhdGEtY29ybmVyLXJhZGl1cz1cIjVcIiBzdHlsZT1cImZpbGw6IG5vbmU7IHN0cm9rZS1saW5lY2FwOiByb3VuZDsgc3Ryb2tlLWxpbmVqb2luOiByb3VuZDsgc3Ryb2tlOiByZ2IoMzQsIDM2LCA0Mik7IHN0cm9rZS13aWR0aDogMnB4OyBtYXJrZXItZW5kOiB1cmwoJnF1b3Q7I3NlcXVlbmNlZmxvdy1lbmQtd2hpdGUtaHNsXzIyNV8xMF8xNV8tMzQxYjhlODZxeWtiaXV2c2FuMmo3bmtpbCZxdW90Oyk7XCIgZD1cIk0zNzAsNzkwTDQyMCw3OTBcIj48L3BhdGg+XG4gICAgICAgIDwvZz5cbiAgICAgIDwvZz5cbiAgICA8L3N2Zz5cbiAgYDtcbiAgKi9cblxuICAvLyBUT0RPIG11bHRpcGxlIG5vZGVzXG4gIHZhciBodG1sID0gZG9taWZ5KGBcbiAgICA8ZGl2IGNsYXNzPVwiZGpzLWFwcGVuZC1ub2RlXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZGpzLWFwcGVuZC1ub2RlLWNpcmNsZVwiIHRpdGxlPVwiQXBwZW5kL2Nvbm5lY3RcIiBkcmFnZ2FibGU9XCJ0cnVlXCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gIGApO1xuXG4gIHZhciBwb3NpdGlvbiA9IHRoaXMuX2dldFBvc2l0aW9uKHRhcmdldCk7XG5cbiAgdmFyIG92ZXJsYXlzQ29uZmlnID0gYXNzaWduKHtcbiAgICBodG1sOiBodG1sXG4gIH0sIHRoaXMuX292ZXJsYXlzQ29uZmlnLCBwb3NpdGlvbik7XG5cbiAgZG9tRGVsZWdhdGUuYmluZChodG1sLCBub2RlU2VsZWN0b3IsICdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgc2VsZi50cmlnZ2VyKCdjbGljaycsIGV2ZW50KTtcbiAgfSk7XG5cbiAgZG9tRGVsZWdhdGUuYmluZChodG1sLCBub2RlU2VsZWN0b3IsICdkcmFnc3RhcnQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHNlbGYudHJpZ2dlcignZHJhZ3N0YXJ0JywgZXZlbnQpO1xuICB9KTtcblxuICBkb21EZWxlZ2F0ZS5iaW5kKGh0bWwsIG5vZGVTZWxlY3RvciwgJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgc2VsZi50cmlnZ2VyKCdtb3VzZW92ZXInLCBldmVudCk7XG4gIH0pO1xuXG4gIGRvbURlbGVnYXRlLmJpbmQoaHRtbCwgbm9kZVNlbGVjdG9yLCAnbW91c2VvdXQnLCBmdW5jdGlvbihldmVudCkge1xuICAgIHNlbGYudHJpZ2dlcignbW91c2VvdXQnLCBldmVudCk7XG4gIH0pO1xuXG4gIC8vIHN0b3AgcHJvcGFnYXRpb24gb2YgbW91c2UgZXZlbnRzXG4gIGRvbUV2ZW50LmJpbmQoaHRtbCwgJ21vdXNlZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH0pO1xuXG4gIHZhciBhY3RpdmVSb290RWxlbWVudCA9IHRoaXMuX2NhbnZhcy5nZXRSb290RWxlbWVudCgpO1xuXG4gIC8vIFRPRE8gbXVsdGlwbGUgbm9kZXNcbiAgdGhpcy5fb3ZlcmxheUlkID0gb3ZlcmxheXMuYWRkKGFjdGl2ZVJvb3RFbGVtZW50LCAnYXBwZW5kLW5vZGUnLCBvdmVybGF5c0NvbmZpZyk7XG5cbiAgdmFyIG5vZGUgPSBvdmVybGF5cy5nZXQodGhpcy5fb3ZlcmxheUlkKTtcblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdhcHBlbmROb2Rlcy5jcmVhdGUnLCB7XG4gICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgbm9kZTogbm9kZVxuICB9KTtcblxuICByZXR1cm4gbm9kZTtcbn07XG5cbi8qKlxuICogSGlkZSB0aGUgbm9kZVxuICovXG5BcHBlbmROb2RlLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5pc1Nob3duKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLl9vdmVybGF5cy5yZW1vdmUodGhpcy5fb3ZlcmxheUlkKTtcblxuICB0aGlzLl9vdmVybGF5SWQgPSBudWxsO1xuXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2FwcGVuZE5vZGVzLmhpZGUnLCB7IGN1cnJlbnQ6IHRoaXMuX2N1cnJlbnQgfSk7XG5cbiAgdGhpcy5fY3VycmVudCA9IG51bGw7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIG5vZGUgaXMgc2hvd24uXG4gKlxuICogSWYgdGFyZ2V0IGlzIHByb3ZpZGVkLCBjaGVjayBpZiBpdCBpcyBzaG93blxuICogZm9yIHRoZSBnaXZlbiB0YXJnZXQuXG4gKlxuICogQHBhcmFtIHtBcHBlbmROb2RlVGFyZ2V0fSBbdGFyZ2V0XVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuQXBwZW5kTm9kZS5wcm90b3R5cGUuaXNTaG93biA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICB2YXIgY3VycmVudCA9IHRoaXMuX2N1cnJlbnQ7XG5cbiAgaWYgKCFjdXJyZW50KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gYmFzaWMgbm8tYXJncyBpcyBvcGVuIGNoZWNrXG4gIGlmICghdGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB2YXIgY3VycmVudFRhcmdldCA9IGN1cnJlbnQudGFyZ2V0O1xuXG4gIC8vIFRPRE9cbiAgLy8gc3RyaWN0IGhhbmRsaW5nIG9mIHNpbmdsZSB2cy4gbXVsdGktc2VsZWN0aW9uXG4gIGlmIChpc0FycmF5KHRhcmdldCkgIT09IGlzQXJyYXkoY3VycmVudFRhcmdldCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRhcmdldC5sZW5ndGggPT09IGN1cnJlbnRUYXJnZXQubGVuZ3RoICYmXG4gICAgICBldmVyeSh0YXJnZXQsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGluY2x1ZGVzKGN1cnJlbnRUYXJnZXQsIGVsZW1lbnQpO1xuICAgICAgfSlcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjdXJyZW50VGFyZ2V0ID09PSB0YXJnZXQ7XG4gIH1cbn07XG5cbi8vIFRPRE8gbXVsdGlwbGUgbm9kZXNcbi8qKlxuICogR2V0IGFwcGVuZCBub2RlIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7QXBwZW5kTm9kZVRhcmdldH0gdGFyZ2V0XG4gKlxuICogQHJldHVybiB7UmVjdH1cbiAqL1xuQXBwZW5kTm9kZS5wcm90b3R5cGUuX2dldFBvc2l0aW9uID0gZnVuY3Rpb24odGFyZ2V0KSB7XG5cbiAgdmFyIGVsZW1lbnRzID0gaXNBcnJheSh0YXJnZXQpID8gdGFyZ2V0IDogWyB0YXJnZXQgXTtcbiAgdmFyIGJCb3ggPSBnZXRCQm94KGVsZW1lbnRzKTtcblxuICByZXR1cm4ge1xuICAgIHBvc2l0aW9uOiB7XG4gICAgICBsZWZ0OiBiQm94LnggKyBiQm94LndpZHRoICsgT0ZGU0VULFxuICAgICAgdG9wOiBiQm94LnkgKyBiQm94LmhlaWdodCAvIDIgLSBOT0RFX1dJRFRIXG4gICAgfVxuICB9O1xufTtcblxuLy8gaGVscGVycyAvLy8vLy8vLy8vXG5cbi8qKlxuICogQHBhcmFtIHthbnlbXX0gYXJyYXlcbiAqIEBwYXJhbSB7YW55fSBpdGVtXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaW5jbHVkZXMoYXJyYXksIGl0ZW0pIHtcbiAgcmV0dXJuIGFycmF5LmluZGV4T2YoaXRlbSkgIT09IC0xO1xufVxuIl0sIm5hbWVzIjpbImFzc2lnbiIsImV2ZXJ5IiwiZm9yRWFjaCIsImlzQXJyYXkiLCJpc0RlZmluZWQiLCJpc0Z1bmN0aW9uIiwiaXNPYmplY3QiLCJzb21lIiwiZGVsZWdhdGUiLCJkb21EZWxlZ2F0ZSIsImV2ZW50IiwiZG9tRXZlbnQiLCJhdHRyIiwiZG9tQXR0ciIsInF1ZXJ5IiwiZG9tUXVlcnkiLCJjbGFzc2VzIiwiZG9tQ2xhc3NlcyIsImRvbWlmeSIsImdldEJCb3giLCJub2RlU2VsZWN0b3IiLCJPRkZTRVQiLCJOT0RFX1dJRFRIIiwiREVGQVVMVF9QUklPUklUWSIsIkFMTE9XRURfQUNUSU9OUyIsIkFwcGVuZE5vZGUiLCJjYW52YXMiLCJldmVudEJ1cyIsIm92ZXJsYXlzIiwiYXBwZW5kUHJldmlldyIsIl9jYW52YXMiLCJfZXZlbnRCdXMiLCJfb3ZlcmxheXMiLCJfYXBwZW5kUHJldmlldyIsIl9jdXJyZW50IiwiX2luaXQiLCIkaW5qZWN0IiwicHJvdG90eXBlIiwic2VsZiIsIm9uIiwic2VsZWN0aW9uIiwibmV3U2VsZWN0aW9uIiwidGFyZ2V0IiwibGVuZ3RoIiwic2hvdyIsImhpZGUiLCJlbGVtZW50cyIsImN1cnJlbnQiLCJjdXJyZW50VGFyZ2V0IiwiY3VycmVudENoYW5nZWQiLCJlbGVtZW50IiwiaW5jbHVkZXMiLCJyZWdpc3RlclByb3ZpZGVyIiwicHJpb3JpdHkiLCJwcm92aWRlciIsInByb3ZpZGVycyIsInB1c2giLCJnZXRBY3Rpb25zIiwiX2dldFByb3ZpZGVycyIsImNsaWNrRm4iLCJkcmFnRm4iLCJlbnRyaWVzIiwiY29uc29sZSIsImxvZyIsImhvdmVyIiwiXyIsImNyZWF0ZSIsImhpZGRlbiIsImRlbGV0ZSIsInRyaWdnZXIiLCJhY3Rpb24iLCJhdXRvQWN0aXZhdGUiLCJvcmlnaW5hbEV2ZW50IiwiYnV0dG9uIiwiZGVsZWdhdGVUYXJnZXQiLCJwcmV2ZW50RGVmYXVsdCIsIkhPVkVSX0RFTEFZIiwiX3RpbWVvdXQiLCJzZXRUaW1lb3V0IiwiX21vdXNlb3V0IiwidHJpZ2dlckFjdGlvbiIsImNsZWFyVGltZW91dCIsImFjdGlvbklkIiwiaXNTaG93biIsImFjdGlvbnMiLCJmaXJlIiwiZm9yY2UiLCJfdXBkYXRlQW5kU2hvdyIsImNyZWF0ZUV2ZW50IiwidHlwZSIsIm5vZGUiLCJnZXROb2RlIiwiaHRtbCIsImltYWdlIiwic2hvd05vZGUiLCJhZGQiLCJwb3NpdGlvbiIsIl9nZXRQb3NpdGlvbiIsIm92ZXJsYXlzQ29uZmlnIiwiX292ZXJsYXlzQ29uZmlnIiwiYmluZCIsInN0b3BQcm9wYWdhdGlvbiIsImFjdGl2ZVJvb3RFbGVtZW50IiwiZ2V0Um9vdEVsZW1lbnQiLCJfb3ZlcmxheUlkIiwiZ2V0IiwicmVtb3ZlIiwiYkJveCIsImxlZnQiLCJ4Iiwid2lkdGgiLCJ0b3AiLCJ5IiwiaGVpZ2h0IiwiYXJyYXkiLCJpdGVtIiwiaW5kZXhPZiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/features/AppendNode.js\n");

/***/ }),

/***/ "./src/features/AppendNodeProvider.js":
/*!********************************************!*\
  !*** ./src/features/AppendNodeProvider.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AppendNodeProvider)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! min-dash */ \"./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bpmn-js/lib/util/ModelUtil */ \"../bpmn-io/bpmn-js/lib/util/ModelUtil.js\");\n/* harmony import */ var bpmn_js_lib_util_DiUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bpmn-js/lib/util/DiUtil */ \"../bpmn-io/bpmn-js/lib/util/DiUtil.js\");\n/* harmony import */ var diagram_js_lib_util_Mouse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! diagram-js/lib/util/Mouse */ \"./node_modules/diagram-js/lib/util/Mouse.js\");\n\n\n\n\n\n/**\n * @typedef {import('didi').Injector} Injector\n * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\n * @typedef {import('diagram-js/lib/features/context-pad/ContextPad').default} ContextPad\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../modeling/ElementFactory').default} ElementFactory\n * @typedef {import('diagram-js/lib/features/connect/Connect').default} Connect\n * @typedef {import('diagram-js/lib/features/create/Create').default} Create\n * @typedef {import('diagram-js/lib/features/popup-menu/PopupMenu').default} PopupMenu\n * @typedef {import('diagram-js/lib/features/canvas/Canvas').default} Canvas\n * @typedef {import('diagram-js/lib/features/rules/Rules').default} Rules\n * @typedef {import('diagram-js/lib/features/dragging/Dragging').default} Dragging\n * @typedef {import('diagram-js/lib/i18n/translate/translate').default} Translate\n *\n * @typedef {import('../../model/Types').Element} Element\n * @typedef {import('../../model/Types').ModdleElement} ModdleElement\n *\n * @typedef { { } } AppendNodeConfig\n */\n\n/**\n * BPMN-specific append node provider.\n *\n * @param {AppendNodeConfig} config\n * @param {Injector} injector\n * @param {EventBus} eventBus\n * @param {ContextPad} contextPad\n * @param {Modeling} modeling\n * @param {ElementFactory} elementFactory\n * @param {Connect} connect\n * @param {Create} create\n * @param {PopupMenu} popupMenu\n * @param {Canvas} canvas\n * @param {Rules} rules\n * @param {Dragging} dragging\n * @param {Translate} translate\n */\nfunction AppendNodeProvider(config, injector, eventBus, appendNode, modeling, elementFactory, connect, create, popupMenu, canvas, rules, dragging, translate) {\n  config = config || {};\n  appendNode.registerProvider(this);\n  this._appendNode = appendNode;\n  this._modeling = modeling;\n  this._elementFactory = elementFactory;\n  this._connect = connect;\n  this._create = create;\n  this._popupMenu = popupMenu;\n  this._canvas = canvas;\n  this._rules = rules;\n  this._dragging = dragging;\n  this._translate = translate;\n  if (config.autoPlace !== false) {\n    this._autoPlace = injector.get('autoPlace', false);\n  }\n  eventBus.on('create.end', 250, function (event) {\n    var context = event.context,\n      shape = context.shape;\n    if (!(0,diagram_js_lib_util_Mouse__WEBPACK_IMPORTED_MODULE_0__.hasPrimaryModifier)(event) || !appendNode.isShown(shape)) {\n      return;\n    }\n  });\n}\nAppendNodeProvider.$inject = ['config.appendNode', 'injector', 'eventBus', 'appendNode', 'modeling', 'elementFactory', 'connect', 'create', 'popupMenu', 'canvas', 'rules', 'dragging', 'translate'];\nfunction isAppendAllowed(element) {\n  var businessObject = element.businessObject;\n  return element.type !== 'label' & (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.is)(businessObject, 'bpmn:FlowNode') && (!(0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.is)(businessObject, 'bpmn:EndEvent') && !businessObject.isForCompensation && !isEventType(businessObject, 'bpmn:IntermediateThrowEvent', 'bpmn:LinkEventDefinition') && !(0,bpmn_js_lib_util_DiUtil__WEBPACK_IMPORTED_MODULE_2__.isEventSubProcess)(businessObject) || (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.is)(businessObject, 'bpmn:EventBasedGateway') || isEventType(businessObject, 'bpmn:BoundaryEvent', 'bpmn:CompensateEventDefinition'));\n}\n;\n\n/**\n* @param {Element} element\n*\n* @return {AppendNodeAction}\n*/\n/*\nAppendNodeProvider.prototype.getAppendNodeClickAction = function (element) {\n  var appendNode = this._appendNode,\n    modeling = this._modeling,\n\n    elementFactory = this._elementFactory,\n    connect = this._connect,\n    create = this._create,\n    popupMenu = this._popupMenu,\n    rules = this._rules,\n    autoPlace = this._autoPlace,\n    translate = this._translate;\n\n  if (!isAppendAllowed(element)) return null;\n\n  var task = 'bpmn:Task';\n  var options = {};\n\n  function appendStart(event, element) {\n\n    var shape = elementFactory.createShape(assign({ type: task }, options));\n    create.start(event, shape, {\n      source: element\n    });\n  }\n\n\n  var append = autoPlace ? function(event, element) {\n    var shape = elementFactory.createShape(assign({ type: task }, options));\n\n    autoPlace.append(element, shape);\n  } : appendStart;\n\n  return append;\n}\n*/\n\nAppendNodeProvider.prototype.getAppendNodeClickAction = function (element) {\n  var appendNode = this._appendNode,\n    modeling = this._modeling,\n    elementFactory = this._elementFactory,\n    connect = this._connect,\n    create = this._create,\n    popupMenu = this._popupMenu,\n    rules = this._rules,\n    autoPlace = this._autoPlace,\n    translate = this._translate;\n  if (!isAppendAllowed(element)) return null;\n  const getAppendMenuPosition = this._getAppendMenuPosition.bind(this);\n  if (popupMenu.isEmpty(element, 'bpmn-append')) return null;\n  return function (event, element) {\n    const position = (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.assign)(getAppendMenuPosition(element), {\n      cursor: {\n        x: event.x,\n        y: event.y\n      }\n    });\n    popupMenu.open(element, 'bpmn-append', position, {\n      title: translate('Append element'),\n      width: 300,\n      search: true\n    });\n  };\n};\n\n/**\n* @param {Element} element\n*\n* @return {AppendNodeAction}\n*/\nAppendNodeProvider.prototype.getAppendNodeDragAction = function (element) {\n  var appendNode = this._appendNode,\n    modeling = this._modeling,\n    elementFactory = this._elementFactory,\n    connect = this._connect,\n    create = this._create,\n    popupMenu = this._popupMenu,\n    rules = this._rules,\n    dragging = this._dragging,\n    autoPlace = this._autoPlace,\n    translate = this._translate;\n  if (!isAppendAllowed(element)) return null;\n  var businessObject = element.businessObject;\n  function startConnect(event, element) {\n    connect.start(event, element);\n    /*\n    dragging.init(event, 'connect', {\n      data: {\n        shape: element,\n        context: {\n          start: element\n        }\n      }\n    });\n    */\n  }\n\n  return startConnect;\n};\n\n/**\n * Calculates the position for the append menu relatively to the element.\n * The menu should pop up directly behind the mouse cursor\n *\n * @param {djs.model.Base} element\n * @returns {Object}\n */\nAppendNodeProvider.prototype._getAppendMenuPosition = function (element) {\n  const appendNode = this._appendNode;\n  const popupMenu = this._popupMenu;\n  const X_OFFSET = 20;\n  const Y_OFFSET = 90;\n  const POPUP_HEIGHT = 360;\n\n  // TODO get height from popup after creation or make configurable\n\n  const node = appendNode.getNode(element).html;\n  const nodeRect = node.getBoundingClientRect();\n  const pos = {\n    x: nodeRect.left - X_OFFSET,\n    y: nodeRect.top + POPUP_HEIGHT - Y_OFFSET\n  };\n  return pos;\n};\n\n// helpers /////////\n\n/**\n * @param {ModdleElement} businessObject\n * @param {string} type\n * @param {string} eventDefinitionType\n *\n * @return {boolean}\n */\nfunction isEventType(businessObject, type, eventDefinitionType) {\n  var isType = businessObject.$instanceOf(type);\n  var isDefinition = false;\n  var definitions = businessObject.eventDefinitions || [];\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.forEach)(definitions, function (def) {\n    if (def.$type === eventDefinitionType) {\n      isDefinition = true;\n    }\n  });\n  return isType && isDefinition;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUUsVUFBU0UsR0FBRyxFQUFFO0lBQ2pDLElBQUlBLEdBQUcsQ0FBQ0MsS0FBSyxLQUFLUCxtQkFBbUIsRUFBRTtNQUNyQ0csWUFBWSxHQUFHLElBQUk7SUFDckI7RUFDRixDQUFDLENBQUM7RUFFRixPQUFPRixNQUFNLElBQUlFLFlBQVk7QUFDL0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZGF5cy0yMDIzLy4vc3JjL2ZlYXR1cmVzL0FwcGVuZE5vZGVQcm92aWRlci5qcz9lY2ViIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGFzc2lnbixcbiAgZm9yRWFjaFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGlzXG59IGZyb20gJ2JwbW4tanMvbGliL3V0aWwvTW9kZWxVdGlsJztcblxuaW1wb3J0IHtcbiAgaXNFdmVudFN1YlByb2Nlc3Ncbn0gZnJvbSAnYnBtbi1qcy9saWIvdXRpbC9EaVV0aWwnO1xuXG5pbXBvcnQge1xuICBoYXNQcmltYXJ5TW9kaWZpZXJcbn0gZnJvbSAnZGlhZ3JhbS1qcy9saWIvdXRpbC9Nb3VzZSc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnZGlkaScpLkluamVjdG9yfSBJbmplY3RvclxuICogQHR5cGVkZWYge2ltcG9ydCgnZGlhZ3JhbS1qcy9saWIvY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jb250ZXh0LXBhZC9Db250ZXh0UGFkJykuZGVmYXVsdH0gQ29udGV4dFBhZFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vbW9kZWxpbmcvTW9kZWxpbmcnKS5kZWZhdWx0fSBNb2RlbGluZ1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vbW9kZWxpbmcvRWxlbWVudEZhY3RvcnknKS5kZWZhdWx0fSBFbGVtZW50RmFjdG9yeVxuICogQHR5cGVkZWYge2ltcG9ydCgnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29ubmVjdC9Db25uZWN0JykuZGVmYXVsdH0gQ29ubmVjdFxuICogQHR5cGVkZWYge2ltcG9ydCgnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY3JlYXRlL0NyZWF0ZScpLmRlZmF1bHR9IENyZWF0ZVxuICogQHR5cGVkZWYge2ltcG9ydCgnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvcG9wdXAtbWVudS9Qb3B1cE1lbnUnKS5kZWZhdWx0fSBQb3B1cE1lbnVcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NhbnZhcy9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3J1bGVzL1J1bGVzJykuZGVmYXVsdH0gUnVsZXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2RyYWdnaW5nL0RyYWdnaW5nJykuZGVmYXVsdH0gRHJhZ2dpbmdcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpYWdyYW0tanMvbGliL2kxOG4vdHJhbnNsYXRlL3RyYW5zbGF0ZScpLmRlZmF1bHR9IFRyYW5zbGF0ZVxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL21vZGVsL1R5cGVzJykuRWxlbWVudH0gRWxlbWVudFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vbW9kZWwvVHlwZXMnKS5Nb2RkbGVFbGVtZW50fSBNb2RkbGVFbGVtZW50XG4gKlxuICogQHR5cGVkZWYgeyB7IH0gfSBBcHBlbmROb2RlQ29uZmlnXG4gKi9cblxuLyoqXG4gKiBCUE1OLXNwZWNpZmljIGFwcGVuZCBub2RlIHByb3ZpZGVyLlxuICpcbiAqIEBwYXJhbSB7QXBwZW5kTm9kZUNvbmZpZ30gY29uZmlnXG4gKiBAcGFyYW0ge0luamVjdG9yfSBpbmplY3RvclxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7Q29udGV4dFBhZH0gY29udGV4dFBhZFxuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcbiAqIEBwYXJhbSB7RWxlbWVudEZhY3Rvcnl9IGVsZW1lbnRGYWN0b3J5XG4gKiBAcGFyYW0ge0Nvbm5lY3R9IGNvbm5lY3RcbiAqIEBwYXJhbSB7Q3JlYXRlfSBjcmVhdGVcbiAqIEBwYXJhbSB7UG9wdXBNZW51fSBwb3B1cE1lbnVcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcbiAqIEBwYXJhbSB7UnVsZXN9IHJ1bGVzXG4gKiBAcGFyYW0ge0RyYWdnaW5nfSBkcmFnZ2luZ1xuICogQHBhcmFtIHtUcmFuc2xhdGV9IHRyYW5zbGF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBcHBlbmROb2RlUHJvdmlkZXIoXG4gIGNvbmZpZywgaW5qZWN0b3IsIGV2ZW50QnVzLFxuICBhcHBlbmROb2RlLCBtb2RlbGluZywgZWxlbWVudEZhY3RvcnksXG4gIGNvbm5lY3QsIGNyZWF0ZSwgcG9wdXBNZW51LFxuICBjYW52YXMsIHJ1bGVzLCBkcmFnZ2luZywgdHJhbnNsYXRlKSB7XG5cbiAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuXG4gIGFwcGVuZE5vZGUucmVnaXN0ZXJQcm92aWRlcih0aGlzKTtcblxuICB0aGlzLl9hcHBlbmROb2RlID0gYXBwZW5kTm9kZTtcblxuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xuXG4gIHRoaXMuX2VsZW1lbnRGYWN0b3J5ID0gZWxlbWVudEZhY3Rvcnk7XG4gIHRoaXMuX2Nvbm5lY3QgPSBjb25uZWN0O1xuICB0aGlzLl9jcmVhdGUgPSBjcmVhdGU7XG4gIHRoaXMuX3BvcHVwTWVudSA9IHBvcHVwTWVudTtcbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuICB0aGlzLl9ydWxlcyA9IHJ1bGVzO1xuICB0aGlzLl9kcmFnZ2luZyA9IGRyYWdnaW5nO1xuICB0aGlzLl90cmFuc2xhdGUgPSB0cmFuc2xhdGU7XG5cbiAgaWYgKGNvbmZpZy5hdXRvUGxhY2UgIT09IGZhbHNlKSB7XG4gICAgdGhpcy5fYXV0b1BsYWNlID0gaW5qZWN0b3IuZ2V0KCdhdXRvUGxhY2UnLCBmYWxzZSk7XG4gIH1cblxuICBldmVudEJ1cy5vbignY3JlYXRlLmVuZCcsIDI1MCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgc2hhcGUgPSBjb250ZXh0LnNoYXBlO1xuXG4gICAgaWYgKCFoYXNQcmltYXJ5TW9kaWZpZXIoZXZlbnQpIHx8ICFhcHBlbmROb2RlLmlzU2hvd24oc2hhcGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gIH0pO1xufVxuXG5BcHBlbmROb2RlUHJvdmlkZXIuJGluamVjdCA9IFtcbiAgJ2NvbmZpZy5hcHBlbmROb2RlJyxcbiAgJ2luamVjdG9yJyxcbiAgJ2V2ZW50QnVzJyxcbiAgJ2FwcGVuZE5vZGUnLFxuICAnbW9kZWxpbmcnLFxuICAnZWxlbWVudEZhY3RvcnknLFxuICAnY29ubmVjdCcsXG4gICdjcmVhdGUnLFxuICAncG9wdXBNZW51JyxcbiAgJ2NhbnZhcycsXG4gICdydWxlcycsXG4gICdkcmFnZ2luZycsXG4gICd0cmFuc2xhdGUnXG5dO1xuXG5mdW5jdGlvbiBpc0FwcGVuZEFsbG93ZWQoZWxlbWVudCkge1xuICB2YXIgYnVzaW5lc3NPYmplY3QgPSBlbGVtZW50LmJ1c2luZXNzT2JqZWN0O1xuXG5cbiAgcmV0dXJuIGVsZW1lbnQudHlwZSAhPT0gJ2xhYmVsJyAmXG4gICAgaXMoYnVzaW5lc3NPYmplY3QsICdicG1uOkZsb3dOb2RlJykgJiZcbiAgICAoXG4gICAgICAhaXMoYnVzaW5lc3NPYmplY3QsICdicG1uOkVuZEV2ZW50JykgJiZcbiAgICAgICFidXNpbmVzc09iamVjdC5pc0ZvckNvbXBlbnNhdGlvbiAmJlxuICAgICAgIWlzRXZlbnRUeXBlKGJ1c2luZXNzT2JqZWN0LCAnYnBtbjpJbnRlcm1lZGlhdGVUaHJvd0V2ZW50JywgJ2JwbW46TGlua0V2ZW50RGVmaW5pdGlvbicpICYmXG4gICAgICAhaXNFdmVudFN1YlByb2Nlc3MoYnVzaW5lc3NPYmplY3QpIHx8XG4gICAgICBpcyhidXNpbmVzc09iamVjdCwgJ2JwbW46RXZlbnRCYXNlZEdhdGV3YXknKSB8fFxuICAgICAgaXNFdmVudFR5cGUoYnVzaW5lc3NPYmplY3QsICdicG1uOkJvdW5kYXJ5RXZlbnQnLCAnYnBtbjpDb21wZW5zYXRlRXZlbnREZWZpbml0aW9uJylcbiAgICApO1xufTtcblxuLyoqXG4qIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuKlxuKiBAcmV0dXJuIHtBcHBlbmROb2RlQWN0aW9ufVxuKi9cbi8qXG5BcHBlbmROb2RlUHJvdmlkZXIucHJvdG90eXBlLmdldEFwcGVuZE5vZGVDbGlja0FjdGlvbiA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gIHZhciBhcHBlbmROb2RlID0gdGhpcy5fYXBwZW5kTm9kZSxcbiAgICBtb2RlbGluZyA9IHRoaXMuX21vZGVsaW5nLFxuXG4gICAgZWxlbWVudEZhY3RvcnkgPSB0aGlzLl9lbGVtZW50RmFjdG9yeSxcbiAgICBjb25uZWN0ID0gdGhpcy5fY29ubmVjdCxcbiAgICBjcmVhdGUgPSB0aGlzLl9jcmVhdGUsXG4gICAgcG9wdXBNZW51ID0gdGhpcy5fcG9wdXBNZW51LFxuICAgIHJ1bGVzID0gdGhpcy5fcnVsZXMsXG4gICAgYXV0b1BsYWNlID0gdGhpcy5fYXV0b1BsYWNlLFxuICAgIHRyYW5zbGF0ZSA9IHRoaXMuX3RyYW5zbGF0ZTtcblxuICBpZiAoIWlzQXBwZW5kQWxsb3dlZChlbGVtZW50KSkgcmV0dXJuIG51bGw7XG5cbiAgdmFyIHRhc2sgPSAnYnBtbjpUYXNrJztcbiAgdmFyIG9wdGlvbnMgPSB7fTtcblxuICBmdW5jdGlvbiBhcHBlbmRTdGFydChldmVudCwgZWxlbWVudCkge1xuXG4gICAgdmFyIHNoYXBlID0gZWxlbWVudEZhY3RvcnkuY3JlYXRlU2hhcGUoYXNzaWduKHsgdHlwZTogdGFzayB9LCBvcHRpb25zKSk7XG4gICAgY3JlYXRlLnN0YXJ0KGV2ZW50LCBzaGFwZSwge1xuICAgICAgc291cmNlOiBlbGVtZW50XG4gICAgfSk7XG4gIH1cblxuXG4gIHZhciBhcHBlbmQgPSBhdXRvUGxhY2UgPyBmdW5jdGlvbihldmVudCwgZWxlbWVudCkge1xuICAgIHZhciBzaGFwZSA9IGVsZW1lbnRGYWN0b3J5LmNyZWF0ZVNoYXBlKGFzc2lnbih7IHR5cGU6IHRhc2sgfSwgb3B0aW9ucykpO1xuXG4gICAgYXV0b1BsYWNlLmFwcGVuZChlbGVtZW50LCBzaGFwZSk7XG4gIH0gOiBhcHBlbmRTdGFydDtcblxuICByZXR1cm4gYXBwZW5kO1xufVxuKi9cblxuQXBwZW5kTm9kZVByb3ZpZGVyLnByb3RvdHlwZS5nZXRBcHBlbmROb2RlQ2xpY2tBY3Rpb24gPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICB2YXIgYXBwZW5kTm9kZSA9IHRoaXMuX2FwcGVuZE5vZGUsXG4gICAgbW9kZWxpbmcgPSB0aGlzLl9tb2RlbGluZyxcblxuICAgIGVsZW1lbnRGYWN0b3J5ID0gdGhpcy5fZWxlbWVudEZhY3RvcnksXG4gICAgY29ubmVjdCA9IHRoaXMuX2Nvbm5lY3QsXG4gICAgY3JlYXRlID0gdGhpcy5fY3JlYXRlLFxuICAgIHBvcHVwTWVudSA9IHRoaXMuX3BvcHVwTWVudSxcbiAgICBydWxlcyA9IHRoaXMuX3J1bGVzLFxuICAgIGF1dG9QbGFjZSA9IHRoaXMuX2F1dG9QbGFjZSxcbiAgICB0cmFuc2xhdGUgPSB0aGlzLl90cmFuc2xhdGU7XG5cbiAgaWYgKCFpc0FwcGVuZEFsbG93ZWQoZWxlbWVudCkpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IGdldEFwcGVuZE1lbnVQb3NpdGlvbiA9IHRoaXMuX2dldEFwcGVuZE1lbnVQb3NpdGlvbi5iaW5kKHRoaXMpO1xuXG4gIGlmIChwb3B1cE1lbnUuaXNFbXB0eShlbGVtZW50LCAnYnBtbi1hcHBlbmQnKSkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50LCBlbGVtZW50KSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSBhc3NpZ24oZ2V0QXBwZW5kTWVudVBvc2l0aW9uKGVsZW1lbnQpLCB7XG4gICAgICBjdXJzb3I6IHsgeDogZXZlbnQueCwgeTogZXZlbnQueSB9XG4gICAgfSk7XG5cbiAgICBwb3B1cE1lbnUub3BlbihlbGVtZW50LCAnYnBtbi1hcHBlbmQnLCBwb3NpdGlvbiwge1xuICAgICAgdGl0bGU6IHRyYW5zbGF0ZSgnQXBwZW5kIGVsZW1lbnQnKSxcbiAgICAgIHdpZHRoOiAzMDAsXG4gICAgICBzZWFyY2g6IHRydWVcbiAgICB9KTsgIFxuICB9O1xufVxuXG4vKipcbiogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4qXG4qIEByZXR1cm4ge0FwcGVuZE5vZGVBY3Rpb259XG4qL1xuQXBwZW5kTm9kZVByb3ZpZGVyLnByb3RvdHlwZS5nZXRBcHBlbmROb2RlRHJhZ0FjdGlvbiA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gIHZhciBhcHBlbmROb2RlID0gdGhpcy5fYXBwZW5kTm9kZSxcbiAgICBtb2RlbGluZyA9IHRoaXMuX21vZGVsaW5nLFxuXG4gICAgZWxlbWVudEZhY3RvcnkgPSB0aGlzLl9lbGVtZW50RmFjdG9yeSxcbiAgICBjb25uZWN0ID0gdGhpcy5fY29ubmVjdCxcbiAgICBjcmVhdGUgPSB0aGlzLl9jcmVhdGUsXG4gICAgcG9wdXBNZW51ID0gdGhpcy5fcG9wdXBNZW51LFxuICAgIHJ1bGVzID0gdGhpcy5fcnVsZXMsXG4gICAgZHJhZ2dpbmcgPSB0aGlzLl9kcmFnZ2luZyxcbiAgICBhdXRvUGxhY2UgPSB0aGlzLl9hdXRvUGxhY2UsXG4gICAgdHJhbnNsYXRlID0gdGhpcy5fdHJhbnNsYXRlO1xuXG4gIGlmICghaXNBcHBlbmRBbGxvd2VkKGVsZW1lbnQpKSByZXR1cm4gbnVsbDtcblxuICB2YXIgYnVzaW5lc3NPYmplY3QgPSBlbGVtZW50LmJ1c2luZXNzT2JqZWN0O1xuXG4gIGZ1bmN0aW9uIHN0YXJ0Q29ubmVjdChldmVudCwgZWxlbWVudCkge1xuICAgIGNvbm5lY3Quc3RhcnQoZXZlbnQsIGVsZW1lbnQpO1xuICAgIC8qXG4gICAgZHJhZ2dpbmcuaW5pdChldmVudCwgJ2Nvbm5lY3QnLCB7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHNoYXBlOiBlbGVtZW50LFxuICAgICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgc3RhcnQ6IGVsZW1lbnRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgICovXG4gIH1cblxuICByZXR1cm4gc3RhcnRDb25uZWN0O1xufVxuXG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgcG9zaXRpb24gZm9yIHRoZSBhcHBlbmQgbWVudSByZWxhdGl2ZWx5IHRvIHRoZSBlbGVtZW50LlxuICogVGhlIG1lbnUgc2hvdWxkIHBvcCB1cCBkaXJlY3RseSBiZWhpbmQgdGhlIG1vdXNlIGN1cnNvclxuICpcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbkFwcGVuZE5vZGVQcm92aWRlci5wcm90b3R5cGUuX2dldEFwcGVuZE1lbnVQb3NpdGlvbiA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgY29uc3QgYXBwZW5kTm9kZSA9IHRoaXMuX2FwcGVuZE5vZGU7XG4gIGNvbnN0IHBvcHVwTWVudSA9IHRoaXMuX3BvcHVwTWVudTtcblxuICBjb25zdCBYX09GRlNFVCA9IDIwO1xuICBjb25zdCBZX09GRlNFVCA9IDkwO1xuICBjb25zdCBQT1BVUF9IRUlHSFQgPSAzNjA7IFxuICBcbiAgLy8gVE9ETyBnZXQgaGVpZ2h0IGZyb20gcG9wdXAgYWZ0ZXIgY3JlYXRpb24gb3IgbWFrZSBjb25maWd1cmFibGVcblxuICBjb25zdCBub2RlID0gYXBwZW5kTm9kZS5nZXROb2RlKGVsZW1lbnQpLmh0bWw7XG5cbiAgY29uc3Qgbm9kZVJlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIGNvbnN0IHBvcyA9IHtcbiAgICB4OiBub2RlUmVjdC5sZWZ0IC0gWF9PRkZTRVQsXG4gICAgeTogbm9kZVJlY3QudG9wICsgUE9QVVBfSEVJR0hUIC0gWV9PRkZTRVRcbiAgfTtcblxuICByZXR1cm4gcG9zO1xufTtcblxuLy8gaGVscGVycyAvLy8vLy8vLy9cblxuLyoqXG4gKiBAcGFyYW0ge01vZGRsZUVsZW1lbnR9IGJ1c2luZXNzT2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50RGVmaW5pdGlvblR5cGVcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0V2ZW50VHlwZShidXNpbmVzc09iamVjdCwgdHlwZSwgZXZlbnREZWZpbml0aW9uVHlwZSkge1xuXG4gIHZhciBpc1R5cGUgPSBidXNpbmVzc09iamVjdC4kaW5zdGFuY2VPZih0eXBlKTtcbiAgdmFyIGlzRGVmaW5pdGlvbiA9IGZhbHNlO1xuXG4gIHZhciBkZWZpbml0aW9ucyA9IGJ1c2luZXNzT2JqZWN0LmV2ZW50RGVmaW5pdGlvbnMgfHwgW107XG4gIGZvckVhY2goZGVmaW5pdGlvbnMsIGZ1bmN0aW9uKGRlZikge1xuICAgIGlmIChkZWYuJHR5cGUgPT09IGV2ZW50RGVmaW5pdGlvblR5cGUpIHtcbiAgICAgIGlzRGVmaW5pdGlvbiA9IHRydWU7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gaXNUeXBlICYmIGlzRGVmaW5pdGlvbjtcbn0iXSwibmFtZXMiOlsiYXNzaWduIiwiZm9yRWFjaCIsImlzIiwiaXNFdmVudFN1YlByb2Nlc3MiLCJoYXNQcmltYXJ5TW9kaWZpZXIiLCJBcHBlbmROb2RlUHJvdmlkZXIiLCJjb25maWciLCJpbmplY3RvciIsImV2ZW50QnVzIiwiYXBwZW5kTm9kZSIsIm1vZGVsaW5nIiwiZWxlbWVudEZhY3RvcnkiLCJjb25uZWN0IiwiY3JlYXRlIiwicG9wdXBNZW51IiwiY2FudmFzIiwicnVsZXMiLCJkcmFnZ2luZyIsInRyYW5zbGF0ZSIsInJlZ2lzdGVyUHJvdmlkZXIiLCJfYXBwZW5kTm9kZSIsIl9tb2RlbGluZyIsIl9lbGVtZW50RmFjdG9yeSIsIl9jb25uZWN0IiwiX2NyZWF0ZSIsIl9wb3B1cE1lbnUiLCJfY2FudmFzIiwiX3J1bGVzIiwiX2RyYWdnaW5nIiwiX3RyYW5zbGF0ZSIsImF1dG9QbGFjZSIsIl9hdXRvUGxhY2UiLCJnZXQiLCJvbiIsImV2ZW50IiwiY29udGV4dCIsInNoYXBlIiwiaXNTaG93biIsIiRpbmplY3QiLCJpc0FwcGVuZEFsbG93ZWQiLCJlbGVtZW50IiwiYnVzaW5lc3NPYmplY3QiLCJ0eXBlIiwiaXNGb3JDb21wZW5zYXRpb24iLCJpc0V2ZW50VHlwZSIsInByb3RvdHlwZSIsImdldEFwcGVuZE5vZGVDbGlja0FjdGlvbiIsImdldEFwcGVuZE1lbnVQb3NpdGlvbiIsIl9nZXRBcHBlbmRNZW51UG9zaXRpb24iLCJiaW5kIiwiaXNFbXB0eSIsInBvc2l0aW9uIiwiY3Vyc29yIiwieCIsInkiLCJvcGVuIiwidGl0bGUiLCJ3aWR0aCIsInNlYXJjaCIsImdldEFwcGVuZE5vZGVEcmFnQWN0aW9uIiwic3RhcnRDb25uZWN0Iiwic3RhcnQiLCJYX09GRlNFVCIsIllfT0ZGU0VUIiwiUE9QVVBfSEVJR0hUIiwibm9kZSIsImdldE5vZGUiLCJodG1sIiwibm9kZVJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJwb3MiLCJsZWZ0IiwidG9wIiwiZXZlbnREZWZpbml0aW9uVHlwZSIsImlzVHlwZSIsIiRpbnN0YW5jZU9mIiwiaXNEZWZpbml0aW9uIiwiZGVmaW5pdGlvbnMiLCJldmVudERlZmluaXRpb25zIiwiZGVmIiwiJHR5cGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/features/AppendNodeProvider.js\n");

/***/ }),

/***/ "./src/features/BoundaryEventAppender.js":
/*!***********************************************!*\
  !*** ./src/features/BoundaryEventAppender.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BoundaryEventAppender)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var diagram_js_lib_util_Elements__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! diagram-js/lib/util/Elements */ \"./node_modules/diagram-js/lib/util/Elements.js\");\n\n\n\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../util/Types').Rect} Rect\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../overlays/Overlays').default} Overlays\n *\n * @typedef {import('../overlays/Overlays').Overlay} Overlay\n *\n */\n\n/**\n * @template {Element} [ElementType=Element]\n *\n * @typedef {ElementType|ElementType[]} BoundaryEventAppenderTarget\n */\n\nvar nodeSelector = '.djs-boundary-event-appender-circle';\nvar OFFSET = 20;\nvar NODE_WIDTH = 20;\nvar DEFAULT_PRIORITY = 1000;\nvar ALLOWED_ACTIONS = ['click', 'dragstart'];\n\n/**\n * Append node around elements,\n * allowing to append anything.\n *\n * @param {Canvas} canvas\n * @param {EventBus} eventBus\n * @param {Overlays} overlays\n */\nfunction BoundaryEventAppender(canvas, eventBus, overlays) {\n  this._canvas = canvas;\n  this._eventBus = eventBus;\n  this._overlays = overlays;\n  this._current = null;\n  this._init();\n}\nBoundaryEventAppender.$inject = ['canvas', 'eventBus', 'overlays'];\n\n// TODO provider to only show on relevant elements\n\n/**\n * Registers events needed for interaction with other components.\n */\nBoundaryEventAppender.prototype._init = function () {\n  var self = this;\n  this._eventBus.on('selection.changed', function (event) {\n    var selection = event.newSelection;\n    var target = selection.length ? selection.length === 1 ? selection[0] : selection : null;\n    if (target) {\n      self.show(target, true);\n    } else {\n      self.hide();\n    }\n  });\n  this._eventBus.on('elements.changed', function (event) {\n    var elements = event.elements,\n      current = self._current;\n    if (!current) {\n      return;\n    }\n    var currentTarget = current.target;\n    var currentChanged = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.some)((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(currentTarget) ? currentTarget : [currentTarget], function (element) {\n      return includes(elements, element);\n    });\n\n    // re-open if elements in current selection changed\n    if (currentChanged) {\n      self.show(currentTarget, true);\n    }\n  });\n};\n\n/**\n * @overlord\n *\n * Register a provider with the default priority. See\n * {@link BoundaryEventAppenderProvider} for examples.\n *\n * @param {BoundaryEventAppenderProvider} provider\n */\n\n/**\n * Register a provider with the given priority. See\n * {@link BoundaryEventAppenderProvider} for examples.\n *\n * @param {number} priority\n * @param {BoundaryEventAppenderProvider} provider\n */\nBoundaryEventAppender.prototype.registerProvider = function (priority, provider) {\n  if (!provider) {\n    provider = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n  this._eventBus.on('boundaryEventAppender.getProviders', priority, function (event) {\n    event.providers.push(provider);\n  });\n};\n\n/**\n * Get boundary event appender actions for given elements.\n *\n * @param {BoundaryEventAppenderTarget} target\n *\n * @return {BoundaryEventAppenderActions} object of drag and click actions\n */\nBoundaryEventAppender.prototype.getActions = function (target) {\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(target)) return {};\n  var providers = this._getProviders();\n  var clickFn = 'getBoundaryEventAppenderClickAction';\n  var dragFn = 'getBoundaryEventAppenderDragAction';\n  var entries = {};\n\n  // TODO does it make sense to register multiple?\n\n  // loop through all providers and their entries.\n  // group entries by id so that overriding an entry is possible\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(providers, function (provider) {\n    // click\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(provider[clickFn])) {\n      entries['click'] = provider[clickFn](target);\n    }\n\n    // drag\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(provider[dragFn])) {\n      entries['dragstart'] = provider[dragFn](target);\n    }\n  });\n  return entries;\n};\n\n/**\n * Trigger context pad via DOM event.\n *\n * The entry to trigger is determined by the target element.\n *\n * @param {string} action\n * @param {Event} event\n * @param {boolean} [autoActivate=false]\n */\n\nBoundaryEventAppender.prototype.trigger = function (action, event, autoActivate) {\n  var originalEvent,\n    button = event.delegateTarget || event.target;\n  if (!button) {\n    return event.preventDefault();\n  }\n  originalEvent = event.originalEvent || event;\n  return this.triggerAction(action, originalEvent, autoActivate);\n};\n\n/**\n * Trigger boundary event appender action.\n *\n * @param {string} action\n * @param {Event} event\n * @param {boolean} [autoActivate=false]\n */\nBoundaryEventAppender.prototype.triggerAction = function (actionId, event, autoActivate) {\n  if (!this.isShown()) {\n    return;\n  }\n  var target = this._current.target,\n    actions = this._current.actions;\n  var action = actions[actionId];\n  if (!action) {\n    return;\n  }\n\n  //var handler = entry.action;\n  // action\n\n  if (this._eventBus.fire('boundaryEventAppender.trigger', {\n    action,\n    event\n  }) === false) {\n    return;\n  }\n\n  // simple action (via callback function)\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(action)) {\n    return action(event, target, autoActivate);\n  }\n\n  // silence other actions\n  event.preventDefault();\n};\n\n/**\n * Show the boundary event appender for given elements.\n *\n * @param {BoundaryEventAppenderTarget} target\n * @param {boolean} [force=false] - Force re-showing boundary event appender.\n */\nBoundaryEventAppender.prototype.show = function (target, force) {\n  if (!force && this.isShown(target)) {\n    return;\n  }\n  this.hide();\n  this._updateAndShow(target);\n};\nBoundaryEventAppender.prototype._getProviders = function () {\n  var event = this._eventBus.createEvent({\n    type: 'boundaryEventAppender.getProviders',\n    providers: []\n  });\n  this._eventBus.fire(event);\n  return event.providers;\n};\n\n/**\n * @param {BoundaryEventAppenderTarget} target\n */\nBoundaryEventAppender.prototype._updateAndShow = function (target) {\n  var actions = this.getActions(target),\n    node = this.getNode(target),\n    html = node.html,\n    // TODO multiple nodes\n    image;\n  var showNode = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(actions) && ALLOWED_ACTIONS.some(action => (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(actions[action]));\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(html).add(showNode ? 'show' : 'hide'); // TODO rename classes\n\n  this._current = {\n    target: target,\n    actions: actions,\n    node: node\n  };\n  this._eventBus.fire('boundaryEventAppenders.show', {\n    current: this._current\n  });\n};\n\n/**\n * @param {BoundaryEventAppenderTarget} target\n *\n * @return {Overlay}\n */\nBoundaryEventAppender.prototype.getNode = function (target) {\n  if (this.isShown()) {\n    return this._current.node;\n  }\n  var self = this;\n  var overlays = this._overlays;\n  var eventSvg = `\n    <svg>\n      <g class=\"djs-visual\">\n        <circle cx=\"18\" cy=\"18\" r=\"18\" style=\"stroke-linecap: round; stroke-linejoin: round; stroke-width: 1.5px; fill: white;\"></circle>\n        <circle cx=\"18\" cy=\"18\" r=\"15\" style=\"stroke-linecap: round; stroke-linejoin: round; stroke-width: 1.5px; fill: none;\"></circle>\n      </g>\n    </svg>\n  `;\n  var html = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.domify)(`\n    <div class=\"djs-boundary-event-appender\">\n      <div class=\"djs-boundary-event-appender-circle\" title=\"Add boundary event\" draggable=\"true\"></div>\n    </div>\n  `);\n  var position = this._getPosition(target);\n  var overlaysConfig = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({\n    html: html\n  }, this._overlaysConfig, position);\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.delegate.bind(html, nodeSelector, 'click', function (event) {\n    self.trigger('click', event);\n  });\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.delegate.bind(html, nodeSelector, 'dragstart', function (event) {\n    self.trigger('dragstart', event);\n  });\n\n  // stop propagation of mouse events\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.event.bind(html, 'mousedown', function (event) {\n    event.stopPropagation();\n  });\n  var activeRootElement = this._canvas.getRootElement();\n\n  // TODO multiple nodes\n  this._overlayId = overlays.add(activeRootElement, 'boundary-event-appender', overlaysConfig);\n  var node = overlays.get(this._overlayId);\n  this._eventBus.fire('boundaryEventAppenders.create', {\n    target: target,\n    node: node\n  });\n  return node;\n};\n\n/**\n * Hide the node\n */\nBoundaryEventAppender.prototype.hide = function () {\n  if (!this.isShown()) {\n    return;\n  }\n  this._overlays.remove(this._overlayId);\n  this._overlayId = null;\n  this._eventBus.fire('boundaryEventAppenders.hide', {\n    current: this._current\n  });\n  this._current = null;\n};\n\n/**\n * Check if node is shown.\n *\n * If target is provided, check if it is shown\n * for the given target.\n *\n * @param {BoundaryEventAppenderTarget} [target]\n * @return {boolean}\n */\nBoundaryEventAppender.prototype.isShown = function (target) {\n  var current = this._current;\n  if (!current) {\n    return false;\n  }\n\n  // basic no-args is open check\n  if (!target) {\n    return true;\n  }\n  var currentTarget = current.target;\n\n  // TODO\n  // strict handling of single vs. multi-selection\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(target) !== (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(currentTarget)) {\n    return false;\n  }\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(target)) {\n    return target.length === currentTarget.length && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.every)(target, function (element) {\n      return includes(currentTarget, element);\n    });\n  } else {\n    return currentTarget === target;\n  }\n};\n\n/**\n * Get boundary event appender position.\n *\n * @param {BoundaryEventAppenderTarget} target\n *\n * @return {Rect}\n */\nBoundaryEventAppender.prototype._getPosition = function (target) {\n  var elements = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(target) ? target : [target];\n  var bBox = (0,diagram_js_lib_util_Elements__WEBPACK_IMPORTED_MODULE_2__.getBBox)(elements);\n  console.log(bBox);\n  return {\n    position: {\n      left: bBox.x + bBox.width - OFFSET + 2,\n      top: bBox.y + bBox.height - OFFSET + 2\n    }\n  };\n};\n\n// helpers //////////\n\n/**\n * @param {any[]} array\n * @param {any} item\n *\n * @return {boolean}\n */\nfunction includes(array, item) {\n  return array.indexOf(item) !== -1;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZmVhdHVyZXMvQm91bmRhcnlFdmVudEFwcGVuZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFTa0I7QUFTRDtBQUVzQzs7QUFFdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSW9CLFlBQVksR0FBRyxxQ0FBcUM7QUFDeEQsSUFBSUMsTUFBTSxHQUFHLEVBQUU7QUFDZixJQUFJQyxVQUFVLEdBQUcsRUFBRTtBQUVuQixJQUFJQyxnQkFBZ0IsR0FBRyxJQUFJO0FBRTNCLElBQUlDLGVBQWUsR0FBRyxDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUM7O0FBRTVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZSxTQUFTQyxxQkFBcUJBLENBQUNDLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUU7RUFDeEUsSUFBSSxDQUFDQyxPQUFPLEdBQUdILE1BQU07RUFDckIsSUFBSSxDQUFDSSxTQUFTLEdBQUdILFFBQVE7RUFDekIsSUFBSSxDQUFDSSxTQUFTLEdBQUdILFFBQVE7RUFHekIsSUFBSSxDQUFDSSxRQUFRLEdBQUcsSUFBSTtFQUVwQixJQUFJLENBQUNDLEtBQUssQ0FBQyxDQUFDO0FBQ2Q7QUFFQVIscUJBQXFCLENBQUNTLE9BQU8sR0FBRyxDQUM5QixRQUFRLEVBQ1IsVUFBVSxFQUNWLFVBQVUsQ0FDWDs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQVQscUJBQXFCLENBQUNVLFNBQVMsQ0FBQ0YsS0FBSyxHQUFHLFlBQVk7RUFDbEQsSUFBSUcsSUFBSSxHQUFHLElBQUk7RUFFZixJQUFJLENBQUNOLFNBQVMsQ0FBQ08sRUFBRSxDQUFDLG1CQUFtQixFQUFFLFVBQVUzQixLQUFLLEVBQUU7SUFFdEQsSUFBSTRCLFNBQVMsR0FBRzVCLEtBQUssQ0FBQzZCLFlBQVk7SUFFbEMsSUFBSUMsTUFBTSxHQUFHRixTQUFTLENBQUNHLE1BQU0sR0FDekJILFNBQVMsQ0FBQ0csTUFBTSxLQUFLLENBQUMsR0FDcEJILFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FDWkEsU0FBUyxHQUNYLElBQUk7SUFFUixJQUFJRSxNQUFNLEVBQUU7TUFDVkosSUFBSSxDQUFDTSxJQUFJLENBQUNGLE1BQU0sRUFBRSxJQUFJLENBQUM7SUFDekIsQ0FBQyxNQUFNO01BQ0xKLElBQUksQ0FBQ08sSUFBSSxDQUFDLENBQUM7SUFDYjtFQUNGLENBQUMsQ0FBQztFQUVGLElBQUksQ0FBQ2IsU0FBUyxDQUFDTyxFQUFFLENBQUMsa0JBQWtCLEVBQUUsVUFBVTNCLEtBQUssRUFBRTtJQUNyRCxJQUFJa0MsUUFBUSxHQUFHbEMsS0FBSyxDQUFDa0MsUUFBUTtNQUMzQkMsT0FBTyxHQUFHVCxJQUFJLENBQUNKLFFBQVE7SUFFekIsSUFBSSxDQUFDYSxPQUFPLEVBQUU7TUFDWjtJQUNGO0lBRUEsSUFBSUMsYUFBYSxHQUFHRCxPQUFPLENBQUNMLE1BQU07SUFFbEMsSUFBSU8sY0FBYyxHQUFHeEMsOENBQUksQ0FDdkJKLGlEQUFPLENBQUMyQyxhQUFhLENBQUMsR0FBR0EsYUFBYSxHQUFHLENBQUNBLGFBQWEsQ0FBQyxFQUN4RCxVQUFVRSxPQUFPLEVBQUU7TUFDakIsT0FBT0MsUUFBUSxDQUFDTCxRQUFRLEVBQUVJLE9BQU8sQ0FBQztJQUNwQyxDQUNGLENBQUM7O0lBRUQ7SUFDQSxJQUFJRCxjQUFjLEVBQUU7TUFDbEJYLElBQUksQ0FBQ00sSUFBSSxDQUFDSSxhQUFhLEVBQUUsSUFBSSxDQUFDO0lBQ2hDO0VBQ0YsQ0FBQyxDQUFDO0FBQ0osQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FyQixxQkFBcUIsQ0FBQ1UsU0FBUyxDQUFDZSxnQkFBZ0IsR0FBRyxVQUFTQyxRQUFRLEVBQUVDLFFBQVEsRUFBRTtFQUM5RSxJQUFJLENBQUNBLFFBQVEsRUFBRTtJQUNiQSxRQUFRLEdBQUdELFFBQVE7SUFDbkJBLFFBQVEsR0FBRzVCLGdCQUFnQjtFQUM3QjtFQUVBLElBQUksQ0FBQ08sU0FBUyxDQUFDTyxFQUFFLENBQUMsb0NBQW9DLEVBQUVjLFFBQVEsRUFBRSxVQUFTekMsS0FBSyxFQUFFO0lBQ2hGQSxLQUFLLENBQUMyQyxTQUFTLENBQUNDLElBQUksQ0FBQ0YsUUFBUSxDQUFDO0VBQ2hDLENBQUMsQ0FBQztBQUNKLENBQUM7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTNCLHFCQUFxQixDQUFDVSxTQUFTLENBQUNvQixVQUFVLEdBQUcsVUFBU2YsTUFBTSxFQUFFO0VBQzVELElBQUlyQyxpREFBTyxDQUFDcUMsTUFBTSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7RUFFOUIsSUFBSWEsU0FBUyxHQUFHLElBQUksQ0FBQ0csYUFBYSxDQUFDLENBQUM7RUFFcEMsSUFBSUMsT0FBTyxHQUFHLHFDQUFxQztFQUNuRCxJQUFJQyxNQUFNLEdBQUcsb0NBQW9DO0VBRWpELElBQUlDLE9BQU8sR0FBRyxDQUFDLENBQUM7O0VBRWhCOztFQUVBO0VBQ0E7RUFDQXpELGlEQUFPLENBQUNtRCxTQUFTLEVBQUUsVUFBU0QsUUFBUSxFQUFFO0lBRXBDO0lBQ0EsSUFBSS9DLG9EQUFVLENBQUMrQyxRQUFRLENBQUNLLE9BQU8sQ0FBQyxDQUFDLEVBQUU7TUFDakNFLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBR1AsUUFBUSxDQUFDSyxPQUFPLENBQUMsQ0FBQ2pCLE1BQU0sQ0FBQztJQUM5Qzs7SUFFQTtJQUNBLElBQUluQyxvREFBVSxDQUFDK0MsUUFBUSxDQUFDTSxNQUFNLENBQUMsQ0FBQyxFQUFFO01BQ2hDQyxPQUFPLENBQUMsV0FBVyxDQUFDLEdBQUdQLFFBQVEsQ0FBQ00sTUFBTSxDQUFDLENBQUNsQixNQUFNLENBQUM7SUFDakQ7RUFDRixDQUFDLENBQUM7RUFFRixPQUFPbUIsT0FBTztBQUNoQixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQWxDLHFCQUFxQixDQUFDVSxTQUFTLENBQUN5QixPQUFPLEdBQUcsVUFBU0MsTUFBTSxFQUFFbkQsS0FBSyxFQUFFb0QsWUFBWSxFQUFFO0VBRTlFLElBQUlDLGFBQWE7SUFDYkMsTUFBTSxHQUFHdEQsS0FBSyxDQUFDdUQsY0FBYyxJQUFJdkQsS0FBSyxDQUFDOEIsTUFBTTtFQUVqRCxJQUFJLENBQUN3QixNQUFNLEVBQUU7SUFDWCxPQUFPdEQsS0FBSyxDQUFDd0QsY0FBYyxDQUFDLENBQUM7RUFDL0I7RUFFQUgsYUFBYSxHQUFHckQsS0FBSyxDQUFDcUQsYUFBYSxJQUFJckQsS0FBSztFQUU1QyxPQUFPLElBQUksQ0FBQ3lELGFBQWEsQ0FBQ04sTUFBTSxFQUFFRSxhQUFhLEVBQUVELFlBQVksQ0FBQztBQUNoRSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FyQyxxQkFBcUIsQ0FBQ1UsU0FBUyxDQUFDZ0MsYUFBYSxHQUFHLFVBQVNDLFFBQVEsRUFBRTFELEtBQUssRUFBRW9ELFlBQVksRUFBRTtFQUV0RixJQUFJLENBQUMsSUFBSSxDQUFDTyxPQUFPLENBQUMsQ0FBQyxFQUFFO0lBQ25CO0VBQ0Y7RUFFQSxJQUFJN0IsTUFBTSxHQUFHLElBQUksQ0FBQ1IsUUFBUSxDQUFDUSxNQUFNO0lBQy9COEIsT0FBTyxHQUFHLElBQUksQ0FBQ3RDLFFBQVEsQ0FBQ3NDLE9BQU87RUFFakMsSUFBSVQsTUFBTSxHQUFHUyxPQUFPLENBQUNGLFFBQVEsQ0FBQztFQUU5QixJQUFJLENBQUNQLE1BQU0sRUFBRTtJQUNYO0VBQ0Y7O0VBRUE7RUFDQTs7RUFFQSxJQUFJLElBQUksQ0FBQy9CLFNBQVMsQ0FBQ3lDLElBQUksQ0FBQywrQkFBK0IsRUFBRTtJQUFFVixNQUFNO0lBQUVuRDtFQUFNLENBQUMsQ0FBQyxLQUFLLEtBQUssRUFBRTtJQUNyRjtFQUNGOztFQUVBO0VBQ0EsSUFBSUwsb0RBQVUsQ0FBQ3dELE1BQU0sQ0FBQyxFQUFFO0lBQ3RCLE9BQU9BLE1BQU0sQ0FBQ25ELEtBQUssRUFBRThCLE1BQU0sRUFBRXNCLFlBQVksQ0FBQztFQUM1Qzs7RUFFQTtFQUNBcEQsS0FBSyxDQUFDd0QsY0FBYyxDQUFDLENBQUM7QUFDeEIsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQXpDLHFCQUFxQixDQUFDVSxTQUFTLENBQUNPLElBQUksR0FBRyxVQUFTRixNQUFNLEVBQUVnQyxLQUFLLEVBQUU7RUFDN0QsSUFBSSxDQUFDQSxLQUFLLElBQUksSUFBSSxDQUFDSCxPQUFPLENBQUM3QixNQUFNLENBQUMsRUFBRTtJQUNsQztFQUNGO0VBRUEsSUFBSSxDQUFDRyxJQUFJLENBQUMsQ0FBQztFQUVYLElBQUksQ0FBQzhCLGNBQWMsQ0FBQ2pDLE1BQU0sQ0FBQztBQUM3QixDQUFDO0FBRURmLHFCQUFxQixDQUFDVSxTQUFTLENBQUNxQixhQUFhLEdBQUcsWUFBVztFQUV6RCxJQUFJOUMsS0FBSyxHQUFHLElBQUksQ0FBQ29CLFNBQVMsQ0FBQzRDLFdBQVcsQ0FBQztJQUNyQ0MsSUFBSSxFQUFFLG9DQUFvQztJQUMxQ3RCLFNBQVMsRUFBRTtFQUNiLENBQUMsQ0FBQztFQUVGLElBQUksQ0FBQ3ZCLFNBQVMsQ0FBQ3lDLElBQUksQ0FBQzdELEtBQUssQ0FBQztFQUUxQixPQUFPQSxLQUFLLENBQUMyQyxTQUFTO0FBQ3hCLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E1QixxQkFBcUIsQ0FBQ1UsU0FBUyxDQUFDc0MsY0FBYyxHQUFHLFVBQVNqQyxNQUFNLEVBQUU7RUFDaEUsSUFBSThCLE9BQU8sR0FBRyxJQUFJLENBQUNmLFVBQVUsQ0FBQ2YsTUFBTSxDQUFDO0lBQ2pDb0MsSUFBSSxHQUFHLElBQUksQ0FBQ0MsT0FBTyxDQUFDckMsTUFBTSxDQUFDO0lBQzNCc0MsSUFBSSxHQUFHRixJQUFJLENBQUNFLElBQUk7SUFBRTtJQUNsQkMsS0FBSztFQUVULElBQUlDLFFBQVEsR0FBRzFFLGtEQUFRLENBQUNnRSxPQUFPLENBQUMsSUFDOUI5QyxlQUFlLENBQUNqQixJQUFJLENBQUNzRCxNQUFNLElBQUl4RCxvREFBVSxDQUFDaUUsT0FBTyxDQUFDVCxNQUFNLENBQUMsQ0FBQyxDQUFDO0VBRTdENUMsZ0RBQVUsQ0FBQzZELElBQUksQ0FBQyxDQUFDRyxHQUFHLENBQUNELFFBQVEsR0FBRyxNQUFNLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQzs7RUFFbEQsSUFBSSxDQUFDaEQsUUFBUSxHQUFHO0lBQ2RRLE1BQU0sRUFBRUEsTUFBTTtJQUNkOEIsT0FBTyxFQUFFQSxPQUFPO0lBQ2hCTSxJQUFJLEVBQUVBO0VBQ1IsQ0FBQztFQUVELElBQUksQ0FBQzlDLFNBQVMsQ0FBQ3lDLElBQUksQ0FBQyw2QkFBNkIsRUFBRTtJQUFFMUIsT0FBTyxFQUFFLElBQUksQ0FBQ2I7RUFBUyxDQUFDLENBQUM7QUFDaEYsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FQLHFCQUFxQixDQUFDVSxTQUFTLENBQUMwQyxPQUFPLEdBQUcsVUFBU3JDLE1BQU0sRUFBRTtFQUN6RCxJQUFJLElBQUksQ0FBQzZCLE9BQU8sQ0FBQyxDQUFDLEVBQUU7SUFDbEIsT0FBTyxJQUFJLENBQUNyQyxRQUFRLENBQUM0QyxJQUFJO0VBQzNCO0VBRUEsSUFBSXhDLElBQUksR0FBRyxJQUFJO0VBRWYsSUFBSVIsUUFBUSxHQUFHLElBQUksQ0FBQ0csU0FBUztFQUU3QixJQUFJbUQsUUFBUSxHQUFJO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7RUFFRCxJQUFJSixJQUFJLEdBQUc1RCwrQ0FBTSxDQUFFO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLEdBQUcsQ0FBQztFQUVGLElBQUlpRSxRQUFRLEdBQUcsSUFBSSxDQUFDQyxZQUFZLENBQUM1QyxNQUFNLENBQUM7RUFFeEMsSUFBSTZDLGNBQWMsR0FBR3JGLGdEQUFNLENBQUM7SUFDMUI4RSxJQUFJLEVBQUVBO0VBQ1IsQ0FBQyxFQUFFLElBQUksQ0FBQ1EsZUFBZSxFQUFFSCxRQUFRLENBQUM7RUFFbEMxRSw2Q0FBVyxDQUFDOEUsSUFBSSxDQUFDVCxJQUFJLEVBQUUxRCxZQUFZLEVBQUUsT0FBTyxFQUFFLFVBQVNWLEtBQUssRUFBRTtJQUM1RDBCLElBQUksQ0FBQ3dCLE9BQU8sQ0FBQyxPQUFPLEVBQUVsRCxLQUFLLENBQUM7RUFDOUIsQ0FBQyxDQUFDO0VBRUZELDZDQUFXLENBQUM4RSxJQUFJLENBQUNULElBQUksRUFBRTFELFlBQVksRUFBRSxXQUFXLEVBQUUsVUFBU1YsS0FBSyxFQUFFO0lBQ2hFMEIsSUFBSSxDQUFDd0IsT0FBTyxDQUFDLFdBQVcsRUFBRWxELEtBQUssQ0FBQztFQUNsQyxDQUFDLENBQUM7O0VBRUY7RUFDQUMsMENBQVEsQ0FBQzRFLElBQUksQ0FBQ1QsSUFBSSxFQUFFLFdBQVcsRUFBRSxVQUFTcEUsS0FBSyxFQUFFO0lBQy9DQSxLQUFLLENBQUM4RSxlQUFlLENBQUMsQ0FBQztFQUN6QixDQUFDLENBQUM7RUFFRixJQUFJQyxpQkFBaUIsR0FBRyxJQUFJLENBQUM1RCxPQUFPLENBQUM2RCxjQUFjLENBQUMsQ0FBQzs7RUFFckQ7RUFDQSxJQUFJLENBQUNDLFVBQVUsR0FBRy9ELFFBQVEsQ0FBQ3FELEdBQUcsQ0FBQ1EsaUJBQWlCLEVBQUUseUJBQXlCLEVBQUVKLGNBQWMsQ0FBQztFQUU1RixJQUFJVCxJQUFJLEdBQUdoRCxRQUFRLENBQUNnRSxHQUFHLENBQUMsSUFBSSxDQUFDRCxVQUFVLENBQUM7RUFFeEMsSUFBSSxDQUFDN0QsU0FBUyxDQUFDeUMsSUFBSSxDQUFDLCtCQUErQixFQUFFO0lBQ25EL0IsTUFBTSxFQUFFQSxNQUFNO0lBQ2RvQyxJQUFJLEVBQUVBO0VBQ1IsQ0FBQyxDQUFDO0VBRUYsT0FBT0EsSUFBSTtBQUNiLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0FuRCxxQkFBcUIsQ0FBQ1UsU0FBUyxDQUFDUSxJQUFJLEdBQUcsWUFBVztFQUNoRCxJQUFJLENBQUMsSUFBSSxDQUFDMEIsT0FBTyxDQUFDLENBQUMsRUFBRTtJQUNuQjtFQUNGO0VBRUEsSUFBSSxDQUFDdEMsU0FBUyxDQUFDOEQsTUFBTSxDQUFDLElBQUksQ0FBQ0YsVUFBVSxDQUFDO0VBRXRDLElBQUksQ0FBQ0EsVUFBVSxHQUFHLElBQUk7RUFFdEIsSUFBSSxDQUFDN0QsU0FBUyxDQUFDeUMsSUFBSSxDQUFDLDZCQUE2QixFQUFFO0lBQUUxQixPQUFPLEVBQUUsSUFBSSxDQUFDYjtFQUFTLENBQUMsQ0FBQztFQUU5RSxJQUFJLENBQUNBLFFBQVEsR0FBRyxJQUFJO0FBQ3RCLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FQLHFCQUFxQixDQUFDVSxTQUFTLENBQUNrQyxPQUFPLEdBQUcsVUFBUzdCLE1BQU0sRUFBRTtFQUN6RCxJQUFJSyxPQUFPLEdBQUcsSUFBSSxDQUFDYixRQUFRO0VBRTNCLElBQUksQ0FBQ2EsT0FBTyxFQUFFO0lBQ1osT0FBTyxLQUFLO0VBQ2Q7O0VBRUE7RUFDQSxJQUFJLENBQUNMLE1BQU0sRUFBRTtJQUNYLE9BQU8sSUFBSTtFQUNiO0VBRUEsSUFBSU0sYUFBYSxHQUFHRCxPQUFPLENBQUNMLE1BQU07O0VBRWxDO0VBQ0E7RUFDQSxJQUFJckMsaURBQU8sQ0FBQ3FDLE1BQU0sQ0FBQyxLQUFLckMsaURBQU8sQ0FBQzJDLGFBQWEsQ0FBQyxFQUFFO0lBQzlDLE9BQU8sS0FBSztFQUNkO0VBRUEsSUFBSTNDLGlEQUFPLENBQUNxQyxNQUFNLENBQUMsRUFBRTtJQUNuQixPQUNFQSxNQUFNLENBQUNDLE1BQU0sS0FBS0ssYUFBYSxDQUFDTCxNQUFNLElBQ3RDeEMsK0NBQUssQ0FBQ3VDLE1BQU0sRUFBRSxVQUFTUSxPQUFPLEVBQUU7TUFDOUIsT0FBT0MsUUFBUSxDQUFDSCxhQUFhLEVBQUVFLE9BQU8sQ0FBQztJQUN6QyxDQUFDLENBQUM7RUFFTixDQUFDLE1BQU07SUFDTCxPQUFPRixhQUFhLEtBQUtOLE1BQU07RUFDakM7QUFDRixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FmLHFCQUFxQixDQUFDVSxTQUFTLENBQUNpRCxZQUFZLEdBQUcsVUFBUzVDLE1BQU0sRUFBRTtFQUU5RCxJQUFJSSxRQUFRLEdBQUd6QyxpREFBTyxDQUFDcUMsTUFBTSxDQUFDLEdBQUdBLE1BQU0sR0FBRyxDQUFFQSxNQUFNLENBQUU7RUFDcEQsSUFBSXNELElBQUksR0FBRzNFLHFFQUFPLENBQUN5QixRQUFRLENBQUM7RUFFNUJtRCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsSUFBSSxDQUFDO0VBRWpCLE9BQU87SUFDTFgsUUFBUSxFQUFFO01BQ1JjLElBQUksRUFBRUgsSUFBSSxDQUFDSSxDQUFDLEdBQUdKLElBQUksQ0FBQ0ssS0FBSyxHQUFHOUUsTUFBTSxHQUFHLENBQUM7TUFDdEMrRSxHQUFHLEVBQUVOLElBQUksQ0FBQ08sQ0FBQyxHQUFHUCxJQUFJLENBQUNRLE1BQU0sR0FBR2pGLE1BQU0sR0FBRztJQUN2QztFQUNGLENBQUM7QUFDSCxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM0QixRQUFRQSxDQUFDc0QsS0FBSyxFQUFFQyxJQUFJLEVBQUU7RUFDN0IsT0FBT0QsS0FBSyxDQUFDRSxPQUFPLENBQUNELElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNuQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2tkYXlzLTIwMjMvLi9zcmMvZmVhdHVyZXMvQm91bmRhcnlFdmVudEFwcGVuZGVyLmpzPzYwM2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBldmVyeSxcbiAgZm9yRWFjaCxcbiAgaXNBcnJheSxcbiAgaXNEZWZpbmVkLFxuICBpc0Z1bmN0aW9uLFxuICBpc09iamVjdCxcbiAgc29tZVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGRlbGVnYXRlIGFzIGRvbURlbGVnYXRlLFxuICBldmVudCBhcyBkb21FdmVudCxcbiAgYXR0ciBhcyBkb21BdHRyLFxuICBxdWVyeSBhcyBkb21RdWVyeSxcbiAgY2xhc3NlcyBhcyBkb21DbGFzc2VzLFxuICBkb21pZnkgYXMgZG9taWZ5XG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQgeyBnZXRCQm94IH0gZnJvbSAnZGlhZ3JhbS1qcy9saWIvdXRpbC9FbGVtZW50cyc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vbW9kZWwvVHlwZXMnKS5FbGVtZW50fSBFbGVtZW50XG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vdXRpbC9UeXBlcycpLlJlY3R9IFJlY3RcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0NhbnZhcycpLmRlZmF1bHR9IENhbnZhc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9vdmVybGF5cy9PdmVybGF5cycpLmRlZmF1bHR9IE92ZXJsYXlzXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vb3ZlcmxheXMvT3ZlcmxheXMnKS5PdmVybGF5fSBPdmVybGF5XG4gKlxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIHtFbGVtZW50fSBbRWxlbWVudFR5cGU9RWxlbWVudF1cbiAqXG4gKiBAdHlwZWRlZiB7RWxlbWVudFR5cGV8RWxlbWVudFR5cGVbXX0gQm91bmRhcnlFdmVudEFwcGVuZGVyVGFyZ2V0XG4gKi9cblxudmFyIG5vZGVTZWxlY3RvciA9ICcuZGpzLWJvdW5kYXJ5LWV2ZW50LWFwcGVuZGVyLWNpcmNsZSc7XG52YXIgT0ZGU0VUID0gMjA7XG52YXIgTk9ERV9XSURUSCA9IDIwO1xuXG52YXIgREVGQVVMVF9QUklPUklUWSA9IDEwMDA7XG5cbnZhciBBTExPV0VEX0FDVElPTlMgPSBbJ2NsaWNrJywgJ2RyYWdzdGFydCddO1xuXG4vKipcbiAqIEFwcGVuZCBub2RlIGFyb3VuZCBlbGVtZW50cyxcbiAqIGFsbG93aW5nIHRvIGFwcGVuZCBhbnl0aGluZy5cbiAqXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtPdmVybGF5c30gb3ZlcmxheXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQm91bmRhcnlFdmVudEFwcGVuZGVyKGNhbnZhcywgZXZlbnRCdXMsIG92ZXJsYXlzKSB7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fb3ZlcmxheXMgPSBvdmVybGF5cztcblxuXG4gIHRoaXMuX2N1cnJlbnQgPSBudWxsO1xuXG4gIHRoaXMuX2luaXQoKTtcbn1cblxuQm91bmRhcnlFdmVudEFwcGVuZGVyLiRpbmplY3QgPSBbXG4gICdjYW52YXMnLFxuICAnZXZlbnRCdXMnLFxuICAnb3ZlcmxheXMnXG5dO1xuXG4vLyBUT0RPIHByb3ZpZGVyIHRvIG9ubHkgc2hvdyBvbiByZWxldmFudCBlbGVtZW50c1xuXG4vKipcbiAqIFJlZ2lzdGVycyBldmVudHMgbmVlZGVkIGZvciBpbnRlcmFjdGlvbiB3aXRoIG90aGVyIGNvbXBvbmVudHMuXG4gKi9cbkJvdW5kYXJ5RXZlbnRBcHBlbmRlci5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICB0aGlzLl9ldmVudEJ1cy5vbignc2VsZWN0aW9uLmNoYW5nZWQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgIHZhciBzZWxlY3Rpb24gPSBldmVudC5uZXdTZWxlY3Rpb247XG5cbiAgICB2YXIgdGFyZ2V0ID0gc2VsZWN0aW9uLmxlbmd0aFxuICAgICAgPyBzZWxlY3Rpb24ubGVuZ3RoID09PSAxXG4gICAgICAgID8gc2VsZWN0aW9uWzBdXG4gICAgICAgIDogc2VsZWN0aW9uXG4gICAgICA6IG51bGw7XG5cbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICBzZWxmLnNob3codGFyZ2V0LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5oaWRlKCk7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLl9ldmVudEJ1cy5vbignZWxlbWVudHMuY2hhbmdlZCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBlbGVtZW50cyA9IGV2ZW50LmVsZW1lbnRzLFxuICAgICAgY3VycmVudCA9IHNlbGYuX2N1cnJlbnQ7XG5cbiAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY3VycmVudFRhcmdldCA9IGN1cnJlbnQudGFyZ2V0O1xuXG4gICAgdmFyIGN1cnJlbnRDaGFuZ2VkID0gc29tZShcbiAgICAgIGlzQXJyYXkoY3VycmVudFRhcmdldCkgPyBjdXJyZW50VGFyZ2V0IDogW2N1cnJlbnRUYXJnZXRdLFxuICAgICAgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGluY2x1ZGVzKGVsZW1lbnRzLCBlbGVtZW50KTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgLy8gcmUtb3BlbiBpZiBlbGVtZW50cyBpbiBjdXJyZW50IHNlbGVjdGlvbiBjaGFuZ2VkXG4gICAgaWYgKGN1cnJlbnRDaGFuZ2VkKSB7XG4gICAgICBzZWxmLnNob3coY3VycmVudFRhcmdldCwgdHJ1ZSk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogQG92ZXJsb3JkXG4gKlxuICogUmVnaXN0ZXIgYSBwcm92aWRlciB3aXRoIHRoZSBkZWZhdWx0IHByaW9yaXR5LiBTZWVcbiAqIHtAbGluayBCb3VuZGFyeUV2ZW50QXBwZW5kZXJQcm92aWRlcn0gZm9yIGV4YW1wbGVzLlxuICpcbiAqIEBwYXJhbSB7Qm91bmRhcnlFdmVudEFwcGVuZGVyUHJvdmlkZXJ9IHByb3ZpZGVyXG4gKi9cblxuLyoqXG4gKiBSZWdpc3RlciBhIHByb3ZpZGVyIHdpdGggdGhlIGdpdmVuIHByaW9yaXR5LiBTZWVcbiAqIHtAbGluayBCb3VuZGFyeUV2ZW50QXBwZW5kZXJQcm92aWRlcn0gZm9yIGV4YW1wbGVzLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBwcmlvcml0eVxuICogQHBhcmFtIHtCb3VuZGFyeUV2ZW50QXBwZW5kZXJQcm92aWRlcn0gcHJvdmlkZXJcbiAqL1xuQm91bmRhcnlFdmVudEFwcGVuZGVyLnByb3RvdHlwZS5yZWdpc3RlclByb3ZpZGVyID0gZnVuY3Rpb24ocHJpb3JpdHksIHByb3ZpZGVyKSB7XG4gIGlmICghcHJvdmlkZXIpIHtcbiAgICBwcm92aWRlciA9IHByaW9yaXR5O1xuICAgIHByaW9yaXR5ID0gREVGQVVMVF9QUklPUklUWTtcbiAgfVxuXG4gIHRoaXMuX2V2ZW50QnVzLm9uKCdib3VuZGFyeUV2ZW50QXBwZW5kZXIuZ2V0UHJvdmlkZXJzJywgcHJpb3JpdHksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQucHJvdmlkZXJzLnB1c2gocHJvdmlkZXIpO1xuICB9KTtcbn07XG5cblxuLyoqXG4gKiBHZXQgYm91bmRhcnkgZXZlbnQgYXBwZW5kZXIgYWN0aW9ucyBmb3IgZ2l2ZW4gZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtCb3VuZGFyeUV2ZW50QXBwZW5kZXJUYXJnZXR9IHRhcmdldFxuICpcbiAqIEByZXR1cm4ge0JvdW5kYXJ5RXZlbnRBcHBlbmRlckFjdGlvbnN9IG9iamVjdCBvZiBkcmFnIGFuZCBjbGljayBhY3Rpb25zXG4gKi9cbkJvdW5kYXJ5RXZlbnRBcHBlbmRlci5wcm90b3R5cGUuZ2V0QWN0aW9ucyA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICBpZiAoaXNBcnJheSh0YXJnZXQpKSByZXR1cm4ge307XG4gIFxuICB2YXIgcHJvdmlkZXJzID0gdGhpcy5fZ2V0UHJvdmlkZXJzKCk7XG5cbiAgdmFyIGNsaWNrRm4gPSAnZ2V0Qm91bmRhcnlFdmVudEFwcGVuZGVyQ2xpY2tBY3Rpb24nO1xuICB2YXIgZHJhZ0ZuID0gJ2dldEJvdW5kYXJ5RXZlbnRBcHBlbmRlckRyYWdBY3Rpb24nO1xuXG4gIHZhciBlbnRyaWVzID0ge307XG5cbiAgLy8gVE9ETyBkb2VzIGl0IG1ha2Ugc2Vuc2UgdG8gcmVnaXN0ZXIgbXVsdGlwbGU/XG5cbiAgLy8gbG9vcCB0aHJvdWdoIGFsbCBwcm92aWRlcnMgYW5kIHRoZWlyIGVudHJpZXMuXG4gIC8vIGdyb3VwIGVudHJpZXMgYnkgaWQgc28gdGhhdCBvdmVycmlkaW5nIGFuIGVudHJ5IGlzIHBvc3NpYmxlXG4gIGZvckVhY2gocHJvdmlkZXJzLCBmdW5jdGlvbihwcm92aWRlcikge1xuXG4gICAgLy8gY2xpY2tcbiAgICBpZiAoaXNGdW5jdGlvbihwcm92aWRlcltjbGlja0ZuXSkpIHtcbiAgICAgIGVudHJpZXNbJ2NsaWNrJ10gPSBwcm92aWRlcltjbGlja0ZuXSh0YXJnZXQpO1xuICAgIH1cblxuICAgIC8vIGRyYWdcbiAgICBpZiAoaXNGdW5jdGlvbihwcm92aWRlcltkcmFnRm5dKSkge1xuICAgICAgZW50cmllc1snZHJhZ3N0YXJ0J10gPSBwcm92aWRlcltkcmFnRm5dKHRhcmdldCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gZW50cmllcztcbn07XG5cbi8qKlxuICogVHJpZ2dlciBjb250ZXh0IHBhZCB2aWEgRE9NIGV2ZW50LlxuICpcbiAqIFRoZSBlbnRyeSB0byB0cmlnZ2VyIGlzIGRldGVybWluZWQgYnkgdGhlIHRhcmdldCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25cbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvQWN0aXZhdGU9ZmFsc2VdXG4gKi9cblxuXG5Cb3VuZGFyeUV2ZW50QXBwZW5kZXIucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbihhY3Rpb24sIGV2ZW50LCBhdXRvQWN0aXZhdGUpIHtcblxuICB2YXIgb3JpZ2luYWxFdmVudCxcbiAgICAgIGJ1dHRvbiA9IGV2ZW50LmRlbGVnYXRlVGFyZ2V0IHx8IGV2ZW50LnRhcmdldDtcblxuICBpZiAoIWJ1dHRvbikge1xuICAgIHJldHVybiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgb3JpZ2luYWxFdmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQgfHwgZXZlbnQ7XG5cbiAgcmV0dXJuIHRoaXMudHJpZ2dlckFjdGlvbihhY3Rpb24sIG9yaWdpbmFsRXZlbnQsIGF1dG9BY3RpdmF0ZSk7XG59O1xuXG4vKipcbiAqIFRyaWdnZXIgYm91bmRhcnkgZXZlbnQgYXBwZW5kZXIgYWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25cbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvQWN0aXZhdGU9ZmFsc2VdXG4gKi9cbkJvdW5kYXJ5RXZlbnRBcHBlbmRlci5wcm90b3R5cGUudHJpZ2dlckFjdGlvbiA9IGZ1bmN0aW9uKGFjdGlvbklkLCBldmVudCwgYXV0b0FjdGl2YXRlKSB7XG5cbiAgaWYgKCF0aGlzLmlzU2hvd24oKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciB0YXJnZXQgPSB0aGlzLl9jdXJyZW50LnRhcmdldCxcbiAgICBhY3Rpb25zID0gdGhpcy5fY3VycmVudC5hY3Rpb25zO1xuXG4gIHZhciBhY3Rpb24gPSBhY3Rpb25zW2FjdGlvbklkXTtcblxuICBpZiAoIWFjdGlvbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vdmFyIGhhbmRsZXIgPSBlbnRyeS5hY3Rpb247XG4gIC8vIGFjdGlvblxuXG4gIGlmICh0aGlzLl9ldmVudEJ1cy5maXJlKCdib3VuZGFyeUV2ZW50QXBwZW5kZXIudHJpZ2dlcicsIHsgYWN0aW9uLCBldmVudCB9KSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBzaW1wbGUgYWN0aW9uICh2aWEgY2FsbGJhY2sgZnVuY3Rpb24pXG4gIGlmIChpc0Z1bmN0aW9uKGFjdGlvbikpIHtcbiAgICByZXR1cm4gYWN0aW9uKGV2ZW50LCB0YXJnZXQsIGF1dG9BY3RpdmF0ZSk7XG4gIH1cblxuICAvLyBzaWxlbmNlIG90aGVyIGFjdGlvbnNcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbn07XG5cbi8qKlxuICogU2hvdyB0aGUgYm91bmRhcnkgZXZlbnQgYXBwZW5kZXIgZm9yIGdpdmVuIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7Qm91bmRhcnlFdmVudEFwcGVuZGVyVGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ZvcmNlPWZhbHNlXSAtIEZvcmNlIHJlLXNob3dpbmcgYm91bmRhcnkgZXZlbnQgYXBwZW5kZXIuXG4gKi9cbkJvdW5kYXJ5RXZlbnRBcHBlbmRlci5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKHRhcmdldCwgZm9yY2UpIHtcbiAgaWYgKCFmb3JjZSAmJiB0aGlzLmlzU2hvd24odGFyZ2V0KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuaGlkZSgpO1xuXG4gIHRoaXMuX3VwZGF0ZUFuZFNob3codGFyZ2V0KTtcbn07XG5cbkJvdW5kYXJ5RXZlbnRBcHBlbmRlci5wcm90b3R5cGUuX2dldFByb3ZpZGVycyA9IGZ1bmN0aW9uKCkge1xuXG4gIHZhciBldmVudCA9IHRoaXMuX2V2ZW50QnVzLmNyZWF0ZUV2ZW50KHtcbiAgICB0eXBlOiAnYm91bmRhcnlFdmVudEFwcGVuZGVyLmdldFByb3ZpZGVycycsXG4gICAgcHJvdmlkZXJzOiBbXVxuICB9KTtcblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKGV2ZW50KTtcblxuICByZXR1cm4gZXZlbnQucHJvdmlkZXJzO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0JvdW5kYXJ5RXZlbnRBcHBlbmRlclRhcmdldH0gdGFyZ2V0XG4gKi9cbkJvdW5kYXJ5RXZlbnRBcHBlbmRlci5wcm90b3R5cGUuX3VwZGF0ZUFuZFNob3cgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgdmFyIGFjdGlvbnMgPSB0aGlzLmdldEFjdGlvbnModGFyZ2V0KSxcbiAgICAgIG5vZGUgPSB0aGlzLmdldE5vZGUodGFyZ2V0KSxcbiAgICAgIGh0bWwgPSBub2RlLmh0bWwsIC8vIFRPRE8gbXVsdGlwbGUgbm9kZXNcbiAgICAgIGltYWdlO1xuXG4gIHZhciBzaG93Tm9kZSA9IGlzT2JqZWN0KGFjdGlvbnMpICYmIFxuICAgIEFMTE9XRURfQUNUSU9OUy5zb21lKGFjdGlvbiA9PiBpc0Z1bmN0aW9uKGFjdGlvbnNbYWN0aW9uXSkpO1xuXG4gIGRvbUNsYXNzZXMoaHRtbCkuYWRkKHNob3dOb2RlID8gJ3Nob3cnIDogJ2hpZGUnKTsgLy8gVE9ETyByZW5hbWUgY2xhc3Nlc1xuXG4gIHRoaXMuX2N1cnJlbnQgPSB7XG4gICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgYWN0aW9uczogYWN0aW9ucyxcbiAgICBub2RlOiBub2RlXG4gIH07XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnYm91bmRhcnlFdmVudEFwcGVuZGVycy5zaG93JywgeyBjdXJyZW50OiB0aGlzLl9jdXJyZW50IH0pO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0JvdW5kYXJ5RXZlbnRBcHBlbmRlclRhcmdldH0gdGFyZ2V0XG4gKlxuICogQHJldHVybiB7T3ZlcmxheX1cbiAqL1xuQm91bmRhcnlFdmVudEFwcGVuZGVyLnByb3RvdHlwZS5nZXROb2RlID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gIGlmICh0aGlzLmlzU2hvd24oKSkge1xuICAgIHJldHVybiB0aGlzLl9jdXJyZW50Lm5vZGU7XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdmFyIG92ZXJsYXlzID0gdGhpcy5fb3ZlcmxheXM7XG5cbiAgdmFyIGV2ZW50U3ZnID0gYFxuICAgIDxzdmc+XG4gICAgICA8ZyBjbGFzcz1cImRqcy12aXN1YWxcIj5cbiAgICAgICAgPGNpcmNsZSBjeD1cIjE4XCIgY3k9XCIxOFwiIHI9XCIxOFwiIHN0eWxlPVwic3Ryb2tlLWxpbmVjYXA6IHJvdW5kOyBzdHJva2UtbGluZWpvaW46IHJvdW5kOyBzdHJva2Utd2lkdGg6IDEuNXB4OyBmaWxsOiB3aGl0ZTtcIj48L2NpcmNsZT5cbiAgICAgICAgPGNpcmNsZSBjeD1cIjE4XCIgY3k9XCIxOFwiIHI9XCIxNVwiIHN0eWxlPVwic3Ryb2tlLWxpbmVjYXA6IHJvdW5kOyBzdHJva2UtbGluZWpvaW46IHJvdW5kOyBzdHJva2Utd2lkdGg6IDEuNXB4OyBmaWxsOiBub25lO1wiPjwvY2lyY2xlPlxuICAgICAgPC9nPlxuICAgIDwvc3ZnPlxuICBgOyBcblxuICB2YXIgaHRtbCA9IGRvbWlmeShgXG4gICAgPGRpdiBjbGFzcz1cImRqcy1ib3VuZGFyeS1ldmVudC1hcHBlbmRlclwiPlxuICAgICAgPGRpdiBjbGFzcz1cImRqcy1ib3VuZGFyeS1ldmVudC1hcHBlbmRlci1jaXJjbGVcIiB0aXRsZT1cIkFkZCBib3VuZGFyeSBldmVudFwiIGRyYWdnYWJsZT1cInRydWVcIj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYCk7XG5cbiAgdmFyIHBvc2l0aW9uID0gdGhpcy5fZ2V0UG9zaXRpb24odGFyZ2V0KTtcblxuICB2YXIgb3ZlcmxheXNDb25maWcgPSBhc3NpZ24oe1xuICAgIGh0bWw6IGh0bWxcbiAgfSwgdGhpcy5fb3ZlcmxheXNDb25maWcsIHBvc2l0aW9uKTtcblxuICBkb21EZWxlZ2F0ZS5iaW5kKGh0bWwsIG5vZGVTZWxlY3RvciwgJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBzZWxmLnRyaWdnZXIoJ2NsaWNrJywgZXZlbnQpO1xuICB9KTtcblxuICBkb21EZWxlZ2F0ZS5iaW5kKGh0bWwsIG5vZGVTZWxlY3RvciwgJ2RyYWdzdGFydCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgc2VsZi50cmlnZ2VyKCdkcmFnc3RhcnQnLCBldmVudCk7XG4gIH0pO1xuXG4gIC8vIHN0b3AgcHJvcGFnYXRpb24gb2YgbW91c2UgZXZlbnRzXG4gIGRvbUV2ZW50LmJpbmQoaHRtbCwgJ21vdXNlZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH0pO1xuXG4gIHZhciBhY3RpdmVSb290RWxlbWVudCA9IHRoaXMuX2NhbnZhcy5nZXRSb290RWxlbWVudCgpO1xuXG4gIC8vIFRPRE8gbXVsdGlwbGUgbm9kZXNcbiAgdGhpcy5fb3ZlcmxheUlkID0gb3ZlcmxheXMuYWRkKGFjdGl2ZVJvb3RFbGVtZW50LCAnYm91bmRhcnktZXZlbnQtYXBwZW5kZXInLCBvdmVybGF5c0NvbmZpZyk7XG5cbiAgdmFyIG5vZGUgPSBvdmVybGF5cy5nZXQodGhpcy5fb3ZlcmxheUlkKTtcblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdib3VuZGFyeUV2ZW50QXBwZW5kZXJzLmNyZWF0ZScsIHtcbiAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICBub2RlOiBub2RlXG4gIH0pO1xuXG4gIHJldHVybiBub2RlO1xufTtcblxuLyoqXG4gKiBIaWRlIHRoZSBub2RlXG4gKi9cbkJvdW5kYXJ5RXZlbnRBcHBlbmRlci5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIXRoaXMuaXNTaG93bigpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5fb3ZlcmxheXMucmVtb3ZlKHRoaXMuX292ZXJsYXlJZCk7XG5cbiAgdGhpcy5fb3ZlcmxheUlkID0gbnVsbDtcblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdib3VuZGFyeUV2ZW50QXBwZW5kZXJzLmhpZGUnLCB7IGN1cnJlbnQ6IHRoaXMuX2N1cnJlbnQgfSk7XG5cbiAgdGhpcy5fY3VycmVudCA9IG51bGw7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIG5vZGUgaXMgc2hvd24uXG4gKlxuICogSWYgdGFyZ2V0IGlzIHByb3ZpZGVkLCBjaGVjayBpZiBpdCBpcyBzaG93blxuICogZm9yIHRoZSBnaXZlbiB0YXJnZXQuXG4gKlxuICogQHBhcmFtIHtCb3VuZGFyeUV2ZW50QXBwZW5kZXJUYXJnZXR9IFt0YXJnZXRdXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5Cb3VuZGFyeUV2ZW50QXBwZW5kZXIucHJvdG90eXBlLmlzU2hvd24gPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgdmFyIGN1cnJlbnQgPSB0aGlzLl9jdXJyZW50O1xuXG4gIGlmICghY3VycmVudCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIGJhc2ljIG5vLWFyZ3MgaXMgb3BlbiBjaGVja1xuICBpZiAoIXRhcmdldCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRUYXJnZXQgPSBjdXJyZW50LnRhcmdldDtcblxuICAvLyBUT0RPXG4gIC8vIHN0cmljdCBoYW5kbGluZyBvZiBzaW5nbGUgdnMuIG11bHRpLXNlbGVjdGlvblxuICBpZiAoaXNBcnJheSh0YXJnZXQpICE9PSBpc0FycmF5KGN1cnJlbnRUYXJnZXQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkodGFyZ2V0KSkge1xuICAgIHJldHVybiAoXG4gICAgICB0YXJnZXQubGVuZ3RoID09PSBjdXJyZW50VGFyZ2V0Lmxlbmd0aCAmJlxuICAgICAgZXZlcnkodGFyZ2V0LCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBpbmNsdWRlcyhjdXJyZW50VGFyZ2V0LCBlbGVtZW50KTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3VycmVudFRhcmdldCA9PT0gdGFyZ2V0O1xuICB9XG59O1xuXG4vKipcbiAqIEdldCBib3VuZGFyeSBldmVudCBhcHBlbmRlciBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0JvdW5kYXJ5RXZlbnRBcHBlbmRlclRhcmdldH0gdGFyZ2V0XG4gKlxuICogQHJldHVybiB7UmVjdH1cbiAqL1xuQm91bmRhcnlFdmVudEFwcGVuZGVyLnByb3RvdHlwZS5fZ2V0UG9zaXRpb24gPSBmdW5jdGlvbih0YXJnZXQpIHtcblxuICB2YXIgZWxlbWVudHMgPSBpc0FycmF5KHRhcmdldCkgPyB0YXJnZXQgOiBbIHRhcmdldCBdO1xuICB2YXIgYkJveCA9IGdldEJCb3goZWxlbWVudHMpO1xuXG4gIGNvbnNvbGUubG9nKGJCb3gpO1xuXG4gIHJldHVybiB7XG4gICAgcG9zaXRpb246IHtcbiAgICAgIGxlZnQ6IGJCb3gueCArIGJCb3gud2lkdGggLSBPRkZTRVQgKyAyLFxuICAgICAgdG9wOiBiQm94LnkgKyBiQm94LmhlaWdodCAtIE9GRlNFVCArIDJcbiAgICB9XG4gIH07XG59O1xuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuLyoqXG4gKiBAcGFyYW0ge2FueVtdfSBhcnJheVxuICogQHBhcmFtIHthbnl9IGl0ZW1cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpbmNsdWRlcyhhcnJheSwgaXRlbSkge1xuICByZXR1cm4gYXJyYXkuaW5kZXhPZihpdGVtKSAhPT0gLTE7XG59XG4iXSwibmFtZXMiOlsiYXNzaWduIiwiZXZlcnkiLCJmb3JFYWNoIiwiaXNBcnJheSIsImlzRGVmaW5lZCIsImlzRnVuY3Rpb24iLCJpc09iamVjdCIsInNvbWUiLCJkZWxlZ2F0ZSIsImRvbURlbGVnYXRlIiwiZXZlbnQiLCJkb21FdmVudCIsImF0dHIiLCJkb21BdHRyIiwicXVlcnkiLCJkb21RdWVyeSIsImNsYXNzZXMiLCJkb21DbGFzc2VzIiwiZG9taWZ5IiwiZ2V0QkJveCIsIm5vZGVTZWxlY3RvciIsIk9GRlNFVCIsIk5PREVfV0lEVEgiLCJERUZBVUxUX1BSSU9SSVRZIiwiQUxMT1dFRF9BQ1RJT05TIiwiQm91bmRhcnlFdmVudEFwcGVuZGVyIiwiY2FudmFzIiwiZXZlbnRCdXMiLCJvdmVybGF5cyIsIl9jYW52YXMiLCJfZXZlbnRCdXMiLCJfb3ZlcmxheXMiLCJfY3VycmVudCIsIl9pbml0IiwiJGluamVjdCIsInByb3RvdHlwZSIsInNlbGYiLCJvbiIsInNlbGVjdGlvbiIsIm5ld1NlbGVjdGlvbiIsInRhcmdldCIsImxlbmd0aCIsInNob3ciLCJoaWRlIiwiZWxlbWVudHMiLCJjdXJyZW50IiwiY3VycmVudFRhcmdldCIsImN1cnJlbnRDaGFuZ2VkIiwiZWxlbWVudCIsImluY2x1ZGVzIiwicmVnaXN0ZXJQcm92aWRlciIsInByaW9yaXR5IiwicHJvdmlkZXIiLCJwcm92aWRlcnMiLCJwdXNoIiwiZ2V0QWN0aW9ucyIsIl9nZXRQcm92aWRlcnMiLCJjbGlja0ZuIiwiZHJhZ0ZuIiwiZW50cmllcyIsInRyaWdnZXIiLCJhY3Rpb24iLCJhdXRvQWN0aXZhdGUiLCJvcmlnaW5hbEV2ZW50IiwiYnV0dG9uIiwiZGVsZWdhdGVUYXJnZXQiLCJwcmV2ZW50RGVmYXVsdCIsInRyaWdnZXJBY3Rpb24iLCJhY3Rpb25JZCIsImlzU2hvd24iLCJhY3Rpb25zIiwiZmlyZSIsImZvcmNlIiwiX3VwZGF0ZUFuZFNob3ciLCJjcmVhdGVFdmVudCIsInR5cGUiLCJub2RlIiwiZ2V0Tm9kZSIsImh0bWwiLCJpbWFnZSIsInNob3dOb2RlIiwiYWRkIiwiZXZlbnRTdmciLCJwb3NpdGlvbiIsIl9nZXRQb3NpdGlvbiIsIm92ZXJsYXlzQ29uZmlnIiwiX292ZXJsYXlzQ29uZmlnIiwiYmluZCIsInN0b3BQcm9wYWdhdGlvbiIsImFjdGl2ZVJvb3RFbGVtZW50IiwiZ2V0Um9vdEVsZW1lbnQiLCJfb3ZlcmxheUlkIiwiZ2V0IiwicmVtb3ZlIiwiYkJveCIsImNvbnNvbGUiLCJsb2ciLCJsZWZ0IiwieCIsIndpZHRoIiwidG9wIiwieSIsImhlaWdodCIsImFycmF5IiwiaXRlbSIsImluZGV4T2YiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/features/BoundaryEventAppender.js\n");

/***/ }),

/***/ "./src/features/BoundaryEventAppenderProvider.js":
/*!*******************************************************!*\
  !*** ./src/features/BoundaryEventAppenderProvider.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BoundaryEventAppenderProvider)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! min-dash */ \"./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bpmn-js/lib/util/ModelUtil */ \"../bpmn-io/bpmn-js/lib/util/ModelUtil.js\");\n/* harmony import */ var bpmn_js_lib_util_DiUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bpmn-js/lib/util/DiUtil */ \"../bpmn-io/bpmn-js/lib/util/DiUtil.js\");\n/* harmony import */ var diagram_js_lib_util_Mouse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! diagram-js/lib/util/Mouse */ \"./node_modules/diagram-js/lib/util/Mouse.js\");\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('didi').Injector} Injector\n * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\n * @typedef {import('diagram-js/lib/features/context-pad/ContextPad').default} ContextPad\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../modeling/ElementFactory').default} ElementFactory\n * @typedef {import('diagram-js/lib/features/connect/Connect').default} Connect\n * @typedef {import('diagram-js/lib/features/create/Create').default} Create\n * @typedef {import('diagram-js/lib/features/popup-menu/PopupMenu').default} PopupMenu\n * @typedef {import('diagram-js/lib/features/canvas/Canvas').default} Canvas\n * @typedef {import('diagram-js/lib/features/rules/Rules').default} Rules\n * @typedef {import('diagram-js/lib/i18n/translate/translate').default} Translate\n *\n * @typedef {import('../../model/Types').Element} Element\n * @typedef {import('../../model/Types').ModdleElement} ModdleElement\n *\n * @typedef { { } } BoundaryEventAppenderConfig\n */\n\n/**\n * BPMN-specific boundary event appender provider.\n *\n * @param {BoundaryEventAppenderConfig} config\n * @param {Injector} injector\n * @param {EventBus} eventBus\n * @param {ContextPad} contextPad\n * @param {Modeling} modeling\n * @param {ElementFactory} elementFactory\n * @param {Connect} connect\n * @param {Create} create\n * @param {PopupMenu} popupMenu\n * @param {Canvas} canvas\n * @param {Rules} rules\n * @param {Translate} translate\n */\nfunction BoundaryEventAppenderProvider(config, injector, eventBus, boundaryEventAppender, modeling, elementFactory, connect, create, popupMenu, canvas, rules, translate) {\n  config = config || {};\n  boundaryEventAppender.registerProvider(this);\n  this._boundaryEventAppender = boundaryEventAppender;\n  this._modeling = modeling;\n  this._elementFactory = elementFactory;\n  this._connect = connect;\n  this._create = create;\n  this._popupMenu = popupMenu;\n  this._canvas = canvas;\n  this._rules = rules;\n  this._translate = translate;\n  if (config.autoPlace !== false) {\n    this._autoPlace = injector.get('autoPlace', false);\n  }\n  eventBus.on('create.end', 250, function (event) {\n    var context = event.context,\n      shape = context.shape;\n    if (!(0,diagram_js_lib_util_Mouse__WEBPACK_IMPORTED_MODULE_0__.hasPrimaryModifier)(event) || !boundaryEventAppender.isShown(shape)) {\n      return;\n    }\n  });\n}\nBoundaryEventAppenderProvider.$inject = ['config.boundaryEventAppender', 'injector', 'eventBus', 'boundaryEventAppender', 'modeling', 'elementFactory', 'connect', 'create', 'popupMenu', 'canvas', 'rules', 'translate'];\nfunction isAppendAllowed(element) {\n  var businessObject = element.businessObject;\n\n  // TODO only on task types + subprocesses\n\n  return element.type !== 'label' & (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.is)(businessObject, 'bpmn:FlowNode') && !(0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.is)(businessObject, 'bpmn:Event') && !(0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.is)(businessObject, 'bpmn:Gateway') && !businessObject.isForCompensation && !(0,bpmn_js_lib_util_DiUtil__WEBPACK_IMPORTED_MODULE_2__.isEventSubProcess)(businessObject);\n}\n;\n\n/**\n* @param {Element} element\n*\n* @return {BoundaryEventAppenderAction}\n*/\nBoundaryEventAppenderProvider.prototype.getBoundaryEventAppenderClickAction = function (element) {\n  var boundaryEventAppender = this._boundaryEventAppender,\n    modeling = this._modeling,\n    elementFactory = this._elementFactory,\n    connect = this._connect,\n    create = this._create,\n    popupMenu = this._popupMenu,\n    rules = this._rules,\n    autoPlace = this._autoPlace,\n    translate = this._translate;\n  if (!isAppendAllowed(element)) return null;\n  var task = 'bpmn:BoundaryEvent';\n  var options = {};\n  function appendStart(event, element) {\n    var shape = elementFactory.createShape((0,min_dash__WEBPACK_IMPORTED_MODULE_3__.assign)({\n      type: task\n    }, options));\n    create.start(event, shape, {\n      source: element\n    });\n  }\n\n  // TODO custom autoplace to append the event on the element \n\n  /*\n  var append = autoPlace ? function(event, element) {\n    var shape = elementFactory.createShape(assign({ type: task }, options));\n     if (element.attachers.length) {\n      create.start(event, shape, {\n        source: element\n      });\n      return;\n    }\n   \n    var position = {\n      x: element.x + element.width,\n      y: element.y + element.height\n    };\n     var createdShape = modeling.createShape(shape, position, element, { attach: true });\n     //autoPlace.append(element, shape);\n  } : appendStart;\n  */\n\n  return appendStart;\n};\n\n/**\n* @param {Element} element\n*\n* @return {BoundaryEventAppenderAction}\n*/\nBoundaryEventAppenderProvider.prototype.getBoundaryEventAppenderDragAction = function (element) {\n  var boundaryEventAppender = this._boundaryEventAppender,\n    modeling = this._modeling,\n    elementFactory = this._elementFactory,\n    connect = this._connect,\n    create = this._create,\n    popupMenu = this._popupMenu,\n    rules = this._rules,\n    autoPlace = this._autoPlace,\n    translate = this._translate;\n  if (!isAppendAllowed(element)) return null;\n  var task = 'bpmn:BoundaryEvent';\n  var options = {};\n  return function (event, element) {\n    var shape = elementFactory.createShape((0,min_dash__WEBPACK_IMPORTED_MODULE_3__.assign)({\n      type: task\n    }, options));\n    create.start(event, shape, {\n      source: element\n    });\n  };\n};\n\n/**\n * Calculates the position for the append menu relatively to the element.\n * The menu should pop up directly behind the mouse cursor\n *\n * @param {djs.model.Base} element\n * @returns {Object}\n */\nBoundaryEventAppenderProvider.prototype._getAppendMenuPosition = function (element) {\n  const boundaryEventAppender = this._boundaryEventAppender;\n  const popupMenu = this._popupMenu;\n  const X_OFFSET = 20;\n  const Y_OFFSET = 90;\n  const POPUP_HEIGHT = 360;\n\n  // TODO get height from popup after creation or make configurable\n\n  const node = boundaryEventAppender.getNode(element).html;\n  const nodeRect = node.getBoundingClientRect();\n  const pos = {\n    x: nodeRect.left - X_OFFSET,\n    y: nodeRect.top + POPUP_HEIGHT - Y_OFFSET\n  };\n  return pos;\n};\n\n// helpers /////////\n\n/**\n * @param {ModdleElement} businessObject\n * @param {string} type\n * @param {string} eventDefinitionType\n *\n * @return {boolean}\n */\nfunction isEventType(businessObject, type, eventDefinitionType) {\n  var isType = businessObject.$instanceOf(type);\n  var isDefinition = false;\n  var definitions = businessObject.eventDefinitions || [];\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_3__.forEach)(definitions, function (def) {\n    if (def.$type === eventDefinitionType) {\n      isDefinition = true;\n    }\n  });\n  return isType && isDefinition;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZmVhdHVyZXMvQm91bmRhcnlFdmVudEFwcGVuZGVyUHJvdmlkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFLa0I7QUFJa0I7QUFLSDtBQUl3QjtBQUlKO0FBSWxCO0FBRW9COztBQUV2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZSxTQUFTVyw2QkFBNkJBLENBQ25EQyxNQUFNLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUMxQkMscUJBQXFCLEVBQUVDLFFBQVEsRUFBRUMsY0FBYyxFQUMvQ0MsT0FBTyxFQUFFQyxNQUFNLEVBQUVDLFNBQVMsRUFDMUJDLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxTQUFTLEVBQUU7RUFFMUJYLE1BQU0sR0FBR0EsTUFBTSxJQUFJLENBQUMsQ0FBQztFQUVyQkcscUJBQXFCLENBQUNTLGdCQUFnQixDQUFDLElBQUksQ0FBQztFQUU1QyxJQUFJLENBQUNDLHNCQUFzQixHQUFHVixxQkFBcUI7RUFFbkQsSUFBSSxDQUFDVyxTQUFTLEdBQUdWLFFBQVE7RUFFekIsSUFBSSxDQUFDVyxlQUFlLEdBQUdWLGNBQWM7RUFDckMsSUFBSSxDQUFDVyxRQUFRLEdBQUdWLE9BQU87RUFDdkIsSUFBSSxDQUFDVyxPQUFPLEdBQUdWLE1BQU07RUFDckIsSUFBSSxDQUFDVyxVQUFVLEdBQUdWLFNBQVM7RUFDM0IsSUFBSSxDQUFDVyxPQUFPLEdBQUdWLE1BQU07RUFDckIsSUFBSSxDQUFDVyxNQUFNLEdBQUdWLEtBQUs7RUFDbkIsSUFBSSxDQUFDVyxVQUFVLEdBQUdWLFNBQVM7RUFFM0IsSUFBSVgsTUFBTSxDQUFDc0IsU0FBUyxLQUFLLEtBQUssRUFBRTtJQUM5QixJQUFJ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TUMsWUFBWSxHQUFHLEdBQUc7O0VBRXhCOztFQUVBLE1BQU1DLElBQUksR0FBRzlDLHFCQUFxQixDQUFDK0MsT0FBTyxDQUFDbEIsT0FBTyxDQUFDLENBQUNtQixJQUFJO0VBRXhELE1BQU1DLFFBQVEsR0FBR0gsSUFBSSxDQUFDSSxxQkFBcUIsQ0FBQyxDQUFDO0VBRTdDLE1BQU1DLEdBQUcsR0FBRztJQUNWQyxDQUFDLEVBQUVILFFBQVEsQ0FBQ0ksSUFBSSxHQUFHVixRQUFRO0lBQzNCVyxDQUFDLEVBQUVMLFFBQVEsQ0FBQ00sR0FBRyxHQUFHVixZQUFZLEdBQUdEO0VBQ25DLENBQUM7RUFFRCxPQUFPTyxHQUFHO0FBQ1osQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVNLLFdBQVdBLENBQUMxQixjQUFjLEVBQUVDLElBQUksRUFBRTBCLG1CQUFtQixFQUFFO0VBRTlELElBQUlDLE1BQU0sR0FBRzVCLGNBQWMsQ0FBQzZCLFdBQVcsQ0FBQzVCLElBQUksQ0FBQztFQUM3QyxJQUFJNkIsWUFBWSxHQUFHLEtBQUs7RUFFeEIsSUFBSUMsV0FBVyxHQUFHL0IsY0FBYyxDQUFDZ0MsZ0JBQWdCLElBQUksRUFBRTtFQUN2RDVFLGlEQUFPLENBQUMyRSxXQUFXLEVBQUUsVUFBU0UsR0FBRyxFQUFFO0lBQ2pDLElBQUlBLEdBQUcsQ0FBQ0MsS0FBSyxLQUFLUCxtQkFBbUIsRUFBRTtNQUNyQ0csWUFBWSxHQUFHLElBQUk7SUFDckI7RUFDRixDQUFDLENBQUM7RUFFRixPQUFPRixNQUFNLElBQUlFLFlBQVk7QUFDL0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZGF5cy0yMDIzLy4vc3JjL2ZlYXR1cmVzL0JvdW5kYXJ5RXZlbnRBcHBlbmRlclByb3ZpZGVyLmpzPzVmNWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBmb3JFYWNoLFxuICBpc0FycmF5LFxuICBldmVyeVxufSBmcm9tICdtaW4tZGFzaCc7XG5cbmltcG9ydCB7XG4gIGlzXG59IGZyb20gJ2JwbW4tanMvbGliL3V0aWwvTW9kZWxVdGlsJztcblxuaW1wb3J0IHtcbiAgaXNFeHBhbmRlZCxcbiAgaXNFdmVudFN1YlByb2Nlc3Ncbn0gZnJvbSAnYnBtbi1qcy9saWIvdXRpbC9EaVV0aWwnO1xuXG5pbXBvcnQge1xuICBpc0FueVxufSBmcm9tICdicG1uLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy91dGlsL01vZGVsaW5nVXRpbCc7XG5cbmltcG9ydCB7XG4gIGdldENoaWxkTGFuZXNcbn0gZnJvbSAnYnBtbi1qcy9saWIvZmVhdHVyZXMvbW9kZWxpbmcvdXRpbC9MYW5lVXRpbCc7XG5cbmltcG9ydCB7XG4gIGhhc1ByaW1hcnlNb2RpZmllclxufSBmcm9tICdkaWFncmFtLWpzL2xpYi91dGlsL01vdXNlJztcblxuaW1wb3J0IHsgZ2V0QkJveCB9IGZyb20gJ2RpYWdyYW0tanMvbGliL3V0aWwvRWxlbWVudHMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpZGknKS5JbmplY3Rvcn0gSW5qZWN0b3JcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpYWdyYW0tanMvbGliL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICogQHR5cGVkZWYge2ltcG9ydCgnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29udGV4dC1wYWQvQ29udGV4dFBhZCcpLmRlZmF1bHR9IENvbnRleHRQYWRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21vZGVsaW5nL01vZGVsaW5nJykuZGVmYXVsdH0gTW9kZWxpbmdcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21vZGVsaW5nL0VsZW1lbnRGYWN0b3J5JykuZGVmYXVsdH0gRWxlbWVudEZhY3RvcnlcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2Nvbm5lY3QvQ29ubmVjdCcpLmRlZmF1bHR9IENvbm5lY3RcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NyZWF0ZS9DcmVhdGUnKS5kZWZhdWx0fSBDcmVhdGVcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3BvcHVwLW1lbnUvUG9wdXBNZW51JykuZGVmYXVsdH0gUG9wdXBNZW51XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jYW52YXMvQ2FudmFzJykuZGVmYXVsdH0gQ2FudmFzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9ydWxlcy9SdWxlcycpLmRlZmF1bHR9IFJ1bGVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdkaWFncmFtLWpzL2xpYi9pMThuL3RyYW5zbGF0ZS90cmFuc2xhdGUnKS5kZWZhdWx0fSBUcmFuc2xhdGVcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9tb2RlbC9UeXBlcycpLkVsZW1lbnR9IEVsZW1lbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL21vZGVsL1R5cGVzJykuTW9kZGxlRWxlbWVudH0gTW9kZGxlRWxlbWVudFxuICpcbiAqIEB0eXBlZGVmIHsgeyB9IH0gQm91bmRhcnlFdmVudEFwcGVuZGVyQ29uZmlnXG4gKi9cblxuXG4vKipcbiAqIEJQTU4tc3BlY2lmaWMgYm91bmRhcnkgZXZlbnQgYXBwZW5kZXIgcHJvdmlkZXIuXG4gKlxuICogQHBhcmFtIHtCb3VuZGFyeUV2ZW50QXBwZW5kZXJDb25maWd9IGNvbmZpZ1xuICogQHBhcmFtIHtJbmplY3Rvcn0gaW5qZWN0b3JcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0NvbnRleHRQYWR9IGNvbnRleHRQYWRcbiAqIEBwYXJhbSB7TW9kZWxpbmd9IG1vZGVsaW5nXG4gKiBAcGFyYW0ge0VsZW1lbnRGYWN0b3J5fSBlbGVtZW50RmFjdG9yeVxuICogQHBhcmFtIHtDb25uZWN0fSBjb25uZWN0XG4gKiBAcGFyYW0ge0NyZWF0ZX0gY3JlYXRlXG4gKiBAcGFyYW0ge1BvcHVwTWVudX0gcG9wdXBNZW51XG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge1J1bGVzfSBydWxlc1xuICogQHBhcmFtIHtUcmFuc2xhdGV9IHRyYW5zbGF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCb3VuZGFyeUV2ZW50QXBwZW5kZXJQcm92aWRlcihcbiAgY29uZmlnLCBpbmplY3RvciwgZXZlbnRCdXMsXG4gIGJvdW5kYXJ5RXZlbnRBcHBlbmRlciwgbW9kZWxpbmcsIGVsZW1lbnRGYWN0b3J5LFxuICBjb25uZWN0LCBjcmVhdGUsIHBvcHVwTWVudSxcbiAgY2FudmFzLCBydWxlcywgdHJhbnNsYXRlKSB7XG5cbiAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuXG4gIGJvdW5kYXJ5RXZlbnRBcHBlbmRlci5yZWdpc3RlclByb3ZpZGVyKHRoaXMpO1xuXG4gIHRoaXMuX2JvdW5kYXJ5RXZlbnRBcHBlbmRlciA9IGJvdW5kYXJ5RXZlbnRBcHBlbmRlcjtcblxuICB0aGlzLl9tb2RlbGluZyA9IG1vZGVsaW5nO1xuXG4gIHRoaXMuX2VsZW1lbnRGYWN0b3J5ID0gZWxlbWVudEZhY3Rvcnk7XG4gIHRoaXMuX2Nvbm5lY3QgPSBjb25uZWN0O1xuICB0aGlzLl9jcmVhdGUgPSBjcmVhdGU7XG4gIHRoaXMuX3BvcHVwTWVudSA9IHBvcHVwTWVudTtcbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuICB0aGlzLl9ydWxlcyA9IHJ1bGVzO1xuICB0aGlzLl90cmFuc2xhdGUgPSB0cmFuc2xhdGU7XG5cbiAgaWYgKGNvbmZpZy5hdXRvUGxhY2UgIT09IGZhbHNlKSB7XG4gICAgdGhpcy5fYXV0b1BsYWNlID0gaW5qZWN0b3IuZ2V0KCdhdXRvUGxhY2UnLCBmYWxzZSk7XG4gIH1cblxuICBldmVudEJ1cy5vbignY3JlYXRlLmVuZCcsIDI1MCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIGNvbnRleHQgPSBldmVudC5jb250ZXh0LFxuICAgICAgc2hhcGUgPSBjb250ZXh0LnNoYXBlO1xuXG4gICAgaWYgKCFoYXNQcmltYXJ5TW9kaWZpZXIoZXZlbnQpIHx8ICFib3VuZGFyeUV2ZW50QXBwZW5kZXIuaXNTaG93bihzaGFwZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgfSk7XG59XG5cbkJvdW5kYXJ5RXZlbnRBcHBlbmRlclByb3ZpZGVyLiRpbmplY3QgPSBbXG4gICdjb25maWcuYm91bmRhcnlFdmVudEFwcGVuZGVyJyxcbiAgJ2luamVjdG9yJyxcbiAgJ2V2ZW50QnVzJyxcbiAgJ2JvdW5kYXJ5RXZlbnRBcHBlbmRlcicsXG4gICdtb2RlbGluZycsXG4gICdlbGVtZW50RmFjdG9yeScsXG4gICdjb25uZWN0JyxcbiAgJ2NyZWF0ZScsXG4gICdwb3B1cE1lbnUnLFxuICAnY2FudmFzJyxcbiAgJ3J1bGVzJyxcbiAgJ3RyYW5zbGF0ZSdcbl07XG5cbmZ1bmN0aW9uIGlzQXBwZW5kQWxsb3dlZChlbGVtZW50KSB7XG4gIHZhciBidXNpbmVzc09iamVjdCA9IGVsZW1lbnQuYnVzaW5lc3NPYmplY3Q7XG5cblxuICAvLyBUT0RPIG9ubHkgb24gdGFzayB0eXBlcyArIHN1YnByb2Nlc3Nlc1xuXG4gIHJldHVybiBlbGVtZW50LnR5cGUgIT09ICdsYWJlbCcgJlxuICAgIGlzKGJ1c2luZXNzT2JqZWN0LCAnYnBtbjpGbG93Tm9kZScpICYmXG4gICAgKFxuICAgICAgIWlzKGJ1c2luZXNzT2JqZWN0LCAnYnBtbjpFdmVudCcpICYmXG4gICAgICAhaXMoYnVzaW5lc3NPYmplY3QsICdicG1uOkdhdGV3YXknKSAmJlxuICAgICAgIWJ1c2luZXNzT2JqZWN0LmlzRm9yQ29tcGVuc2F0aW9uICYmXG4gICAgICAhaXNFdmVudFN1YlByb2Nlc3MoYnVzaW5lc3NPYmplY3QpXG4gICAgKTtcbn07XG5cbi8qKlxuKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbipcbiogQHJldHVybiB7Qm91bmRhcnlFdmVudEFwcGVuZGVyQWN0aW9ufVxuKi9cbkJvdW5kYXJ5RXZlbnRBcHBlbmRlclByb3ZpZGVyLnByb3RvdHlwZS5nZXRCb3VuZGFyeUV2ZW50QXBwZW5kZXJDbGlja0FjdGlvbiA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gIHZhciBib3VuZGFyeUV2ZW50QXBwZW5kZXIgPSB0aGlzLl9ib3VuZGFyeUV2ZW50QXBwZW5kZXIsXG4gICAgbW9kZWxpbmcgPSB0aGlzLl9tb2RlbGluZyxcblxuICAgIGVsZW1lbnRGYWN0b3J5ID0gdGhpcy5fZWxlbWVudEZhY3RvcnksXG4gICAgY29ubmVjdCA9IHRoaXMuX2Nvbm5lY3QsXG4gICAgY3JlYXRlID0gdGhpcy5fY3JlYXRlLFxuICAgIHBvcHVwTWVudSA9IHRoaXMuX3BvcHVwTWVudSxcbiAgICBydWxlcyA9IHRoaXMuX3J1bGVzLFxuICAgIGF1dG9QbGFjZSA9IHRoaXMuX2F1dG9QbGFjZSxcbiAgICB0cmFuc2xhdGUgPSB0aGlzLl90cmFuc2xhdGU7XG5cbiAgaWYgKCFpc0FwcGVuZEFsbG93ZWQoZWxlbWVudCkpIHJldHVybiBudWxsO1xuXG4gIHZhciB0YXNrID0gJ2JwbW46Qm91bmRhcnlFdmVudCc7XG4gIHZhciBvcHRpb25zID0ge307XG5cbiAgZnVuY3Rpb24gYXBwZW5kU3RhcnQoZXZlbnQsIGVsZW1lbnQpIHtcblxuICAgIHZhciBzaGFwZSA9IGVsZW1lbnRGYWN0b3J5LmNyZWF0ZVNoYXBlKGFzc2lnbih7IHR5cGU6IHRhc2sgfSwgb3B0aW9ucykpO1xuICAgIGNyZWF0ZS5zdGFydChldmVudCwgc2hhcGUsIHtcbiAgICAgIHNvdXJjZTogZWxlbWVudFxuICAgIH0pO1xuICB9XG5cbiAgLy8gVE9ETyBjdXN0b20gYXV0b3BsYWNlIHRvIGFwcGVuZCB0aGUgZXZlbnQgb24gdGhlIGVsZW1lbnQgXG5cbiAgLypcbiAgdmFyIGFwcGVuZCA9IGF1dG9QbGFjZSA/IGZ1bmN0aW9uKGV2ZW50LCBlbGVtZW50KSB7XG4gICAgdmFyIHNoYXBlID0gZWxlbWVudEZhY3RvcnkuY3JlYXRlU2hhcGUoYXNzaWduKHsgdHlwZTogdGFzayB9LCBvcHRpb25zKSk7XG5cbiAgICBpZiAoZWxlbWVudC5hdHRhY2hlcnMubGVuZ3RoKSB7XG4gICAgICBjcmVhdGUuc3RhcnQoZXZlbnQsIHNoYXBlLCB7XG4gICAgICAgIHNvdXJjZTogZWxlbWVudFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgXG4gICAgdmFyIHBvc2l0aW9uID0ge1xuICAgICAgeDogZWxlbWVudC54ICsgZWxlbWVudC53aWR0aCxcbiAgICAgIHk6IGVsZW1lbnQueSArIGVsZW1lbnQuaGVpZ2h0XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVkU2hhcGUgPSBtb2RlbGluZy5jcmVhdGVTaGFwZShzaGFwZSwgcG9zaXRpb24sIGVsZW1lbnQsIHsgYXR0YWNoOiB0cnVlIH0pO1xuXG4gICAgLy9hdXRvUGxhY2UuYXBwZW5kKGVsZW1lbnQsIHNoYXBlKTtcbiAgfSA6IGFwcGVuZFN0YXJ0O1xuICAqL1xuXG4gIHJldHVybiBhcHBlbmRTdGFydDtcbn1cblxuLyoqXG4qIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuKlxuKiBAcmV0dXJuIHtCb3VuZGFyeUV2ZW50QXBwZW5kZXJBY3Rpb259XG4qL1xuQm91bmRhcnlFdmVudEFwcGVuZGVyUHJvdmlkZXIucHJvdG90eXBlLmdldEJvdW5kYXJ5RXZlbnRBcHBlbmRlckRyYWdBY3Rpb24gPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICB2YXIgYm91bmRhcnlFdmVudEFwcGVuZGVyID0gdGhpcy5fYm91bmRhcnlFdmVudEFwcGVuZGVyLFxuICAgIG1vZGVsaW5nID0gdGhpcy5fbW9kZWxpbmcsXG5cbiAgICBlbGVtZW50RmFjdG9yeSA9IHRoaXMuX2VsZW1lbnRGYWN0b3J5LFxuICAgIGNvbm5lY3QgPSB0aGlzLl9jb25uZWN0LFxuICAgIGNyZWF0ZSA9IHRoaXMuX2NyZWF0ZSxcbiAgICBwb3B1cE1lbnUgPSB0aGlzLl9wb3B1cE1lbnUsXG4gICAgcnVsZXMgPSB0aGlzLl9ydWxlcyxcbiAgICBhdXRvUGxhY2UgPSB0aGlzLl9hdXRvUGxhY2UsXG4gICAgdHJhbnNsYXRlID0gdGhpcy5fdHJhbnNsYXRlO1xuXG4gIGlmICghaXNBcHBlbmRBbGxvd2VkKGVsZW1lbnQpKSByZXR1cm4gbnVsbDtcblxuICB2YXIgdGFzayA9ICdicG1uOkJvdW5kYXJ5RXZlbnQnO1xuICB2YXIgb3B0aW9ucyA9IHt9O1xuXG4gIHJldHVybiBmdW5jdGlvbihldmVudCwgZWxlbWVudCkge1xuICAgIHZhciBzaGFwZSA9IGVsZW1lbnRGYWN0b3J5LmNyZWF0ZVNoYXBlKGFzc2lnbih7IHR5cGU6IHRhc2sgfSwgb3B0aW9ucykpO1xuICAgIGNyZWF0ZS5zdGFydChldmVudCwgc2hhcGUsIHtcbiAgICAgIHNvdXJjZTogZWxlbWVudFxuICAgIH0pO1xuICB9O1xufVxuXG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgcG9zaXRpb24gZm9yIHRoZSBhcHBlbmQgbWVudSByZWxhdGl2ZWx5IHRvIHRoZSBlbGVtZW50LlxuICogVGhlIG1lbnUgc2hvdWxkIHBvcCB1cCBkaXJlY3RseSBiZWhpbmQgdGhlIG1vdXNlIGN1cnNvclxuICpcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbkJvdW5kYXJ5RXZlbnRBcHBlbmRlclByb3ZpZGVyLnByb3RvdHlwZS5fZ2V0QXBwZW5kTWVudVBvc2l0aW9uID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICBjb25zdCBib3VuZGFyeUV2ZW50QXBwZW5kZXIgPSB0aGlzLl9ib3VuZGFyeUV2ZW50QXBwZW5kZXI7XG4gIGNvbnN0IHBvcHVwTWVudSA9IHRoaXMuX3BvcHVwTWVudTtcblxuICBjb25zdCBYX09GRlNFVCA9IDIwO1xuICBjb25zdCBZX09GRlNFVCA9IDkwO1xuICBjb25zdCBQT1BVUF9IRUlHSFQgPSAzNjA7IFxuICBcbiAgLy8gVE9ETyBnZXQgaGVpZ2h0IGZyb20gcG9wdXAgYWZ0ZXIgY3JlYXRpb24gb3IgbWFrZSBjb25maWd1cmFibGVcblxuICBjb25zdCBub2RlID0gYm91bmRhcnlFdmVudEFwcGVuZGVyLmdldE5vZGUoZWxlbWVudCkuaHRtbDtcblxuICBjb25zdCBub2RlUmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgY29uc3QgcG9zID0ge1xuICAgIHg6IG5vZGVSZWN0LmxlZnQgLSBYX09GRlNFVCxcbiAgICB5OiBub2RlUmVjdC50b3AgKyBQT1BVUF9IRUlHSFQgLSBZX09GRlNFVFxuICB9O1xuXG4gIHJldHVybiBwb3M7XG59O1xuXG4vLyBoZWxwZXJzIC8vLy8vLy8vL1xuXG4vKipcbiAqIEBwYXJhbSB7TW9kZGxlRWxlbWVudH0gYnVzaW5lc3NPYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnREZWZpbml0aW9uVHlwZVxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRXZlbnRUeXBlKGJ1c2luZXNzT2JqZWN0LCB0eXBlLCBldmVudERlZmluaXRpb25UeXBlKSB7XG5cbiAgdmFyIGlzVHlwZSA9IGJ1c2luZXNzT2JqZWN0LiRpbnN0YW5jZU9mKHR5cGUpO1xuICB2YXIgaXNEZWZpbml0aW9uID0gZmFsc2U7XG5cbiAgdmFyIGRlZmluaXRpb25zID0gYnVzaW5lc3NPYmplY3QuZXZlbnREZWZpbml0aW9ucyB8fCBbXTtcbiAgZm9yRWFjaChkZWZpbml0aW9ucywgZnVuY3Rpb24oZGVmKSB7XG4gICAgaWYgKGRlZi4kdHlwZSA9PT0gZXZlbnREZWZpbml0aW9uVHlwZSkge1xuICAgICAgaXNEZWZpbml0aW9uID0gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBpc1R5cGUgJiYgaXNEZWZpbml0aW9uO1xufSJdLCJuYW1lcyI6WyJhc3NpZ24iLCJmb3JFYWNoIiwiaXNBcnJheSIsImV2ZXJ5IiwiaXMiLCJpc0V4cGFuZGVkIiwiaXNFdmVudFN1YlByb2Nlc3MiLCJpc0FueSIsImdldENoaWxkTGFuZXMiLCJoYXNQcmltYXJ5TW9kaWZpZXIiLCJnZXRCQm94IiwiQm91bmRhcnlFdmVudEFwcGVuZGVyUHJvdmlkZXIiLCJjb25maWciLCJpbmplY3RvciIsImV2ZW50QnVzIiwiYm91bmRhcnlFdmVudEFwcGVuZGVyIiwibW9kZWxpbmciLCJlbGVtZW50RmFjdG9yeSIsImNvbm5lY3QiLCJjcmVhdGUiLCJwb3B1cE1lbnUiLCJjYW52YXMiLCJydWxlcyIsInRyYW5zbGF0ZSIsInJlZ2lzdGVyUHJvdmlkZXIiLCJfYm91bmRhcnlFdmVudEFwcGVuZGVyIiwiX21vZGVsaW5nIiwiX2VsZW1lbnRGYWN0b3J5IiwiX2Nvbm5lY3QiLCJfY3JlYXRlIiwiX3BvcHVwTWVudSIsIl9jYW52YXMiLCJfcnVsZXMiLCJfdHJhbnNsYXRlIiwiYXV0b1BsYWNlIiwiX2F1dG9QbGFjZSIsImdldCIsIm9uIiwiZXZlbnQiLCJjb250ZXh0Iiwic2hhcGUiLCJpc1Nob3duIiwiJGluamVjdCIsImlzQXBwZW5kQWxsb3dlZCIsImVsZW1lbnQiLCJidXNpbmVzc09iamVjdCIsInR5cGUiLCJpc0ZvckNvbXBlbnNhdGlvbiIsInByb3RvdHlwZSIsImdldEJvdW5kYXJ5RXZlbnRBcHBlbmRlckNsaWNrQWN0aW9uIiwidGFzayIsIm9wdGlvbnMiLCJhcHBlbmRTdGFydCIsImNyZWF0ZVNoYXBlIiwic3RhcnQiLCJzb3VyY2UiLCJnZXRCb3VuZGFyeUV2ZW50QXBwZW5kZXJEcmFnQWN0aW9uIiwiX2dldEFwcGVuZE1lbnVQb3NpdGlvbiIsIlhfT0ZGU0VUIiwiWV9PRkZTRVQiLCJQT1BVUF9IRUlHSFQiLCJub2RlIiwiZ2V0Tm9kZSIsImh0bWwiLCJub2RlUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInBvcyIsIngiLCJsZWZ0IiwieSIsInRvcCIsImlzRXZlbnRUeXBlIiwiZXZlbnREZWZpbml0aW9uVHlwZSIsImlzVHlwZSIsIiRpbnN0YW5jZU9mIiwiaXNEZWZpbml0aW9uIiwiZGVmaW5pdGlvbnMiLCJldmVudERlZmluaXRpb25zIiwiZGVmIiwiJHR5cGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/features/BoundaryEventAppenderProvider.js\n");

/***/ }),

/***/ "./src/features/Connect.js":
/*!*********************************!*\
  !*** ./src/features/Connect.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Connect),\n/* harmony export */   isReverse: () => (/* binding */ isReverse)\n/* harmony export */ });\n/* harmony import */ var diagram_js_lib_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! diagram-js/lib/layout/LayoutUtil */ \"./node_modules/diagram-js/lib/layout/LayoutUtil.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"./node_modules/min-dash/dist/index.esm.js\");\n\n\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../util/Types').Point} Point\n *\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../modeling/ElementFactory').default} ElementFactory\n * @typedef {import('../rules/Rules').default} Rules\n */\n\n/**\n * @param {EventBus} eventBus\n * @param {Dragging} dragging\n * @param {Modeling} modeling\n * @param {Rules} rules\n * @param {ElementFactory} elementFactory\n */\nfunction Connect(eventBus, dragging, modeling, rules, elementFactory) {\n  // rules\n\n  var UNALLOWED_APPEND_SOURCES = ['bpmn:Participant', 'bpmn:DataObjectReference', 'bpmn:DataStoreReference', 'bpmn:EndEvent'];\n  function isAppendTargetValid(source, target) {\n    return !UNALLOWED_APPEND_SOURCES.includes(source.type) && (!target || target.type === 'bpmn:Process' || target.constructor.name === 'RootImpl' || !target.parent || target.type === 'bpmn:Participant' && source?.parent?.id === target.id);\n  }\n  function canConnect(source, target) {\n    return rules.allowed('connection.create', {\n      source: source,\n      target: target\n    });\n  }\n  function canConnectReverse(source, target) {\n    return canConnect(target, source);\n  }\n\n  // event handlers\n\n  eventBus.on('connect.hover', function (event) {\n    var context = event.context,\n      start = context.start,\n      hover = event.hover,\n      canExecute,\n      canAppend;\n\n    // cache hover state\n    context.hover = hover;\n    canExecute = context.canExecute = canConnect(start, hover);\n    canAppend = context.canAppend = isAppendTargetValid(start, hover);\n\n    // ignore hover\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNil)(canExecute)) {\n      return;\n    }\n    if (canExecute !== false) {\n      context.source = start;\n      context.target = hover;\n      return;\n    }\n    canExecute = context.canExecute = canConnectReverse(start, hover);\n\n    // ignore hover\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNil)(canExecute)) {\n      return;\n    }\n    if (canExecute !== false) {\n      context.source = hover;\n      context.target = start;\n    }\n  });\n  eventBus.on(['connect.out', 'connect.cleanup'], function (event) {\n    var context = event.context;\n    context.hover = null;\n    context.source = null;\n    context.target = null;\n    context.canExecute = false;\n    context.canAppend = false;\n  });\n  eventBus.on('connect.end', function (event) {\n    var context = event.context,\n      canExecute = context.canExecute,\n      canAppend = context.canAppend,\n      connectionStart = context.connectionStart,\n      connectionEnd = {\n        x: event.x,\n        y: event.y\n      },\n      source = context.source,\n      target = context.target;\n\n    // TODO exclude case where connect is forbidden\n    console.log(context);\n    if (canAppend) {\n      var shape = elementFactory.createShape((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({\n        type: 'bpmn:Task'\n      }, {}));\n      var createdShape = modeling.createShape(shape, connectionEnd, context.start.parent, {\n        attach: false\n      });\n      target = createdShape;\n      canExecute = context.canExecute = canConnect(context.start, target);\n    }\n    if (!canExecute) {\n      return false;\n    }\n    var attrs = null,\n      hints = {\n        connectionStart: isReverse(context) ? connectionEnd : connectionStart,\n        connectionEnd: isReverse(context) ? connectionStart : connectionEnd\n      };\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(canExecute)) {\n      attrs = canExecute;\n    }\n    context.connection = modeling.connect(context.start, target, attrs, hints);\n  });\n\n  // API\n\n  /**\n   * Start connect operation.\n   *\n   * @param {MouseEvent|TouchEvent} event\n   * @param {Element} start\n   * @param {Point} [connectionStart]\n   * @param {boolean} [autoActivate=false]\n   */\n  this.start = function (event, start, connectionStart, autoActivate) {\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(connectionStart)) {\n      autoActivate = connectionStart;\n      connectionStart = (0,diagram_js_lib_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_1__.getMid)(start);\n    }\n    dragging.init(event, 'connect', {\n      autoActivate: autoActivate,\n      data: {\n        shape: start,\n        context: {\n          start: start,\n          connectionStart: connectionStart\n        }\n      }\n    });\n  };\n}\nConnect.$inject = ['eventBus', 'dragging', 'modeling', 'rules', 'elementFactory'];\n\n// helpers //////////\n\nfunction isReverse(context) {\n  var hover = context.hover,\n    source = context.source,\n    target = context.target;\n  return hover && source && hover === source && source !== target;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bkI7TUFDRjtJQUNGLENBQUMsQ0FBQztFQUNKLENBQUM7QUFDSDtBQUVBMUIsT0FBTyxDQUFDNEMsT0FBTyxHQUFHLENBQ2hCLFVBQVUsRUFDVixVQUFVLEVBQ1YsVUFBVSxFQUNWLE9BQU8sRUFDUCxnQkFBZ0IsQ0FDakI7O0FBR0Q7O0FBRU8sU0FBU04sU0FBU0EsQ0FBQ2pCLE9BQU8sRUFBRTtFQUNqQyxJQUFJRSxLQUFLLEdBQUdGLE9BQU8sQ0FBQ0UsS0FBSztJQUN2QmYsTUFBTSxHQUFHYSxPQUFPLENBQUNiLE1BQU07SUFDdkJDLE1BQU0sR0FBR1ksT0FBTyxDQUFDWixNQUFNO0VBRXpCLE9BQU9jLEtBQUssSUFBSWYsTUFBTSxJQUFJZSxLQUFLLEtBQUtmLE1BQU0sSUFBSUEsTUFBTSxLQUFLQyxNQUFNO0FBQ2pFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2RheXMtMjAyMy8uL3NyYy9mZWF0dXJlcy9Db25uZWN0LmpzP2RkYzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZ2V0TWlkXG59IGZyb20gJ2RpYWdyYW0tanMvbGliL2xheW91dC9MYXlvdXRVdGlsJztcblxuaW1wb3J0IHtcbiAgaXNOaWwsXG4gIGlzT2JqZWN0LFxuICBhc3NpZ25cbn0gZnJvbSAnbWluLWRhc2gnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL21vZGVsL1R5cGVzJykuRWxlbWVudH0gRWxlbWVudFxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL3V0aWwvVHlwZXMnKS5Qb2ludH0gUG9pbnRcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9kcmFnZ2luZy9EcmFnZ2luZycpLmRlZmF1bHR9IERyYWdnaW5nXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21vZGVsaW5nL01vZGVsaW5nJykuZGVmYXVsdH0gTW9kZWxpbmdcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21vZGVsaW5nL0VsZW1lbnRGYWN0b3J5JykuZGVmYXVsdH0gRWxlbWVudEZhY3RvcnlcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3J1bGVzL1J1bGVzJykuZGVmYXVsdH0gUnVsZXNcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0RyYWdnaW5nfSBkcmFnZ2luZ1xuICogQHBhcmFtIHtNb2RlbGluZ30gbW9kZWxpbmdcbiAqIEBwYXJhbSB7UnVsZXN9IHJ1bGVzXG4gKiBAcGFyYW0ge0VsZW1lbnRGYWN0b3J5fSBlbGVtZW50RmFjdG9yeVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb25uZWN0KGV2ZW50QnVzLCBkcmFnZ2luZywgbW9kZWxpbmcsIHJ1bGVzLCBlbGVtZW50RmFjdG9yeSkge1xuXG4gIC8vIHJ1bGVzXG5cbiAgdmFyIFVOQUxMT1dFRF9BUFBFTkRfU09VUkNFUyA9IFtcbiAgICAnYnBtbjpQYXJ0aWNpcGFudCcsXG4gICAgJ2JwbW46RGF0YU9iamVjdFJlZmVyZW5jZScsXG4gICAgJ2JwbW46RGF0YVN0b3JlUmVmZXJlbmNlJyxcbiAgICAnYnBtbjpFbmRFdmVudCdcbiAgXTtcblxuICBmdW5jdGlvbiBpc0FwcGVuZFRhcmdldFZhbGlkKHNvdXJjZSwgdGFyZ2V0KSB7XG4gICAgcmV0dXJuICFVTkFMTE9XRURfQVBQRU5EX1NPVVJDRVMuaW5jbHVkZXMoc291cmNlLnR5cGUpICYmIFxuICAgICAgKCF0YXJnZXQgfHwgdGFyZ2V0LnR5cGUgPT09ICdicG1uOlByb2Nlc3MnIHx8IHRhcmdldC5jb25zdHJ1Y3Rvci5uYW1lID09PSAnUm9vdEltcGwnIHx8ICF0YXJnZXQucGFyZW50IHx8XG4gICAgICB0YXJnZXQudHlwZSA9PT0gJ2JwbW46UGFydGljaXBhbnQnICYmIHNvdXJjZT8ucGFyZW50Py5pZCA9PT0gdGFyZ2V0LmlkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbkNvbm5lY3Qoc291cmNlLCB0YXJnZXQpIHtcbiAgICByZXR1cm4gcnVsZXMuYWxsb3dlZCgnY29ubmVjdGlvbi5jcmVhdGUnLCB7XG4gICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgIHRhcmdldDogdGFyZ2V0XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5Db25uZWN0UmV2ZXJzZShzb3VyY2UsIHRhcmdldCkge1xuICAgIHJldHVybiBjYW5Db25uZWN0KHRhcmdldCwgc291cmNlKTtcbiAgfVxuXG5cbiAgLy8gZXZlbnQgaGFuZGxlcnNcblxuICBldmVudEJ1cy5vbignY29ubmVjdC5ob3ZlcicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgIHN0YXJ0ID0gY29udGV4dC5zdGFydCxcbiAgICAgIGhvdmVyID0gZXZlbnQuaG92ZXIsXG4gICAgICBjYW5FeGVjdXRlLFxuICAgICAgY2FuQXBwZW5kO1xuXG4gICAgLy8gY2FjaGUgaG92ZXIgc3RhdGVcbiAgICBjb250ZXh0LmhvdmVyID0gaG92ZXI7XG5cbiAgICBjYW5FeGVjdXRlID0gY29udGV4dC5jYW5FeGVjdXRlID0gY2FuQ29ubmVjdChzdGFydCwgaG92ZXIpO1xuICAgIGNhbkFwcGVuZCA9IGNvbnRleHQuY2FuQXBwZW5kID0gaXNBcHBlbmRUYXJnZXRWYWxpZChzdGFydCwgaG92ZXIpO1xuXG4gICAgLy8gaWdub3JlIGhvdmVyXG4gICAgaWYgKGlzTmlsKGNhbkV4ZWN1dGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGNhbkV4ZWN1dGUgIT09IGZhbHNlKSB7XG4gICAgICBjb250ZXh0LnNvdXJjZSA9IHN0YXJ0O1xuICAgICAgY29udGV4dC50YXJnZXQgPSBob3ZlcjtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNhbkV4ZWN1dGUgPSBjb250ZXh0LmNhbkV4ZWN1dGUgPSBjYW5Db25uZWN0UmV2ZXJzZShzdGFydCwgaG92ZXIpO1xuXG4gICAgLy8gaWdub3JlIGhvdmVyXG4gICAgaWYgKGlzTmlsKGNhbkV4ZWN1dGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGNhbkV4ZWN1dGUgIT09IGZhbHNlKSB7XG4gICAgICBjb250ZXh0LnNvdXJjZSA9IGhvdmVyO1xuICAgICAgY29udGV4dC50YXJnZXQgPSBzdGFydDtcbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKFsnY29ubmVjdC5vdXQnLCAnY29ubmVjdC5jbGVhbnVwJ10sIGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dDtcblxuICAgIGNvbnRleHQuaG92ZXIgPSBudWxsO1xuICAgIGNvbnRleHQuc291cmNlID0gbnVsbDtcbiAgICBjb250ZXh0LnRhcmdldCA9IG51bGw7XG5cbiAgICBjb250ZXh0LmNhbkV4ZWN1dGUgPSBmYWxzZTtcbiAgICBjb250ZXh0LmNhbkFwcGVuZCA9IGZhbHNlO1xuICB9KTtcblxuICBldmVudEJ1cy5vbignY29ubmVjdC5lbmQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGV2ZW50LmNvbnRleHQsXG4gICAgICBjYW5FeGVjdXRlID0gY29udGV4dC5jYW5FeGVjdXRlLFxuICAgICAgY2FuQXBwZW5kID0gY29udGV4dC5jYW5BcHBlbmQsXG4gICAgICBjb25uZWN0aW9uU3RhcnQgPSBjb250ZXh0LmNvbm5lY3Rpb25TdGFydCxcbiAgICAgIGNvbm5lY3Rpb25FbmQgPSB7XG4gICAgICAgIHg6IGV2ZW50LngsXG4gICAgICAgIHk6IGV2ZW50LnlcbiAgICAgIH0sXG4gICAgICBzb3VyY2UgPSBjb250ZXh0LnNvdXJjZSxcbiAgICAgIHRhcmdldCA9IGNvbnRleHQudGFyZ2V0O1xuXG4gICAgLy8gVE9ETyBleGNsdWRlIGNhc2Ugd2hlcmUgY29ubmVjdCBpcyBmb3JiaWRkZW5cbiAgICBjb25zb2xlLmxvZyhjb250ZXh0KTtcbiAgICBpZiAoY2FuQXBwZW5kKSB7XG4gICAgICB2YXIgc2hhcGUgPSBlbGVtZW50RmFjdG9yeS5jcmVhdGVTaGFwZShhc3NpZ24oeyB0eXBlOiAnYnBtbjpUYXNrJyB9LCB7fSkpO1xuXG4gICAgICB2YXIgY3JlYXRlZFNoYXBlID0gbW9kZWxpbmcuY3JlYXRlU2hhcGUoc2hhcGUsIGNvbm5lY3Rpb25FbmQsIGNvbnRleHQuc3RhcnQucGFyZW50LCB7IGF0dGFjaDogZmFsc2UgfSk7XG4gICAgICB0YXJnZXQgPSBjcmVhdGVkU2hhcGU7XG4gICAgICBjYW5FeGVjdXRlID0gY29udGV4dC5jYW5FeGVjdXRlID0gY2FuQ29ubmVjdChjb250ZXh0LnN0YXJ0LCB0YXJnZXQpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoIWNhbkV4ZWN1dGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgYXR0cnMgPSBudWxsLFxuICAgICAgaGludHMgPSB7XG4gICAgICAgIGNvbm5lY3Rpb25TdGFydDogaXNSZXZlcnNlKGNvbnRleHQpID8gY29ubmVjdGlvbkVuZCA6IGNvbm5lY3Rpb25TdGFydCxcbiAgICAgICAgY29ubmVjdGlvbkVuZDogaXNSZXZlcnNlKGNvbnRleHQpID8gY29ubmVjdGlvblN0YXJ0IDogY29ubmVjdGlvbkVuZFxuICAgICAgfTtcblxuICAgIGlmIChpc09iamVjdChjYW5FeGVjdXRlKSkge1xuICAgICAgYXR0cnMgPSBjYW5FeGVjdXRlO1xuICAgIH1cblxuICAgIGNvbnRleHQuY29ubmVjdGlvbiA9IG1vZGVsaW5nLmNvbm5lY3QoY29udGV4dC5zdGFydCwgdGFyZ2V0LCBhdHRycywgaGludHMpO1xuICB9KTtcblxuXG4gIC8vIEFQSVxuXG4gIC8qKlxuICAgKiBTdGFydCBjb25uZWN0IG9wZXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fFRvdWNoRXZlbnR9IGV2ZW50XG4gICAqIEBwYXJhbSB7RWxlbWVudH0gc3RhcnRcbiAgICogQHBhcmFtIHtQb2ludH0gW2Nvbm5lY3Rpb25TdGFydF1cbiAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b0FjdGl2YXRlPWZhbHNlXVxuICAgKi9cbiAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uIChldmVudCwgc3RhcnQsIGNvbm5lY3Rpb25TdGFydCwgYXV0b0FjdGl2YXRlKSB7XG4gICAgaWYgKCFpc09iamVjdChjb25uZWN0aW9uU3RhcnQpKSB7XG4gICAgICBhdXRvQWN0aXZhdGUgPSBjb25uZWN0aW9uU3RhcnQ7XG4gICAgICBjb25uZWN0aW9uU3RhcnQgPSBnZXRNaWQoc3RhcnQpO1xuICAgIH1cblxuICAgIGRyYWdnaW5nLmluaXQoZXZlbnQsICdjb25uZWN0Jywge1xuICAgICAgYXV0b0FjdGl2YXRlOiBhdXRvQWN0aXZhdGUsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHNoYXBlOiBzdGFydCxcbiAgICAgICAgY29udGV4dDoge1xuICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICBjb25uZWN0aW9uU3RhcnQ6IGNvbm5lY3Rpb25TdGFydFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbkNvbm5lY3QuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2RyYWdnaW5nJyxcbiAgJ21vZGVsaW5nJyxcbiAgJ3J1bGVzJyxcbiAgJ2VsZW1lbnRGYWN0b3J5J1xuXTtcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUmV2ZXJzZShjb250ZXh0KSB7XG4gIHZhciBob3ZlciA9IGNvbnRleHQuaG92ZXIsXG4gICAgc291cmNlID0gY29udGV4dC5zb3VyY2UsXG4gICAgdGFyZ2V0ID0gY29udGV4dC50YXJnZXQ7XG5cbiAgcmV0dXJuIGhvdmVyICYmIHNvdXJjZSAmJiBob3ZlciA9PT0gc291cmNlICYmIHNvdXJjZSAhPT0gdGFyZ2V0O1xufSJdLCJuYW1lcyI6WyJnZXRNaWQiLCJpc05pbCIsImlzT2JqZWN0IiwiYXNzaWduIiwiQ29ubmVjdCIsImV2ZW50QnVzIiwiZHJhZ2dpbmciLCJtb2RlbGluZyIsInJ1bGVzIiwiZWxlbWVudEZhY3RvcnkiLCJVTkFMTE9XRURfQVBQRU5EX1NPVVJDRVMiLCJpc0FwcGVuZFRhcmdldFZhbGlkIiwic291cmNlIiwidGFyZ2V0IiwiaW5jbHVkZXMiLCJ0eXBlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwicGFyZW50IiwiaWQiLCJjYW5Db25uZWN0IiwiYWxsb3dlZCIsImNhbkNvbm5lY3RSZXZlcnNlIiwib24iLCJldmVudCIsImNvbnRleHQiLCJzdGFydCIsImhvdmVyIiwiY2FuRXhlY3V0ZSIsImNhbkFwcGVuZCIsImNvbm5lY3Rpb25TdGFydCIsImNvbm5lY3Rpb25FbmQiLCJ4IiwieSIsImNvbnNvbGUiLCJsb2ciLCJzaGFwZSIsImNyZWF0ZVNoYXBlIiwiY3JlYXRlZFNoYXBlIiwiYXR0YWNoIiwiYXR0cnMiLCJoaW50cyIsImlzUmV2ZXJzZSIsImNvbm5lY3Rpb24iLCJjb25uZWN0IiwiYXV0b0FjdGl2YXRlIiwiaW5pdCIsImRhdGEiLCIkaW5qZWN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/features/Connect.js\n");

/***/ }),

/***/ "./src/features/ContextPad.js":
/*!************************************!*\
  !*** ./src/features/ContextPad.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ContextPad)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var diagram_js_lib_util_Elements__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! diagram-js/lib/util/Elements */ \"./node_modules/diagram-js/lib/util/Elements.js\");\n/* harmony import */ var diagram_js_lib_util_EscapeUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! diagram-js/lib/util/EscapeUtil */ \"./node_modules/diagram-js/lib/util/EscapeUtil.js\");\n\n\n\n\n\n/**\n * @typedef {import('../../model/Types').Element} Element\n *\n * @typedef {import('../../util/Types').Rect} Rect\n *\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../overlays/Overlays').default} Overlays\n *\n * @typedef {import('../overlays/Overlays').Overlay} Overlay\n *\n * @typedef {import('./ContextPadProvider').default} ContextPadProvider\n * @typedef {import('./ContextPadProvider').ContextPadEntries} ContextPadEntries\n *\n * @typedef { {\n *   scale?: {\n *     min?: number;\n *     max?: number;\n *   };\n * } } ContextPadConfig\n */\n\n/**\n * @template {Element} [ElementType=Element]\n *\n * @typedef {ElementType|ElementType[]} ContextPadTarget\n */\n\nvar entrySelector = '.entry';\nvar DEFAULT_PRIORITY = 1000;\nvar CONTEXT_PAD_PADDING = 12;\n\n/**\n * A context pad that displays element specific, contextual actions next\n * to a diagram element.\n *\n * @param {Canvas} canvas\n * @param {ContextPadConfig} config\n * @param {EventBus} eventBus\n * @param {Overlays} overlays\n */\nfunction ContextPad(canvas, config, eventBus, overlays) {\n  this._canvas = canvas;\n  this._eventBus = eventBus;\n  this._overlays = overlays;\n  var scale = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isDefined)(config && config.scale) ? config.scale : {\n    min: 1,\n    max: 1.5\n  };\n  this._overlaysConfig = {\n    scale: scale\n  };\n  this._current = null;\n  this._init();\n}\nContextPad.$inject = ['canvas', 'config.contextPad', 'eventBus', 'overlays'];\n\n/**\n * Registers events needed for interaction with other components.\n */\nContextPad.prototype._init = function () {\n  var self = this;\n  this._eventBus.on('selection.changed', function (event) {\n    var selection = event.newSelection;\n    var target = selection.length ? selection.length === 1 ? selection[0] : selection : null;\n    if (target) {\n      self.open(target, true);\n    } else {\n      self.close();\n    }\n  });\n  this._eventBus.on('elements.changed', function (event) {\n    var elements = event.elements,\n      current = self._current;\n    if (!current) {\n      return;\n    }\n    var currentTarget = current.target;\n    var currentChanged = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.some)((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(currentTarget) ? currentTarget : [currentTarget], function (element) {\n      return includes(elements, element);\n    });\n\n    // re-open if elements in current selection changed\n    if (currentChanged) {\n      self.open(currentTarget, true);\n    }\n  });\n};\n\n/**\n * @overlord\n *\n * Register a context pad provider with the default priority. See\n * {@link ContextPadProvider} for examples.\n *\n * @param {ContextPadProvider} provider\n */\n\n/**\n * Register a context pad provider with the given priority. See\n * {@link ContextPadProvider} for examples.\n *\n * @param {number} priority\n * @param {ContextPadProvider} provider\n */\nContextPad.prototype.registerProvider = function (priority, provider) {\n  if (!provider) {\n    provider = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n  this._eventBus.on('contextPad.getProviders', priority, function (event) {\n    event.providers.push(provider);\n  });\n};\n\n/**\n * Get context pad entries for given elements.\n *\n * @param {ContextPadTarget} target\n *\n * @return {ContextPadEntries} list of entries\n */\nContextPad.prototype.getEntries = function (target) {\n  var providers = this._getProviders();\n  var provideFn = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(target) ? 'getMultiElementContextPadEntries' : 'getContextPadEntries';\n  var entries = {};\n\n  // loop through all providers and their entries.\n  // group entries by id so that overriding an entry is possible\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(providers, function (provider) {\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(provider[provideFn])) {\n      return;\n    }\n    var entriesOrUpdater = provider[provideFn](target);\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(entriesOrUpdater)) {\n      entries = entriesOrUpdater(entries);\n    } else {\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(entriesOrUpdater, function (entry, id) {\n        entries[id] = entry;\n      });\n    }\n  });\n  return entries;\n};\n\n/**\n * Trigger context pad via DOM event.\n *\n * The entry to trigger is determined by the target element.\n *\n * @param {string} action\n * @param {Event} event\n * @param {boolean} [autoActivate=false]\n */\nContextPad.prototype.trigger = function (action, event, autoActivate) {\n  var entry,\n    originalEvent,\n    button = event.delegateTarget || event.target;\n  if (!button) {\n    return event.preventDefault();\n  }\n  entry = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.attr)(button, 'data-action');\n  originalEvent = event.originalEvent || event;\n  return this.triggerEntry(entry, action, originalEvent, autoActivate);\n};\n\n/**\n * Trigger context pad entry.\n *\n * @param {string} entryId\n * @param {string} action\n * @param {Event} event\n * @param {boolean} [autoActivate=false]\n */\nContextPad.prototype.triggerEntry = function (entryId, action, event, autoActivate) {\n  if (!this.isShown()) {\n    return;\n  }\n  var target = this._current.target,\n    entries = this._current.entries;\n  var entry = entries[entryId];\n  if (!entry) {\n    return;\n  }\n  var handler = entry.action;\n  if (this._eventBus.fire('contextPad.trigger', {\n    entry,\n    event\n  }) === false) {\n    return;\n  }\n\n  // simple action (via callback function)\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isFunction)(handler)) {\n    if (action === 'click') {\n      return handler(event, target, autoActivate);\n    }\n  } else {\n    if (handler[action]) {\n      return handler[action](event, target, autoActivate);\n    }\n  }\n\n  // silence other actions\n  event.preventDefault();\n};\n\n/**\n * Open the context pad for given elements.\n *\n * @param {ContextPadTarget} target\n * @param {boolean} [force=false] - Force re-opening context pad.\n */\nContextPad.prototype.open = function (target, force) {\n  if (!force && this.isOpen(target)) {\n    return;\n  }\n  this.close();\n  this._updateAndOpen(target);\n};\nContextPad.prototype._getProviders = function () {\n  var event = this._eventBus.createEvent({\n    type: 'contextPad.getProviders',\n    providers: []\n  });\n  this._eventBus.fire(event);\n  return event.providers;\n};\n\n/**\n * @param {ContextPadTarget} target\n */\nContextPad.prototype._updateAndOpen = function (target) {\n  var entries = this.getEntries(target),\n    pad = this.getPad(target),\n    html = pad.html,\n    image;\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(entries, function (entry, id) {\n    var grouping = entry.group || 'default',\n      control = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.domify)(entry.html || '<div class=\"entry\" draggable=\"true\"></div>'),\n      container;\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.attr)(control, 'data-action', id);\n    container = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.query)('[data-group=' + (0,diagram_js_lib_util_EscapeUtil__WEBPACK_IMPORTED_MODULE_2__.escapeCSS)(grouping) + ']', html);\n    if (!container) {\n      // add separator\n      if ((0,min_dom__WEBPACK_IMPORTED_MODULE_1__.query)('.group', html)) {\n        const separator = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.domify)('<div class=\"separator\"></div>');\n        html.appendChild(separator);\n      }\n      container = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.domify)('<div class=\"group\"></div>');\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.attr)(container, 'data-group', grouping);\n      html.appendChild(container);\n    }\n    container.appendChild(control);\n    if (entry.className) {\n      addClasses(control, entry.className);\n    }\n    if (entry.title) {\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.attr)(control, 'title', entry.title);\n    }\n    if (entry.imageUrl) {\n      image = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.domify)('<img>');\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.attr)(image, 'src', entry.imageUrl);\n      image.style.width = '100%';\n      image.style.height = '100%';\n      control.appendChild(image);\n    }\n  });\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(html).add('open');\n  this._current = {\n    target: target,\n    entries: entries,\n    pad: pad\n  };\n  this._eventBus.fire('contextPad.open', {\n    current: this._current\n  });\n};\n\n/**\n * @param {ContextPadTarget} target\n *\n * @return {Overlay}\n */\nContextPad.prototype.getPad = function (target) {\n  if (this.isOpen()) {\n    return this._current.pad;\n  }\n  var self = this;\n  var overlays = this._overlays;\n  var html = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.domify)('<div class=\"djs-context-pad\"></div>');\n  var position = this._getPosition(target);\n  var overlaysConfig = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({\n    html: html\n  }, this._overlaysConfig, position);\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.delegate.bind(html, entrySelector, 'click', function (event) {\n    self.trigger('click', event);\n  });\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.delegate.bind(html, entrySelector, 'dragstart', function (event) {\n    self.trigger('dragstart', event);\n  });\n\n  // stop propagation of mouse events\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.event.bind(html, 'mousedown', function (event) {\n    event.stopPropagation();\n  });\n  var activeRootElement = this._canvas.getRootElement();\n  this._overlayId = overlays.add(activeRootElement, 'context-pad', overlaysConfig);\n  var pad = overlays.get(this._overlayId);\n  this._eventBus.fire('contextPad.create', {\n    target: target,\n    pad: pad\n  });\n  return pad;\n};\n\n/**\n * Close the context pad\n */\nContextPad.prototype.close = function () {\n  if (!this.isOpen()) {\n    return;\n  }\n  this._overlays.remove(this._overlayId);\n  this._overlayId = null;\n  this._eventBus.fire('contextPad.close', {\n    current: this._current\n  });\n  this._current = null;\n};\n\n/**\n * Check if pad is open.\n *\n * If target is provided, check if it is opened\n * for the given target (single or multiple elements).\n *\n * @param {ContextPadTarget} [target]\n * @return {boolean}\n */\nContextPad.prototype.isOpen = function (target) {\n  var current = this._current;\n  if (!current) {\n    return false;\n  }\n\n  // basic no-args is open check\n  if (!target) {\n    return true;\n  }\n  var currentTarget = current.target;\n\n  // strict handling of single vs. multi-selection\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(target) !== (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(currentTarget)) {\n    return false;\n  }\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(target)) {\n    return target.length === currentTarget.length && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.every)(target, function (element) {\n      return includes(currentTarget, element);\n    });\n  } else {\n    return currentTarget === target;\n  }\n};\n\n/**\n * Check if pad is open and not hidden.\n *\n * @return {boolean}\n */\nContextPad.prototype.isShown = function () {\n  return this.isOpen() && this._overlays.isShown();\n};\n\n/**\n * Get contex pad position.\n *\n * @param {ContextPadTarget} target\n *\n * @return {Rect}\n */\nContextPad.prototype._getPosition = function (target) {\n  var elements = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(target) ? target : [target];\n  var bBox = (0,diagram_js_lib_util_Elements__WEBPACK_IMPORTED_MODULE_3__.getBBox)(elements);\n\n  // TODO async repositioning after this._current.html is rendered\n\n  return {\n    position: {\n      left: bBox.x + bBox.width / 2,\n      top: bBox.y - 10\n    }\n  };\n};\n\n// helpers //////////\n\nfunction addClasses(element, classNames) {\n  var classes = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(element);\n  classNames = (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(classNames) ? classNames : classNames.split(/\\s+/g);\n  classNames.forEach(function (cls) {\n    classes.add(cls);\n  });\n}\n\n/**\n * @param {any[]} array\n * @param {any} item\n *\n * @return {boolean}\n */\nfunction includes(array, item) {\n  return array.indexOf(item) !== -1;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZmVhdHVyZXMvQ29udGV4dFBhZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQVFrQjtBQVNEO0FBRXNDO0FBSWY7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQUlvQixhQUFhLEdBQUcsUUFBUTtBQUU1QixJQUFJQyxnQkFBZ0IsR0FBRyxJQUFJO0FBQzNCLElBQUlDLG1CQUFtQixHQUFHLEVBQUU7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlLFNBQVNDLFVBQVVBLENBQUNDLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRTtFQUVyRSxJQUFJLENBQUNDLE9BQU8sR0FBR0osTUFBTTtFQUNyQixJQUFJLENBQUNLLFNBQVMsR0FBR0gsUUFBUTtFQUN6QixJQUFJLENBQUNJLFNBQVMsR0FBR0gsUUFBUTtFQUV6QixJQUFJSSxLQUFLLEdBQUczQixtREFBUyxDQUFDcUIsTUFBTSxJQUFJQSxNQUFNLENBQUNNLEtBQUssQ0FBQyxHQUFHTixNQUFNLENBQUNNLEtBQUssR0FBRztJQUM3REMsR0FBRyxFQUFFLENBQUM7SUFDTkMsR0FBRyxFQUFFO0VBQ1AsQ0FBQztFQUVELElBQUksQ0FBQ0MsZUFBZSxHQUFHO0lBQ3JCSCxLQUFLLEVBQUVBO0VBQ1QsQ0FBQztFQUVELElBQUksQ0FBQ0ksUUFBUSxHQUFHLElBQUk7RUFFcEIsSUFBSSxDQUFDQyxLQUFLLENBQUMsQ0FBQztBQUNkO0FBRUFiLFVBQVUsQ0FBQ2MsT0FBTyxHQUFHLENBQ25CLFFBQVEsRUFDUixtQkFBbUIsRUFDbkIsVUFBVSxFQUNWLFVBQVUsQ0FDWDs7QUFHRDtBQUNBO0FBQ0E7QUFDQWQsVUFBVSxDQUFDZSxTQUFTLENBQUNGLEtBQUssR0FBRyxZQUFXO0VBQ3RDLElBQUlHLElBQUksR0FBRyxJQUFJO0VBRWYsSUFBSSxDQUFDVixTQUFTLENBQUNXLEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxVQUFTL0IsS0FBSyxFQUFFO0lBRXJELElBQUlnQyxTQUFTLEdBQUdoQyxLQUFLLENBQUNpQyxZQUFZO0lBRWxDLElBQUlDLE1BQU0sR0FBR0YsU0FBUyxDQUFDRyxNQUFNLEdBQ3pCSCxTQUFTLENBQUNHLE1BQU0sS0FBSyxDQUFDLEdBQ3BCSCxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQ1pBLFNBQVMsR0FDWCxJQUFJO0lBRVIsSUFBSUUsTUFBTSxFQUFFO01BQ1ZKLElBQUksQ0FBQ00sSUFBSSxDQUFDRixNQUFNLEVBQUUsSUFBSSxDQUFDO0lBQ3pCLENBQUMsTUFBTTtNQUNMSixJQUFJLENBQUNPLEtBQUssQ0FBQyxDQUFDO0lBQ2Q7RUFDRixDQUFDLENBQUM7RUFFRixJQUFJLENBQUNqQixTQUFTLENBQUNXLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxVQUFTL0IsS0FBSyxFQUFFO0lBQ3BELElBQUlzQyxRQUFRLEdBQUd0QyxLQUFLLENBQUNzQyxRQUFRO01BQ3pCQyxPQUFPLEdBQUdULElBQUksQ0FBQ0osUUFBUTtJQUUzQixJQUFJLENBQUNhLE9BQU8sRUFBRTtNQUNaO0lBQ0Y7SUFFQSxJQUFJQyxhQUFhLEdBQUdELE9BQU8sQ0FBQ0wsTUFBTTtJQUVsQyxJQUFJTyxjQUFjLEdBQUc1Qyw4Q0FBSSxDQUN2QkgsaURBQU8sQ0FBQzhDLGFBQWEsQ0FBQyxHQUFHQSxhQUFhLEdBQUcsQ0FBRUEsYUFBYSxDQUFFLEVBQzFELFVBQVNFLE9BQU8sRUFBRTtNQUNoQixPQUFPQyxRQUFRLENBQUNMLFFBQVEsRUFBRUksT0FBTyxDQUFDO0lBQ3BDLENBQ0YsQ0FBQzs7SUFFRDtJQUNBLElBQUlELGNBQWMsRUFBRTtNQUNsQlgsSUFBSSxDQUFDTSxJQUFJLENBQUNJLGFBQWEsRUFBRSxJQUFJLENBQUM7SUFDaEM7RUFDRixDQUFDLENBQUM7QUFDSixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTFCLFVBQVUsQ0FBQ2UsU0FBUyxDQUFDZSxnQkFBZ0IsR0FBRyxVQUFTQyxRQUFRLEVBQUVDLFFBQVEsRUFBRTtFQUNuRSxJQUFJLENBQUNBLFFBQVEsRUFBRTtJQUNiQSxRQUFRLEdBQUdELFFBQVE7SUFDbkJBLFFBQVEsR0FBR2pDLGdCQUFnQjtFQUM3QjtFQUVBLElBQUksQ0FBQ1EsU0FBUyxDQUFDVyxFQUFFLENBQUMseUJBQXlCLEVBQUVjLFFBQVEsRUFBRSxVQUFTN0MsS0FBSyxFQUFFO0lBQ3JFQSxLQUFLLENBQUMrQyxTQUFTLENBQUNDLElBQUksQ0FBQ0YsUUFBUSxDQUFDO0VBQ2hDLENBQUMsQ0FBQztBQUNKLENBQUM7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQWhDLFVBQVUsQ0FBQ2UsU0FBUyxDQUFDb0IsVUFBVSxHQUFHLFVBQVNmLE1BQU0sRUFBRTtFQUNqRCxJQUFJYSxTQUFTLEdBQUcsSUFBSSxDQUFDRyxhQUFhLENBQUMsQ0FBQztFQUVwQyxJQUFJQyxTQUFTLEdBQUd6RCxpREFBTyxDQUFDd0MsTUFBTSxDQUFDLEdBQzNCLGtDQUFrQyxHQUNsQyxzQkFBc0I7RUFFMUIsSUFBSWtCLE9BQU8sR0FBRyxDQUFDLENBQUM7O0VBRWhCO0VBQ0E7RUFDQTNELGlEQUFPLENBQUNzRCxTQUFTLEVBQUUsVUFBU0QsUUFBUSxFQUFFO0lBRXBDLElBQUksQ0FBQ2xELG9EQUFVLENBQUNrRCxRQUFRLENBQUNLLFNBQVMsQ0FBQyxDQUFDLEVBQUU7TUFDcEM7SUFDRjtJQUVBLElBQUlFLGdCQUFnQixHQUFHUCxRQUFRLENBQUNLLFNBQVMsQ0FBQyxDQUFDakIsTUFBTSxDQUFDO0lBRWxELElBQUl0QyxvREFBVSxDQUFDeUQsZ0JBQWdCLENBQUMsRUFBRTtNQUNoQ0QsT0FBTyxHQUFHQyxnQkFBZ0IsQ0FBQ0QsT0FBTyxDQUFDO0lBQ3JDLENBQUMsTUFBTTtNQUNMM0QsaURBQU8sQ0FBQzRELGdCQUFnQixFQUFFLFVBQVNDLEtBQUssRUFBRUMsRUFBRSxFQUFFO1FBQzVDSCxPQUFPLENBQUNHLEVBQUUsQ0FBQyxHQUFHRCxLQUFLO01BQ3JCLENBQUMsQ0FBQztJQUNKO0VBQ0YsQ0FBQyxDQUFDO0VBRUYsT0FBT0YsT0FBTztBQUNoQixDQUFDOztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBdEMsVUFBVSxDQUFDZSxTQUFTLENBQUMyQixPQUFPLEdBQUcsVUFBU0MsTUFBTSxFQUFFekQsS0FBSyxFQUFFMEQsWUFBWSxFQUFFO0VBRW5FLElBQUlKLEtBQUs7SUFDTEssYUFBYTtJQUNiQyxNQUFNLEdBQUc1RCxLQUFLLENBQUM2RCxjQUFjLElBQUk3RCxLQUFLLENBQUNrQyxNQUFNO0VBRWpELElBQUksQ0FBQzBCLE1BQU0sRUFBRTtJQUNYLE9BQU81RCxLQUFLLENBQUM4RCxjQUFjLENBQUMsQ0FBQztFQUMvQjtFQUVBUixLQUFLLEdBQUduRCw2Q0FBTyxDQUFDeUQsTUFBTSxFQUFFLGFBQWEsQ0FBQztFQUN0Q0QsYUFBYSxHQUFHM0QsS0FBSyxDQUFDMkQsYUFBYSxJQUFJM0QsS0FBSztFQUU1QyxPQUFPLElBQUksQ0FBQytELFlBQVksQ0FBQ1QsS0FBSyxFQUFFRyxNQUFNLEVBQUVFLGFBQWEsRUFBRUQsWUFBWSxDQUFDO0FBQ3RFLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBNUMsVUFBVSxDQUFDZSxTQUFTLENBQUNrQyxZQUFZLEdBQUcsVUFBU0MsT0FBTyxFQUFFUCxNQUFNLEVBQUV6RCxLQUFLLEVBQUUwRCxZQUFZLEVBQUU7RUFFakYsSUFBSSxDQUFDLElBQUksQ0FBQ08sT0FBTyxDQUFDLENBQUMsRUFBRTtJQUNuQjtFQUNGO0VBRUEsSUFBSS9CLE1BQU0sR0FBRyxJQUFJLENBQUNSLFFBQVEsQ0FBQ1EsTUFBTTtJQUM3QmtCLE9BQU8sR0FBRyxJQUFJLENBQUMxQixRQUFRLENBQUMwQixPQUFPO0VBRW5DLElBQUlFLEtBQUssR0FBR0YsT0FBTyxDQUFDWSxPQUFPLENBQUM7RUFFNUIsSUFBSSxDQUFDVixLQUFLLEVBQUU7SUFDVjtFQUNGO0VBRUEsSUFBSVksT0FBTyxHQUFHWixLQUFLLENBQUNHLE1BQU07RUFFMUIsSUFBSSxJQUFJLENBQUNyQyxTQUFTLENBQUMrQyxJQUFJLENBQUMsb0JBQW9CLEVBQUU7SUFBRWIsS0FBSztJQUFFdEQ7RUFBTSxDQUFDLENBQUMsS0FBSyxLQUFLLEVBQUU7SUFDekU7RUFDRjs7RUFFQTtFQUNBLElBQUlKLG9EQUFVLENBQUNzRSxPQUFPLENBQUMsRUFBRTtJQUN2QixJQUFJVCxNQUFNLEtBQUssT0FBTyxFQUFFO01BQ3RCLE9BQU9TLE9BQU8sQ0FBQ2xFLEtBQUssRUFBRWtDLE1BQU0sRUFBRXdCLFlBQVksQ0FBQztJQUM3QztFQUNGLENBQUMsTUFBTTtJQUNMLElBQUlRLE9BQU8sQ0FBQ1QsTUFBTSxDQUFDLEVBQUU7TUFDbkIsT0FBT1MsT0FBTyxDQUFDVCxNQUFNLENBQUMsQ0FBQ3pELEtBQUssRUFBRWtDLE1BQU0sRUFBRXdCLFlBQVksQ0FBQztJQUNyRDtFQUNGOztFQUVBO0VBQ0ExRCxLQUFLLENBQUM4RCxjQUFjLENBQUMsQ0FBQztBQUN4QixDQUFDOztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBaEQsVUFBVSxDQUFDZSxTQUFTLENBQUNPLElBQUksR0FBRyxVQUFTRixNQUFNLEVBQUVrQyxLQUFLLEVBQUU7RUFDbEQsSUFBSSxDQUFDQSxLQUFLLElBQUksSUFBSSxDQUFDQyxNQUFNLENBQUNuQyxNQUFNLENBQUMsRUFBRTtJQUNqQztFQUNGO0VBRUEsSUFBSSxDQUFDRyxLQUFLLENBQUMsQ0FBQztFQUVaLElBQUksQ0FBQ2lDLGNBQWMsQ0FBQ3BDLE1BQU0sQ0FBQztBQUM3QixDQUFDO0FBRURwQixVQUFVLENBQUNlLFNBQVMsQ0FBQ3FCLGFBQWEsR0FBRyxZQUFXO0VBRTlDLElBQUlsRCxLQUFLLEdBQUcsSUFBSSxDQUFDb0IsU0FBUyxDQUFDbUQsV0FBVyxDQUFDO0lBQ3JDQyxJQUFJLEVBQUUseUJBQXlCO0lBQy9CekIsU0FBUyxFQUFFO0VBQ2IsQ0FBQyxDQUFDO0VBRUYsSUFBSSxDQUFDM0IsU0FBUyxDQUFDK0MsSUFBSSxDQUFDbkUsS0FBSyxDQUFDO0VBRTFCLE9BQU9BLEtBQUssQ0FBQytDLFNBQVM7QUFDeEIsQ0FBQzs7QUFHRDtBQUNBO0FBQ0E7QUFDQWpDLFVBQVUsQ0FBQ2UsU0FBUyxDQUFDeUMsY0FBYyxHQUFHLFVBQVNwQyxNQUFNLEVBQUU7RUFDckQsSUFBSWtCLE9BQU8sR0FBRyxJQUFJLENBQUNILFVBQVUsQ0FBQ2YsTUFBTSxDQUFDO0lBQ2pDdUMsR0FBRyxHQUFHLElBQUksQ0FBQ0MsTUFBTSxDQUFDeEMsTUFBTSxDQUFDO0lBQ3pCeUMsSUFBSSxHQUFHRixHQUFHLENBQUNFLElBQUk7SUFDZkMsS0FBSztFQUVUbkYsaURBQU8sQ0FBQzJELE9BQU8sRUFBRSxVQUFTRSxLQUFLLEVBQUVDLEVBQUUsRUFBRTtJQUNuQyxJQUFJc0IsUUFBUSxHQUFHdkIsS0FBSyxDQUFDd0IsS0FBSyxJQUFJLFNBQVM7TUFDbkNDLE9BQU8sR0FBR3ZFLCtDQUFNLENBQUM4QyxLQUFLLENBQUNxQixJQUFJLElBQUksNENBQTRDLENBQUM7TUFDNUVLLFNBQVM7SUFFYjdFLDZDQUFPLENBQUM0RSxPQUFPLEVBQUUsYUFBYSxFQUFFeEIsRUFBRSxDQUFDO0lBRW5DeUIsU0FBUyxHQUFHM0UsOENBQVEsQ0FBQyxjQUFjLEdBQUdLLHlFQUFTLENBQUNtRSxRQUFRLENBQUMsR0FBRyxHQUFHLEVBQUVGLElBQUksQ0FBQztJQUN0RSxJQUFJLENBQUNLLFNBQVMsRUFBRTtNQUVkO01BQ0EsSUFBSTNFLDhDQUFRLENBQUMsUUFBUSxFQUFFc0UsSUFBSSxDQUFDLEVBQUU7UUFDNUIsTUFBTU0sU0FBUyxHQUFHekUsK0NBQU0sQ0FBQywrQkFBK0IsQ0FBQztRQUV6RG1FLElBQUksQ0FBQ08sV0FBVyxDQUFDRCxTQUFTLENBQUM7TUFDN0I7TUFFQUQsU0FBUyxHQUFHeEUsK0NBQU0sQ0FBQywyQkFBMkIsQ0FBQztNQUMvQ0wsNkNBQU8sQ0FBQzZFLFNBQVMsRUFBRSxZQUFZLEVBQUVILFFBQVEsQ0FBQztNQUUxQ0YsSUFBSSxDQUFDTyxXQUFXLENBQUNGLFNBQVMsQ0FBQztJQUM3QjtJQUVBQSxTQUFTLENBQUNFLFdBQVcsQ0FBQ0gsT0FBTyxDQUFDO0lBRTlCLElBQUl6QixLQUFLLENBQUM2QixTQUFTLEVBQUU7TUFDbkJDLFVBQVUsQ0FBQ0wsT0FBTyxFQUFFekIsS0FBSyxDQUFDNkIsU0FBUyxDQUFDO0lBQ3RDO0lBRUEsSUFBSTdCLEtBQUssQ0FBQytCLEtBQUssRUFBRTtNQUNmbEYsNkNBQU8sQ0FBQzRFLE9BQU8sRUFBRSxPQUFPLEVBQUV6QixLQUFLLENBQUMrQixLQUFLLENBQUM7SUFDeEM7SUFFQSxJQUFJL0IsS0FBSyxDQUFDZ0MsUUFBUSxFQUFFO01BQ2xCVixLQUFLLEdBQUdwRSwrQ0FBTSxDQUFDLE9BQU8sQ0FBQztNQUN2QkwsNkNBQU8sQ0FBQ3lFLEtBQUssRUFBRSxLQUFLLEVBQUV0QixLQUFLLENBQUNnQyxRQUFRLENBQUM7TUFDckNWLEtBQUssQ0FBQ1csS0FBSyxDQUFDQyxLQUFLLEdBQUcsTUFBTTtNQUMxQlosS0FBSyxDQUFDVyxLQUFLLENBQUNFLE1BQU0sR0FBRyxNQUFNO01BRTNCVixPQUFPLENBQUNHLFdBQVcsQ0FBQ04sS0FBSyxDQUFDO0lBQzVCO0VBQ0YsQ0FBQyxDQUFDO0VBRUZyRSxnREFBVSxDQUFDb0UsSUFBSSxDQUFDLENBQUNlLEdBQUcsQ0FBQyxNQUFNLENBQUM7RUFFNUIsSUFBSSxDQUFDaEUsUUFBUSxHQUFHO0lBQ2RRLE1BQU0sRUFBRUEsTUFBTTtJQUNka0IsT0FBTyxFQUFFQSxPQUFPO0lBQ2hCcUIsR0FBRyxFQUFFQTtFQUNQLENBQUM7RUFFRCxJQUFJLENBQUNyRCxTQUFTLENBQUMrQyxJQUFJLENBQUMsaUJBQWlCLEVBQUU7SUFBRTVCLE9BQU8sRUFBRSxJQUFJLENBQUNiO0VBQVMsQ0FBQyxDQUFDO0FBQ3BFLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBWixVQUFVLENBQUNlLFNBQVMsQ0FBQzZDLE1BQU0sR0FBRyxVQUFTeEMsTUFBTSxFQUFFO0VBQzdDLElBQUksSUFBSSxDQUFDbUMsTUFBTSxDQUFDLENBQUMsRUFBRTtJQUNqQixPQUFPLElBQUksQ0FBQzNDLFFBQVEsQ0FBQytDLEdBQUc7RUFDMUI7RUFFQSxJQUFJM0MsSUFBSSxHQUFHLElBQUk7RUFFZixJQUFJWixRQUFRLEdBQUcsSUFBSSxDQUFDRyxTQUFTO0VBRTdCLElBQUlzRCxJQUFJLEdBQUduRSwrQ0FBTSxDQUFDLHFDQUFxQyxDQUFDO0VBRXhELElBQUltRixRQUFRLEdBQUcsSUFBSSxDQUFDQyxZQUFZLENBQUMxRCxNQUFNLENBQUM7RUFFeEMsSUFBSTJELGNBQWMsR0FBR3RHLGdEQUFNLENBQUM7SUFDMUJvRixJQUFJLEVBQUVBO0VBQ1IsQ0FBQyxFQUFFLElBQUksQ0FBQ2xELGVBQWUsRUFBRWtFLFFBQVEsQ0FBQztFQUVsQzVGLDZDQUFXLENBQUMrRixJQUFJLENBQUNuQixJQUFJLEVBQUVoRSxhQUFhLEVBQUUsT0FBTyxFQUFFLFVBQVNYLEtBQUssRUFBRTtJQUM3RDhCLElBQUksQ0FBQzBCLE9BQU8sQ0FBQyxPQUFPLEVBQUV4RCxLQUFLLENBQUM7RUFDOUIsQ0FBQyxDQUFDO0VBRUZELDZDQUFXLENBQUMrRixJQUFJLENBQUNuQixJQUFJLEVBQUVoRSxhQUFhLEVBQUUsV0FBVyxFQUFFLFVBQVNYLEtBQUssRUFBRTtJQUNqRThCLElBQUksQ0FBQzBCLE9BQU8sQ0FBQyxXQUFXLEVBQUV4RCxLQUFLLENBQUM7RUFDbEMsQ0FBQyxDQUFDOztFQUVGO0VBQ0FDLDBDQUFRLENBQUM2RixJQUFJLENBQUNuQixJQUFJLEVBQUUsV0FBVyxFQUFFLFVBQVMzRSxLQUFLLEVBQUU7SUFDL0NBLEtBQUssQ0FBQytGLGVBQWUsQ0FBQyxDQUFDO0VBQ3pCLENBQUMsQ0FBQztFQUVGLElBQUlDLGlCQUFpQixHQUFHLElBQUksQ0FBQzdFLE9BQU8sQ0FBQzhFLGNBQWMsQ0FBQyxDQUFDO0VBRXJELElBQUksQ0FBQ0MsVUFBVSxHQUFHaEYsUUFBUSxDQUFDd0UsR0FBRyxDQUFDTSxpQkFBaUIsRUFBRSxhQUFhLEVBQUVILGNBQWMsQ0FBQztFQUVoRixJQUFJcEIsR0FBRyxHQUFHdkQsUUFBUSxDQUFDaUYsR0FBRyxDQUFDLElBQUksQ0FBQ0QsVUFBVSxDQUFDO0VBRXZDLElBQUksQ0FBQzlFLFNBQVMsQ0FBQytDLElBQUksQ0FBQyxtQkFBbUIsRUFBRTtJQUN2Q2pDLE1BQU0sRUFBRUEsTUFBTTtJQUNkdUMsR0FBRyxFQUFFQTtFQUNQLENBQUMsQ0FBQztFQUVGLE9BQU9BLEdBQUc7QUFDWixDQUFDOztBQUdEO0FBQ0E7QUFDQTtBQUNBM0QsVUFBVSxDQUFDZSxTQUFTLENBQUNRLEtBQUssR0FBRyxZQUFXO0VBQ3RDLElBQUksQ0FBQyxJQUFJLENBQUNnQyxNQUFNLENBQUMsQ0FBQyxFQUFFO0lBQ2xCO0VBQ0Y7RUFFQSxJQUFJLENBQUNoRCxTQUFTLENBQUMrRSxNQUFNLENBQUMsSUFBSSxDQUFDRixVQUFVLENBQUM7RUFFdEMsSUFBSSxDQUFDQSxVQUFVLEdBQUcsSUFBSTtFQUV0QixJQUFJLENBQUM5RSxTQUFTLENBQUMrQyxJQUFJLENBQUMsa0JBQWtCLEVBQUU7SUFBRTVCLE9BQU8sRUFBRSxJQUFJLENBQUNiO0VBQVMsQ0FBQyxDQUFDO0VBRW5FLElBQUksQ0FBQ0EsUUFBUSxHQUFHLElBQUk7QUFDdEIsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQVosVUFBVSxDQUFDZSxTQUFTLENBQUN3QyxNQUFNLEdBQUcsVUFBU25DLE1BQU0sRUFBRTtFQUM3QyxJQUFJSyxPQUFPLEdBQUcsSUFBSSxDQUFDYixRQUFRO0VBRTNCLElBQUksQ0FBQ2EsT0FBTyxFQUFFO0lBQ1osT0FBTyxLQUFLO0VBQ2Q7O0VBRUE7RUFDQSxJQUFJLENBQUNMLE1BQU0sRUFBRTtJQUNYLE9BQU8sSUFBSTtFQUNiO0VBRUEsSUFBSU0sYUFBYSxHQUFHRCxPQUFPLENBQUNMLE1BQU07O0VBRWxDO0VBQ0EsSUFBSXhDLGlEQUFPLENBQUN3QyxNQUFNLENBQUMsS0FBS3hDLGlEQUFPLENBQUM4QyxhQUFhLENBQUMsRUFBRTtJQUM5QyxPQUFPLEtBQUs7RUFDZDtFQUVBLElBQUk5QyxpREFBTyxDQUFDd0MsTUFBTSxDQUFDLEVBQUU7SUFDbkIsT0FDRUEsTUFBTSxDQUFDQyxNQUFNLEtBQUtLLGFBQWEsQ0FBQ0wsTUFBTSxJQUN0QzNDLCtDQUFLLENBQUMwQyxNQUFNLEVBQUUsVUFBU1EsT0FBTyxFQUFFO01BQzlCLE9BQU9DLFFBQVEsQ0FBQ0gsYUFBYSxFQUFFRSxPQUFPLENBQUM7SUFDekMsQ0FBQyxDQUFDO0VBRU4sQ0FBQyxNQUFNO0lBQ0wsT0FBT0YsYUFBYSxLQUFLTixNQUFNO0VBQ2pDO0FBQ0YsQ0FBQzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FwQixVQUFVLENBQUNlLFNBQVMsQ0FBQ29DLE9BQU8sR0FBRyxZQUFXO0VBQ3hDLE9BQU8sSUFBSSxDQUFDSSxNQUFNLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQ2hELFNBQVMsQ0FBQzRDLE9BQU8sQ0FBQyxDQUFDO0FBQ2xELENBQUM7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQW5ELFVBQVUsQ0FBQ2UsU0FBUyxDQUFDK0QsWUFBWSxHQUFHLFVBQVMxRCxNQUFNLEVBQUU7RUFFbkQsSUFBSUksUUFBUSxHQUFHNUMsaURBQU8sQ0FBQ3dDLE1BQU0sQ0FBQyxHQUFHQSxNQUFNLEdBQUcsQ0FBRUEsTUFBTSxDQUFFO0VBQ3BELElBQUltRSxJQUFJLEdBQUc1RixxRUFBTyxDQUFDNkIsUUFBUSxDQUFDOztFQUU1Qjs7RUFFQSxPQUFPO0lBQ0xxRCxRQUFRLEVBQUU7TUFDUlcsSUFBSSxFQUFFRCxJQUFJLENBQUNFLENBQUMsR0FBR0YsSUFBSSxDQUFDYixLQUFLLEdBQUcsQ0FBQztNQUM3QmdCLEdBQUcsRUFBRUgsSUFBSSxDQUFDSSxDQUFDLEdBQUc7SUFDaEI7RUFDRixDQUFDO0FBQ0gsQ0FBQzs7QUFHRDs7QUFFQSxTQUFTckIsVUFBVUEsQ0FBQzFDLE9BQU8sRUFBRWdFLFVBQVUsRUFBRTtFQUN2QyxJQUFJcEcsT0FBTyxHQUFHQyxnREFBVSxDQUFDbUMsT0FBTyxDQUFDO0VBRWpDZ0UsVUFBVSxHQUFHaEgsaURBQU8sQ0FBQ2dILFVBQVUsQ0FBQyxHQUFHQSxVQUFVLEdBQUdBLFVBQVUsQ0FBQ0MsS0FBSyxDQUFDLE1BQU0sQ0FBQztFQUV4RUQsVUFBVSxDQUFDakgsT0FBTyxDQUFDLFVBQVNtSCxHQUFHLEVBQUU7SUFDL0J0RyxPQUFPLENBQUNvRixHQUFHLENBQUNrQixHQUFHLENBQUM7RUFDbEIsQ0FBQyxDQUFDO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU2pFLFFBQVFBLENBQUNrRSxLQUFLLEVBQUVDLElBQUksRUFBRTtFQUM3QixPQUFPRCxLQUFLLENBQUNFLE9BQU8sQ0FBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ25DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2RheXMtMjAyMy8uL3NyYy9mZWF0dXJlcy9Db250ZXh0UGFkLmpzPzcxODciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYXNzaWduLFxuICBldmVyeSxcbiAgZm9yRWFjaCxcbiAgaXNBcnJheSxcbiAgaXNEZWZpbmVkLFxuICBpc0Z1bmN0aW9uLFxuICBzb21lXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgZGVsZWdhdGUgYXMgZG9tRGVsZWdhdGUsXG4gIGV2ZW50IGFzIGRvbUV2ZW50LFxuICBhdHRyIGFzIGRvbUF0dHIsXG4gIHF1ZXJ5IGFzIGRvbVF1ZXJ5LFxuICBjbGFzc2VzIGFzIGRvbUNsYXNzZXMsXG4gIGRvbWlmeSBhcyBkb21pZnlcbn0gZnJvbSAnbWluLWRvbSc7XG5cbmltcG9ydCB7IGdldEJCb3ggfSBmcm9tICdkaWFncmFtLWpzL2xpYi91dGlsL0VsZW1lbnRzJztcblxuaW1wb3J0IHtcbiAgZXNjYXBlQ1NTXG59IGZyb20gJ2RpYWdyYW0tanMvbGliL3V0aWwvRXNjYXBlVXRpbCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vbW9kZWwvVHlwZXMnKS5FbGVtZW50fSBFbGVtZW50XG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vdXRpbC9UeXBlcycpLlJlY3R9IFJlY3RcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9jb3JlL0NhbnZhcycpLmRlZmF1bHR9IENhbnZhc1xuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9vdmVybGF5cy9PdmVybGF5cycpLmRlZmF1bHR9IE92ZXJsYXlzXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vb3ZlcmxheXMvT3ZlcmxheXMnKS5PdmVybGF5fSBPdmVybGF5XG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9Db250ZXh0UGFkUHJvdmlkZXInKS5kZWZhdWx0fSBDb250ZXh0UGFkUHJvdmlkZXJcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vQ29udGV4dFBhZFByb3ZpZGVyJykuQ29udGV4dFBhZEVudHJpZXN9IENvbnRleHRQYWRFbnRyaWVzXG4gKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgIHNjYWxlPzoge1xuICogICAgIG1pbj86IG51bWJlcjtcbiAqICAgICBtYXg/OiBudW1iZXI7XG4gKiAgIH07XG4gKiB9IH0gQ29udGV4dFBhZENvbmZpZ1xuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIHtFbGVtZW50fSBbRWxlbWVudFR5cGU9RWxlbWVudF1cbiAqXG4gKiBAdHlwZWRlZiB7RWxlbWVudFR5cGV8RWxlbWVudFR5cGVbXX0gQ29udGV4dFBhZFRhcmdldFxuICovXG5cbnZhciBlbnRyeVNlbGVjdG9yID0gJy5lbnRyeSc7XG5cbnZhciBERUZBVUxUX1BSSU9SSVRZID0gMTAwMDtcbnZhciBDT05URVhUX1BBRF9QQURESU5HID0gMTI7XG5cbi8qKlxuICogQSBjb250ZXh0IHBhZCB0aGF0IGRpc3BsYXlzIGVsZW1lbnQgc3BlY2lmaWMsIGNvbnRleHR1YWwgYWN0aW9ucyBuZXh0XG4gKiB0byBhIGRpYWdyYW0gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0NhbnZhc30gY2FudmFzXG4gKiBAcGFyYW0ge0NvbnRleHRQYWRDb25maWd9IGNvbmZpZ1xuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqIEBwYXJhbSB7T3ZlcmxheXN9IG92ZXJsYXlzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbnRleHRQYWQoY2FudmFzLCBjb25maWcsIGV2ZW50QnVzLCBvdmVybGF5cykge1xuXG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fb3ZlcmxheXMgPSBvdmVybGF5cztcblxuICB2YXIgc2NhbGUgPSBpc0RlZmluZWQoY29uZmlnICYmIGNvbmZpZy5zY2FsZSkgPyBjb25maWcuc2NhbGUgOiB7XG4gICAgbWluOiAxLFxuICAgIG1heDogMS41XG4gIH07XG5cbiAgdGhpcy5fb3ZlcmxheXNDb25maWcgPSB7XG4gICAgc2NhbGU6IHNjYWxlXG4gIH07XG5cbiAgdGhpcy5fY3VycmVudCA9IG51bGw7XG5cbiAgdGhpcy5faW5pdCgpO1xufVxuXG5Db250ZXh0UGFkLiRpbmplY3QgPSBbXG4gICdjYW52YXMnLFxuICAnY29uZmlnLmNvbnRleHRQYWQnLFxuICAnZXZlbnRCdXMnLFxuICAnb3ZlcmxheXMnXG5dO1xuXG5cbi8qKlxuICogUmVnaXN0ZXJzIGV2ZW50cyBuZWVkZWQgZm9yIGludGVyYWN0aW9uIHdpdGggb3RoZXIgY29tcG9uZW50cy5cbiAqL1xuQ29udGV4dFBhZC5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRoaXMuX2V2ZW50QnVzLm9uKCdzZWxlY3Rpb24uY2hhbmdlZCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICB2YXIgc2VsZWN0aW9uID0gZXZlbnQubmV3U2VsZWN0aW9uO1xuXG4gICAgdmFyIHRhcmdldCA9IHNlbGVjdGlvbi5sZW5ndGhcbiAgICAgID8gc2VsZWN0aW9uLmxlbmd0aCA9PT0gMVxuICAgICAgICA/IHNlbGVjdGlvblswXVxuICAgICAgICA6IHNlbGVjdGlvblxuICAgICAgOiBudWxsO1xuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgc2VsZi5vcGVuKHRhcmdldCwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuY2xvc2UoKTtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMuX2V2ZW50QnVzLm9uKCdlbGVtZW50cy5jaGFuZ2VkJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgZWxlbWVudHMgPSBldmVudC5lbGVtZW50cyxcbiAgICAgICAgY3VycmVudCA9IHNlbGYuX2N1cnJlbnQ7XG5cbiAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY3VycmVudFRhcmdldCA9IGN1cnJlbnQudGFyZ2V0O1xuXG4gICAgdmFyIGN1cnJlbnRDaGFuZ2VkID0gc29tZShcbiAgICAgIGlzQXJyYXkoY3VycmVudFRhcmdldCkgPyBjdXJyZW50VGFyZ2V0IDogWyBjdXJyZW50VGFyZ2V0IF0sXG4gICAgICBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBpbmNsdWRlcyhlbGVtZW50cywgZWxlbWVudCk7XG4gICAgICB9XG4gICAgKTtcblxuICAgIC8vIHJlLW9wZW4gaWYgZWxlbWVudHMgaW4gY3VycmVudCBzZWxlY3Rpb24gY2hhbmdlZFxuICAgIGlmIChjdXJyZW50Q2hhbmdlZCkge1xuICAgICAgc2VsZi5vcGVuKGN1cnJlbnRUYXJnZXQsIHRydWUpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqIEBvdmVybG9yZFxuICpcbiAqIFJlZ2lzdGVyIGEgY29udGV4dCBwYWQgcHJvdmlkZXIgd2l0aCB0aGUgZGVmYXVsdCBwcmlvcml0eS4gU2VlXG4gKiB7QGxpbmsgQ29udGV4dFBhZFByb3ZpZGVyfSBmb3IgZXhhbXBsZXMuXG4gKlxuICogQHBhcmFtIHtDb250ZXh0UGFkUHJvdmlkZXJ9IHByb3ZpZGVyXG4gKi9cblxuLyoqXG4gKiBSZWdpc3RlciBhIGNvbnRleHQgcGFkIHByb3ZpZGVyIHdpdGggdGhlIGdpdmVuIHByaW9yaXR5LiBTZWVcbiAqIHtAbGluayBDb250ZXh0UGFkUHJvdmlkZXJ9IGZvciBleGFtcGxlcy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gcHJpb3JpdHlcbiAqIEBwYXJhbSB7Q29udGV4dFBhZFByb3ZpZGVyfSBwcm92aWRlclxuICovXG5Db250ZXh0UGFkLnByb3RvdHlwZS5yZWdpc3RlclByb3ZpZGVyID0gZnVuY3Rpb24ocHJpb3JpdHksIHByb3ZpZGVyKSB7XG4gIGlmICghcHJvdmlkZXIpIHtcbiAgICBwcm92aWRlciA9IHByaW9yaXR5O1xuICAgIHByaW9yaXR5ID0gREVGQVVMVF9QUklPUklUWTtcbiAgfVxuXG4gIHRoaXMuX2V2ZW50QnVzLm9uKCdjb250ZXh0UGFkLmdldFByb3ZpZGVycycsIHByaW9yaXR5LCBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50LnByb3ZpZGVycy5wdXNoKHByb3ZpZGVyKTtcbiAgfSk7XG59O1xuXG5cbi8qKlxuICogR2V0IGNvbnRleHQgcGFkIGVudHJpZXMgZm9yIGdpdmVuIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7Q29udGV4dFBhZFRhcmdldH0gdGFyZ2V0XG4gKlxuICogQHJldHVybiB7Q29udGV4dFBhZEVudHJpZXN9IGxpc3Qgb2YgZW50cmllc1xuICovXG5Db250ZXh0UGFkLnByb3RvdHlwZS5nZXRFbnRyaWVzID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gIHZhciBwcm92aWRlcnMgPSB0aGlzLl9nZXRQcm92aWRlcnMoKTtcblxuICB2YXIgcHJvdmlkZUZuID0gaXNBcnJheSh0YXJnZXQpXG4gICAgPyAnZ2V0TXVsdGlFbGVtZW50Q29udGV4dFBhZEVudHJpZXMnXG4gICAgOiAnZ2V0Q29udGV4dFBhZEVudHJpZXMnO1xuXG4gIHZhciBlbnRyaWVzID0ge307XG5cbiAgLy8gbG9vcCB0aHJvdWdoIGFsbCBwcm92aWRlcnMgYW5kIHRoZWlyIGVudHJpZXMuXG4gIC8vIGdyb3VwIGVudHJpZXMgYnkgaWQgc28gdGhhdCBvdmVycmlkaW5nIGFuIGVudHJ5IGlzIHBvc3NpYmxlXG4gIGZvckVhY2gocHJvdmlkZXJzLCBmdW5jdGlvbihwcm92aWRlcikge1xuXG4gICAgaWYgKCFpc0Z1bmN0aW9uKHByb3ZpZGVyW3Byb3ZpZGVGbl0pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGVudHJpZXNPclVwZGF0ZXIgPSBwcm92aWRlcltwcm92aWRlRm5dKHRhcmdldCk7XG5cbiAgICBpZiAoaXNGdW5jdGlvbihlbnRyaWVzT3JVcGRhdGVyKSkge1xuICAgICAgZW50cmllcyA9IGVudHJpZXNPclVwZGF0ZXIoZW50cmllcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvckVhY2goZW50cmllc09yVXBkYXRlciwgZnVuY3Rpb24oZW50cnksIGlkKSB7XG4gICAgICAgIGVudHJpZXNbaWRdID0gZW50cnk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBlbnRyaWVzO1xufTtcblxuXG4vKipcbiAqIFRyaWdnZXIgY29udGV4dCBwYWQgdmlhIERPTSBldmVudC5cbiAqXG4gKiBUaGUgZW50cnkgdG8gdHJpZ2dlciBpcyBkZXRlcm1pbmVkIGJ5IHRoZSB0YXJnZXQgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHBhcmFtIHtib29sZWFufSBbYXV0b0FjdGl2YXRlPWZhbHNlXVxuICovXG5Db250ZXh0UGFkLnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24oYWN0aW9uLCBldmVudCwgYXV0b0FjdGl2YXRlKSB7XG5cbiAgdmFyIGVudHJ5LFxuICAgICAgb3JpZ2luYWxFdmVudCxcbiAgICAgIGJ1dHRvbiA9IGV2ZW50LmRlbGVnYXRlVGFyZ2V0IHx8IGV2ZW50LnRhcmdldDtcblxuICBpZiAoIWJ1dHRvbikge1xuICAgIHJldHVybiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgZW50cnkgPSBkb21BdHRyKGJ1dHRvbiwgJ2RhdGEtYWN0aW9uJyk7XG4gIG9yaWdpbmFsRXZlbnQgPSBldmVudC5vcmlnaW5hbEV2ZW50IHx8IGV2ZW50O1xuXG4gIHJldHVybiB0aGlzLnRyaWdnZXJFbnRyeShlbnRyeSwgYWN0aW9uLCBvcmlnaW5hbEV2ZW50LCBhdXRvQWN0aXZhdGUpO1xufTtcblxuLyoqXG4gKiBUcmlnZ2VyIGNvbnRleHQgcGFkIGVudHJ5LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbnRyeUlkXG4gKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICogQHBhcmFtIHtib29sZWFufSBbYXV0b0FjdGl2YXRlPWZhbHNlXVxuICovXG5Db250ZXh0UGFkLnByb3RvdHlwZS50cmlnZ2VyRW50cnkgPSBmdW5jdGlvbihlbnRyeUlkLCBhY3Rpb24sIGV2ZW50LCBhdXRvQWN0aXZhdGUpIHtcblxuICBpZiAoIXRoaXMuaXNTaG93bigpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHRhcmdldCA9IHRoaXMuX2N1cnJlbnQudGFyZ2V0LFxuICAgICAgZW50cmllcyA9IHRoaXMuX2N1cnJlbnQuZW50cmllcztcblxuICB2YXIgZW50cnkgPSBlbnRyaWVzW2VudHJ5SWRdO1xuXG4gIGlmICghZW50cnkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgaGFuZGxlciA9IGVudHJ5LmFjdGlvbjtcblxuICBpZiAodGhpcy5fZXZlbnRCdXMuZmlyZSgnY29udGV4dFBhZC50cmlnZ2VyJywgeyBlbnRyeSwgZXZlbnQgfSkgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gc2ltcGxlIGFjdGlvbiAodmlhIGNhbGxiYWNrIGZ1bmN0aW9uKVxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIGlmIChhY3Rpb24gPT09ICdjbGljaycpIHtcbiAgICAgIHJldHVybiBoYW5kbGVyKGV2ZW50LCB0YXJnZXQsIGF1dG9BY3RpdmF0ZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChoYW5kbGVyW2FjdGlvbl0pIHtcbiAgICAgIHJldHVybiBoYW5kbGVyW2FjdGlvbl0oZXZlbnQsIHRhcmdldCwgYXV0b0FjdGl2YXRlKTtcbiAgICB9XG4gIH1cblxuICAvLyBzaWxlbmNlIG90aGVyIGFjdGlvbnNcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbn07XG5cblxuLyoqXG4gKiBPcGVuIHRoZSBjb250ZXh0IHBhZCBmb3IgZ2l2ZW4gZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtDb250ZXh0UGFkVGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ZvcmNlPWZhbHNlXSAtIEZvcmNlIHJlLW9wZW5pbmcgY29udGV4dCBwYWQuXG4gKi9cbkNvbnRleHRQYWQucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbih0YXJnZXQsIGZvcmNlKSB7XG4gIGlmICghZm9yY2UgJiYgdGhpcy5pc09wZW4odGFyZ2V0KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuY2xvc2UoKTtcblxuICB0aGlzLl91cGRhdGVBbmRPcGVuKHRhcmdldCk7XG59O1xuXG5Db250ZXh0UGFkLnByb3RvdHlwZS5fZ2V0UHJvdmlkZXJzID0gZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGV2ZW50ID0gdGhpcy5fZXZlbnRCdXMuY3JlYXRlRXZlbnQoe1xuICAgIHR5cGU6ICdjb250ZXh0UGFkLmdldFByb3ZpZGVycycsXG4gICAgcHJvdmlkZXJzOiBbXVxuICB9KTtcblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKGV2ZW50KTtcblxuICByZXR1cm4gZXZlbnQucHJvdmlkZXJzO1xufTtcblxuXG4vKipcbiAqIEBwYXJhbSB7Q29udGV4dFBhZFRhcmdldH0gdGFyZ2V0XG4gKi9cbkNvbnRleHRQYWQucHJvdG90eXBlLl91cGRhdGVBbmRPcGVuID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gIHZhciBlbnRyaWVzID0gdGhpcy5nZXRFbnRyaWVzKHRhcmdldCksXG4gICAgICBwYWQgPSB0aGlzLmdldFBhZCh0YXJnZXQpLFxuICAgICAgaHRtbCA9IHBhZC5odG1sLFxuICAgICAgaW1hZ2U7XG5cbiAgZm9yRWFjaChlbnRyaWVzLCBmdW5jdGlvbihlbnRyeSwgaWQpIHtcbiAgICB2YXIgZ3JvdXBpbmcgPSBlbnRyeS5ncm91cCB8fCAnZGVmYXVsdCcsXG4gICAgICAgIGNvbnRyb2wgPSBkb21pZnkoZW50cnkuaHRtbCB8fCAnPGRpdiBjbGFzcz1cImVudHJ5XCIgZHJhZ2dhYmxlPVwidHJ1ZVwiPjwvZGl2PicpLFxuICAgICAgICBjb250YWluZXI7XG5cbiAgICBkb21BdHRyKGNvbnRyb2wsICdkYXRhLWFjdGlvbicsIGlkKTtcblxuICAgIGNvbnRhaW5lciA9IGRvbVF1ZXJ5KCdbZGF0YS1ncm91cD0nICsgZXNjYXBlQ1NTKGdyb3VwaW5nKSArICddJywgaHRtbCk7XG4gICAgaWYgKCFjb250YWluZXIpIHtcblxuICAgICAgLy8gYWRkIHNlcGFyYXRvclxuICAgICAgaWYgKGRvbVF1ZXJ5KCcuZ3JvdXAnLCBodG1sKSkge1xuICAgICAgICBjb25zdCBzZXBhcmF0b3IgPSBkb21pZnkoJzxkaXYgY2xhc3M9XCJzZXBhcmF0b3JcIj48L2Rpdj4nKTtcblxuICAgICAgICBodG1sLmFwcGVuZENoaWxkKHNlcGFyYXRvcik7XG4gICAgICB9XG5cbiAgICAgIGNvbnRhaW5lciA9IGRvbWlmeSgnPGRpdiBjbGFzcz1cImdyb3VwXCI+PC9kaXY+Jyk7XG4gICAgICBkb21BdHRyKGNvbnRhaW5lciwgJ2RhdGEtZ3JvdXAnLCBncm91cGluZyk7XG5cbiAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY29udHJvbCk7XG5cbiAgICBpZiAoZW50cnkuY2xhc3NOYW1lKSB7XG4gICAgICBhZGRDbGFzc2VzKGNvbnRyb2wsIGVudHJ5LmNsYXNzTmFtZSk7XG4gICAgfVxuXG4gICAgaWYgKGVudHJ5LnRpdGxlKSB7XG4gICAgICBkb21BdHRyKGNvbnRyb2wsICd0aXRsZScsIGVudHJ5LnRpdGxlKTtcbiAgICB9XG5cbiAgICBpZiAoZW50cnkuaW1hZ2VVcmwpIHtcbiAgICAgIGltYWdlID0gZG9taWZ5KCc8aW1nPicpO1xuICAgICAgZG9tQXR0cihpbWFnZSwgJ3NyYycsIGVudHJ5LmltYWdlVXJsKTtcbiAgICAgIGltYWdlLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgaW1hZ2Uuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuXG4gICAgICBjb250cm9sLmFwcGVuZENoaWxkKGltYWdlKTtcbiAgICB9XG4gIH0pO1xuXG4gIGRvbUNsYXNzZXMoaHRtbCkuYWRkKCdvcGVuJyk7XG5cbiAgdGhpcy5fY3VycmVudCA9IHtcbiAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICBlbnRyaWVzOiBlbnRyaWVzLFxuICAgIHBhZDogcGFkXG4gIH07XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZSgnY29udGV4dFBhZC5vcGVuJywgeyBjdXJyZW50OiB0aGlzLl9jdXJyZW50IH0pO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0NvbnRleHRQYWRUYXJnZXR9IHRhcmdldFxuICpcbiAqIEByZXR1cm4ge092ZXJsYXl9XG4gKi9cbkNvbnRleHRQYWQucHJvdG90eXBlLmdldFBhZCA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICBpZiAodGhpcy5pc09wZW4oKSkge1xuICAgIHJldHVybiB0aGlzLl9jdXJyZW50LnBhZDtcbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICB2YXIgb3ZlcmxheXMgPSB0aGlzLl9vdmVybGF5cztcblxuICB2YXIgaHRtbCA9IGRvbWlmeSgnPGRpdiBjbGFzcz1cImRqcy1jb250ZXh0LXBhZFwiPjwvZGl2PicpO1xuXG4gIHZhciBwb3NpdGlvbiA9IHRoaXMuX2dldFBvc2l0aW9uKHRhcmdldCk7XG5cbiAgdmFyIG92ZXJsYXlzQ29uZmlnID0gYXNzaWduKHtcbiAgICBodG1sOiBodG1sXG4gIH0sIHRoaXMuX292ZXJsYXlzQ29uZmlnLCBwb3NpdGlvbik7XG5cbiAgZG9tRGVsZWdhdGUuYmluZChodG1sLCBlbnRyeVNlbGVjdG9yLCAnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgIHNlbGYudHJpZ2dlcignY2xpY2snLCBldmVudCk7XG4gIH0pO1xuXG4gIGRvbURlbGVnYXRlLmJpbmQoaHRtbCwgZW50cnlTZWxlY3RvciwgJ2RyYWdzdGFydCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgc2VsZi50cmlnZ2VyKCdkcmFnc3RhcnQnLCBldmVudCk7XG4gIH0pO1xuXG4gIC8vIHN0b3AgcHJvcGFnYXRpb24gb2YgbW91c2UgZXZlbnRzXG4gIGRvbUV2ZW50LmJpbmQoaHRtbCwgJ21vdXNlZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH0pO1xuXG4gIHZhciBhY3RpdmVSb290RWxlbWVudCA9IHRoaXMuX2NhbnZhcy5nZXRSb290RWxlbWVudCgpO1xuXG4gIHRoaXMuX292ZXJsYXlJZCA9IG92ZXJsYXlzLmFkZChhY3RpdmVSb290RWxlbWVudCwgJ2NvbnRleHQtcGFkJywgb3ZlcmxheXNDb25maWcpO1xuXG4gIHZhciBwYWQgPSBvdmVybGF5cy5nZXQodGhpcy5fb3ZlcmxheUlkKTtcblxuICB0aGlzLl9ldmVudEJ1cy5maXJlKCdjb250ZXh0UGFkLmNyZWF0ZScsIHtcbiAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICBwYWQ6IHBhZFxuICB9KTtcblxuICByZXR1cm4gcGFkO1xufTtcblxuXG4vKipcbiAqIENsb3NlIHRoZSBjb250ZXh0IHBhZFxuICovXG5Db250ZXh0UGFkLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIXRoaXMuaXNPcGVuKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLl9vdmVybGF5cy5yZW1vdmUodGhpcy5fb3ZlcmxheUlkKTtcblxuICB0aGlzLl9vdmVybGF5SWQgPSBudWxsO1xuXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoJ2NvbnRleHRQYWQuY2xvc2UnLCB7IGN1cnJlbnQ6IHRoaXMuX2N1cnJlbnQgfSk7XG5cbiAgdGhpcy5fY3VycmVudCA9IG51bGw7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIHBhZCBpcyBvcGVuLlxuICpcbiAqIElmIHRhcmdldCBpcyBwcm92aWRlZCwgY2hlY2sgaWYgaXQgaXMgb3BlbmVkXG4gKiBmb3IgdGhlIGdpdmVuIHRhcmdldCAoc2luZ2xlIG9yIG11bHRpcGxlIGVsZW1lbnRzKS5cbiAqXG4gKiBAcGFyYW0ge0NvbnRleHRQYWRUYXJnZXR9IFt0YXJnZXRdXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5Db250ZXh0UGFkLnByb3RvdHlwZS5pc09wZW4gPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgdmFyIGN1cnJlbnQgPSB0aGlzLl9jdXJyZW50O1xuXG4gIGlmICghY3VycmVudCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIGJhc2ljIG5vLWFyZ3MgaXMgb3BlbiBjaGVja1xuICBpZiAoIXRhcmdldCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRUYXJnZXQgPSBjdXJyZW50LnRhcmdldDtcblxuICAvLyBzdHJpY3QgaGFuZGxpbmcgb2Ygc2luZ2xlIHZzLiBtdWx0aS1zZWxlY3Rpb25cbiAgaWYgKGlzQXJyYXkodGFyZ2V0KSAhPT0gaXNBcnJheShjdXJyZW50VGFyZ2V0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KHRhcmdldCkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGFyZ2V0Lmxlbmd0aCA9PT0gY3VycmVudFRhcmdldC5sZW5ndGggJiZcbiAgICAgIGV2ZXJ5KHRhcmdldCwgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gaW5jbHVkZXMoY3VycmVudFRhcmdldCwgZWxlbWVudCk7XG4gICAgICB9KVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGN1cnJlbnRUYXJnZXQgPT09IHRhcmdldDtcbiAgfVxufTtcblxuXG4vKipcbiAqIENoZWNrIGlmIHBhZCBpcyBvcGVuIGFuZCBub3QgaGlkZGVuLlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbkNvbnRleHRQYWQucHJvdG90eXBlLmlzU2hvd24gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaXNPcGVuKCkgJiYgdGhpcy5fb3ZlcmxheXMuaXNTaG93bigpO1xufTtcblxuXG4vKipcbiAqIEdldCBjb250ZXggcGFkIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7Q29udGV4dFBhZFRhcmdldH0gdGFyZ2V0XG4gKlxuICogQHJldHVybiB7UmVjdH1cbiAqL1xuQ29udGV4dFBhZC5wcm90b3R5cGUuX2dldFBvc2l0aW9uID0gZnVuY3Rpb24odGFyZ2V0KSB7XG5cbiAgdmFyIGVsZW1lbnRzID0gaXNBcnJheSh0YXJnZXQpID8gdGFyZ2V0IDogWyB0YXJnZXQgXTtcbiAgdmFyIGJCb3ggPSBnZXRCQm94KGVsZW1lbnRzKTtcblxuICAvLyBUT0RPIGFzeW5jIHJlcG9zaXRpb25pbmcgYWZ0ZXIgdGhpcy5fY3VycmVudC5odG1sIGlzIHJlbmRlcmVkXG5cbiAgcmV0dXJuIHtcbiAgICBwb3NpdGlvbjoge1xuICAgICAgbGVmdDogYkJveC54ICsgYkJveC53aWR0aCAvIDIsXG4gICAgICB0b3A6IGJCb3gueSAtIDEwXG4gICAgfVxuICB9O1xufTtcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy9cblxuZnVuY3Rpb24gYWRkQ2xhc3NlcyhlbGVtZW50LCBjbGFzc05hbWVzKSB7XG4gIHZhciBjbGFzc2VzID0gZG9tQ2xhc3NlcyhlbGVtZW50KTtcblxuICBjbGFzc05hbWVzID0gaXNBcnJheShjbGFzc05hbWVzKSA/IGNsYXNzTmFtZXMgOiBjbGFzc05hbWVzLnNwbGl0KC9cXHMrL2cpO1xuXG4gIGNsYXNzTmFtZXMuZm9yRWFjaChmdW5jdGlvbihjbHMpIHtcbiAgICBjbGFzc2VzLmFkZChjbHMpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FueVtdfSBhcnJheVxuICogQHBhcmFtIHthbnl9IGl0ZW1cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpbmNsdWRlcyhhcnJheSwgaXRlbSkge1xuICByZXR1cm4gYXJyYXkuaW5kZXhPZihpdGVtKSAhPT0gLTE7XG59Il0sIm5hbWVzIjpbImFzc2lnbiIsImV2ZXJ5IiwiZm9yRWFjaCIsImlzQXJyYXkiLCJpc0RlZmluZWQiLCJpc0Z1bmN0aW9uIiwic29tZSIsImRlbGVnYXRlIiwiZG9tRGVsZWdhdGUiLCJldmVudCIsImRvbUV2ZW50IiwiYXR0ciIsImRvbUF0dHIiLCJxdWVyeSIsImRvbVF1ZXJ5IiwiY2xhc3NlcyIsImRvbUNsYXNzZXMiLCJkb21pZnkiLCJnZXRCQm94IiwiZXNjYXBlQ1NTIiwiZW50cnlTZWxlY3RvciIsIkRFRkFVTFRfUFJJT1JJVFkiLCJDT05URVhUX1BBRF9QQURESU5HIiwiQ29udGV4dFBhZCIsImNhbnZhcyIsImNvbmZpZyIsImV2ZW50QnVzIiwib3ZlcmxheXMiLCJfY2FudmFzIiwiX2V2ZW50QnVzIiwiX292ZXJsYXlzIiwic2NhbGUiLCJtaW4iLCJtYXgiLCJfb3ZlcmxheXNDb25maWciLCJfY3VycmVudCIsIl9pbml0IiwiJGluamVjdCIsInByb3RvdHlwZSIsInNlbGYiLCJvbiIsInNlbGVjdGlvbiIsIm5ld1NlbGVjdGlvbiIsInRhcmdldCIsImxlbmd0aCIsIm9wZW4iLCJjbG9zZSIsImVsZW1lbnRzIiwiY3VycmVudCIsImN1cnJlbnRUYXJnZXQiLCJjdXJyZW50Q2hhbmdlZCIsImVsZW1lbnQiLCJpbmNsdWRlcyIsInJlZ2lzdGVyUHJvdmlkZXIiLCJwcmlvcml0eSIsInByb3ZpZGVyIiwicHJvdmlkZXJzIiwicHVzaCIsImdldEVudHJpZXMiLCJfZ2V0UHJvdmlkZXJzIiwicHJvdmlkZUZuIiwiZW50cmllcyIsImVudHJpZXNPclVwZGF0ZXIiLCJlbnRyeSIsImlkIiwidHJpZ2dlciIsImFjdGlvbiIsImF1dG9BY3RpdmF0ZSIsIm9yaWdpbmFsRXZlbnQiLCJidXR0b24iLCJkZWxlZ2F0ZVRhcmdldCIsInByZXZlbnREZWZhdWx0IiwidHJpZ2dlckVudHJ5IiwiZW50cnlJZCIsImlzU2hvd24iLCJoYW5kbGVyIiwiZmlyZSIsImZvcmNlIiwiaXNPcGVuIiwiX3VwZGF0ZUFuZE9wZW4iLCJjcmVhdGVFdmVudCIsInR5cGUiLCJwYWQiLCJnZXRQYWQiLCJodG1sIiwiaW1hZ2UiLCJncm91cGluZyIsImdyb3VwIiwiY29udHJvbCIsImNvbnRhaW5lciIsInNlcGFyYXRvciIsImFwcGVuZENoaWxkIiwiY2xhc3NOYW1lIiwiYWRkQ2xhc3NlcyIsInRpdGxlIiwiaW1hZ2VVcmwiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwiYWRkIiwicG9zaXRpb24iLCJfZ2V0UG9zaXRpb24iLCJvdmVybGF5c0NvbmZpZyIsImJpbmQiLCJzdG9wUHJvcGFnYXRpb24iLCJhY3RpdmVSb290RWxlbWVudCIsImdldFJvb3RFbGVtZW50IiwiX292ZXJsYXlJZCIsImdldCIsInJlbW92ZSIsImJCb3giLCJsZWZ0IiwieCIsInRvcCIsInkiLCJjbGFzc05hbWVzIiwic3BsaXQiLCJjbHMiLCJhcnJheSIsIml0ZW0iLCJpbmRleE9mIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/features/ContextPad.js\n");

/***/ }),

/***/ "./src/features/ContextPadProvider.js":
/*!********************************************!*\
  !*** ./src/features/ContextPadProvider.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ContextPadProvider)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var bpmn_js_lib_features_modeling_util_ModelingUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bpmn-js/lib/features/modeling/util/ModelingUtil */ \"../bpmn-io/bpmn-js/lib/util/ModelUtil.js\");\n/* harmony import */ var bpmn_js_lib_util_DiUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bpmn-js/lib/util/DiUtil */ \"../bpmn-io/bpmn-js/lib/util/DiUtil.js\");\n/* harmony import */ var bpmn_js_lib_features_modeling_util_LaneUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! bpmn-js/lib/features/modeling/util/LaneUtil */ \"../bpmn-io/bpmn-js/lib/features/modeling/util/LaneUtil.js\");\n/* harmony import */ var diagram_js_lib_util_Mouse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! diagram-js/lib/util/Mouse */ \"./node_modules/diagram-js/lib/util/Mouse.js\");\n\n\n\n\n\n\n\n/**\n * @typedef {import('didi').Injector} Injector\n * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\n * @typedef {import('diagram-js/lib/features/context-pad/ContextPad').default} ContextPad\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../modeling/ElementFactory').default} ElementFactory\n * @typedef {import('diagram-js/lib/features/connect/Connect').default} Connect\n * @typedef {import('diagram-js/lib/features/create/Create').default} Create\n * @typedef {import('diagram-js/lib/features/popup-menu/PopupMenu').default} PopupMenu\n * @typedef {import('diagram-js/lib/features/canvas/Canvas').default} Canvas\n * @typedef {import('diagram-js/lib/features/rules/Rules').default} Rules\n * @typedef {import('diagram-js/lib/i18n/translate/translate').default} Translate\n *\n * @typedef {import('../../model/Types').Element} Element\n * @typedef {import('../../model/Types').ModdleElement} ModdleElement\n *\n * @typedef {import('diagram-js/lib/features/context-pad/ContextPadProvider').default<Element>} BaseContextPadProvider\n * @typedef {import('diagram-js/lib/features/context-pad/ContextPadProvider').ContextPadEntries} ContextPadEntries\n * @typedef {import('diagram-js/lib/features/context-pad/ContextPadProvider').ContextPadEntry} ContextPadEntry\n *\n * @typedef { { autoPlace?: boolean; } } ContextPadConfig\n */\n\n/**\n * BPMN-specific context pad provider.\n *\n * @implements {BaseContextPadProvider}\n *\n * @param {ContextPadConfig} config\n * @param {Injector} injector\n * @param {EventBus} eventBus\n * @param {ContextPad} contextPad\n * @param {Modeling} modeling\n * @param {ElementFactory} elementFactory\n * @param {Connect} connect\n * @param {Create} create\n * @param {PopupMenu} popupMenu\n * @param {Canvas} canvas\n * @param {Rules} rules\n * @param {Translate} translate\n */\nfunction ContextPadProvider(config, injector, eventBus, contextPad, modeling, elementFactory, connect, create, popupMenu, canvas, rules, translate) {\n  config = config || {};\n  contextPad.registerProvider(this);\n  this._contextPad = contextPad;\n  this._modeling = modeling;\n  this._elementFactory = elementFactory;\n  this._connect = connect;\n  this._create = create;\n  this._popupMenu = popupMenu;\n  this._canvas = canvas;\n  this._rules = rules;\n  this._translate = translate;\n  if (config.autoPlace !== false) {\n    this._autoPlace = injector.get('autoPlace', false);\n  }\n  eventBus.on('create.end', 250, function (event) {\n    var context = event.context,\n      shape = context.shape;\n    if (!(0,diagram_js_lib_util_Mouse__WEBPACK_IMPORTED_MODULE_0__.hasPrimaryModifier)(event) || !contextPad.isOpen(shape)) {\n      return;\n    }\n    var entries = contextPad.getEntries(shape);\n    if (entries.replace) {\n      entries.replace.action.click(event, shape);\n    }\n  });\n}\nContextPadProvider.$inject = ['config.contextPad', 'injector', 'eventBus', 'contextPad', 'modeling', 'elementFactory', 'connect', 'create', 'popupMenu', 'canvas', 'rules', 'translate'];\n\n/**\n * @param {Element[]} elements\n *\n * @return {ContextPadEntries}\n */\nContextPadProvider.prototype.getMultiElementContextPadEntries = function (elements) {\n  var modeling = this._modeling;\n  var actions = {};\n  if (this._isDeleteAllowed(elements)) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(actions, {\n      'delete': {\n        group: 'edit',\n        html: `<div class=\"entry\">\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <rect width=\"16\" height=\"16\" fill=\"white\" style=\"mix-blend-mode:multiply\"/>\n            <path d=\"M7 6H6V12H7V6Z\" fill=\"currentColor\"/>\n            <path d=\"M10 6H9V12H10V6Z\" fill=\"currentColor\"/>\n            <path d=\"M2 3V4H3V14C3 14.2652 3.10536 14.5196 3.29289 14.7071C3.48043 14.8946 3.73478 15 4 15H12C12.2652 15 12.5196 14.8946 12.7071 14.7071C12.8946 14.5196 13 14.2652 13 14V4H14V3H2ZM4 14V4H12V14H4Z\" fill=\"currentColor\"/>\n            <path d=\"M10 1H6V2H10V1Z\" fill=\"currentColor\"/>\n          </svg>\n        </div>`,\n        title: this._translate('Remove'),\n        action: {\n          click: function (event, elements) {\n            modeling.removeElements(elements.slice());\n          }\n        }\n      }\n    });\n  }\n  return actions;\n};\n\n/**\n * @param {Element[]} elements\n *\n * @return {boolean}\n */\nContextPadProvider.prototype._isDeleteAllowed = function (elements) {\n  var baseAllowed = this._rules.allowed('elements.delete', {\n    elements: elements\n  });\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isArray)(baseAllowed)) {\n    return (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.every)(baseAllowed, function (element) {\n      return includes(baseAllowed, element);\n    });\n  }\n  return baseAllowed;\n};\n\n/**\n * @param {Element} element\n *\n * @return {ContextPadEntries}\n */\nContextPadProvider.prototype.getContextPadEntries = function (element) {\n  var contextPad = this._contextPad,\n    modeling = this._modeling,\n    elementFactory = this._elementFactory,\n    connect = this._connect,\n    create = this._create,\n    popupMenu = this._popupMenu,\n    rules = this._rules,\n    autoPlace = this._autoPlace,\n    translate = this._translate;\n  var actions = {};\n  if (element.type === 'label') {\n    return actions;\n  }\n  var businessObject = element.businessObject;\n  function startConnect(event, element) {\n    connect.start(event, element);\n  }\n  function removeElement(e, element) {\n    modeling.removeElements([element]);\n  }\n  function getReplaceMenuPosition(element) {\n    var Y_OFFSET = 5;\n    var pad = contextPad.getPad(element).html;\n    var padRect = pad.getBoundingClientRect();\n    var pos = {\n      x: padRect.left,\n      y: padRect.bottom + Y_OFFSET\n    };\n    return pos;\n  }\n\n  /**\n   * Create an append action.\n   *\n   * @param {string} type\n   * @param {string} className\n   * @param {string} [title]\n   * @param {Object} [options]\n   *\n   * @return {ContextPadEntry}\n   */\n  function appendAction(type, className, title, options) {\n    if (typeof title !== 'string') {\n      options = title;\n      title = translate('Append {type}', {\n        type: type.replace(/^bpmn:/, '')\n      });\n    }\n    function appendStart(event, element) {\n      var shape = elementFactory.createShape((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)({\n        type: type\n      }, options));\n      create.start(event, shape, {\n        source: element\n      });\n    }\n    var append = autoPlace ? function (event, element) {\n      var shape = elementFactory.createShape((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)({\n        type: type\n      }, options));\n      autoPlace.append(element, shape);\n    } : appendStart;\n    return {\n      group: 'model',\n      className: className,\n      title: title,\n      action: {\n        dragstart: appendStart,\n        click: append\n      }\n    };\n  }\n  function splitLaneHandler(count) {\n    return function (_, element) {\n      // actual split\n      modeling.splitLane(element, count);\n\n      // refresh context pad after split to\n      // get rid of split icons\n      contextPad.open(element, true);\n    };\n  }\n  if (!popupMenu.isEmpty(element, 'bpmn-replace')) {\n    // Replace menu entry\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(actions, {\n      'replace': {\n        group: 'edit',\n        html: `<div class=\"entry\">\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 17 17\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <mask id=\"myMask\">\n              <rect x=\"0\" y=\"0\" width=\"17\" height=\"17\" fill=\"white\" stroke=\"white\" />\n              <rect x=\"5.5\" y=\"6.5\" width=\"11\" height=\"9\" rx=\"2.5\" fill=\"black\" stroke=\"black\" />\n            </mask>\n            <rect x=\"0.5\" y=\"1.5\" width=\"10\" height=\"10\" rx=\"5\" fill=\"transparent\" stroke=\"currentColor\" mask=\"url(#myMask)\" />\n            <rect x=\"5.5\" y=\"6.5\" width=\"11\" height=\"9\" rx=\"2.5\" fill=\"transparent\" stroke=\"currentColor\" />\n          </svg>\n        </div>`,\n        title: translate('Change type'),\n        action: {\n          click: function (event, element) {\n            var position = (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(getReplaceMenuPosition(element), {\n              cursor: {\n                x: event.x,\n                y: event.y\n              }\n            });\n            popupMenu.open(element, 'bpmn-replace', position, {\n              title: translate('Foobar'),\n              width: 300,\n              search: true\n            });\n          }\n        }\n      }\n    });\n  }\n  if ((0,bpmn_js_lib_features_modeling_util_ModelingUtil__WEBPACK_IMPORTED_MODULE_2__.isAny)(businessObject, ['bpmn:Lane', 'bpmn:Participant']) && (0,bpmn_js_lib_util_DiUtil__WEBPACK_IMPORTED_MODULE_3__.isExpanded)(element)) {\n    var childLanes = (0,bpmn_js_lib_features_modeling_util_LaneUtil__WEBPACK_IMPORTED_MODULE_4__.getChildLanes)(element);\n    if (childLanes.length < 2) {\n      if (element.height >= 120) {\n        (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(actions, {\n          'lane-divide-two': {\n            group: 'lane-divide',\n            className: 'bpmn-icon-lane-divide-two',\n            title: translate('Divide into two Lanes'),\n            action: {\n              click: splitLaneHandler(2)\n            }\n          }\n        });\n      }\n      if (element.height >= 180) {\n        (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(actions, {\n          'lane-divide-three': {\n            group: 'lane-divide',\n            className: 'bpmn-icon-lane-divide-three',\n            title: translate('Divide into three Lanes'),\n            action: {\n              click: splitLaneHandler(3)\n            }\n          }\n        });\n      }\n    }\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(actions, {\n      'lane-insert-below': {\n        group: 'lane-insert-below',\n        className: 'bpmn-icon-lane-insert-below',\n        title: translate('Add Lane below'),\n        action: {\n          click: function (event, element) {\n            modeling.addLane(element, 'bottom');\n          }\n        }\n      }\n    });\n  }\n  if ((0,bpmn_js_lib_features_modeling_util_ModelingUtil__WEBPACK_IMPORTED_MODULE_2__.is)(businessObject, 'bpmn:FlowNode')) {\n    if ((0,bpmn_js_lib_features_modeling_util_ModelingUtil__WEBPACK_IMPORTED_MODULE_2__.is)(businessObject, 'bpmn:EventBasedGateway')) {\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(actions, {\n        'append.receive-task': appendAction('bpmn:ReceiveTask', 'bpmn-icon-receive-task', translate('Append ReceiveTask')),\n        'append.message-intermediate-event': appendAction('bpmn:IntermediateCatchEvent', 'bpmn-icon-intermediate-event-catch-message', translate('Append MessageIntermediateCatchEvent'), {\n          eventDefinitionType: 'bpmn:MessageEventDefinition'\n        }),\n        'append.timer-intermediate-event': appendAction('bpmn:IntermediateCatchEvent', 'bpmn-icon-intermediate-event-catch-timer', translate('Append TimerIntermediateCatchEvent'), {\n          eventDefinitionType: 'bpmn:TimerEventDefinition'\n        }),\n        'append.condition-intermediate-event': appendAction('bpmn:IntermediateCatchEvent', 'bpmn-icon-intermediate-event-catch-condition', translate('Append ConditionIntermediateCatchEvent'), {\n          eventDefinitionType: 'bpmn:ConditionalEventDefinition'\n        }),\n        'append.signal-intermediate-event': appendAction('bpmn:IntermediateCatchEvent', 'bpmn-icon-intermediate-event-catch-signal', translate('Append SignalIntermediateCatchEvent'), {\n          eventDefinitionType: 'bpmn:SignalEventDefinition'\n        })\n      });\n    } else if (isEventType(businessObject, 'bpmn:BoundaryEvent', 'bpmn:CompensateEventDefinition')) {\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(actions, {\n        'append.compensation-activity': appendAction('bpmn:Task', 'bpmn-icon-task', translate('Append compensation activity'), {\n          isForCompensation: true\n        })\n      });\n    } else if (!(0,bpmn_js_lib_features_modeling_util_ModelingUtil__WEBPACK_IMPORTED_MODULE_2__.is)(businessObject, 'bpmn:EndEvent') && !businessObject.isForCompensation && !isEventType(businessObject, 'bpmn:IntermediateThrowEvent', 'bpmn:LinkEventDefinition') && !(0,bpmn_js_lib_util_DiUtil__WEBPACK_IMPORTED_MODULE_3__.isEventSubProcess)(businessObject)) {\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(actions, {\n        /*\n        'append.end-event': appendAction(\n          'bpmn:EndEvent',\n          'bpmn-icon-end-event-none',\n          translate('Append EndEvent')\n        ),\n        'append.gateway': appendAction(\n          'bpmn:ExclusiveGateway',\n          'bpmn-icon-gateway-none',\n          translate('Append Gateway')\n        ),\n        'append.append-task': appendAction(\n          'bpmn:Task',\n          'bpmn-icon-task',\n          translate('Append Task')\n        ),\n        'append.intermediate-event': appendAction(\n          'bpmn:IntermediateThrowEvent',\n          'bpmn-icon-intermediate-event-none',\n          translate('Append Intermediate/Boundary Event')\n        )\n        */\n      });\n    }\n  }\n  if ((0,bpmn_js_lib_features_modeling_util_ModelingUtil__WEBPACK_IMPORTED_MODULE_2__.is)(businessObject, 'bpmn:SequenceFlow')) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(actions, {\n      'append.text-annotation': appendAction('bpmn:TextAnnotation', 'bpmn-icon-text-annotation', translate('Append TextAnnotation'))\n    });\n  }\n  if ((0,bpmn_js_lib_features_modeling_util_ModelingUtil__WEBPACK_IMPORTED_MODULE_2__.isAny)(businessObject, ['bpmn:FlowNode', 'bpmn:InteractionNode', 'bpmn:DataObjectReference', 'bpmn:DataStoreReference'])) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(actions, {\n      'append.text-annotation': appendAction('bpmn:TextAnnotation', 'bpmn-icon-text-annotation', translate('Append TextAnnotation')),\n      'connect': {\n        group: 'connect',\n        html: `<div class=\"entry\">\n          <svg width=\"25\" height=\"24\" viewBox=\"0 0 25 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <rect width=\"24\" height=\"24\" transform=\"translate(0.948242)\" fill=\"transparent\" style=\"mix-blend-mode:multiply\"/>\n            <path d=\"M8.44824 4.5V6H17.8907L5.44824 18.4425L6.50574 19.5L18.9482 7.0575V16.5H20.4482V4.5H8.44824Z\" fill=\"currentColor\"/>\n          </svg>\n        </div>`,\n        title: translate('Connect using ' + (businessObject.isForCompensation ? '' : 'Sequence/MessageFlow or ') + 'Association'),\n        action: {\n          click: startConnect,\n          dragstart: startConnect\n        }\n      }\n    });\n  }\n  if ((0,bpmn_js_lib_features_modeling_util_ModelingUtil__WEBPACK_IMPORTED_MODULE_2__.is)(businessObject, 'bpmn:TextAnnotation')) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(actions, {\n      'connect': {\n        group: 'connect',\n        html: `<div class=\"entry\">\n        <svg width=\"25\" height=\"24\" viewBox=\"0 0 25 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <rect width=\"24\" height=\"24\" transform=\"translate(0.948242)\" fill=\"transparent\" style=\"mix-blend-mode:multiply\"/>\n          <path d=\"M8.44824 4.5V6H17.8907L5.44824 18.4425L6.50574 19.5L18.9482 7.0575V16.5H20.4482V4.5H8.44824Z\" fill=\"currentColor\"/>\n        </svg>\n      </div>`,\n        title: translate('Connect using Association'),\n        action: {\n          click: startConnect,\n          dragstart: startConnect\n        }\n      }\n    });\n  }\n  if ((0,bpmn_js_lib_features_modeling_util_ModelingUtil__WEBPACK_IMPORTED_MODULE_2__.isAny)(businessObject, ['bpmn:DataObjectReference', 'bpmn:DataStoreReference'])) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(actions, {\n      'connect': {\n        group: 'connect',\n        html: `<div class=\"entry\">\n        <svg width=\"25\" height=\"24\" viewBox=\"0 0 25 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <rect width=\"24\" height=\"24\" transform=\"translate(0.948242)\" fill=\"transparent\" style=\"mix-blend-mode:multiply\"/>\n          <path d=\"M8.44824 4.5V6H17.8907L5.44824 18.4425L6.50574 19.5L18.9482 7.0575V16.5H20.4482V4.5H8.44824Z\" fill=\"currentColor\"/>\n        </svg>\n      </div>`,\n        title: translate('Connect using DataInputAssociation'),\n        action: {\n          click: startConnect,\n          dragstart: startConnect\n        }\n      }\n    });\n  }\n  if ((0,bpmn_js_lib_features_modeling_util_ModelingUtil__WEBPACK_IMPORTED_MODULE_2__.is)(businessObject, 'bpmn:Group')) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(actions, {\n      'append.text-annotation': appendAction('bpmn:TextAnnotation', 'bpmn-icon-text-annotation', translate('Append TextAnnotation'))\n    });\n  }\n\n  // delete element entry, only show if allowed by rules\n  var deleteAllowed = rules.allowed('elements.delete', {\n    elements: [element]\n  });\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isArray)(deleteAllowed)) {\n    // was the element returned as a deletion candidate?\n    deleteAllowed = deleteAllowed[0] === element;\n  }\n  if (deleteAllowed) {\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.assign)(actions, {\n      'delete': {\n        group: 'delete',\n        html: `<div class=\"entry\">\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <rect width=\"16\" height=\"16\" fill=\"white\" style=\"mix-blend-mode:multiply\"/>\n            <path d=\"M7 6H6V12H7V6Z\" fill=\"currentColor\"/>\n            <path d=\"M10 6H9V12H10V6Z\" fill=\"currentColor\"/>\n            <path d=\"M2 3V4H3V14C3 14.2652 3.10536 14.5196 3.29289 14.7071C3.48043 14.8946 3.73478 15 4 15H12C12.2652 15 12.5196 14.8946 12.7071 14.7071C12.8946 14.5196 13 14.2652 13 14V4H14V3H2ZM4 14V4H12V14H4Z\" fill=\"currentColor\"/>\n            <path d=\"M10 1H6V2H10V1Z\" fill=\"currentColor\"/>\n          </svg>\n        </div>`,\n        title: translate('Remove'),\n        action: {\n          click: removeElement\n        }\n      }\n    });\n  }\n  return actions;\n};\n\n// helpers /////////\n\n/**\n * @param {ModdleElement} businessObject\n * @param {string} type\n * @param {string} eventDefinitionType\n *\n * @return {boolean}\n */\nfunction isEventType(businessObject, type, eventDefinitionType) {\n  var isType = businessObject.$instanceOf(type);\n  var isDefinition = false;\n  var definitions = businessObject.eventDefinitions || [];\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(definitions, function (def) {\n    if (def.$type === eventDefinitionType) {\n      isDefinition = true;\n    }\n  });\n  return isType && isDefinition;\n}\nfunction includes(array, item) {\n  return array.indexOf(item) !== -1;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RzdDLGNBQWMsQ0FBQzhDLGdCQUFnQixJQUFJLEVBQUU7RUFDdkQ1RyxpREFBTyxDQUFDMkcsV0FBVyxFQUFFLFVBQVNFLEdBQUcsRUFBRTtJQUNqQyxJQUFJQSxHQUFHLENBQUNDLEtBQUssS0FBS1YsbUJBQW1CLEVBQUU7TUFDckNNLFlBQVksR0FBRyxJQUFJO0lBQ3JCO0VBQ0YsQ0FBQyxDQUFDO0VBRUYsT0FBT0YsTUFBTSxJQUFJRSxZQUFZO0FBQy9CO0FBRUEsU0FBUy9DLFFBQVFBLENBQUNvRCxLQUFLLEVBQUVDLElBQUksRUFBRTtFQUM3QixPQUFPRCxLQUFLLENBQUNFLE9BQU8sQ0FBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ25DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2RheXMtMjAyMy8uL3NyYy9mZWF0dXJlcy9Db250ZXh0UGFkUHJvdmlkZXIuanM/MGQwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBhc3NpZ24sXG4gIGZvckVhY2gsXG4gIGlzQXJyYXksXG4gIGV2ZXJ5XG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgaXNcbn0gZnJvbSAnYnBtbi1qcy9saWIvdXRpbC9Nb2RlbFV0aWwnO1xuXG5pbXBvcnQge1xuICBpc0V4cGFuZGVkLFxuICBpc0V2ZW50U3ViUHJvY2Vzc1xufSBmcm9tICdicG1uLWpzL2xpYi91dGlsL0RpVXRpbCc7XG5cbmltcG9ydCB7XG4gIGlzQW55XG59IGZyb20gJ2JwbW4tanMvbGliL2ZlYXR1cmVzL21vZGVsaW5nL3V0aWwvTW9kZWxpbmdVdGlsJztcblxuaW1wb3J0IHtcbiAgZ2V0Q2hpbGRMYW5lc1xufSBmcm9tICdicG1uLWpzL2xpYi9mZWF0dXJlcy9tb2RlbGluZy91dGlsL0xhbmVVdGlsJztcblxuaW1wb3J0IHtcbiAgaGFzUHJpbWFyeU1vZGlmaWVyXG59IGZyb20gJ2RpYWdyYW0tanMvbGliL3V0aWwvTW91c2UnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpZGknKS5JbmplY3Rvcn0gSW5qZWN0b3JcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpYWdyYW0tanMvbGliL2NvcmUvRXZlbnRCdXMnKS5kZWZhdWx0fSBFdmVudEJ1c1xuICogQHR5cGVkZWYge2ltcG9ydCgnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29udGV4dC1wYWQvQ29udGV4dFBhZCcpLmRlZmF1bHR9IENvbnRleHRQYWRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21vZGVsaW5nL01vZGVsaW5nJykuZGVmYXVsdH0gTW9kZWxpbmdcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21vZGVsaW5nL0VsZW1lbnRGYWN0b3J5JykuZGVmYXVsdH0gRWxlbWVudEZhY3RvcnlcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2Nvbm5lY3QvQ29ubmVjdCcpLmRlZmF1bHR9IENvbm5lY3RcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NyZWF0ZS9DcmVhdGUnKS5kZWZhdWx0fSBDcmVhdGVcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3BvcHVwLW1lbnUvUG9wdXBNZW51JykuZGVmYXVsdH0gUG9wdXBNZW51XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9jYW52YXMvQ2FudmFzJykuZGVmYXVsdH0gQ2FudmFzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdkaWFncmFtLWpzL2xpYi9mZWF0dXJlcy9ydWxlcy9SdWxlcycpLmRlZmF1bHR9IFJ1bGVzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCdkaWFncmFtLWpzL2xpYi9pMThuL3RyYW5zbGF0ZS90cmFuc2xhdGUnKS5kZWZhdWx0fSBUcmFuc2xhdGVcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9tb2RlbC9UeXBlcycpLkVsZW1lbnR9IEVsZW1lbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uLy4uL21vZGVsL1R5cGVzJykuTW9kZGxlRWxlbWVudH0gTW9kZGxlRWxlbWVudFxuICpcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NvbnRleHQtcGFkL0NvbnRleHRQYWRQcm92aWRlcicpLmRlZmF1bHQ8RWxlbWVudD59IEJhc2VDb250ZXh0UGFkUHJvdmlkZXJcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2NvbnRleHQtcGFkL0NvbnRleHRQYWRQcm92aWRlcicpLkNvbnRleHRQYWRFbnRyaWVzfSBDb250ZXh0UGFkRW50cmllc1xuICogQHR5cGVkZWYge2ltcG9ydCgnZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvY29udGV4dC1wYWQvQ29udGV4dFBhZFByb3ZpZGVyJykuQ29udGV4dFBhZEVudHJ5fSBDb250ZXh0UGFkRW50cnlcbiAqXG4gKiBAdHlwZWRlZiB7IHsgYXV0b1BsYWNlPzogYm9vbGVhbjsgfSB9IENvbnRleHRQYWRDb25maWdcbiAqL1xuXG4vKipcbiAqIEJQTU4tc3BlY2lmaWMgY29udGV4dCBwYWQgcHJvdmlkZXIuXG4gKlxuICogQGltcGxlbWVudHMge0Jhc2VDb250ZXh0UGFkUHJvdmlkZXJ9XG4gKlxuICogQHBhcmFtIHtDb250ZXh0UGFkQ29uZmlnfSBjb25maWdcbiAqIEBwYXJhbSB7SW5qZWN0b3J9IGluamVjdG9yXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICogQHBhcmFtIHtDb250ZXh0UGFkfSBjb250ZXh0UGFkXG4gKiBAcGFyYW0ge01vZGVsaW5nfSBtb2RlbGluZ1xuICogQHBhcmFtIHtFbGVtZW50RmFjdG9yeX0gZWxlbWVudEZhY3RvcnlcbiAqIEBwYXJhbSB7Q29ubmVjdH0gY29ubmVjdFxuICogQHBhcmFtIHtDcmVhdGV9IGNyZWF0ZVxuICogQHBhcmFtIHtQb3B1cE1lbnV9IHBvcHVwTWVudVxuICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xuICogQHBhcmFtIHtSdWxlc30gcnVsZXNcbiAqIEBwYXJhbSB7VHJhbnNsYXRlfSB0cmFuc2xhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29udGV4dFBhZFByb3ZpZGVyKFxuICAgIGNvbmZpZywgaW5qZWN0b3IsIGV2ZW50QnVzLFxuICAgIGNvbnRleHRQYWQsIG1vZGVsaW5nLCBlbGVtZW50RmFjdG9yeSxcbiAgICBjb25uZWN0LCBjcmVhdGUsIHBvcHVwTWVudSxcbiAgICBjYW52YXMsIHJ1bGVzLCB0cmFuc2xhdGUpIHtcblxuICBjb25maWcgPSBjb25maWcgfHwge307XG5cbiAgY29udGV4dFBhZC5yZWdpc3RlclByb3ZpZGVyKHRoaXMpO1xuXG4gIHRoaXMuX2NvbnRleHRQYWQgPSBjb250ZXh0UGFkO1xuXG4gIHRoaXMuX21vZGVsaW5nID0gbW9kZWxpbmc7XG5cbiAgdGhpcy5fZWxlbWVudEZhY3RvcnkgPSBlbGVtZW50RmFjdG9yeTtcbiAgdGhpcy5fY29ubmVjdCA9IGNvbm5lY3Q7XG4gIHRoaXMuX2NyZWF0ZSA9IGNyZWF0ZTtcbiAgdGhpcy5fcG9wdXBNZW51ID0gcG9wdXBNZW51O1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gIHRoaXMuX3J1bGVzID0gcnVsZXM7XG4gIHRoaXMuX3RyYW5zbGF0ZSA9IHRyYW5zbGF0ZTtcblxuICBpZiAoY29uZmlnLmF1dG9QbGFjZSAhPT0gZmFsc2UpIHtcbiAgICB0aGlzLl9hdXRvUGxhY2UgPSBpbmplY3Rvci5nZXQoJ2F1dG9QbGFjZScsIGZhbHNlKTtcbiAgfVxuXG4gIGV2ZW50QnVzLm9uKCdjcmVhdGUuZW5kJywgMjUwLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBjb250ZXh0ID0gZXZlbnQuY29udGV4dCxcbiAgICAgICAgc2hhcGUgPSBjb250ZXh0LnNoYXBlO1xuXG4gICAgaWYgKCFoYXNQcmltYXJ5TW9kaWZpZXIoZXZlbnQpIHx8ICFjb250ZXh0UGFkLmlzT3BlbihzaGFwZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZW50cmllcyA9IGNvbnRleHRQYWQuZ2V0RW50cmllcyhzaGFwZSk7XG5cbiAgICBpZiAoZW50cmllcy5yZXBsYWNlKSB7XG4gICAgICBlbnRyaWVzLnJlcGxhY2UuYWN0aW9uLmNsaWNrKGV2ZW50LCBzaGFwZSk7XG4gICAgfVxuICB9KTtcbn1cblxuQ29udGV4dFBhZFByb3ZpZGVyLiRpbmplY3QgPSBbXG4gICdjb25maWcuY29udGV4dFBhZCcsXG4gICdpbmplY3RvcicsXG4gICdldmVudEJ1cycsXG4gICdjb250ZXh0UGFkJyxcbiAgJ21vZGVsaW5nJyxcbiAgJ2VsZW1lbnRGYWN0b3J5JyxcbiAgJ2Nvbm5lY3QnLFxuICAnY3JlYXRlJyxcbiAgJ3BvcHVwTWVudScsXG4gICdjYW52YXMnLFxuICAncnVsZXMnLFxuICAndHJhbnNsYXRlJ1xuXTtcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxlbWVudHNcbiAqXG4gKiBAcmV0dXJuIHtDb250ZXh0UGFkRW50cmllc31cbiAqL1xuQ29udGV4dFBhZFByb3ZpZGVyLnByb3RvdHlwZS5nZXRNdWx0aUVsZW1lbnRDb250ZXh0UGFkRW50cmllcyA9IGZ1bmN0aW9uKGVsZW1lbnRzKSB7XG4gIHZhciBtb2RlbGluZyA9IHRoaXMuX21vZGVsaW5nO1xuXG4gIHZhciBhY3Rpb25zID0ge307XG5cbiAgaWYgKHRoaXMuX2lzRGVsZXRlQWxsb3dlZChlbGVtZW50cykpIHtcbiAgICBhc3NpZ24oYWN0aW9ucywge1xuICAgICAgJ2RlbGV0ZSc6IHtcbiAgICAgICAgZ3JvdXA6ICdlZGl0JyxcbiAgICAgICAgaHRtbDogYDxkaXYgY2xhc3M9XCJlbnRyeVwiPlxuICAgICAgICAgIDxzdmcgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAxNiAxNlwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICAgICAgPHJlY3Qgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgZmlsbD1cIndoaXRlXCIgc3R5bGU9XCJtaXgtYmxlbmQtbW9kZTptdWx0aXBseVwiLz5cbiAgICAgICAgICAgIDxwYXRoIGQ9XCJNNyA2SDZWMTJIN1Y2WlwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIi8+XG4gICAgICAgICAgICA8cGF0aCBkPVwiTTEwIDZIOVYxMkgxMFY2WlwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIi8+XG4gICAgICAgICAgICA8cGF0aCBkPVwiTTIgM1Y0SDNWMTRDMyAxNC4yNjUyIDMuMTA1MzYgMTQuNTE5NiAzLjI5Mjg5IDE0LjcwNzFDMy40ODA0MyAxNC44OTQ2IDMuNzM0NzggMTUgNCAxNUgxMkMxMi4yNjUyIDE1IDEyLjUxOTYgMTQuODk0NiAxMi43MDcxIDE0LjcwNzFDMTIuODk0NiAxNC41MTk2IDEzIDE0LjI2NTIgMTMgMTRWNEgxNFYzSDJaTTQgMTRWNEgxMlYxNEg0WlwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIi8+XG4gICAgICAgICAgICA8cGF0aCBkPVwiTTEwIDFINlYySDEwVjFaXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9kaXY+YCxcbiAgICAgICAgdGl0bGU6IHRoaXMuX3RyYW5zbGF0ZSgnUmVtb3ZlJyksXG4gICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihldmVudCwgZWxlbWVudHMpIHtcbiAgICAgICAgICAgIG1vZGVsaW5nLnJlbW92ZUVsZW1lbnRzKGVsZW1lbnRzLnNsaWNlKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGFjdGlvbnM7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudFtdfSBlbGVtZW50c1xuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbkNvbnRleHRQYWRQcm92aWRlci5wcm90b3R5cGUuX2lzRGVsZXRlQWxsb3dlZCA9IGZ1bmN0aW9uKGVsZW1lbnRzKSB7XG5cbiAgdmFyIGJhc2VBbGxvd2VkID0gdGhpcy5fcnVsZXMuYWxsb3dlZCgnZWxlbWVudHMuZGVsZXRlJywge1xuICAgIGVsZW1lbnRzOiBlbGVtZW50c1xuICB9KTtcblxuICBpZiAoaXNBcnJheShiYXNlQWxsb3dlZCkpIHtcbiAgICByZXR1cm4gZXZlcnkoYmFzZUFsbG93ZWQsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBpbmNsdWRlcyhiYXNlQWxsb3dlZCwgZWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gYmFzZUFsbG93ZWQ7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge0NvbnRleHRQYWRFbnRyaWVzfVxuICovXG5Db250ZXh0UGFkUHJvdmlkZXIucHJvdG90eXBlLmdldENvbnRleHRQYWRFbnRyaWVzID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgY29udGV4dFBhZCA9IHRoaXMuX2NvbnRleHRQYWQsXG4gICAgICBtb2RlbGluZyA9IHRoaXMuX21vZGVsaW5nLFxuXG4gICAgICBlbGVtZW50RmFjdG9yeSA9IHRoaXMuX2VsZW1lbnRGYWN0b3J5LFxuICAgICAgY29ubmVjdCA9IHRoaXMuX2Nvbm5lY3QsXG4gICAgICBjcmVhdGUgPSB0aGlzLl9jcmVhdGUsXG4gICAgICBwb3B1cE1lbnUgPSB0aGlzLl9wb3B1cE1lbnUsXG4gICAgICBydWxlcyA9IHRoaXMuX3J1bGVzLFxuICAgICAgYXV0b1BsYWNlID0gdGhpcy5fYXV0b1BsYWNlLFxuICAgICAgdHJhbnNsYXRlID0gdGhpcy5fdHJhbnNsYXRlO1xuXG4gIHZhciBhY3Rpb25zID0ge307XG5cbiAgaWYgKGVsZW1lbnQudHlwZSA9PT0gJ2xhYmVsJykge1xuICAgIHJldHVybiBhY3Rpb25zO1xuICB9XG5cbiAgdmFyIGJ1c2luZXNzT2JqZWN0ID0gZWxlbWVudC5idXNpbmVzc09iamVjdDtcblxuICBmdW5jdGlvbiBzdGFydENvbm5lY3QoZXZlbnQsIGVsZW1lbnQpIHtcbiAgICBjb25uZWN0LnN0YXJ0KGV2ZW50LCBlbGVtZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoZSwgZWxlbWVudCkge1xuICAgIG1vZGVsaW5nLnJlbW92ZUVsZW1lbnRzKFsgZWxlbWVudCBdKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJlcGxhY2VNZW51UG9zaXRpb24oZWxlbWVudCkge1xuXG4gICAgdmFyIFlfT0ZGU0VUID0gNTtcblxuICAgIHZhciBwYWQgPSBjb250ZXh0UGFkLmdldFBhZChlbGVtZW50KS5odG1sO1xuXG4gICAgdmFyIHBhZFJlY3QgPSBwYWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICB2YXIgcG9zID0ge1xuICAgICAgeDogcGFkUmVjdC5sZWZ0LFxuICAgICAgeTogcGFkUmVjdC5ib3R0b20gKyBZX09GRlNFVFxuICAgIH07XG5cbiAgICByZXR1cm4gcG9zO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBhcHBlbmQgYWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdGl0bGVdXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICpcbiAgICogQHJldHVybiB7Q29udGV4dFBhZEVudHJ5fVxuICAgKi9cbiAgZnVuY3Rpb24gYXBwZW5kQWN0aW9uKHR5cGUsIGNsYXNzTmFtZSwgdGl0bGUsIG9wdGlvbnMpIHtcblxuICAgIGlmICh0eXBlb2YgdGl0bGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICBvcHRpb25zID0gdGl0bGU7XG4gICAgICB0aXRsZSA9IHRyYW5zbGF0ZSgnQXBwZW5kIHt0eXBlfScsIHsgdHlwZTogdHlwZS5yZXBsYWNlKC9eYnBtbjovLCAnJykgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXBwZW5kU3RhcnQoZXZlbnQsIGVsZW1lbnQpIHtcblxuICAgICAgdmFyIHNoYXBlID0gZWxlbWVudEZhY3RvcnkuY3JlYXRlU2hhcGUoYXNzaWduKHsgdHlwZTogdHlwZSB9LCBvcHRpb25zKSk7XG4gICAgICBjcmVhdGUuc3RhcnQoZXZlbnQsIHNoYXBlLCB7XG4gICAgICAgIHNvdXJjZTogZWxlbWVudFxuICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICB2YXIgYXBwZW5kID0gYXV0b1BsYWNlID8gZnVuY3Rpb24oZXZlbnQsIGVsZW1lbnQpIHtcbiAgICAgIHZhciBzaGFwZSA9IGVsZW1lbnRGYWN0b3J5LmNyZWF0ZVNoYXBlKGFzc2lnbih7IHR5cGU6IHR5cGUgfSwgb3B0aW9ucykpO1xuXG4gICAgICBhdXRvUGxhY2UuYXBwZW5kKGVsZW1lbnQsIHNoYXBlKTtcbiAgICB9IDogYXBwZW5kU3RhcnQ7XG5cblxuICAgIHJldHVybiB7XG4gICAgICBncm91cDogJ21vZGVsJyxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgYWN0aW9uOiB7XG4gICAgICAgIGRyYWdzdGFydDogYXBwZW5kU3RhcnQsXG4gICAgICAgIGNsaWNrOiBhcHBlbmRcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gc3BsaXRMYW5lSGFuZGxlcihjb3VudCkge1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKF8sIGVsZW1lbnQpIHtcblxuICAgICAgLy8gYWN0dWFsIHNwbGl0XG4gICAgICBtb2RlbGluZy5zcGxpdExhbmUoZWxlbWVudCwgY291bnQpO1xuXG4gICAgICAvLyByZWZyZXNoIGNvbnRleHQgcGFkIGFmdGVyIHNwbGl0IHRvXG4gICAgICAvLyBnZXQgcmlkIG9mIHNwbGl0IGljb25zXG4gICAgICBjb250ZXh0UGFkLm9wZW4oZWxlbWVudCwgdHJ1ZSk7XG4gICAgfTtcbiAgfVxuXG4gIGlmICghcG9wdXBNZW51LmlzRW1wdHkoZWxlbWVudCwgJ2JwbW4tcmVwbGFjZScpKSB7XG5cbiAgICAvLyBSZXBsYWNlIG1lbnUgZW50cnlcbiAgICBhc3NpZ24oYWN0aW9ucywge1xuICAgICAgJ3JlcGxhY2UnOiB7XG4gICAgICAgIGdyb3VwOiAnZWRpdCcsXG4gICAgICAgIGh0bWw6IGA8ZGl2IGNsYXNzPVwiZW50cnlcIj5cbiAgICAgICAgICA8c3ZnIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMTcgMTdcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICAgICAgICAgIDxtYXNrIGlkPVwibXlNYXNrXCI+XG4gICAgICAgICAgICAgIDxyZWN0IHg9XCIwXCIgeT1cIjBcIiB3aWR0aD1cIjE3XCIgaGVpZ2h0PVwiMTdcIiBmaWxsPVwid2hpdGVcIiBzdHJva2U9XCJ3aGl0ZVwiIC8+XG4gICAgICAgICAgICAgIDxyZWN0IHg9XCI1LjVcIiB5PVwiNi41XCIgd2lkdGg9XCIxMVwiIGhlaWdodD1cIjlcIiByeD1cIjIuNVwiIGZpbGw9XCJibGFja1wiIHN0cm9rZT1cImJsYWNrXCIgLz5cbiAgICAgICAgICAgIDwvbWFzaz5cbiAgICAgICAgICAgIDxyZWN0IHg9XCIwLjVcIiB5PVwiMS41XCIgd2lkdGg9XCIxMFwiIGhlaWdodD1cIjEwXCIgcng9XCI1XCIgZmlsbD1cInRyYW5zcGFyZW50XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgbWFzaz1cInVybCgjbXlNYXNrKVwiIC8+XG4gICAgICAgICAgICA8cmVjdCB4PVwiNS41XCIgeT1cIjYuNVwiIHdpZHRoPVwiMTFcIiBoZWlnaHQ9XCI5XCIgcng9XCIyLjVcIiBmaWxsPVwidHJhbnNwYXJlbnRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiAvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2Rpdj5gLFxuICAgICAgICB0aXRsZTogdHJhbnNsYXRlKCdDaGFuZ2UgdHlwZScpLFxuICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICBjbGljazogZnVuY3Rpb24oZXZlbnQsIGVsZW1lbnQpIHtcblxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gYXNzaWduKGdldFJlcGxhY2VNZW51UG9zaXRpb24oZWxlbWVudCksIHtcbiAgICAgICAgICAgICAgY3Vyc29yOiB7IHg6IGV2ZW50LngsIHk6IGV2ZW50LnkgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHBvcHVwTWVudS5vcGVuKGVsZW1lbnQsICdicG1uLXJlcGxhY2UnLCBwb3NpdGlvbiwge1xuICAgICAgICAgICAgICB0aXRsZTogdHJhbnNsYXRlKCdGb29iYXInKSxcbiAgICAgICAgICAgICAgd2lkdGg6IDMwMCxcbiAgICAgICAgICAgICAgc2VhcmNoOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChpc0FueShidXNpbmVzc09iamVjdCwgWyAnYnBtbjpMYW5lJywgJ2JwbW46UGFydGljaXBhbnQnIF0pICYmIGlzRXhwYW5kZWQoZWxlbWVudCkpIHtcblxuICAgIHZhciBjaGlsZExhbmVzID0gZ2V0Q2hpbGRMYW5lcyhlbGVtZW50KTtcblxuICAgIFxuXG4gICAgaWYgKGNoaWxkTGFuZXMubGVuZ3RoIDwgMikge1xuXG4gICAgICBpZiAoZWxlbWVudC5oZWlnaHQgPj0gMTIwKSB7XG4gICAgICAgIGFzc2lnbihhY3Rpb25zLCB7XG4gICAgICAgICAgJ2xhbmUtZGl2aWRlLXR3byc6IHtcbiAgICAgICAgICAgIGdyb3VwOiAnbGFuZS1kaXZpZGUnLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWxhbmUtZGl2aWRlLXR3bycsXG4gICAgICAgICAgICB0aXRsZTogdHJhbnNsYXRlKCdEaXZpZGUgaW50byB0d28gTGFuZXMnKSxcbiAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICBjbGljazogc3BsaXRMYW5lSGFuZGxlcigyKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbGVtZW50LmhlaWdodCA+PSAxODApIHtcbiAgICAgICAgYXNzaWduKGFjdGlvbnMsIHtcbiAgICAgICAgICAnbGFuZS1kaXZpZGUtdGhyZWUnOiB7XG4gICAgICAgICAgICBncm91cDogJ2xhbmUtZGl2aWRlJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1sYW5lLWRpdmlkZS10aHJlZScsXG4gICAgICAgICAgICB0aXRsZTogdHJhbnNsYXRlKCdEaXZpZGUgaW50byB0aHJlZSBMYW5lcycpLFxuICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgIGNsaWNrOiBzcGxpdExhbmVIYW5kbGVyKDMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBhc3NpZ24oYWN0aW9ucywge1xuICAgICAgJ2xhbmUtaW5zZXJ0LWJlbG93Jzoge1xuICAgICAgICBncm91cDogJ2xhbmUtaW5zZXJ0LWJlbG93JyxcbiAgICAgICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWxhbmUtaW5zZXJ0LWJlbG93JyxcbiAgICAgICAgdGl0bGU6IHRyYW5zbGF0ZSgnQWRkIExhbmUgYmVsb3cnKSxcbiAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKGV2ZW50LCBlbGVtZW50KSB7XG4gICAgICAgICAgICBtb2RlbGluZy5hZGRMYW5lKGVsZW1lbnQsICdib3R0b20nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICB9XG5cbiAgaWYgKGlzKGJ1c2luZXNzT2JqZWN0LCAnYnBtbjpGbG93Tm9kZScpKSB7XG5cbiAgICBpZiAoaXMoYnVzaW5lc3NPYmplY3QsICdicG1uOkV2ZW50QmFzZWRHYXRld2F5JykpIHtcblxuICAgICAgYXNzaWduKGFjdGlvbnMsIHtcbiAgICAgICAgJ2FwcGVuZC5yZWNlaXZlLXRhc2snOiBhcHBlbmRBY3Rpb24oXG4gICAgICAgICAgJ2JwbW46UmVjZWl2ZVRhc2snLFxuICAgICAgICAgICdicG1uLWljb24tcmVjZWl2ZS10YXNrJyxcbiAgICAgICAgICB0cmFuc2xhdGUoJ0FwcGVuZCBSZWNlaXZlVGFzaycpXG4gICAgICAgICksXG4gICAgICAgICdhcHBlbmQubWVzc2FnZS1pbnRlcm1lZGlhdGUtZXZlbnQnOiBhcHBlbmRBY3Rpb24oXG4gICAgICAgICAgJ2JwbW46SW50ZXJtZWRpYXRlQ2F0Y2hFdmVudCcsXG4gICAgICAgICAgJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtbWVzc2FnZScsXG4gICAgICAgICAgdHJhbnNsYXRlKCdBcHBlbmQgTWVzc2FnZUludGVybWVkaWF0ZUNhdGNoRXZlbnQnKSxcbiAgICAgICAgICB7IGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOk1lc3NhZ2VFdmVudERlZmluaXRpb24nIH1cbiAgICAgICAgKSxcbiAgICAgICAgJ2FwcGVuZC50aW1lci1pbnRlcm1lZGlhdGUtZXZlbnQnOiBhcHBlbmRBY3Rpb24oXG4gICAgICAgICAgJ2JwbW46SW50ZXJtZWRpYXRlQ2F0Y2hFdmVudCcsXG4gICAgICAgICAgJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtdGltZXInLFxuICAgICAgICAgIHRyYW5zbGF0ZSgnQXBwZW5kIFRpbWVySW50ZXJtZWRpYXRlQ2F0Y2hFdmVudCcpLFxuICAgICAgICAgIHsgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46VGltZXJFdmVudERlZmluaXRpb24nIH1cbiAgICAgICAgKSxcbiAgICAgICAgJ2FwcGVuZC5jb25kaXRpb24taW50ZXJtZWRpYXRlLWV2ZW50JzogYXBwZW5kQWN0aW9uKFxuICAgICAgICAgICdicG1uOkludGVybWVkaWF0ZUNhdGNoRXZlbnQnLFxuICAgICAgICAgICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LWNhdGNoLWNvbmRpdGlvbicsXG4gICAgICAgICAgdHJhbnNsYXRlKCdBcHBlbmQgQ29uZGl0aW9uSW50ZXJtZWRpYXRlQ2F0Y2hFdmVudCcpLFxuICAgICAgICAgIHsgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46Q29uZGl0aW9uYWxFdmVudERlZmluaXRpb24nIH1cbiAgICAgICAgKSxcbiAgICAgICAgJ2FwcGVuZC5zaWduYWwtaW50ZXJtZWRpYXRlLWV2ZW50JzogYXBwZW5kQWN0aW9uKFxuICAgICAgICAgICdicG1uOkludGVybWVkaWF0ZUNhdGNoRXZlbnQnLFxuICAgICAgICAgICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LWNhdGNoLXNpZ25hbCcsXG4gICAgICAgICAgdHJhbnNsYXRlKCdBcHBlbmQgU2lnbmFsSW50ZXJtZWRpYXRlQ2F0Y2hFdmVudCcpLFxuICAgICAgICAgIHsgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46U2lnbmFsRXZlbnREZWZpbml0aW9uJyB9XG4gICAgICAgIClcbiAgICAgIH0pO1xuICAgIH0gZWxzZVxuXG4gICAgaWYgKGlzRXZlbnRUeXBlKGJ1c2luZXNzT2JqZWN0LCAnYnBtbjpCb3VuZGFyeUV2ZW50JywgJ2JwbW46Q29tcGVuc2F0ZUV2ZW50RGVmaW5pdGlvbicpKSB7XG5cbiAgICAgIGFzc2lnbihhY3Rpb25zLCB7XG4gICAgICAgICdhcHBlbmQuY29tcGVuc2F0aW9uLWFjdGl2aXR5JzpcbiAgICAgICAgICAgIGFwcGVuZEFjdGlvbihcbiAgICAgICAgICAgICAgJ2JwbW46VGFzaycsXG4gICAgICAgICAgICAgICdicG1uLWljb24tdGFzaycsXG4gICAgICAgICAgICAgIHRyYW5zbGF0ZSgnQXBwZW5kIGNvbXBlbnNhdGlvbiBhY3Rpdml0eScpLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaXNGb3JDb21wZW5zYXRpb246IHRydWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgfSk7XG4gICAgfSBlbHNlXG5cbiAgICBpZiAoIWlzKGJ1c2luZXNzT2JqZWN0LCAnYnBtbjpFbmRFdmVudCcpICYmXG4gICAgICAgICFidXNpbmVzc09iamVjdC5pc0ZvckNvbXBlbnNhdGlvbiAmJlxuICAgICAgICAhaXNFdmVudFR5cGUoYnVzaW5lc3NPYmplY3QsICdicG1uOkludGVybWVkaWF0ZVRocm93RXZlbnQnLCAnYnBtbjpMaW5rRXZlbnREZWZpbml0aW9uJykgJiZcbiAgICAgICAgIWlzRXZlbnRTdWJQcm9jZXNzKGJ1c2luZXNzT2JqZWN0KSkge1xuXG4gICAgICBhc3NpZ24oYWN0aW9ucywge1xuICAgICAgICAvKlxuICAgICAgICAnYXBwZW5kLmVuZC1ldmVudCc6IGFwcGVuZEFjdGlvbihcbiAgICAgICAgICAnYnBtbjpFbmRFdmVudCcsXG4gICAgICAgICAgJ2JwbW4taWNvbi1lbmQtZXZlbnQtbm9uZScsXG4gICAgICAgICAgdHJhbnNsYXRlKCdBcHBlbmQgRW5kRXZlbnQnKVxuICAgICAgICApLFxuICAgICAgICAnYXBwZW5kLmdhdGV3YXknOiBhcHBlbmRBY3Rpb24oXG4gICAgICAgICAgJ2JwbW46RXhjbHVzaXZlR2F0ZXdheScsXG4gICAgICAgICAgJ2JwbW4taWNvbi1nYXRld2F5LW5vbmUnLFxuICAgICAgICAgIHRyYW5zbGF0ZSgnQXBwZW5kIEdhdGV3YXknKVxuICAgICAgICApLFxuICAgICAgICAnYXBwZW5kLmFwcGVuZC10YXNrJzogYXBwZW5kQWN0aW9uKFxuICAgICAgICAgICdicG1uOlRhc2snLFxuICAgICAgICAgICdicG1uLWljb24tdGFzaycsXG4gICAgICAgICAgdHJhbnNsYXRlKCdBcHBlbmQgVGFzaycpXG4gICAgICAgICksXG4gICAgICAgICdhcHBlbmQuaW50ZXJtZWRpYXRlLWV2ZW50JzogYXBwZW5kQWN0aW9uKFxuICAgICAgICAgICdicG1uOkludGVybWVkaWF0ZVRocm93RXZlbnQnLFxuICAgICAgICAgICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LW5vbmUnLFxuICAgICAgICAgIHRyYW5zbGF0ZSgnQXBwZW5kIEludGVybWVkaWF0ZS9Cb3VuZGFyeSBFdmVudCcpXG4gICAgICAgIClcbiAgICAgICAgKi9cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpcyhidXNpbmVzc09iamVjdCwgJ2JwbW46U2VxdWVuY2VGbG93JykpIHtcbiAgICBhc3NpZ24oYWN0aW9ucywge1xuICAgICAgJ2FwcGVuZC50ZXh0LWFubm90YXRpb24nOiBhcHBlbmRBY3Rpb24oXG4gICAgICAgICdicG1uOlRleHRBbm5vdGF0aW9uJyxcbiAgICAgICAgJ2JwbW4taWNvbi10ZXh0LWFubm90YXRpb24nLFxuICAgICAgICB0cmFuc2xhdGUoJ0FwcGVuZCBUZXh0QW5ub3RhdGlvbicpXG4gICAgICApXG4gICAgfSk7XG4gIH1cblxuICBpZiAoXG4gICAgaXNBbnkoYnVzaW5lc3NPYmplY3QsIFtcbiAgICAgICdicG1uOkZsb3dOb2RlJyxcbiAgICAgICdicG1uOkludGVyYWN0aW9uTm9kZScsXG4gICAgICAnYnBtbjpEYXRhT2JqZWN0UmVmZXJlbmNlJyxcbiAgICAgICdicG1uOkRhdGFTdG9yZVJlZmVyZW5jZScsXG4gICAgXSlcbiAgKSB7XG4gICAgYXNzaWduKGFjdGlvbnMsIHtcbiAgICAgICdhcHBlbmQudGV4dC1hbm5vdGF0aW9uJzogYXBwZW5kQWN0aW9uKFxuICAgICAgICAnYnBtbjpUZXh0QW5ub3RhdGlvbicsXG4gICAgICAgICdicG1uLWljb24tdGV4dC1hbm5vdGF0aW9uJyxcbiAgICAgICAgdHJhbnNsYXRlKCdBcHBlbmQgVGV4dEFubm90YXRpb24nKVxuICAgICAgKSxcblxuICAgICAgJ2Nvbm5lY3QnOiB7XG4gICAgICAgIGdyb3VwOiAnY29ubmVjdCcsXG4gICAgICAgIGh0bWw6IGA8ZGl2IGNsYXNzPVwiZW50cnlcIj5cbiAgICAgICAgICA8c3ZnIHdpZHRoPVwiMjVcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjUgMjRcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICAgICAgICAgIDxyZWN0IHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgwLjk0ODI0MilcIiBmaWxsPVwidHJhbnNwYXJlbnRcIiBzdHlsZT1cIm1peC1ibGVuZC1tb2RlOm11bHRpcGx5XCIvPlxuICAgICAgICAgICAgPHBhdGggZD1cIk04LjQ0ODI0IDQuNVY2SDE3Ljg5MDdMNS40NDgyNCAxOC40NDI1TDYuNTA1NzQgMTkuNUwxOC45NDgyIDcuMDU3NVYxNi41SDIwLjQ0ODJWNC41SDguNDQ4MjRaXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9kaXY+YCxcbiAgICAgICAgdGl0bGU6IHRyYW5zbGF0ZShcbiAgICAgICAgICAnQ29ubmVjdCB1c2luZyAnICtcbiAgICAgICAgICAgIChidXNpbmVzc09iamVjdC5pc0ZvckNvbXBlbnNhdGlvblxuICAgICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICAgIDogJ1NlcXVlbmNlL01lc3NhZ2VGbG93IG9yICcpICtcbiAgICAgICAgICAgICdBc3NvY2lhdGlvbidcbiAgICAgICAgKSxcbiAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgY2xpY2s6IHN0YXJ0Q29ubmVjdCxcbiAgICAgICAgICBkcmFnc3RhcnQ6IHN0YXJ0Q29ubmVjdCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBpZiAoaXMoYnVzaW5lc3NPYmplY3QsICdicG1uOlRleHRBbm5vdGF0aW9uJykpIHtcbiAgICBhc3NpZ24oYWN0aW9ucywge1xuICAgICAgJ2Nvbm5lY3QnOiB7XG4gICAgICAgIGdyb3VwOiAnY29ubmVjdCcsXG4gICAgICAgIGh0bWw6IGA8ZGl2IGNsYXNzPVwiZW50cnlcIj5cbiAgICAgICAgPHN2ZyB3aWR0aD1cIjI1XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI1IDI0XCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gICAgICAgICAgPHJlY3Qgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDAuOTQ4MjQyKVwiIGZpbGw9XCJ0cmFuc3BhcmVudFwiIHN0eWxlPVwibWl4LWJsZW5kLW1vZGU6bXVsdGlwbHlcIi8+XG4gICAgICAgICAgPHBhdGggZD1cIk04LjQ0ODI0IDQuNVY2SDE3Ljg5MDdMNS40NDgyNCAxOC40NDI1TDYuNTA1NzQgMTkuNUwxOC45NDgyIDcuMDU3NVYxNi41SDIwLjQ0ODJWNC41SDguNDQ4MjRaXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2Rpdj5gLFxuICAgICAgICB0aXRsZTogdHJhbnNsYXRlKCdDb25uZWN0IHVzaW5nIEFzc29jaWF0aW9uJyksXG4gICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgIGNsaWNrOiBzdGFydENvbm5lY3QsXG4gICAgICAgICAgZHJhZ3N0YXJ0OiBzdGFydENvbm5lY3QsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGlzQW55KGJ1c2luZXNzT2JqZWN0LCBbICdicG1uOkRhdGFPYmplY3RSZWZlcmVuY2UnLCAnYnBtbjpEYXRhU3RvcmVSZWZlcmVuY2UnIF0pKSB7XG4gICAgYXNzaWduKGFjdGlvbnMsIHtcbiAgICAgICdjb25uZWN0Jzoge1xuICAgICAgICBncm91cDogJ2Nvbm5lY3QnLFxuICAgICAgICBodG1sOiBgPGRpdiBjbGFzcz1cImVudHJ5XCI+XG4gICAgICAgIDxzdmcgd2lkdGg9XCIyNVwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNSAyNFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICAgIDxyZWN0IHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgwLjk0ODI0MilcIiBmaWxsPVwidHJhbnNwYXJlbnRcIiBzdHlsZT1cIm1peC1ibGVuZC1tb2RlOm11bHRpcGx5XCIvPlxuICAgICAgICAgIDxwYXRoIGQ9XCJNOC40NDgyNCA0LjVWNkgxNy44OTA3TDUuNDQ4MjQgMTguNDQyNUw2LjUwNTc0IDE5LjVMMTguOTQ4MiA3LjA1NzVWMTYuNUgyMC40NDgyVjQuNUg4LjQ0ODI0WlwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIi8+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgPC9kaXY+YCxcbiAgICAgICAgdGl0bGU6IHRyYW5zbGF0ZSgnQ29ubmVjdCB1c2luZyBEYXRhSW5wdXRBc3NvY2lhdGlvbicpLFxuICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICBjbGljazogc3RhcnRDb25uZWN0LFxuICAgICAgICAgIGRyYWdzdGFydDogc3RhcnRDb25uZWN0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChpcyhidXNpbmVzc09iamVjdCwgJ2JwbW46R3JvdXAnKSkge1xuICAgIGFzc2lnbihhY3Rpb25zLCB7XG4gICAgICAnYXBwZW5kLnRleHQtYW5ub3RhdGlvbic6IGFwcGVuZEFjdGlvbihcbiAgICAgICAgJ2JwbW46VGV4dEFubm90YXRpb24nLFxuICAgICAgICAnYnBtbi1pY29uLXRleHQtYW5ub3RhdGlvbicsXG4gICAgICAgIHRyYW5zbGF0ZSgnQXBwZW5kIFRleHRBbm5vdGF0aW9uJylcbiAgICAgIClcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGRlbGV0ZSBlbGVtZW50IGVudHJ5LCBvbmx5IHNob3cgaWYgYWxsb3dlZCBieSBydWxlc1xuICB2YXIgZGVsZXRlQWxsb3dlZCA9IHJ1bGVzLmFsbG93ZWQoJ2VsZW1lbnRzLmRlbGV0ZScsIHsgZWxlbWVudHM6IFsgZWxlbWVudCBdIH0pO1xuXG4gIGlmIChpc0FycmF5KGRlbGV0ZUFsbG93ZWQpKSB7XG5cbiAgICAvLyB3YXMgdGhlIGVsZW1lbnQgcmV0dXJuZWQgYXMgYSBkZWxldGlvbiBjYW5kaWRhdGU/XG4gICAgZGVsZXRlQWxsb3dlZCA9IGRlbGV0ZUFsbG93ZWRbMF0gPT09IGVsZW1lbnQ7XG4gIH1cblxuICBpZiAoZGVsZXRlQWxsb3dlZCkge1xuICAgIGFzc2lnbihhY3Rpb25zLCB7XG4gICAgICAnZGVsZXRlJzoge1xuICAgICAgICBncm91cDogJ2RlbGV0ZScsXG4gICAgICAgIGh0bWw6IGA8ZGl2IGNsYXNzPVwiZW50cnlcIj5cbiAgICAgICAgICA8c3ZnIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMTYgMTZcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICAgICAgICAgIDxyZWN0IHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIGZpbGw9XCJ3aGl0ZVwiIHN0eWxlPVwibWl4LWJsZW5kLW1vZGU6bXVsdGlwbHlcIi8+XG4gICAgICAgICAgICA8cGF0aCBkPVwiTTcgNkg2VjEySDdWNlpcIiBmaWxsPVwiY3VycmVudENvbG9yXCIvPlxuICAgICAgICAgICAgPHBhdGggZD1cIk0xMCA2SDlWMTJIMTBWNlpcIiBmaWxsPVwiY3VycmVudENvbG9yXCIvPlxuICAgICAgICAgICAgPHBhdGggZD1cIk0yIDNWNEgzVjE0QzMgMTQuMjY1MiAzLjEwNTM2IDE0LjUxOTYgMy4yOTI4OSAxNC43MDcxQzMuNDgwNDMgMTQuODk0NiAzLjczNDc4IDE1IDQgMTVIMTJDMTIuMjY1MiAxNSAxMi41MTk2IDE0Ljg5NDYgMTIuNzA3MSAxNC43MDcxQzEyLjg5NDYgMTQuNTE5NiAxMyAxNC4yNjUyIDEzIDE0VjRIMTRWM0gyWk00IDE0VjRIMTJWMTRINFpcIiBmaWxsPVwiY3VycmVudENvbG9yXCIvPlxuICAgICAgICAgICAgPHBhdGggZD1cIk0xMCAxSDZWMkgxMFYxWlwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIi8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgIDwvZGl2PmAsXG4gICAgICAgIHRpdGxlOiB0cmFuc2xhdGUoJ1JlbW92ZScpLFxuICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICBjbGljazogcmVtb3ZlRWxlbWVudFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gYWN0aW9ucztcbn07XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy9cblxuLyoqXG4gKiBAcGFyYW0ge01vZGRsZUVsZW1lbnR9IGJ1c2luZXNzT2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50RGVmaW5pdGlvblR5cGVcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0V2ZW50VHlwZShidXNpbmVzc09iamVjdCwgdHlwZSwgZXZlbnREZWZpbml0aW9uVHlwZSkge1xuXG4gIHZhciBpc1R5cGUgPSBidXNpbmVzc09iamVjdC4kaW5zdGFuY2VPZih0eXBlKTtcbiAgdmFyIGlzRGVmaW5pdGlvbiA9IGZhbHNlO1xuXG4gIHZhciBkZWZpbml0aW9ucyA9IGJ1c2luZXNzT2JqZWN0LmV2ZW50RGVmaW5pdGlvbnMgfHwgW107XG4gIGZvckVhY2goZGVmaW5pdGlvbnMsIGZ1bmN0aW9uKGRlZikge1xuICAgIGlmIChkZWYuJHR5cGUgPT09IGV2ZW50RGVmaW5pdGlvblR5cGUpIHtcbiAgICAgIGlzRGVmaW5pdGlvbiA9IHRydWU7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gaXNUeXBlICYmIGlzRGVmaW5pdGlvbjtcbn1cblxuZnVuY3Rpb24gaW5jbHVkZXMoYXJyYXksIGl0ZW0pIHtcbiAgcmV0dXJuIGFycmF5LmluZGV4T2YoaXRlbSkgIT09IC0xO1xufSJdLCJuYW1lcyI6WyJhc3NpZ24iLCJmb3JFYWNoIiwiaXNBcnJheSIsImV2ZXJ5IiwiaXMiLCJpc0V4cGFuZGVkIiwiaXNFdmVudFN1YlByb2Nlc3MiLCJpc0FueSIsImdldENoaWxkTGFuZXMiLCJoYXNQcmltYXJ5TW9kaWZpZXIiLCJDb250ZXh0UGFkUHJvdmlkZXIiLCJjb25maWciLCJpbmplY3RvciIsImV2ZW50QnVzIiwiY29udGV4dFBhZCIsIm1vZGVsaW5nIiwiZWxlbWVudEZhY3RvcnkiLCJjb25uZWN0IiwiY3JlYXRlIiwicG9wdXBNZW51IiwiY2FudmFzIiwicnVsZXMiLCJ0cmFuc2xhdGUiLCJyZWdpc3RlclByb3ZpZGVyIiwiX2NvbnRleHRQYWQiLCJfbW9kZWxpbmciLCJfZWxlbWVudEZhY3RvcnkiLCJfY29ubmVjdCIsIl9jcmVhdGUiLCJfcG9wdXBNZW51IiwiX2NhbnZhcyIsIl9ydWxlcyIsIl90cmFuc2xhdGUiLCJhdXRvUGxhY2UiLCJfYXV0b1BsYWNlIiwiZ2V0Iiwib24iLCJldmVudCIsImNvbnRleHQiLCJzaGFwZSIsImlzT3BlbiIsImVudHJpZXMiLCJnZXRFbnRyaWVzIiwicmVwbGFjZSIsImFjdGlvbiIsImNsaWNrIiwiJGluamVjdCIsInByb3RvdHlwZSIsImdldE11bHRpRWxlbWVudENvbnRleHRQYWRFbnRyaWVzIiwiZWxlbWVudHMiLCJhY3Rpb25zIiwiX2lzRGVsZXRlQWxsb3dlZCIsImdyb3VwIiwiaHRtbCIsInRpdGxlIiwicmVtb3ZlRWxlbWVudHMiLCJzbGljZSIsImJhc2VBbGxvd2VkIiwiYWxsb3dlZCIsImVsZW1lbnQiLCJpbmNsdWRlcyIsImdldENvbnRleHRQYWRFbnRyaWVzIiwidHlwZSIsImJ1c2luZXNzT2JqZWN0Iiwic3RhcnRDb25uZWN0Iiwic3RhcnQiLCJyZW1vdmVFbGVtZW50IiwiZSIsImdldFJlcGxhY2VNZW51UG9zaXRpb24iLCJZX09GRlNFVCIsInBhZCIsImdldFBhZCIsInBhZFJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJwb3MiLCJ4IiwibGVmdCIsInkiLCJib3R0b20iLCJhcHBlbmRBY3Rpb24iLCJjbGFzc05hbWUiLCJvcHRpb25zIiwiYXBwZW5kU3RhcnQiLCJjcmVhdGVTaGFwZSIsInNvdXJjZSIsImFwcGVuZCIsImRyYWdzdGFydCIsInNwbGl0TGFuZUhhbmRsZXIiLCJjb3VudCIsIl8iLCJzcGxpdExhbmUiLCJvcGVuIiwiaXNFbXB0eSIsInBvc2l0aW9uIiwiY3Vyc29yIiwid2lkdGgiLCJzZWFyY2giLCJjaGlsZExhbmVzIiwibGVuZ3RoIiwiaGVpZ2h0IiwiYWRkTGFuZSIsImV2ZW50RGVmaW5pdGlvblR5cGUiLCJpc0V2ZW50VHlwZSIsImlzRm9yQ29tcGVuc2F0aW9uIiwiZGVsZXRlQWxsb3dlZCIsImlzVHlwZSIsIiRpbnN0YW5jZU9mIiwiaXNEZWZpbml0aW9uIiwiZGVmaW5pdGlvbnMiLCJldmVudERlZmluaXRpb25zIiwiZGVmIiwiJHR5cGUiLCJhcnJheSIsIml0ZW0iLCJpbmRleE9mIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/features/ContextPadProvider.js\n");

/***/ }),

/***/ "./src/features/CustomAppendMenuProvider.js":
/*!**************************************************!*\
  !*** ./src/features/CustomAppendMenuProvider.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CustomAppendMenuProvider)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_CreateOptionsUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/CreateOptionsUtil */ \"./src/features/util/CreateOptionsUtil.js\");\n\n\n\n/**\n * This module is an append menu provider for the popup menu.\n */\nfunction CustomAppendMenuProvider(elementFactory, popupMenu, create, autoPlace, rules, mouse, translate) {\n  this._elementFactory = elementFactory;\n  this._popupMenu = popupMenu;\n  this._create = create;\n  this._autoPlace = autoPlace;\n  this._rules = rules;\n  this._create = create;\n  this._mouse = mouse;\n  this._translate = translate;\n  this.register();\n}\nCustomAppendMenuProvider.$inject = ['elementFactory', 'popupMenu', 'create', 'autoPlace', 'rules', 'mouse', 'translate'];\n\n/**\n * Register append menu provider in the popup menu\n */\nCustomAppendMenuProvider.prototype.register = function () {\n  this._popupMenu.registerProvider('bpmn-append', this);\n};\n\n/**\n * Gets the append options for the given element as menu entries\n *\n * @param {djs.model.Base} element\n *\n * @return {Array<Object>} a list of menu entry items\n */\nCustomAppendMenuProvider.prototype.getPopupMenuEntries = function (element) {\n  const rules = this._rules;\n  const translate = this._translate;\n  const entries = {};\n  if (!rules.allowed('shape.append', {\n    element: element\n  })) {\n    return [];\n  }\n\n  // filter out elements with no incoming connections\n  const appendOptions = this._filterEntries(_util_CreateOptionsUtil__WEBPACK_IMPORTED_MODULE_0__.CREATE_OPTIONS);\n\n  // map options to menu entries\n  appendOptions.forEach(option => {\n    const {\n      actionName,\n      className,\n      label,\n      target,\n      description,\n      group,\n      search,\n      rank\n    } = option;\n    entries[`append-${actionName}`] = {\n      label: label && translate(label),\n      className,\n      description,\n      group: group && {\n        ...group,\n        name: translate(group.name)\n      },\n      search,\n      rank,\n      action: this._createEntryAction(element, target)\n    };\n  });\n  return entries;\n};\n\n/**\n * Filter out entries from the options.\n *\n * @param {Array<Object>} entries\n *\n * @return {Array<Object>} filtered entries\n */\nCustomAppendMenuProvider.prototype._filterEntries = function (entries) {\n  return entries.filter(option => {\n    const target = option.target;\n    const {\n      type,\n      eventDefinitionType\n    } = target;\n    if (['bpmn:StartEvent', 'bpmn:Participant'].includes(type)) {\n      return false;\n    }\n    if (type === 'bpmn:BoundaryEvent' && (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.isUndefined)(eventDefinitionType)) {\n      return false;\n    }\n    return true;\n  });\n};\n\n/**\n * Create an action for a given target.\n *\n * @param {djs.model.Base} element\n * @param {Object} target\n *\n * @return {Object}\n */\nCustomAppendMenuProvider.prototype._createEntryAction = function (element, target) {\n  const elementFactory = this._elementFactory;\n  const autoPlace = this._autoPlace;\n  const create = this._create;\n  const mouse = this._mouse;\n  const autoPlaceElement = () => {\n    const newElement = elementFactory.create('shape', target);\n    autoPlace.append(element, newElement);\n  };\n  const manualPlaceElement = event => {\n    const newElement = elementFactory.create('shape', target);\n    if (event instanceof KeyboardEvent) {\n      event = mouse.getLastMoveEvent();\n    }\n    return create.start(event, newElement, {\n      source: element\n    });\n  };\n  return {\n    click: this._canAutoPlaceElement(target) ? autoPlaceElement : manualPlaceElement,\n    dragstart: manualPlaceElement\n  };\n};\n\n/**\n * Check if the element should be auto placed.\n *\n * @param {Object} target\n *\n * @return {Boolean}\n */\nCustomAppendMenuProvider.prototype._canAutoPlaceElement = target => {\n  const {\n    type\n  } = target;\n  if (type === 'bpmn:BoundaryEvent') {\n    return false;\n  }\n  if (type === 'bpmn:SubProcess' && target.triggeredByEvent) {\n    return false;\n  }\n  if (type === 'bpmn:IntermediateCatchEvent' && target.eventDefinitionType === 'bpmn:LinkEventDefinition') {\n    return false;\n  }\n  return true;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZmVhdHVyZXMvQ3VzdG9tQXBwZW5kTWVudVByb3ZpZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF1QztBQUNtQjs7QUFFMUQ7QUFDQTtBQUNBO0FBQ2UsU0FBU0Usd0JBQXdCQSxDQUM1Q0MsY0FBYyxFQUFFQyxTQUFTLEVBQ3pCQyxNQUFNLEVBQUVDLFNBQVMsRUFBRUMsS0FBSyxFQUN4QkMsS0FBSyxFQUFFQyxTQUFTLEVBQ2xCO0VBRUEsSUFBSSxDQUFDQyxlQUFlLEdBQUdQLGNBQWM7RUFDckMsSUFBSSxDQUFDUSxVQUFVLEdBQUdQLFNBQVM7RUFDM0IsSUFBSSxDQUFDUSxPQUFPLEdBQUdQLE1BQU07RUFDckIsSUFBSSxDQUFDUSxVQUFVLEdBQUdQLFNBQVM7RUFDM0IsSUFBSSxDQUFDUSxNQUFNLEdBQUdQLEtBQUs7RUFDbkIsSUFBSSxDQUFDSyxPQUFPLEdBQUdQLE1BQU07RUFDckIsSUFBSSxDQUFDVSxNQUFNLEdBQUdQLEtBQUs7RUFDbkIsSUFBSSxDQUFDUSxVQUFVLEdBQUdQLFNBQVM7RUFFM0IsSUFBSSxDQUFDUSxRQUFRLENBQUMsQ0FBQztBQUNqQjtBQUVBZix3QkFBd0IsQ0FBQ2dCLE9BQU8sR0FBRyxDQUNqQyxnQkFBZ0IsRUFDaEIsV0FBVyxFQUNYLFFBQVEsRUFDUixXQUFXLEVBQ1gsT0FBTyxFQUNQLE9BQU8sRUFDUCxXQUFXLENBQ1o7O0FBRUQ7QUFDQTtBQUNBO0FBQ0FoQix3QkFBd0IsQ0FBQ2lCLFNBQVMsQ0FBQ0YsUUFBUSxHQUFHLFlBQVc7RUFDdkQsSUFBSSxDQUFDTixVQUFVLENBQUNTLGdCQUFnQixDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUM7QUFDdkQsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBbEIsd0JBQXdCLENBQUNpQixTQUFTLENBQUNFLG1CQUFtQixHQUFHLFVBQVNDLE9BQU8sRUFBRTtFQUN6RSxNQUFNZixLQUFLLEdBQUcsSUFBSSxDQUFDTyxNQUFNO0VBQ3pC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QUFDLENBQUM7SUFDbEM7SUFFQSxPQUFPN0MsTUFBTSxDQUFDOEMsS0FBSyxDQUFDSCxLQUFLLEVBQUVILFVBQVUsRUFBRTtNQUNyQ08sTUFBTSxFQUFFOUI7SUFDVixDQUFDLENBQUM7RUFDSixDQUFDO0VBRUQsT0FBTztJQUNMK0IsS0FBSyxFQUFFLElBQUksQ0FBQ0Msb0JBQW9CLENBQUN0QixNQUFNLENBQUMsR0FBR1ksZ0JBQWdCLEdBQUdHLGtCQUFrQjtJQUNoRlEsU0FBUyxFQUFFUjtFQUNiLENBQUM7QUFDSCxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E3Qyx3QkFBd0IsQ0FBQ2lCLFNBQVMsQ0FBQ21DLG9CQUFvQixHQUFJdEIsTUFBTSxJQUFLO0VBQ3BFLE1BQU07SUFBRVM7RUFBSyxDQUFDLEdBQUdULE1BQU07RUFFdkIsSUFBSVMsSUFBSSxLQUFLLG9CQUFvQixFQUFFO0lBQ2pDLE9BQU8sS0FBSztFQUNkO0VBRUEsSUFBSUEsSUFBSSxLQUFLLGlCQUFpQixJQUFJVCxNQUFNLENBQUN3QixnQkFBZ0IsRUFBRTtJQUN6RCxPQUFPLEtBQUs7RUFDZDtFQUVBLElBQUlmLElBQUksS0FBSyw2QkFBNkIsSUFBSVQsTUFBTSxDQUFDVSxtQkFBbUIsS0FBSywwQkFBMEIsRUFBRTtJQUN2RyxPQUFPLEtBQUs7RUFDZDtFQUVBLE9BQU8sSUFBSTtBQUNiLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZGF5cy0yMDIzLy4vc3JjL2ZlYXR1cmVzL0N1c3RvbUFwcGVuZE1lbnVQcm92aWRlci5qcz82OTI2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzVW5kZWZpbmVkIH0gZnJvbSAnbWluLWRhc2gnO1xuaW1wb3J0IHsgQ1JFQVRFX09QVElPTlMgfSBmcm9tICcuL3V0aWwvQ3JlYXRlT3B0aW9uc1V0aWwnO1xuXG4vKipcbiAqIFRoaXMgbW9kdWxlIGlzIGFuIGFwcGVuZCBtZW51IHByb3ZpZGVyIGZvciB0aGUgcG9wdXAgbWVudS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ3VzdG9tQXBwZW5kTWVudVByb3ZpZGVyKFxuICAgIGVsZW1lbnRGYWN0b3J5LCBwb3B1cE1lbnUsXG4gICAgY3JlYXRlLCBhdXRvUGxhY2UsIHJ1bGVzLFxuICAgIG1vdXNlLCB0cmFuc2xhdGVcbikge1xuXG4gIHRoaXMuX2VsZW1lbnRGYWN0b3J5ID0gZWxlbWVudEZhY3Rvcnk7XG4gIHRoaXMuX3BvcHVwTWVudSA9IHBvcHVwTWVudTtcbiAgdGhpcy5fY3JlYXRlID0gY3JlYXRlO1xuICB0aGlzLl9hdXRvUGxhY2UgPSBhdXRvUGxhY2U7XG4gIHRoaXMuX3J1bGVzID0gcnVsZXM7XG4gIHRoaXMuX2NyZWF0ZSA9IGNyZWF0ZTtcbiAgdGhpcy5fbW91c2UgPSBtb3VzZTtcbiAgdGhpcy5fdHJhbnNsYXRlID0gdHJhbnNsYXRlO1xuXG4gIHRoaXMucmVnaXN0ZXIoKTtcbn1cblxuQ3VzdG9tQXBwZW5kTWVudVByb3ZpZGVyLiRpbmplY3QgPSBbXG4gICdlbGVtZW50RmFjdG9yeScsXG4gICdwb3B1cE1lbnUnLFxuICAnY3JlYXRlJyxcbiAgJ2F1dG9QbGFjZScsXG4gICdydWxlcycsXG4gICdtb3VzZScsXG4gICd0cmFuc2xhdGUnXG5dO1xuXG4vKipcbiAqIFJlZ2lzdGVyIGFwcGVuZCBtZW51IHByb3ZpZGVyIGluIHRoZSBwb3B1cCBtZW51XG4gKi9cbkN1c3RvbUFwcGVuZE1lbnVQcm92aWRlci5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcG9wdXBNZW51LnJlZ2lzdGVyUHJvdmlkZXIoJ2JwbW4tYXBwZW5kJywgdGhpcyk7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGFwcGVuZCBvcHRpb25zIGZvciB0aGUgZ2l2ZW4gZWxlbWVudCBhcyBtZW51IGVudHJpZXNcbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7QXJyYXk8T2JqZWN0Pn0gYSBsaXN0IG9mIG1lbnUgZW50cnkgaXRlbXNcbiAqL1xuQ3VzdG9tQXBwZW5kTWVudVByb3ZpZGVyLnByb3RvdHlwZS5nZXRQb3B1cE1lbnVFbnRyaWVzID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICBjb25zdCBydWxlcyA9IHRoaXMuX3J1bGVzO1xuICBjb25zdCB0cmFuc2xhdGUgPSB0aGlzLl90cmFuc2xhdGU7XG5cbiAgY29uc3QgZW50cmllcyA9IHt9O1xuXG4gIGlmICghcnVsZXMuYWxsb3dlZCgnc2hhcGUuYXBwZW5kJywgeyBlbGVtZW50OiBlbGVtZW50IH0pKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgLy8gZmlsdGVyIG91dCBlbGVtZW50cyB3aXRoIG5vIGluY29taW5nIGNvbm5lY3Rpb25zXG4gIGNvbnN0IGFwcGVuZE9wdGlvbnMgPSB0aGlzLl9maWx0ZXJFbnRyaWVzKENSRUFURV9PUFRJT05TKTtcblxuICAvLyBtYXAgb3B0aW9ucyB0byBtZW51IGVudHJpZXNcbiAgYXBwZW5kT3B0aW9ucy5mb3JFYWNoKG9wdGlvbiA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgYWN0aW9uTmFtZSxcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIGxhYmVsLFxuICAgICAgdGFyZ2V0LFxuICAgICAgZGVzY3JpcHRpb24sXG4gICAgICBncm91cCxcbiAgICAgIHNlYXJjaCxcbiAgICAgIHJhbmtcbiAgICB9ID0gb3B0aW9uO1xuXG4gICAgZW50cmllc1tgYXBwZW5kLSR7YWN0aW9uTmFtZX1gXSA9IHtcbiAgICAgIGxhYmVsOiBsYWJlbCAmJiB0cmFuc2xhdGUobGFiZWwpLFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgZGVzY3JpcHRpb24sXG4gICAgICBncm91cDogZ3JvdXAgJiYge1xuICAgICAgICAuLi5ncm91cCxcbiAgICAgICAgbmFtZTogdHJhbnNsYXRlKGdyb3VwLm5hbWUpXG4gICAgICB9LFxuICAgICAgc2VhcmNoLFxuICAgICAgcmFuayxcbiAgICAgIGFjdGlvbjogdGhpcy5fY3JlYXRlRW50cnlBY3Rpb24oZWxlbWVudCwgdGFyZ2V0KVxuICAgIH07XG4gIH0pO1xuXG4gIHJldHVybiBlbnRyaWVzO1xufTtcblxuLyoqXG4gKiBGaWx0ZXIgb3V0IGVudHJpZXMgZnJvbSB0aGUgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PE9iamVjdD59IGVudHJpZXNcbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxPYmplY3Q+fSBmaWx0ZXJlZCBlbnRyaWVzXG4gKi9cbkN1c3RvbUFwcGVuZE1lbnVQcm92aWRlci5wcm90b3R5cGUuX2ZpbHRlckVudHJpZXMgPSBmdW5jdGlvbihlbnRyaWVzKSB7XG4gIHJldHVybiBlbnRyaWVzLmZpbHRlcihvcHRpb24gPT4ge1xuXG4gICAgY29uc3QgdGFyZ2V0ID0gb3B0aW9uLnRhcmdldDtcbiAgICBjb25zdCB7XG4gICAgICB0eXBlLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZVxuICAgIH0gPSB0YXJnZXQ7XG5cbiAgICBpZiAoW1xuICAgICAgJ2JwbW46U3RhcnRFdmVudCcsXG4gICAgICAnYnBtbjpQYXJ0aWNpcGFudCdcbiAgICBdLmluY2x1ZGVzKHR5cGUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHR5cGUgPT09ICdicG1uOkJvdW5kYXJ5RXZlbnQnICYmIGlzVW5kZWZpbmVkKGV2ZW50RGVmaW5pdGlvblR5cGUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gYWN0aW9uIGZvciBhIGdpdmVuIHRhcmdldC5cbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5DdXN0b21BcHBlbmRNZW51UHJvdmlkZXIucHJvdG90eXBlLl9jcmVhdGVFbnRyeUFjdGlvbiA9IGZ1bmN0aW9uKGVsZW1lbnQsIHRhcmdldCkge1xuICBjb25zdCBlbGVtZW50RmFjdG9yeSA9IHRoaXMuX2VsZW1lbnRGYWN0b3J5O1xuICBjb25zdCBhdXRvUGxhY2UgPSB0aGlzLl9hdXRvUGxhY2U7XG4gIGNvbnN0IGNyZWF0ZSA9IHRoaXMuX2NyZWF0ZTtcbiAgY29uc3QgbW91c2UgPSB0aGlzLl9tb3VzZTtcblxuXG4gIGNvbnN0IGF1dG9QbGFjZUVsZW1lbnQgPSAoKSA9PiB7XG4gICAgY29uc3QgbmV3RWxlbWVudCA9IGVsZW1lbnRGYWN0b3J5LmNyZWF0ZSgnc2hhcGUnLCB0YXJnZXQpO1xuICAgIGF1dG9QbGFjZS5hcHBlbmQoZWxlbWVudCwgbmV3RWxlbWVudCk7XG4gIH07XG5cbiAgY29uc3QgbWFudWFsUGxhY2VFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgbmV3RWxlbWVudCA9IGVsZW1lbnRGYWN0b3J5LmNyZWF0ZSgnc2hhcGUnLCB0YXJnZXQpO1xuXG4gICAgaWYgKGV2ZW50IGluc3RhbmNlb2YgS2V5Ym9hcmRFdmVudCkge1xuICAgICAgZXZlbnQgPSBtb3VzZS5nZXRMYXN0TW92ZUV2ZW50KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZS5zdGFydChldmVudCwgbmV3RWxlbWVudCwge1xuICAgICAgc291cmNlOiBlbGVtZW50XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBjbGljazogdGhpcy5fY2FuQXV0b1BsYWNlRWxlbWVudCh0YXJnZXQpID8gYXV0b1BsYWNlRWxlbWVudCA6IG1hbnVhbFBsYWNlRWxlbWVudCxcbiAgICBkcmFnc3RhcnQ6IG1hbnVhbFBsYWNlRWxlbWVudFxuICB9O1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZWxlbWVudCBzaG91bGQgYmUgYXV0byBwbGFjZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbkN1c3RvbUFwcGVuZE1lbnVQcm92aWRlci5wcm90b3R5cGUuX2NhbkF1dG9QbGFjZUVsZW1lbnQgPSAodGFyZ2V0KSA9PiB7XG4gIGNvbnN0IHsgdHlwZSB9ID0gdGFyZ2V0O1xuXG4gIGlmICh0eXBlID09PSAnYnBtbjpCb3VuZGFyeUV2ZW50Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0eXBlID09PSAnYnBtbjpTdWJQcm9jZXNzJyAmJiB0YXJnZXQudHJpZ2dlcmVkQnlFdmVudCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0eXBlID09PSAnYnBtbjpJbnRlcm1lZGlhdGVDYXRjaEV2ZW50JyAmJiB0YXJnZXQuZXZlbnREZWZpbml0aW9uVHlwZSA9PT0gJ2JwbW46TGlua0V2ZW50RGVmaW5pdGlvbicpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07Il0sIm5hbWVzIjpbImlzVW5kZWZpbmVkIiwiQ1JFQVRFX09QVElPTlMiLCJDdXN0b21BcHBlbmRNZW51UHJvdmlkZXIiLCJlbGVtZW50RmFjdG9yeSIsInBvcHVwTWVudSIsImNyZWF0ZSIsImF1dG9QbGFjZSIsInJ1bGVzIiwibW91c2UiLCJ0cmFuc2xhdGUiLCJfZWxlbWVudEZhY3RvcnkiLCJfcG9wdXBNZW51IiwiX2NyZWF0ZSIsIl9hdXRvUGxhY2UiLCJfcnVsZXMiLCJfbW91c2UiLCJfdHJhbnNsYXRlIiwicmVnaXN0ZXIiLCIkaW5qZWN0IiwicHJvdG90eXBlIiwicmVnaXN0ZXJQcm92aWRlciIsImdldFBvcHVwTWVudUVudHJpZXMiLCJlbGVtZW50IiwiZW50cmllcyIsImFsbG93ZWQiLCJhcHBlbmRPcHRpb25zIiwiX2ZpbHRlckVudHJpZXMiLCJmb3JFYWNoIiwib3B0aW9uIiwiYWN0aW9uTmFtZSIsImNsYXNzTmFtZSIsImxhYmVsIiwidGFyZ2V0IiwiZGVzY3JpcHRpb24iLCJncm91cCIsInNlYXJjaCIsInJhbmsiLCJuYW1lIiwiYWN0aW9uIiwiX2NyZWF0ZUVudHJ5QWN0aW9uIiwiZmlsdGVyIiwidHlwZSIsImV2ZW50RGVmaW5pdGlvblR5cGUiLCJpbmNsdWRlcyIsImF1dG9QbGFjZUVsZW1lbnQiLCJuZXdFbGVtZW50IiwiYXBwZW5kIiwibWFudWFsUGxhY2VFbGVtZW50IiwiZXZlbnQiLCJLZXlib2FyZEV2ZW50IiwiZ2V0TGFzdE1vdmVFdmVudCIsInN0YXJ0Iiwic291cmNlIiwiY2xpY2siLCJfY2FuQXV0b1BsYWNlRWxlbWVudCIsImRyYWdzdGFydCIsInRyaWdnZXJlZEJ5RXZlbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/features/CustomAppendMenuProvider.js\n");

/***/ }),

/***/ "./src/features/index.js":
/*!*******************************!*\
  !*** ./src/features/index.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _AppendNode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AppendNode */ \"./src/features/AppendNode.js\");\n/* harmony import */ var _AppendNodeProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AppendNodeProvider */ \"./src/features/AppendNodeProvider.js\");\n/* harmony import */ var _BoundaryEventAppender__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BoundaryEventAppender */ \"./src/features/BoundaryEventAppender.js\");\n/* harmony import */ var _BoundaryEventAppenderProvider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BoundaryEventAppenderProvider */ \"./src/features/BoundaryEventAppenderProvider.js\");\n/* harmony import */ var _ContextPad__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ContextPad */ \"./src/features/ContextPad.js\");\n/* harmony import */ var _ContextPadProvider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ContextPadProvider */ \"./src/features/ContextPadProvider.js\");\n/* harmony import */ var bpmn_js_create_append_anything__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! bpmn-js-create-append-anything */ \"./node_modules/bpmn-js-create-append-anything/dist/index.es.js\");\n/* harmony import */ var _CustomAppendMenuProvider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./CustomAppendMenuProvider */ \"./src/features/CustomAppendMenuProvider.js\");\n/* harmony import */ var bpmn_js_lib_features_append_preview_AppendPreview__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! bpmn-js/lib/features/append-preview/AppendPreview */ \"../bpmn-io/bpmn-js/lib/features/append-preview/AppendPreview.js\");\n/* harmony import */ var _Connect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Connect */ \"./src/features/Connect.js\");\n/* harmony import */ var bpmn_js_color_picker__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! bpmn-js-color-picker */ \"../bpmn-io/bpmn-js-color-picker/index.js\");\n/* harmony import */ var diagram_js_grid__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! diagram-js-grid */ \"./node_modules/diagram-js-grid/dist/index.esm.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: ['contextPad', 'contextPadProvider', 'appendNode', 'appendNodeProvider', 'boundaryEventAppender', 'boundaryEventAppenderProvider', 'appendMenuProvider', 'appendPreview', 'connect'],\n  __depends__: [bpmn_js_create_append_anything__WEBPACK_IMPORTED_MODULE_6__.CreateAppendAnythingModule, bpmn_js_color_picker__WEBPACK_IMPORTED_MODULE_9__[\"default\"], diagram_js_grid__WEBPACK_IMPORTED_MODULE_10__[\"default\"]],\n  contextPad: ['type', _ContextPad__WEBPACK_IMPORTED_MODULE_4__[\"default\"]],\n  contextPadProvider: ['type', _ContextPadProvider__WEBPACK_IMPORTED_MODULE_5__[\"default\"]],\n  appendNode: ['type', _AppendNode__WEBPACK_IMPORTED_MODULE_0__[\"default\"]],\n  appendNodeProvider: ['type', _AppendNodeProvider__WEBPACK_IMPORTED_MODULE_1__[\"default\"]],\n  boundaryEventAppender: ['type', _BoundaryEventAppender__WEBPACK_IMPORTED_MODULE_2__[\"default\"]],\n  boundaryEventAppenderProvider: ['type', _BoundaryEventAppenderProvider__WEBPACK_IMPORTED_MODULE_3__[\"default\"]],\n  appendMenuProvider: ['type', _CustomAppendMenuProvider__WEBPACK_IMPORTED_MODULE_7__[\"default\"]],\n  appendContextPadProvider: ['value', null],\n  appendPreview: ['type', bpmn_js_lib_features_append_preview_AppendPreview__WEBPACK_IMPORTED_MODULE_11__[\"default\"]],\n  connect: ['type', _Connect__WEBPACK_IMPORTED_MODULE_8__[\"default\"]]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZmVhdHVyZXMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFzQztBQUNnQjtBQUNNO0FBQ2dCO0FBQ3RDO0FBQ2dCO0FBQ3NCO0FBQ1Y7QUFDWTtBQUM5QztBQUV5QjtBQUVoQjtBQUV6QyxpRUFBZTtFQUNiWSxRQUFRLEVBQUUsQ0FBRSxZQUFZLEVBQUUsb0JBQW9CLEVBQUUsWUFBWSxFQUFFLG9CQUFvQixFQUFFLHVCQUF1QixFQUFFLCtCQUErQixFQUFFLG9CQUFvQixFQUFFLGVBQWUsRUFBRSxTQUFTLENBQUU7RUFDaE1DLFdBQVcsRUFBRSxDQUFFUCxzRkFBMEIsRUFBRUksNERBQXFCLEVBQUVDLHdEQUFVLENBQUU7RUFDOUVHLFVBQVUsRUFBRSxDQUFFLE1BQU0sRUFBRVYsbURBQVUsQ0FBRTtFQUNsQ1csa0JBQWtCLEVBQUUsQ0FBRSxNQUFNLEVBQUVWLDJEQUFrQixDQUFFO0VBQ2xEVyxVQUFVLEVBQUUsQ0FBRSxNQUFNLEVBQUVoQixtREFBVSxDQUFFO0VBQ2xDaUIsa0JBQWtCLEVBQUUsQ0FBRSxNQUFNLEVBQUVoQiwyREFBa0IsQ0FBRTtFQUNsRGlCLHFCQUFxQixFQUFFLENBQUUsTUFBTSxFQUFFaEIsOERBQXFCLENBQUU7RUFDeERpQiw2QkFBNkIsRUFBRSxDQUFFLE1BQU0sRUFBRWhCLHNFQUE2QixDQUFFO0VBQ3hFaUIsa0JBQWtCLEVBQUUsQ0FBRSxNQUFNLEVBQUViLGlFQUF3QixDQUFFO0VBQ3hEYyx3QkFBd0IsRUFBRSxDQUFFLE9BQU8sRUFBRSxJQUFJLENBQUU7RUFDM0NDLGFBQWEsRUFBRSxDQUFFLE1BQU0sRUFBRWQsMEZBQWEsQ0FBRTtFQUN4Q2UsT0FBTyxFQUFFLENBQUUsTUFBTSxFQUFFZCxnREFBTztBQUM1QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2RheXMtMjAyMy8uL3NyYy9mZWF0dXJlcy9pbmRleC5qcz81OTE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBcHBlbmROb2RlIGZyb20gJy4vQXBwZW5kTm9kZSc7XG5pbXBvcnQgQXBwZW5kTm9kZVByb3ZpZGVyIGZyb20gJy4vQXBwZW5kTm9kZVByb3ZpZGVyJztcbmltcG9ydCBCb3VuZGFyeUV2ZW50QXBwZW5kZXIgZnJvbSAnLi9Cb3VuZGFyeUV2ZW50QXBwZW5kZXInO1xuaW1wb3J0IEJvdW5kYXJ5RXZlbnRBcHBlbmRlclByb3ZpZGVyIGZyb20gJy4vQm91bmRhcnlFdmVudEFwcGVuZGVyUHJvdmlkZXInO1xuaW1wb3J0IENvbnRleHRQYWQgZnJvbSAnLi9Db250ZXh0UGFkJztcbmltcG9ydCBDb250ZXh0UGFkUHJvdmlkZXIgZnJvbSAnLi9Db250ZXh0UGFkUHJvdmlkZXInO1xuaW1wb3J0IHsgQ3JlYXRlQXBwZW5kQW55dGhpbmdNb2R1bGUgfSBmcm9tICdicG1uLWpzLWNyZWF0ZS1hcHBlbmQtYW55dGhpbmcnO1xuaW1wb3J0IEN1c3RvbUFwcGVuZE1lbnVQcm92aWRlciBmcm9tICcuL0N1c3RvbUFwcGVuZE1lbnVQcm92aWRlcic7XG5pbXBvcnQgQXBwZW5kUHJldmlldyBmcm9tICdicG1uLWpzL2xpYi9mZWF0dXJlcy9hcHBlbmQtcHJldmlldy9BcHBlbmRQcmV2aWV3JztcbmltcG9ydCBDb25uZWN0IGZyb20gJy4vQ29ubmVjdCc7XG5cbmltcG9ydCBCcG1uQ29sb3JQaWNrZXJNb2R1bGUgZnJvbSAnYnBtbi1qcy1jb2xvci1waWNrZXInO1xuXG5pbXBvcnQgR3JpZE1vZHVsZSBmcm9tICdkaWFncmFtLWpzLWdyaWQnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbICdjb250ZXh0UGFkJywgJ2NvbnRleHRQYWRQcm92aWRlcicsICdhcHBlbmROb2RlJywgJ2FwcGVuZE5vZGVQcm92aWRlcicsICdib3VuZGFyeUV2ZW50QXBwZW5kZXInLCAnYm91bmRhcnlFdmVudEFwcGVuZGVyUHJvdmlkZXInLCAnYXBwZW5kTWVudVByb3ZpZGVyJywgJ2FwcGVuZFByZXZpZXcnLCAnY29ubmVjdCcgXSxcbiAgX19kZXBlbmRzX186IFsgQ3JlYXRlQXBwZW5kQW55dGhpbmdNb2R1bGUsIEJwbW5Db2xvclBpY2tlck1vZHVsZSwgR3JpZE1vZHVsZSBdLFxuICBjb250ZXh0UGFkOiBbICd0eXBlJywgQ29udGV4dFBhZCBdLFxuICBjb250ZXh0UGFkUHJvdmlkZXI6IFsgJ3R5cGUnLCBDb250ZXh0UGFkUHJvdmlkZXIgXSxcbiAgYXBwZW5kTm9kZTogWyAndHlwZScsIEFwcGVuZE5vZGUgXSxcbiAgYXBwZW5kTm9kZVByb3ZpZGVyOiBbICd0eXBlJywgQXBwZW5kTm9kZVByb3ZpZGVyIF0sXG4gIGJvdW5kYXJ5RXZlbnRBcHBlbmRlcjogWyAndHlwZScsIEJvdW5kYXJ5RXZlbnRBcHBlbmRlciBdLFxuICBib3VuZGFyeUV2ZW50QXBwZW5kZXJQcm92aWRlcjogWyAndHlwZScsIEJvdW5kYXJ5RXZlbnRBcHBlbmRlclByb3ZpZGVyIF0sXG4gIGFwcGVuZE1lbnVQcm92aWRlcjogWyAndHlwZScsIEN1c3RvbUFwcGVuZE1lbnVQcm92aWRlciBdLFxuICBhcHBlbmRDb250ZXh0UGFkUHJvdmlkZXI6IFsgJ3ZhbHVlJywgbnVsbCBdLFxuICBhcHBlbmRQcmV2aWV3OiBbICd0eXBlJywgQXBwZW5kUHJldmlldyBdLFxuICBjb25uZWN0OiBbICd0eXBlJywgQ29ubmVjdCBdXG59O1xuIl0sIm5hbWVzIjpbIkFwcGVuZE5vZGUiLCJBcHBlbmROb2RlUHJvdmlkZXIiLCJCb3VuZGFyeUV2ZW50QXBwZW5kZXIiLCJCb3VuZGFyeUV2ZW50QXBwZW5kZXJQcm92aWRlciIsIkNvbnRleHRQYWQiLCJDb250ZXh0UGFkUHJvdmlkZXIiLCJDcmVhdGVBcHBlbmRBbnl0aGluZ01vZHVsZSIsIkN1c3RvbUFwcGVuZE1lbnVQcm92aWRlciIsIkFwcGVuZFByZXZpZXciLCJDb25uZWN0IiwiQnBtbkNvbG9yUGlja2VyTW9kdWxlIiwiR3JpZE1vZHVsZSIsIl9faW5pdF9fIiwiX19kZXBlbmRzX18iLCJjb250ZXh0UGFkIiwiY29udGV4dFBhZFByb3ZpZGVyIiwiYXBwZW5kTm9kZSIsImFwcGVuZE5vZGVQcm92aWRlciIsImJvdW5kYXJ5RXZlbnRBcHBlbmRlciIsImJvdW5kYXJ5RXZlbnRBcHBlbmRlclByb3ZpZGVyIiwiYXBwZW5kTWVudVByb3ZpZGVyIiwiYXBwZW5kQ29udGV4dFBhZFByb3ZpZGVyIiwiYXBwZW5kUHJldmlldyIsImNvbm5lY3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/features/index.js\n");

/***/ }),

/***/ "./src/features/util/CreateOptionsUtil.js":
/*!************************************************!*\
  !*** ./src/features/util/CreateOptionsUtil.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COMMON: () => (/* binding */ COMMON),\n/* harmony export */   COMMON_GROUP: () => (/* binding */ COMMON_GROUP),\n/* harmony export */   CREATE_OPTIONS: () => (/* binding */ CREATE_OPTIONS),\n/* harmony export */   DATA_GROUP: () => (/* binding */ DATA_GROUP),\n/* harmony export */   DATA_OBJECTS: () => (/* binding */ DATA_OBJECTS),\n/* harmony export */   EVENT_GROUP: () => (/* binding */ EVENT_GROUP),\n/* harmony export */   GATEWAY: () => (/* binding */ GATEWAY),\n/* harmony export */   GATEWAY_GROUP: () => (/* binding */ GATEWAY_GROUP),\n/* harmony export */   NONE_EVENTS: () => (/* binding */ NONE_EVENTS),\n/* harmony export */   PARTICIPANT: () => (/* binding */ PARTICIPANT),\n/* harmony export */   PARTICIPANT_GROUP: () => (/* binding */ PARTICIPANT_GROUP),\n/* harmony export */   SUBPROCESS: () => (/* binding */ SUBPROCESS),\n/* harmony export */   SUBPROCESS_GROUP: () => (/* binding */ SUBPROCESS_GROUP),\n/* harmony export */   TASK: () => (/* binding */ TASK),\n/* harmony export */   TASK_GROUP: () => (/* binding */ TASK_GROUP),\n/* harmony export */   TYPED_BOUNDARY_EVENT: () => (/* binding */ TYPED_BOUNDARY_EVENT),\n/* harmony export */   TYPED_END_EVENT: () => (/* binding */ TYPED_END_EVENT),\n/* harmony export */   TYPED_INTERMEDIATE_EVENT: () => (/* binding */ TYPED_INTERMEDIATE_EVENT),\n/* harmony export */   TYPED_START_EVENTS: () => (/* binding */ TYPED_START_EVENTS)\n/* harmony export */ });\nconst COMMON_GROUP = {\n  id: 'common',\n  name: 'Common'\n};\nconst EVENT_GROUP = {\n  id: 'events',\n  name: 'Events'\n};\nconst TASK_GROUP = {\n  id: 'tasks',\n  name: 'Tasks'\n};\nconst DATA_GROUP = {\n  id: 'data',\n  name: 'Data'\n};\nconst PARTICIPANT_GROUP = {\n  id: 'participants',\n  name: 'Participants'\n};\nconst SUBPROCESS_GROUP = {\n  id: 'subprocess',\n  name: 'Sub Processes'\n};\nconst GATEWAY_GROUP = {\n  id: 'gateways',\n  name: 'Gateways'\n};\nconst COMMON = [{\n  label: 'Task',\n  actionName: 'common-task',\n  className: 'bpmn-icon-task',\n  target: {\n    type: 'bpmn:Task'\n  }\n}, {\n  label: 'Exclusive Gateway',\n  actionName: 'common-exclusive-gateway',\n  className: 'bpmn-icon-gateway-xor',\n  target: {\n    type: 'bpmn:ExclusiveGateway'\n  }\n}, {\n  label: 'End Event',\n  actionName: 'common-none-end-event',\n  className: 'bpmn-icon-end-event-none',\n  target: {\n    type: 'bpmn:EndEvent'\n  }\n}].map(option => ({\n  ...option,\n  group: COMMON_GROUP\n}));\nconst NONE_EVENTS = [{\n  label: 'Start Event',\n  actionName: 'none-start-event',\n  className: 'bpmn-icon-start-event-none',\n  target: {\n    type: 'bpmn:StartEvent'\n  }\n}, {\n  label: 'Intermediate Throw Event',\n  actionName: 'none-intermediate-throwing',\n  className: 'bpmn-icon-intermediate-event-none',\n  target: {\n    type: 'bpmn:IntermediateThrowEvent'\n  }\n}, {\n  label: 'Boundary Event',\n  actionName: 'none-boundary-event',\n  className: 'bpmn-icon-intermediate-event-none',\n  target: {\n    type: 'bpmn:BoundaryEvent'\n  }\n}, {\n  label: 'End Event',\n  actionName: 'none-end-event',\n  className: 'bpmn-icon-end-event-none',\n  target: {\n    type: 'bpmn:EndEvent'\n  }\n}].map(option => ({\n  ...option,\n  group: EVENT_GROUP\n}));\nconst TYPED_START_EVENTS = [{\n  label: 'Message Start Event',\n  actionName: 'message-start',\n  className: 'bpmn-icon-start-event-message',\n  target: {\n    type: 'bpmn:StartEvent',\n    eventDefinitionType: 'bpmn:MessageEventDefinition'\n  }\n}, {\n  label: 'Timer Start Event',\n  actionName: 'timer-start',\n  className: 'bpmn-icon-start-event-timer',\n  target: {\n    type: 'bpmn:StartEvent',\n    eventDefinitionType: 'bpmn:TimerEventDefinition'\n  }\n}, {\n  label: 'Conditional Start Event',\n  actionName: 'conditional-start',\n  className: 'bpmn-icon-start-event-condition',\n  target: {\n    type: 'bpmn:StartEvent',\n    eventDefinitionType: 'bpmn:ConditionalEventDefinition'\n  }\n}, {\n  label: 'Signal Start Event',\n  actionName: 'signal-start',\n  className: 'bpmn-icon-start-event-signal',\n  target: {\n    type: 'bpmn:StartEvent',\n    eventDefinitionType: 'bpmn:SignalEventDefinition'\n  }\n}].map(option => ({\n  ...option,\n  group: EVENT_GROUP\n}));\nconst TYPED_INTERMEDIATE_EVENT = [{\n  label: 'Message Intermediate Catch Event',\n  actionName: 'message-intermediate-catch',\n  className: 'bpmn-icon-intermediate-event-catch-message',\n  target: {\n    type: 'bpmn:IntermediateCatchEvent',\n    eventDefinitionType: 'bpmn:MessageEventDefinition'\n  }\n}, {\n  label: 'Message Intermediate Throw Event',\n  actionName: 'message-intermediate-throw',\n  className: 'bpmn-icon-intermediate-event-throw-message',\n  target: {\n    type: 'bpmn:IntermediateThrowEvent',\n    eventDefinitionType: 'bpmn:MessageEventDefinition'\n  }\n}, {\n  label: 'Timer Intermediate Catch Event',\n  actionName: 'timer-intermediate-catch',\n  className: 'bpmn-icon-intermediate-event-catch-timer',\n  target: {\n    type: 'bpmn:IntermediateCatchEvent',\n    eventDefinitionType: 'bpmn:TimerEventDefinition'\n  }\n}, {\n  label: 'Escalation Intermediate Throw Event',\n  actionName: 'escalation-intermediate-throw',\n  className: 'bpmn-icon-intermediate-event-throw-escalation',\n  target: {\n    type: 'bpmn:IntermediateThrowEvent',\n    eventDefinitionType: 'bpmn:EscalationEventDefinition'\n  }\n}, {\n  label: 'Conditional Intermediate Catch Event',\n  actionName: 'conditional-intermediate-catch',\n  className: 'bpmn-icon-intermediate-event-catch-condition',\n  target: {\n    type: 'bpmn:IntermediateCatchEvent',\n    eventDefinitionType: 'bpmn:ConditionalEventDefinition'\n  }\n}, {\n  label: 'Link Intermediate Catch Event',\n  actionName: 'link-intermediate-catch',\n  className: 'bpmn-icon-intermediate-event-catch-link',\n  target: {\n    type: 'bpmn:IntermediateCatchEvent',\n    eventDefinitionType: 'bpmn:LinkEventDefinition',\n    eventDefinitionAttrs: {\n      name: ''\n    }\n  }\n}, {\n  label: 'Link Intermediate Throw Event',\n  actionName: 'link-intermediate-throw',\n  className: 'bpmn-icon-intermediate-event-throw-link',\n  target: {\n    type: 'bpmn:IntermediateThrowEvent',\n    eventDefinitionType: 'bpmn:LinkEventDefinition',\n    eventDefinitionAttrs: {\n      name: ''\n    }\n  }\n}, {\n  label: 'Compensation Intermediate Throw Event',\n  actionName: 'compensation-intermediate-throw',\n  className: 'bpmn-icon-intermediate-event-throw-compensation',\n  target: {\n    type: 'bpmn:IntermediateThrowEvent',\n    eventDefinitionType: 'bpmn:CompensateEventDefinition'\n  }\n}, {\n  label: 'Signal Intermediate Catch Event',\n  actionName: 'signal-intermediate-catch',\n  className: 'bpmn-icon-intermediate-event-catch-signal',\n  target: {\n    type: 'bpmn:IntermediateCatchEvent',\n    eventDefinitionType: 'bpmn:SignalEventDefinition'\n  }\n}, {\n  label: 'Signal Intermediate Throw Event',\n  actionName: 'signal-intermediate-throw',\n  className: 'bpmn-icon-intermediate-event-throw-signal',\n  target: {\n    type: 'bpmn:IntermediateThrowEvent',\n    eventDefinitionType: 'bpmn:SignalEventDefinition'\n  }\n}].map(option => ({\n  ...option,\n  group: EVENT_GROUP\n}));\nconst TYPED_BOUNDARY_EVENT = [{\n  label: 'Message Boundary Event',\n  actionName: 'message-boundary',\n  className: 'bpmn-icon-intermediate-event-catch-message',\n  target: {\n    type: 'bpmn:BoundaryEvent',\n    eventDefinitionType: 'bpmn:MessageEventDefinition'\n  }\n}, {\n  label: 'Timer Boundary Event',\n  actionName: 'timer-boundary',\n  className: 'bpmn-icon-intermediate-event-catch-timer',\n  target: {\n    type: 'bpmn:BoundaryEvent',\n    eventDefinitionType: 'bpmn:TimerEventDefinition'\n  }\n}, {\n  label: 'Escalation Boundary Event',\n  actionName: 'escalation-boundary',\n  className: 'bpmn-icon-intermediate-event-catch-escalation',\n  target: {\n    type: 'bpmn:BoundaryEvent',\n    eventDefinitionType: 'bpmn:EscalationEventDefinition'\n  }\n}, {\n  label: 'Conditional Boundary Event',\n  actionName: 'conditional-boundary',\n  className: 'bpmn-icon-intermediate-event-catch-condition',\n  target: {\n    type: 'bpmn:BoundaryEvent',\n    eventDefinitionType: 'bpmn:ConditionalEventDefinition'\n  }\n}, {\n  label: 'Error Boundary Event',\n  actionName: 'error-boundary',\n  className: 'bpmn-icon-intermediate-event-catch-error',\n  target: {\n    type: 'bpmn:BoundaryEvent',\n    eventDefinitionType: 'bpmn:ErrorEventDefinition'\n  }\n}, {\n  label: 'Cancel Boundary Event',\n  actionName: 'cancel-boundary',\n  className: 'bpmn-icon-intermediate-event-catch-cancel',\n  target: {\n    type: 'bpmn:BoundaryEvent',\n    eventDefinitionType: 'bpmn:CancelEventDefinition'\n  }\n}, {\n  label: 'Signal Boundary Event',\n  actionName: 'signal-boundary',\n  className: 'bpmn-icon-intermediate-event-catch-signal',\n  target: {\n    type: 'bpmn:BoundaryEvent',\n    eventDefinitionType: 'bpmn:SignalEventDefinition'\n  }\n}, {\n  label: 'Compensation Boundary Event',\n  actionName: 'compensation-boundary',\n  className: 'bpmn-icon-intermediate-event-catch-compensation',\n  target: {\n    type: 'bpmn:BoundaryEvent',\n    eventDefinitionType: 'bpmn:CompensateEventDefinition'\n  }\n}, {\n  label: 'Message Boundary Event (non-interrupting)',\n  actionName: 'non-interrupting-message-boundary',\n  className: 'bpmn-icon-intermediate-event-catch-non-interrupting-message',\n  target: {\n    type: 'bpmn:BoundaryEvent',\n    eventDefinitionType: 'bpmn:MessageEventDefinition',\n    cancelActivity: false\n  }\n}, {\n  label: 'Timer Boundary Event (non-interrupting)',\n  actionName: 'non-interrupting-timer-boundary',\n  className: 'bpmn-icon-intermediate-event-catch-non-interrupting-timer',\n  target: {\n    type: 'bpmn:BoundaryEvent',\n    eventDefinitionType: 'bpmn:TimerEventDefinition',\n    cancelActivity: false\n  }\n}, {\n  label: 'Escalation Boundary Event (non-interrupting)',\n  actionName: 'non-interrupting-escalation-boundary',\n  className: 'bpmn-icon-intermediate-event-catch-non-interrupting-escalation',\n  target: {\n    type: 'bpmn:BoundaryEvent',\n    eventDefinitionType: 'bpmn:EscalationEventDefinition',\n    cancelActivity: false\n  }\n}, {\n  label: 'Conditional Boundary Event (non-interrupting)',\n  actionName: 'non-interrupting-conditional-boundary',\n  className: 'bpmn-icon-intermediate-event-catch-non-interrupting-condition',\n  target: {\n    type: 'bpmn:BoundaryEvent',\n    eventDefinitionType: 'bpmn:ConditionalEventDefinition',\n    cancelActivity: false\n  }\n}, {\n  label: 'Signal Boundary Event (non-interrupting)',\n  actionName: 'non-interrupting-signal-boundary',\n  className: 'bpmn-icon-intermediate-event-catch-non-interrupting-signal',\n  target: {\n    type: 'bpmn:BoundaryEvent',\n    eventDefinitionType: 'bpmn:SignalEventDefinition',\n    cancelActivity: false\n  }\n}].map(option => ({\n  ...option,\n  group: EVENT_GROUP\n}));\nconst TYPED_END_EVENT = [{\n  label: 'Message End Event',\n  actionName: 'message-end',\n  className: 'bpmn-icon-end-event-message',\n  target: {\n    type: 'bpmn:EndEvent',\n    eventDefinitionType: 'bpmn:MessageEventDefinition'\n  }\n}, {\n  label: 'Escalation End Event',\n  actionName: 'escalation-end',\n  className: 'bpmn-icon-end-event-escalation',\n  target: {\n    type: 'bpmn:EndEvent',\n    eventDefinitionType: 'bpmn:EscalationEventDefinition'\n  }\n}, {\n  label: 'Error End Event',\n  actionName: 'error-end',\n  className: 'bpmn-icon-end-event-error',\n  target: {\n    type: 'bpmn:EndEvent',\n    eventDefinitionType: 'bpmn:ErrorEventDefinition'\n  }\n}, {\n  label: 'Cancel End Event',\n  actionName: 'cancel-end',\n  className: 'bpmn-icon-end-event-cancel',\n  target: {\n    type: 'bpmn:EndEvent',\n    eventDefinitionType: 'bpmn:CancelEventDefinition'\n  }\n}, {\n  label: 'Compensation End Event',\n  actionName: 'compensation-end',\n  className: 'bpmn-icon-end-event-compensation',\n  target: {\n    type: 'bpmn:EndEvent',\n    eventDefinitionType: 'bpmn:CompensateEventDefinition'\n  }\n}, {\n  label: 'Signal End Event',\n  actionName: 'signal-end',\n  className: 'bpmn-icon-end-event-signal',\n  target: {\n    type: 'bpmn:EndEvent',\n    eventDefinitionType: 'bpmn:SignalEventDefinition'\n  }\n}, {\n  label: 'Terminate End Event',\n  actionName: 'terminate-end',\n  className: 'bpmn-icon-end-event-terminate',\n  target: {\n    type: 'bpmn:EndEvent',\n    eventDefinitionType: 'bpmn:TerminateEventDefinition'\n  }\n}].map(option => ({\n  ...option,\n  group: EVENT_GROUP\n}));\nconst GATEWAY = [{\n  label: 'Exclusive Gateway',\n  actionName: 'exclusive-gateway',\n  className: 'bpmn-icon-gateway-xor',\n  target: {\n    type: 'bpmn:ExclusiveGateway'\n  }\n}, {\n  label: 'Parallel Gateway',\n  actionName: 'parallel-gateway',\n  className: 'bpmn-icon-gateway-parallel',\n  target: {\n    type: 'bpmn:ParallelGateway'\n  }\n}, {\n  label: 'Inclusive Gateway',\n  search: 'or',\n  actionName: 'inclusive-gateway',\n  className: 'bpmn-icon-gateway-or',\n  target: {\n    type: 'bpmn:InclusiveGateway'\n  },\n  rank: -1\n}, {\n  label: 'Complex Gateway',\n  actionName: 'complex-gateway',\n  className: 'bpmn-icon-gateway-complex',\n  target: {\n    type: 'bpmn:ComplexGateway'\n  },\n  rank: -1\n}, {\n  label: 'Event based Gateway',\n  actionName: 'event-based-gateway',\n  className: 'bpmn-icon-gateway-eventbased',\n  target: {\n    type: 'bpmn:EventBasedGateway',\n    instantiate: false,\n    eventGatewayType: 'Exclusive'\n  }\n}].map(option => ({\n  ...option,\n  group: GATEWAY_GROUP\n}));\nconst SUBPROCESS = [{\n  label: 'Transaction',\n  actionName: 'transaction',\n  className: 'bpmn-icon-transaction',\n  target: {\n    type: 'bpmn:Transaction',\n    isExpanded: true\n  }\n}, {\n  label: 'Event Sub Process',\n  search: 'subprocess',\n  actionName: 'event-subprocess',\n  className: 'bpmn-icon-event-subprocess-expanded',\n  target: {\n    type: 'bpmn:SubProcess',\n    triggeredByEvent: true,\n    isExpanded: true\n  }\n}, {\n  label: 'Sub Process (collapsed)',\n  search: 'subprocess',\n  actionName: 'collapsed-subprocess',\n  className: 'bpmn-icon-subprocess-collapsed',\n  target: {\n    type: 'bpmn:SubProcess',\n    isExpanded: false\n  }\n}, {\n  label: 'Sub Process (expanded)',\n  search: 'subprocess',\n  actionName: 'expanded-subprocess',\n  className: 'bpmn-icon-subprocess-collapsed',\n  target: {\n    type: 'bpmn:SubProcess',\n    isExpanded: true\n  }\n}].map(option => ({\n  ...option,\n  group: SUBPROCESS_GROUP\n}));\nconst TASK = [{\n  label: 'Task',\n  actionName: 'task',\n  className: 'bpmn-icon-task',\n  target: {\n    type: 'bpmn:Task'\n  }\n}, {\n  label: 'User Task',\n  actionName: 'user-task',\n  className: 'bpmn-icon-user',\n  target: {\n    type: 'bpmn:UserTask'\n  }\n}, {\n  label: 'Service Task',\n  actionName: 'service-task',\n  className: 'bpmn-icon-service',\n  target: {\n    type: 'bpmn:ServiceTask'\n  }\n}, {\n  label: 'Send Task',\n  actionName: 'send-task',\n  className: 'bpmn-icon-send',\n  target: {\n    type: 'bpmn:SendTask'\n  },\n  rank: -1\n}, {\n  label: 'Receive Task',\n  actionName: 'receive-task',\n  className: 'bpmn-icon-receive',\n  target: {\n    type: 'bpmn:ReceiveTask'\n  },\n  rank: -1\n}, {\n  label: 'Manual Task',\n  actionName: 'manual-task',\n  className: 'bpmn-icon-manual',\n  target: {\n    type: 'bpmn:ManualTask'\n  },\n  rank: -1\n}, {\n  label: 'Business Rule Task',\n  actionName: 'rule-task',\n  className: 'bpmn-icon-business-rule',\n  target: {\n    type: 'bpmn:BusinessRuleTask'\n  }\n}, {\n  label: 'Script Task',\n  actionName: 'script-task',\n  className: 'bpmn-icon-script',\n  target: {\n    type: 'bpmn:ScriptTask'\n  }\n}, {\n  label: 'Call Activity',\n  actionName: 'call-activity',\n  className: 'bpmn-icon-call-activity',\n  target: {\n    type: 'bpmn:CallActivity'\n  }\n}].map(option => ({\n  ...option,\n  group: TASK_GROUP\n}));\nconst DATA_OBJECTS = [{\n  label: 'Data Store Reference',\n  actionName: 'data-store-reference',\n  className: 'bpmn-icon-data-store',\n  target: {\n    type: 'bpmn:DataStoreReference'\n  }\n}, {\n  label: 'Data Object Reference',\n  actionName: 'data-object-reference',\n  className: 'bpmn-icon-data-object',\n  target: {\n    type: 'bpmn:DataObjectReference'\n  }\n}].map(option => ({\n  ...option,\n  group: DATA_GROUP\n}));\nconst PARTICIPANT = [{\n  label: 'Expanded Pool',\n  search: 'Participant',\n  actionName: 'expanded-pool',\n  className: 'bpmn-icon-participant',\n  target: {\n    type: 'bpmn:Participant',\n    isExpanded: true\n  }\n}, {\n  label: 'Empty Pool',\n  search: 'Collapsed Participant',\n  actionName: 'collapsed-pool',\n  className: 'bpmn-icon-lane',\n  target: {\n    type: 'bpmn:Participant',\n    isExpanded: false\n  }\n}].map(option => ({\n  ...option,\n  group: PARTICIPANT_GROUP\n}));\nconst CREATE_OPTIONS = [...COMMON, ...GATEWAY, ...TASK, ...SUBPROCESS, ...NONE_EVENTS, ...TYPED_START_EVENTS, ...TYPED_INTERMEDIATE_EVENT, ...TYPED_END_EVENT, ...TYPED_BOUNDARY_EVENT, ...DATA_OBJECTS, ...PARTICIPANT];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZmVhdHVyZXMvdXRpbC9DcmVhdGVPcHRpb25zVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQU8sTUFBTUEsWUFBWSxHQUFHO0VBQzFCQyxFQUFFLEVBQUUsUUFBUTtFQUNaQyxJQUFJLEVBQUU7QUFDUixDQUFDO0FBRU0sTUFBTUMsV0FBVyxHQUFHO0VBQ3pCRixFQUFFLEVBQUUsUUFBUTtFQUNaQyxJQUFJLEVBQUU7QUFDUixDQUFDO0FBRU0sTUFBTUUsVUFBVSxHQUFHO0VBQ3hCSCxFQUFFLEVBQUUsT0FBTztFQUNYQyxJQUFJLEVBQUU7QUFDUixDQUFDO0FBRU0sTUFBTUcsVUFBVSxHQUFHO0VBQ3hCSixFQUFFLEVBQUUsTUFBTTtFQUNWQyxJQUFJLEVBQUU7QUFDUixDQUFDO0FBRU0sTUFBTUksaUJBQWlCLEdBQUc7RUFDL0JMLEVBQUUsRUFBRSxjQUFjO0VBQ2xCQyxJQUFJLEVBQUU7QUFDUixDQUFDO0FBRU0sTUFBTUssZ0JBQWdCLEdBQUc7RUFDOUJOLEVBQUUsRUFBRSxZQUFZO0VBQ2hCQyxJQUFJLEVBQUU7QUFDUixDQUFDO0FBRU0sTUFBTU0sYUFBYSxHQUFHO0VBQzNCUCxFQUFFLEVBQUUsVUFBVTtFQUNkQyxJQUFJLEVBQUU7QUFDUixDQUFDO0FBRU0sTUFBTU8sTUFBTSxHQUFHLENBQ3BCO0VBQ0VDLEtBQUssRUFBRSxNQUFNO0VBQ2JDLFVBQVUsRUFBRSxhQUFhO0VBQ3pCQyxTQUFTLEVBQUUsZ0JBQWdCO0VBQzNCQyxNQUFNLEVBQUU7SUFDTkMsSUFBSSxFQUFFO0VBQ1I7QUFDRixDQUFDLEVBQ0Q7RUFDRUosS0FBSyxFQUFFLG1CQUFtQjtFQUMxQkMsVUFBVSxFQUFFLDBCQUEwQjtFQUN0Q0MsU0FBUyxFQUFFLHVCQUF1QjtFQUNsQ0MsTUFBTSxFQUFFO0lBQ05DLElBQUksRUFBRTtFQUNSO0FBQ0YsQ0FBQyxFQUNEO0VBQ0VKLEtBQUssRUFBRSxXQUFXO0VBQ2xCQyxVQUFVLEVBQUUsdUJBQXVC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QUUsZUFBZTtFQUMzQkMsU0FBUyxFQUFFLHVCQUF1QjtFQUNsQ0MsTUFBTSxFQUFFO0lBQ05DLElBQUksRUFBRSxrQkFBa0I7SUFDeEJrQixVQUFVLEVBQUU7RUFDZDtBQUNGLENBQUMsRUFDRDtFQUNFdEIsS0FBSyxFQUFFLFlBQVk7RUFDbkJpQixNQUFNLEVBQUUsdUJBQXVCO0VBQy9CaEIsVUFBVSxFQUFFLGdCQUFnQjtFQUM1QkMsU0FBUyxFQUFFLGdCQUFnQjtFQUMzQkMsTUFBTSxFQUFFO0lBQ05DLElBQUksRUFBRSxrQkFBa0I7SUFDeEJrQixVQUFVLEVBQUU7RUFDZDtBQUNGLENBQUMsQ0FDRixDQUFDakIsR0FBRyxDQUFDQyxNQUFNLEtBQUs7RUFBRSxHQUFHQSxNQUFNO0VBQUVDLEtBQUssRUFBRVg7QUFBa0IsQ0FBQyxDQUFDLENBQUM7QUFFbkQsTUFBTStCLGNBQWMsR0FBRyxDQUM1QixHQUFHNUIsTUFBTSxFQUNULEdBQUdpQixPQUFPLEVBQ1YsR0FBR1EsSUFBSSxFQUNQLEdBQUdILFVBQVUsRUFDYixHQUFHYixXQUFXLEVBQ2QsR0FBR0Msa0JBQWtCLEVBQ3JCLEdBQUdFLHdCQUF3QixFQUMzQixHQUFHSSxlQUFlLEVBQ2xCLEdBQUdGLG9CQUFvQixFQUN2QixHQUFHWSxZQUFZLEVBQ2YsR0FBR0MsV0FBVyxDQUNmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2RheXMtMjAyMy8uL3NyYy9mZWF0dXJlcy91dGlsL0NyZWF0ZU9wdGlvbnNVdGlsLmpzPzJhYWQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IENPTU1PTl9HUk9VUCA9IHtcbiAgaWQ6ICdjb21tb24nLFxuICBuYW1lOiAnQ29tbW9uJ1xufTtcblxuZXhwb3J0IGNvbnN0IEVWRU5UX0dST1VQID0ge1xuICBpZDogJ2V2ZW50cycsXG4gIG5hbWU6ICdFdmVudHMnXG59O1xuXG5leHBvcnQgY29uc3QgVEFTS19HUk9VUCA9IHtcbiAgaWQ6ICd0YXNrcycsXG4gIG5hbWU6ICdUYXNrcydcbn07XG5cbmV4cG9ydCBjb25zdCBEQVRBX0dST1VQID0ge1xuICBpZDogJ2RhdGEnLFxuICBuYW1lOiAnRGF0YSdcbn07XG5cbmV4cG9ydCBjb25zdCBQQVJUSUNJUEFOVF9HUk9VUCA9IHtcbiAgaWQ6ICdwYXJ0aWNpcGFudHMnLFxuICBuYW1lOiAnUGFydGljaXBhbnRzJ1xufTtcblxuZXhwb3J0IGNvbnN0IFNVQlBST0NFU1NfR1JPVVAgPSB7XG4gIGlkOiAnc3VicHJvY2VzcycsXG4gIG5hbWU6ICdTdWIgUHJvY2Vzc2VzJ1xufTtcblxuZXhwb3J0IGNvbnN0IEdBVEVXQVlfR1JPVVAgPSB7XG4gIGlkOiAnZ2F0ZXdheXMnLFxuICBuYW1lOiAnR2F0ZXdheXMnXG59O1xuXG5leHBvcnQgY29uc3QgQ09NTU9OID0gW1xuICB7XG4gICAgbGFiZWw6ICdUYXNrJyxcbiAgICBhY3Rpb25OYW1lOiAnY29tbW9uLXRhc2snLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi10YXNrJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlRhc2snXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdFeGNsdXNpdmUgR2F0ZXdheScsXG4gICAgYWN0aW9uTmFtZTogJ2NvbW1vbi1leGNsdXNpdmUtZ2F0ZXdheScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWdhdGV3YXkteG9yJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkV4Y2x1c2l2ZUdhdGV3YXknXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdFbmQgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdjb21tb24tbm9uZS1lbmQtZXZlbnQnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1lbmQtZXZlbnQtbm9uZScsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpFbmRFdmVudCdcbiAgICB9XG4gIH1cbl0ubWFwKG9wdGlvbiA9PiAoeyAuLi5vcHRpb24sIGdyb3VwOiBDT01NT05fR1JPVVAgfSkpO1xuXG5leHBvcnQgY29uc3QgTk9ORV9FVkVOVFMgPSBbXG4gIHtcbiAgICBsYWJlbDogJ1N0YXJ0IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAnbm9uZS1zdGFydC1ldmVudCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXN0YXJ0LWV2ZW50LW5vbmUnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46U3RhcnRFdmVudCdcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0ludGVybWVkaWF0ZSBUaHJvdyBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ25vbmUtaW50ZXJtZWRpYXRlLXRocm93aW5nJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LW5vbmUnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46SW50ZXJtZWRpYXRlVGhyb3dFdmVudCdcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0JvdW5kYXJ5IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAnbm9uZS1ib3VuZGFyeS1ldmVudCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1ub25lJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkJvdW5kYXJ5RXZlbnQnXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdFbmQgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdub25lLWVuZC1ldmVudCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWVuZC1ldmVudC1ub25lJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkVuZEV2ZW50J1xuICAgIH1cbiAgfVxuXS5tYXAob3B0aW9uID0+ICh7IC4uLm9wdGlvbiwgZ3JvdXA6IEVWRU5UX0dST1VQIH0pKTtcblxuZXhwb3J0IGNvbnN0IFRZUEVEX1NUQVJUX0VWRU5UUyA9IFtcbiAge1xuICAgIGxhYmVsOiAnTWVzc2FnZSBTdGFydCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ21lc3NhZ2Utc3RhcnQnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1zdGFydC1ldmVudC1tZXNzYWdlJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlN0YXJ0RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46TWVzc2FnZUV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1RpbWVyIFN0YXJ0IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAndGltZXItc3RhcnQnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1zdGFydC1ldmVudC10aW1lcicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTdGFydEV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOlRpbWVyRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnQ29uZGl0aW9uYWwgU3RhcnQgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdjb25kaXRpb25hbC1zdGFydCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXN0YXJ0LWV2ZW50LWNvbmRpdGlvbicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTdGFydEV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOkNvbmRpdGlvbmFsRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnU2lnbmFsIFN0YXJ0IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAnc2lnbmFsLXN0YXJ0JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tc3RhcnQtZXZlbnQtc2lnbmFsJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlN0YXJ0RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46U2lnbmFsRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfVxuXS5tYXAob3B0aW9uID0+ICh7IC4uLm9wdGlvbiwgZ3JvdXA6IEVWRU5UX0dST1VQIH0pKTtcblxuZXhwb3J0IGNvbnN0IFRZUEVEX0lOVEVSTUVESUFURV9FVkVOVCA9IFtcbiAge1xuICAgIGxhYmVsOiAnTWVzc2FnZSBJbnRlcm1lZGlhdGUgQ2F0Y2ggRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdtZXNzYWdlLWludGVybWVkaWF0ZS1jYXRjaCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC1tZXNzYWdlJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkludGVybWVkaWF0ZUNhdGNoRXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46TWVzc2FnZUV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ01lc3NhZ2UgSW50ZXJtZWRpYXRlIFRocm93IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAnbWVzc2FnZS1pbnRlcm1lZGlhdGUtdGhyb3cnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtdGhyb3ctbWVzc2FnZScsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpJbnRlcm1lZGlhdGVUaHJvd0V2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOk1lc3NhZ2VFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdUaW1lciBJbnRlcm1lZGlhdGUgQ2F0Y2ggRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICd0aW1lci1pbnRlcm1lZGlhdGUtY2F0Y2gnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtdGltZXInLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46SW50ZXJtZWRpYXRlQ2F0Y2hFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpUaW1lckV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0VzY2FsYXRpb24gSW50ZXJtZWRpYXRlIFRocm93IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAnZXNjYWxhdGlvbi1pbnRlcm1lZGlhdGUtdGhyb3cnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtdGhyb3ctZXNjYWxhdGlvbicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpJbnRlcm1lZGlhdGVUaHJvd0V2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOkVzY2FsYXRpb25FdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdDb25kaXRpb25hbCBJbnRlcm1lZGlhdGUgQ2F0Y2ggRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdjb25kaXRpb25hbC1pbnRlcm1lZGlhdGUtY2F0Y2gnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtY29uZGl0aW9uJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkludGVybWVkaWF0ZUNhdGNoRXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46Q29uZGl0aW9uYWxFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdMaW5rIEludGVybWVkaWF0ZSBDYXRjaCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ2xpbmstaW50ZXJtZWRpYXRlLWNhdGNoJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LWNhdGNoLWxpbmsnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46SW50ZXJtZWRpYXRlQ2F0Y2hFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpMaW5rRXZlbnREZWZpbml0aW9uJyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvbkF0dHJzOiB7XG4gICAgICAgIG5hbWU6ICcnXG4gICAgICB9XG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdMaW5rIEludGVybWVkaWF0ZSBUaHJvdyBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ2xpbmstaW50ZXJtZWRpYXRlLXRocm93JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LXRocm93LWxpbmsnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46SW50ZXJtZWRpYXRlVGhyb3dFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpMaW5rRXZlbnREZWZpbml0aW9uJyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvbkF0dHJzOiB7XG4gICAgICAgIG5hbWU6ICcnXG4gICAgICB9XG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdDb21wZW5zYXRpb24gSW50ZXJtZWRpYXRlIFRocm93IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAnY29tcGVuc2F0aW9uLWludGVybWVkaWF0ZS10aHJvdycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC10aHJvdy1jb21wZW5zYXRpb24nLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46SW50ZXJtZWRpYXRlVGhyb3dFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpDb21wZW5zYXRlRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnU2lnbmFsIEludGVybWVkaWF0ZSBDYXRjaCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3NpZ25hbC1pbnRlcm1lZGlhdGUtY2F0Y2gnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtc2lnbmFsJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkludGVybWVkaWF0ZUNhdGNoRXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46U2lnbmFsRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnU2lnbmFsIEludGVybWVkaWF0ZSBUaHJvdyBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3NpZ25hbC1pbnRlcm1lZGlhdGUtdGhyb3cnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtdGhyb3ctc2lnbmFsJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkludGVybWVkaWF0ZVRocm93RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46U2lnbmFsRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfVxuXS5tYXAob3B0aW9uID0+ICh7IC4uLm9wdGlvbiwgZ3JvdXA6IEVWRU5UX0dST1VQIH0pKTtcblxuZXhwb3J0IGNvbnN0IFRZUEVEX0JPVU5EQVJZX0VWRU5UID0gW1xuICB7XG4gICAgbGFiZWw6ICdNZXNzYWdlIEJvdW5kYXJ5IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAnbWVzc2FnZS1ib3VuZGFyeScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC1tZXNzYWdlJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkJvdW5kYXJ5RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46TWVzc2FnZUV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1RpbWVyIEJvdW5kYXJ5IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAndGltZXItYm91bmRhcnknLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtdGltZXInLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46Qm91bmRhcnlFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpUaW1lckV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0VzY2FsYXRpb24gQm91bmRhcnkgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdlc2NhbGF0aW9uLWJvdW5kYXJ5JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LWNhdGNoLWVzY2FsYXRpb24nLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46Qm91bmRhcnlFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpFc2NhbGF0aW9uRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnQ29uZGl0aW9uYWwgQm91bmRhcnkgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdjb25kaXRpb25hbC1ib3VuZGFyeScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC1jb25kaXRpb24nLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46Qm91bmRhcnlFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpDb25kaXRpb25hbEV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0Vycm9yIEJvdW5kYXJ5IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAnZXJyb3ItYm91bmRhcnknLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtZXJyb3InLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46Qm91bmRhcnlFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpFcnJvckV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0NhbmNlbCBCb3VuZGFyeSBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ2NhbmNlbC1ib3VuZGFyeScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC1jYW5jZWwnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46Qm91bmRhcnlFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpDYW5jZWxFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdTaWduYWwgQm91bmRhcnkgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdzaWduYWwtYm91bmRhcnknLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtc2lnbmFsJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkJvdW5kYXJ5RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46U2lnbmFsRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnQ29tcGVuc2F0aW9uIEJvdW5kYXJ5IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAnY29tcGVuc2F0aW9uLWJvdW5kYXJ5JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LWNhdGNoLWNvbXBlbnNhdGlvbicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpCb3VuZGFyeUV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOkNvbXBlbnNhdGVFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdNZXNzYWdlIEJvdW5kYXJ5IEV2ZW50IChub24taW50ZXJydXB0aW5nKScsXG4gICAgYWN0aW9uTmFtZTogJ25vbi1pbnRlcnJ1cHRpbmctbWVzc2FnZS1ib3VuZGFyeScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC1ub24taW50ZXJydXB0aW5nLW1lc3NhZ2UnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46Qm91bmRhcnlFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpNZXNzYWdlRXZlbnREZWZpbml0aW9uJyxcbiAgICAgIGNhbmNlbEFjdGl2aXR5OiBmYWxzZVxuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnVGltZXIgQm91bmRhcnkgRXZlbnQgKG5vbi1pbnRlcnJ1cHRpbmcpJyxcbiAgICBhY3Rpb25OYW1lOiAnbm9uLWludGVycnVwdGluZy10aW1lci1ib3VuZGFyeScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC1ub24taW50ZXJydXB0aW5nLXRpbWVyJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkJvdW5kYXJ5RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46VGltZXJFdmVudERlZmluaXRpb24nLFxuICAgICAgY2FuY2VsQWN0aXZpdHk6IGZhbHNlXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdFc2NhbGF0aW9uIEJvdW5kYXJ5IEV2ZW50IChub24taW50ZXJydXB0aW5nKScsXG4gICAgYWN0aW9uTmFtZTogJ25vbi1pbnRlcnJ1cHRpbmctZXNjYWxhdGlvbi1ib3VuZGFyeScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC1ub24taW50ZXJydXB0aW5nLWVzY2FsYXRpb24nLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46Qm91bmRhcnlFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpFc2NhbGF0aW9uRXZlbnREZWZpbml0aW9uJyxcbiAgICAgIGNhbmNlbEFjdGl2aXR5OiBmYWxzZVxuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnQ29uZGl0aW9uYWwgQm91bmRhcnkgRXZlbnQgKG5vbi1pbnRlcnJ1cHRpbmcpJyxcbiAgICBhY3Rpb25OYW1lOiAnbm9uLWludGVycnVwdGluZy1jb25kaXRpb25hbC1ib3VuZGFyeScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC1ub24taW50ZXJydXB0aW5nLWNvbmRpdGlvbicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpCb3VuZGFyeUV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOkNvbmRpdGlvbmFsRXZlbnREZWZpbml0aW9uJyxcbiAgICAgIGNhbmNlbEFjdGl2aXR5OiBmYWxzZVxuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnU2lnbmFsIEJvdW5kYXJ5IEV2ZW50IChub24taW50ZXJydXB0aW5nKScsXG4gICAgYWN0aW9uTmFtZTogJ25vbi1pbnRlcnJ1cHRpbmctc2lnbmFsLWJvdW5kYXJ5JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LWNhdGNoLW5vbi1pbnRlcnJ1cHRpbmctc2lnbmFsJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkJvdW5kYXJ5RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46U2lnbmFsRXZlbnREZWZpbml0aW9uJyxcbiAgICAgIGNhbmNlbEFjdGl2aXR5OiBmYWxzZVxuICAgIH1cbiAgfVxuXS5tYXAob3B0aW9uID0+ICh7IC4uLm9wdGlvbiwgZ3JvdXA6IEVWRU5UX0dST1VQIH0pKTtcblxuZXhwb3J0IGNvbnN0IFRZUEVEX0VORF9FVkVOVCA9IFtcbiAge1xuICAgIGxhYmVsOiAnTWVzc2FnZSBFbmQgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdtZXNzYWdlLWVuZCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWVuZC1ldmVudC1tZXNzYWdlJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkVuZEV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOk1lc3NhZ2VFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdFc2NhbGF0aW9uIEVuZCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ2VzY2FsYXRpb24tZW5kJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tZW5kLWV2ZW50LWVzY2FsYXRpb24nLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46RW5kRXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46RXNjYWxhdGlvbkV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0Vycm9yIEVuZCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ2Vycm9yLWVuZCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWVuZC1ldmVudC1lcnJvcicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpFbmRFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpFcnJvckV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0NhbmNlbCBFbmQgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdjYW5jZWwtZW5kJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tZW5kLWV2ZW50LWNhbmNlbCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpFbmRFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpDYW5jZWxFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdDb21wZW5zYXRpb24gRW5kIEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAnY29tcGVuc2F0aW9uLWVuZCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWVuZC1ldmVudC1jb21wZW5zYXRpb24nLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46RW5kRXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46Q29tcGVuc2F0ZUV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1NpZ25hbCBFbmQgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdzaWduYWwtZW5kJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tZW5kLWV2ZW50LXNpZ25hbCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpFbmRFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpTaWduYWxFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdUZXJtaW5hdGUgRW5kIEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAndGVybWluYXRlLWVuZCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWVuZC1ldmVudC10ZXJtaW5hdGUnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46RW5kRXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46VGVybWluYXRlRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfVxuXS5tYXAob3B0aW9uID0+ICh7IC4uLm9wdGlvbiwgZ3JvdXA6IEVWRU5UX0dST1VQIH0pKTtcblxuZXhwb3J0IGNvbnN0IEdBVEVXQVkgPSBbXG4gIHtcbiAgICBsYWJlbDogJ0V4Y2x1c2l2ZSBHYXRld2F5JyxcbiAgICBhY3Rpb25OYW1lOiAnZXhjbHVzaXZlLWdhdGV3YXknLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1nYXRld2F5LXhvcicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpFeGNsdXNpdmVHYXRld2F5J1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnUGFyYWxsZWwgR2F0ZXdheScsXG4gICAgYWN0aW9uTmFtZTogJ3BhcmFsbGVsLWdhdGV3YXknLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1nYXRld2F5LXBhcmFsbGVsJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlBhcmFsbGVsR2F0ZXdheSdcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0luY2x1c2l2ZSBHYXRld2F5JyxcbiAgICBzZWFyY2g6ICdvcicsXG4gICAgYWN0aW9uTmFtZTogJ2luY2x1c2l2ZS1nYXRld2F5JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tZ2F0ZXdheS1vcicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpJbmNsdXNpdmVHYXRld2F5J1xuICAgIH0sXG4gICAgcmFuazogLTFcbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnQ29tcGxleCBHYXRld2F5JyxcbiAgICBhY3Rpb25OYW1lOiAnY29tcGxleC1nYXRld2F5JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tZ2F0ZXdheS1jb21wbGV4JyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkNvbXBsZXhHYXRld2F5J1xuICAgIH0sXG4gICAgcmFuazogLTFcbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnRXZlbnQgYmFzZWQgR2F0ZXdheScsXG4gICAgYWN0aW9uTmFtZTogJ2V2ZW50LWJhc2VkLWdhdGV3YXknLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1nYXRld2F5LWV2ZW50YmFzZWQnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46RXZlbnRCYXNlZEdhdGV3YXknLFxuICAgICAgaW5zdGFudGlhdGU6IGZhbHNlLFxuICAgICAgZXZlbnRHYXRld2F5VHlwZTogJ0V4Y2x1c2l2ZSdcbiAgICB9XG4gIH1cbl0ubWFwKG9wdGlvbiA9PiAoeyAuLi5vcHRpb24sIGdyb3VwOiBHQVRFV0FZX0dST1VQIH0pKTtcblxuZXhwb3J0IGNvbnN0IFNVQlBST0NFU1MgPSBbXG4gIHtcbiAgICBsYWJlbDogJ1RyYW5zYWN0aW9uJyxcbiAgICBhY3Rpb25OYW1lOiAndHJhbnNhY3Rpb24nLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi10cmFuc2FjdGlvbicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpUcmFuc2FjdGlvbicsXG4gICAgICBpc0V4cGFuZGVkOiB0cnVlXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdFdmVudCBTdWIgUHJvY2VzcycsXG4gICAgc2VhcmNoOiAnc3VicHJvY2VzcycsXG4gICAgYWN0aW9uTmFtZTogJ2V2ZW50LXN1YnByb2Nlc3MnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1ldmVudC1zdWJwcm9jZXNzLWV4cGFuZGVkJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlN1YlByb2Nlc3MnLFxuICAgICAgdHJpZ2dlcmVkQnlFdmVudDogdHJ1ZSxcbiAgICAgIGlzRXhwYW5kZWQ6IHRydWVcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1N1YiBQcm9jZXNzIChjb2xsYXBzZWQpJyxcbiAgICBzZWFyY2g6ICdzdWJwcm9jZXNzJyxcbiAgICBhY3Rpb25OYW1lOiAnY29sbGFwc2VkLXN1YnByb2Nlc3MnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1zdWJwcm9jZXNzLWNvbGxhcHNlZCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTdWJQcm9jZXNzJyxcbiAgICAgIGlzRXhwYW5kZWQ6IGZhbHNlXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdTdWIgUHJvY2VzcyAoZXhwYW5kZWQpJyxcbiAgICBzZWFyY2g6ICdzdWJwcm9jZXNzJyxcbiAgICBhY3Rpb25OYW1lOiAnZXhwYW5kZWQtc3VicHJvY2VzcycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXN1YnByb2Nlc3MtY29sbGFwc2VkJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlN1YlByb2Nlc3MnLFxuICAgICAgaXNFeHBhbmRlZDogdHJ1ZVxuICAgIH1cbiAgfVxuXS5tYXAob3B0aW9uID0+ICh7IC4uLm9wdGlvbiwgZ3JvdXA6IFNVQlBST0NFU1NfR1JPVVAgfSkpO1xuXG5leHBvcnQgY29uc3QgVEFTSyA9IFtcbiAge1xuICAgIGxhYmVsOiAnVGFzaycsXG4gICAgYWN0aW9uTmFtZTogJ3Rhc2snLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi10YXNrJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlRhc2snXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdVc2VyIFRhc2snLFxuICAgIGFjdGlvbk5hbWU6ICd1c2VyLXRhc2snLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi11c2VyJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlVzZXJUYXNrJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnU2VydmljZSBUYXNrJyxcbiAgICBhY3Rpb25OYW1lOiAnc2VydmljZS10YXNrJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tc2VydmljZScsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTZXJ2aWNlVGFzaydcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1NlbmQgVGFzaycsXG4gICAgYWN0aW9uTmFtZTogJ3NlbmQtdGFzaycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXNlbmQnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46U2VuZFRhc2snXG4gICAgfSxcbiAgICByYW5rOiAtMVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdSZWNlaXZlIFRhc2snLFxuICAgIGFjdGlvbk5hbWU6ICdyZWNlaXZlLXRhc2snLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1yZWNlaXZlJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlJlY2VpdmVUYXNrJ1xuICAgIH0sXG4gICAgcmFuazogLTFcbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnTWFudWFsIFRhc2snLFxuICAgIGFjdGlvbk5hbWU6ICdtYW51YWwtdGFzaycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLW1hbnVhbCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpNYW51YWxUYXNrJ1xuICAgIH0sXG4gICAgcmFuazogLTFcbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnQnVzaW5lc3MgUnVsZSBUYXNrJyxcbiAgICBhY3Rpb25OYW1lOiAncnVsZS10YXNrJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tYnVzaW5lc3MtcnVsZScsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpCdXNpbmVzc1J1bGVUYXNrJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnU2NyaXB0IFRhc2snLFxuICAgIGFjdGlvbk5hbWU6ICdzY3JpcHQtdGFzaycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXNjcmlwdCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTY3JpcHRUYXNrJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnQ2FsbCBBY3Rpdml0eScsXG4gICAgYWN0aW9uTmFtZTogJ2NhbGwtYWN0aXZpdHknLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1jYWxsLWFjdGl2aXR5JyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkNhbGxBY3Rpdml0eSdcbiAgICB9XG4gIH1cbl0ubWFwKG9wdGlvbiA9PiAoeyAuLi5vcHRpb24sIGdyb3VwOiBUQVNLX0dST1VQIH0pKTtcblxuZXhwb3J0IGNvbnN0IERBVEFfT0JKRUNUUyA9IFtcbiAge1xuICAgIGxhYmVsOiAnRGF0YSBTdG9yZSBSZWZlcmVuY2UnLFxuICAgIGFjdGlvbk5hbWU6ICdkYXRhLXN0b3JlLXJlZmVyZW5jZScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWRhdGEtc3RvcmUnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46RGF0YVN0b3JlUmVmZXJlbmNlJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnRGF0YSBPYmplY3QgUmVmZXJlbmNlJyxcbiAgICBhY3Rpb25OYW1lOiAnZGF0YS1vYmplY3QtcmVmZXJlbmNlJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tZGF0YS1vYmplY3QnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46RGF0YU9iamVjdFJlZmVyZW5jZSdcbiAgICB9XG4gIH1cbl0ubWFwKG9wdGlvbiA9PiAoeyAuLi5vcHRpb24sIGdyb3VwOiBEQVRBX0dST1VQIH0pKTtcblxuZXhwb3J0IGNvbnN0IFBBUlRJQ0lQQU5UID0gW1xuICB7XG4gICAgbGFiZWw6ICdFeHBhbmRlZCBQb29sJyxcbiAgICBzZWFyY2g6ICdQYXJ0aWNpcGFudCcsXG4gICAgYWN0aW9uTmFtZTogJ2V4cGFuZGVkLXBvb2wnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1wYXJ0aWNpcGFudCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpQYXJ0aWNpcGFudCcsXG4gICAgICBpc0V4cGFuZGVkOiB0cnVlXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdFbXB0eSBQb29sJyxcbiAgICBzZWFyY2g6ICdDb2xsYXBzZWQgUGFydGljaXBhbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdjb2xsYXBzZWQtcG9vbCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWxhbmUnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46UGFydGljaXBhbnQnLFxuICAgICAgaXNFeHBhbmRlZDogZmFsc2VcbiAgICB9XG4gIH1cbl0ubWFwKG9wdGlvbiA9PiAoeyAuLi5vcHRpb24sIGdyb3VwOiBQQVJUSUNJUEFOVF9HUk9VUCB9KSk7XG5cbmV4cG9ydCBjb25zdCBDUkVBVEVfT1BUSU9OUyA9IFtcbiAgLi4uQ09NTU9OLFxuICAuLi5HQVRFV0FZLFxuICAuLi5UQVNLLFxuICAuLi5TVUJQUk9DRVNTLFxuICAuLi5OT05FX0VWRU5UUyxcbiAgLi4uVFlQRURfU1RBUlRfRVZFTlRTLFxuICAuLi5UWVBFRF9JTlRFUk1FRElBVEVfRVZFTlQsXG4gIC4uLlRZUEVEX0VORF9FVkVOVCxcbiAgLi4uVFlQRURfQk9VTkRBUllfRVZFTlQsXG4gIC4uLkRBVEFfT0JKRUNUUyxcbiAgLi4uUEFSVElDSVBBTlRcbl07Il0sIm5hbWVzIjpbIkNPTU1PTl9HUk9VUCIsImlkIiwibmFtZSIsIkVWRU5UX0dST1VQIiwiVEFTS19HUk9VUCIsIkRBVEFfR1JPVVAiLCJQQVJUSUNJUEFOVF9HUk9VUCIsIlNVQlBST0NFU1NfR1JPVVAiLCJHQVRFV0FZX0dST1VQIiwiQ09NTU9OIiwibGFiZWwiLCJhY3Rpb25OYW1lIiwiY2xhc3NOYW1lIiwidGFyZ2V0IiwidHlwZSIsIm1hcCIsIm9wdGlvbiIsImdyb3VwIiwiTk9ORV9FVkVOVFMiLCJUWVBFRF9TVEFSVF9FVkVOVFMiLCJldmVudERlZmluaXRpb25UeXBlIiwiVFlQRURfSU5URVJNRURJQVRFX0VWRU5UIiwiZXZlbnREZWZpbml0aW9uQXR0cnMiLCJUWVBFRF9CT1VOREFSWV9FVkVOVCIsImNhbmNlbEFjdGl2aXR5IiwiVFlQRURfRU5EX0VWRU5UIiwiR0FURVdBWSIsInNlYXJjaCIsInJhbmsiLCJpbnN0YW50aWF0ZSIsImV2ZW50R2F0ZXdheVR5cGUiLCJTVUJQUk9DRVNTIiwiaXNFeHBhbmRlZCIsInRyaWdnZXJlZEJ5RXZlbnQiLCJUQVNLIiwiREFUQV9PQkpFQ1RTIiwiUEFSVElDSVBBTlQiLCJDUkVBVEVfT1BUSU9OUyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/features/util/CreateOptionsUtil.js\n");

/***/ }),

/***/ "./node_modules/bpmn-js-create-append-anything/dist/index.es.js":
/*!**********************************************************************!*\
  !*** ./node_modules/bpmn-js-create-append-anything/dist/index.es.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreateAppendAnythingModule: () => (/* binding */ index$1),\n/* harmony export */   CreateAppendElementTemplatesModule: () => (/* binding */ index),\n/* harmony export */   RemoveTemplatesModule: () => (/* binding */ RemoveTemplatesModule)\n/* harmony export */ });\n/**\n * Flatten array, one level deep.\n *\n * @template T\n *\n * @param {T[][]} arr\n *\n * @return {T[]}\n */\n\nconst nativeToString = Object.prototype.toString;\nconst nativeHasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isUndefined(obj) {\n  return obj === undefined;\n}\n\nfunction isArray(obj) {\n  return nativeToString.call(obj) === '[object Array]';\n}\n\nfunction isObject(obj) {\n  return nativeToString.call(obj) === '[object Object]';\n}\n\nfunction isNumber(obj) {\n  return nativeToString.call(obj) === '[object Number]';\n}\n\n/**\n * @param {any} obj\n *\n * @return {boolean}\n */\nfunction isFunction(obj) {\n  const tag = nativeToString.call(obj);\n\n  return (\n    tag === '[object Function]' ||\n    tag === '[object AsyncFunction]' ||\n    tag === '[object GeneratorFunction]' ||\n    tag === '[object AsyncGeneratorFunction]' ||\n    tag === '[object Proxy]'\n  );\n}\n\n/**\n * Return true, if target owns a property with the given key.\n *\n * @param {Object} target\n * @param {String} key\n *\n * @return {Boolean}\n */\nfunction has(target, key) {\n  return nativeHasOwnProperty.call(target, key);\n}\n\n/**\n * @template T\n * @typedef { (\n *   ((e: T) => boolean) |\n *   ((e: T, idx: number) => boolean) |\n *   ((e: T, key: string) => boolean) |\n *   string |\n *   number\n * ) } Matcher\n */\n\n/**\n * @template T\n * @template U\n *\n * @typedef { (\n *   ((e: T) => U) | string | number\n * ) } Extractor\n */\n\n\n/**\n * @template T\n * @typedef { (val: T, key: any) => boolean } MatchFn\n */\n\n/**\n * @template T\n * @typedef { T[] } ArrayCollection\n */\n\n/**\n * @template T\n * @typedef { { [key: string]: T } } StringKeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { { [key: number]: T } } NumberKeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { StringKeyValueCollection<T> | NumberKeyValueCollection<T> } KeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { KeyValueCollection<T> | ArrayCollection<T> } Collection\n */\n\n/**\n * Find element in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {Object}\n */\nfunction find(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let match;\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      match = val;\n\n      return false;\n    }\n  });\n\n  return match;\n\n}\n\n\n/**\n * Iterate over collection; returning something\n * (non-undefined) will stop iteration.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param { ((item: T, idx: number) => (boolean|void)) | ((item: T, key: string) => (boolean|void)) } iterator\n *\n * @return {T} return result that stopped the iteration\n */\nfunction forEach(collection, iterator) {\n\n  let val,\n      result;\n\n  if (isUndefined(collection)) {\n    return;\n  }\n\n  const convertKey = isArray(collection) ? toNum : identity;\n\n  for (let key in collection) {\n\n    if (has(collection, key)) {\n      val = collection[key];\n\n      result = iterator(val, convertKey(key));\n\n      if (result === false) {\n        return val;\n      }\n    }\n  }\n}\n\n\n/**\n * Return true if some elements in the collection\n * match the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\nfunction some(collection, matcher) {\n\n  return !!find(collection, matcher);\n}\n\n\n/**\n * @template T\n * @param {Matcher<T>} matcher\n *\n * @return {MatchFn<T>}\n */\nfunction toMatcher(matcher) {\n  return isFunction(matcher) ? matcher : (e) => {\n    return e === matcher;\n  };\n}\n\n\nfunction identity(arg) {\n  return arg;\n}\n\nfunction toNum(arg) {\n  return Number(arg);\n}\n\n/**\n * Convenience wrapper for `Object.assign`.\n *\n * @param {Object} target\n * @param {...Object} others\n *\n * @return {Object} the target\n */\nfunction assign(target, ...others) {\n  return Object.assign(target, ...others);\n}\n\nconst EVENT_GROUP = {\n  id: 'events',\n  name: 'Events'\n};\n\nconst TASK_GROUP = {\n  id: 'tasks',\n  name: 'Tasks'\n};\n\nconst DATA_GROUP = {\n  id: 'data',\n  name: 'Data'\n};\n\nconst PARTICIPANT_GROUP = {\n  id: 'participants',\n  name: 'Participants'\n};\n\nconst SUBPROCESS_GROUP = {\n  id: 'subprocess',\n  name: 'Sub Processes'\n};\n\nconst GATEWAY_GROUP = {\n  id: 'gateways',\n  name: 'Gateways'\n};\n\nconst NONE_EVENTS = [\n  {\n    label: 'Start Event',\n    actionName: 'none-start-event',\n    className: 'bpmn-icon-start-event-none',\n    target: {\n      type: 'bpmn:StartEvent'\n    }\n  },\n  {\n    label: 'Intermediate Throw Event',\n    actionName: 'none-intermediate-throwing',\n    className: 'bpmn-icon-intermediate-event-none',\n    target: {\n      type: 'bpmn:IntermediateThrowEvent'\n    }\n  },\n  {\n    label: 'Boundary Event',\n    actionName: 'none-boundary-event',\n    className: 'bpmn-icon-intermediate-event-none',\n    target: {\n      type: 'bpmn:BoundaryEvent'\n    }\n  },\n  {\n    label: 'End Event',\n    actionName: 'none-end-event',\n    className: 'bpmn-icon-end-event-none',\n    target: {\n      type: 'bpmn:EndEvent'\n    }\n  }\n].map(option => ({ ...option, group: EVENT_GROUP }));\n\nconst TYPED_START_EVENTS = [\n  {\n    label: 'Message Start Event',\n    actionName: 'message-start',\n    className: 'bpmn-icon-start-event-message',\n    target: {\n      type: 'bpmn:StartEvent',\n      eventDefinitionType: 'bpmn:MessageEventDefinition'\n    }\n  },\n  {\n    label: 'Timer Start Event',\n    actionName: 'timer-start',\n    className: 'bpmn-icon-start-event-timer',\n    target: {\n      type: 'bpmn:StartEvent',\n      eventDefinitionType: 'bpmn:TimerEventDefinition'\n    }\n  },\n  {\n    label: 'Conditional Start Event',\n    actionName: 'conditional-start',\n    className: 'bpmn-icon-start-event-condition',\n    target: {\n      type: 'bpmn:StartEvent',\n      eventDefinitionType: 'bpmn:ConditionalEventDefinition'\n    }\n  },\n  {\n    label: 'Signal Start Event',\n    actionName: 'signal-start',\n    className: 'bpmn-icon-start-event-signal',\n    target: {\n      type: 'bpmn:StartEvent',\n      eventDefinitionType: 'bpmn:SignalEventDefinition'\n    }\n  }\n].map(option => ({ ...option, group: EVENT_GROUP }));\n\nconst TYPED_INTERMEDIATE_EVENT = [\n  {\n    label: 'Message Intermediate Catch Event',\n    actionName: 'message-intermediate-catch',\n    className: 'bpmn-icon-intermediate-event-catch-message',\n    target: {\n      type: 'bpmn:IntermediateCatchEvent',\n      eventDefinitionType: 'bpmn:MessageEventDefinition'\n    }\n  },\n  {\n    label: 'Message Intermediate Throw Event',\n    actionName: 'message-intermediate-throw',\n    className: 'bpmn-icon-intermediate-event-throw-message',\n    target: {\n      type: 'bpmn:IntermediateThrowEvent',\n      eventDefinitionType: 'bpmn:MessageEventDefinition'\n    }\n  },\n  {\n    label: 'Timer Intermediate Catch Event',\n    actionName: 'timer-intermediate-catch',\n    className: 'bpmn-icon-intermediate-event-catch-timer',\n    target: {\n      type: 'bpmn:IntermediateCatchEvent',\n      eventDefinitionType: 'bpmn:TimerEventDefinition'\n    }\n  },\n  {\n    label: 'Escalation Intermediate Throw Event',\n    actionName: 'escalation-intermediate-throw',\n    className: 'bpmn-icon-intermediate-event-throw-escalation',\n    target: {\n      type: 'bpmn:IntermediateThrowEvent',\n      eventDefinitionType: 'bpmn:EscalationEventDefinition'\n    }\n  },\n  {\n    label: 'Conditional Intermediate Catch Event',\n    actionName: 'conditional-intermediate-catch',\n    className: 'bpmn-icon-intermediate-event-catch-condition',\n    target: {\n      type: 'bpmn:IntermediateCatchEvent',\n      eventDefinitionType: 'bpmn:ConditionalEventDefinition'\n    }\n  },\n  {\n    label: 'Link Intermediate Catch Event',\n    actionName: 'link-intermediate-catch',\n    className: 'bpmn-icon-intermediate-event-catch-link',\n    target: {\n      type: 'bpmn:IntermediateCatchEvent',\n      eventDefinitionType: 'bpmn:LinkEventDefinition',\n      eventDefinitionAttrs: {\n        name: ''\n      }\n    }\n  },\n  {\n    label: 'Link Intermediate Throw Event',\n    actionName: 'link-intermediate-throw',\n    className: 'bpmn-icon-intermediate-event-throw-link',\n    target: {\n      type: 'bpmn:IntermediateThrowEvent',\n      eventDefinitionType: 'bpmn:LinkEventDefinition',\n      eventDefinitionAttrs: {\n        name: ''\n      }\n    }\n  },\n  {\n    label: 'Compensation Intermediate Throw Event',\n    actionName: 'compensation-intermediate-throw',\n    className: 'bpmn-icon-intermediate-event-throw-compensation',\n    target: {\n      type: 'bpmn:IntermediateThrowEvent',\n      eventDefinitionType: 'bpmn:CompensateEventDefinition'\n    }\n  },\n  {\n    label: 'Signal Intermediate Catch Event',\n    actionName: 'signal-intermediate-catch',\n    className: 'bpmn-icon-intermediate-event-catch-signal',\n    target: {\n      type: 'bpmn:IntermediateCatchEvent',\n      eventDefinitionType: 'bpmn:SignalEventDefinition'\n    }\n  },\n  {\n    label: 'Signal Intermediate Throw Event',\n    actionName: 'signal-intermediate-throw',\n    className: 'bpmn-icon-intermediate-event-throw-signal',\n    target: {\n      type: 'bpmn:IntermediateThrowEvent',\n      eventDefinitionType: 'bpmn:SignalEventDefinition'\n    }\n  }\n].map(option => ({ ...option, group: EVENT_GROUP }));\n\nconst TYPED_BOUNDARY_EVENT = [\n  {\n    label: 'Message Boundary Event',\n    actionName: 'message-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-message',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:MessageEventDefinition'\n    }\n  },\n  {\n    label: 'Timer Boundary Event',\n    actionName: 'timer-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-timer',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:TimerEventDefinition'\n    }\n  },\n  {\n    label: 'Escalation Boundary Event',\n    actionName: 'escalation-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-escalation',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:EscalationEventDefinition'\n    }\n  },\n  {\n    label: 'Conditional Boundary Event',\n    actionName: 'conditional-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-condition',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:ConditionalEventDefinition'\n    }\n  },\n  {\n    label: 'Error Boundary Event',\n    actionName: 'error-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-error',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:ErrorEventDefinition'\n    }\n  },\n  {\n    label: 'Cancel Boundary Event',\n    actionName: 'cancel-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-cancel',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:CancelEventDefinition'\n    }\n  },\n  {\n    label: 'Signal Boundary Event',\n    actionName: 'signal-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-signal',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:SignalEventDefinition'\n    }\n  },\n  {\n    label: 'Compensation Boundary Event',\n    actionName: 'compensation-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-compensation',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:CompensateEventDefinition'\n    }\n  },\n  {\n    label: 'Message Boundary Event (non-interrupting)',\n    actionName: 'non-interrupting-message-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-non-interrupting-message',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:MessageEventDefinition',\n      cancelActivity: false\n    }\n  },\n  {\n    label: 'Timer Boundary Event (non-interrupting)',\n    actionName: 'non-interrupting-timer-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-non-interrupting-timer',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:TimerEventDefinition',\n      cancelActivity: false\n    }\n  },\n  {\n    label: 'Escalation Boundary Event (non-interrupting)',\n    actionName: 'non-interrupting-escalation-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-non-interrupting-escalation',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:EscalationEventDefinition',\n      cancelActivity: false\n    }\n  },\n  {\n    label: 'Conditional Boundary Event (non-interrupting)',\n    actionName: 'non-interrupting-conditional-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-non-interrupting-condition',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:ConditionalEventDefinition',\n      cancelActivity: false\n    }\n  },\n  {\n    label: 'Signal Boundary Event (non-interrupting)',\n    actionName: 'non-interrupting-signal-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-non-interrupting-signal',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:SignalEventDefinition',\n      cancelActivity: false\n    }\n  }\n].map(option => ({ ...option, group: EVENT_GROUP }));\n\nconst TYPED_END_EVENT = [\n  {\n    label: 'Message End Event',\n    actionName: 'message-end',\n    className: 'bpmn-icon-end-event-message',\n    target: {\n      type: 'bpmn:EndEvent',\n      eventDefinitionType: 'bpmn:MessageEventDefinition'\n    }\n  },\n  {\n    label: 'Escalation End Event',\n    actionName: 'escalation-end',\n    className: 'bpmn-icon-end-event-escalation',\n    target: {\n      type: 'bpmn:EndEvent',\n      eventDefinitionType: 'bpmn:EscalationEventDefinition'\n    }\n  },\n  {\n    label: 'Error End Event',\n    actionName: 'error-end',\n    className: 'bpmn-icon-end-event-error',\n    target: {\n      type: 'bpmn:EndEvent',\n      eventDefinitionType: 'bpmn:ErrorEventDefinition'\n    }\n  },\n  {\n    label: 'Cancel End Event',\n    actionName: 'cancel-end',\n    className: 'bpmn-icon-end-event-cancel',\n    target: {\n      type: 'bpmn:EndEvent',\n      eventDefinitionType: 'bpmn:CancelEventDefinition'\n    }\n  },\n  {\n    label: 'Compensation End Event',\n    actionName: 'compensation-end',\n    className: 'bpmn-icon-end-event-compensation',\n    target: {\n      type: 'bpmn:EndEvent',\n      eventDefinitionType: 'bpmn:CompensateEventDefinition'\n    }\n  },\n  {\n    label: 'Signal End Event',\n    actionName: 'signal-end',\n    className: 'bpmn-icon-end-event-signal',\n    target: {\n      type: 'bpmn:EndEvent',\n      eventDefinitionType: 'bpmn:SignalEventDefinition'\n    }\n  },\n  {\n    label: 'Terminate End Event',\n    actionName: 'terminate-end',\n    className: 'bpmn-icon-end-event-terminate',\n    target: {\n      type: 'bpmn:EndEvent',\n      eventDefinitionType: 'bpmn:TerminateEventDefinition'\n    }\n  }\n].map(option => ({ ...option, group: EVENT_GROUP }));\n\nconst GATEWAY$1 = [\n  {\n    label: 'Exclusive Gateway',\n    actionName: 'exclusive-gateway',\n    className: 'bpmn-icon-gateway-xor',\n    target: {\n      type: 'bpmn:ExclusiveGateway'\n    }\n  },\n  {\n    label: 'Parallel Gateway',\n    actionName: 'parallel-gateway',\n    className: 'bpmn-icon-gateway-parallel',\n    target: {\n      type: 'bpmn:ParallelGateway'\n    }\n  },\n  {\n    label: 'Inclusive Gateway',\n    search: 'or',\n    actionName: 'inclusive-gateway',\n    className: 'bpmn-icon-gateway-or',\n    target: {\n      type: 'bpmn:InclusiveGateway'\n    },\n    rank: -1\n  },\n  {\n    label: 'Complex Gateway',\n    actionName: 'complex-gateway',\n    className: 'bpmn-icon-gateway-complex',\n    target: {\n      type: 'bpmn:ComplexGateway'\n    },\n    rank: -1\n  },\n  {\n    label: 'Event based Gateway',\n    actionName: 'event-based-gateway',\n    className: 'bpmn-icon-gateway-eventbased',\n    target: {\n      type: 'bpmn:EventBasedGateway',\n      instantiate: false,\n      eventGatewayType: 'Exclusive'\n    }\n  }\n].map(option => ({ ...option, group: GATEWAY_GROUP }));\n\nconst SUBPROCESS = [\n  {\n    label: 'Transaction',\n    actionName: 'transaction',\n    className: 'bpmn-icon-transaction',\n    target: {\n      type: 'bpmn:Transaction',\n      isExpanded: true\n    }\n  },\n  {\n    label: 'Event Sub Process',\n    search: 'subprocess',\n    actionName: 'event-subprocess',\n    className: 'bpmn-icon-event-subprocess-expanded',\n    target: {\n      type: 'bpmn:SubProcess',\n      triggeredByEvent: true,\n      isExpanded: true\n    }\n  },\n  {\n    label: 'Sub Process (collapsed)',\n    search: 'subprocess',\n    actionName: 'collapsed-subprocess',\n    className: 'bpmn-icon-subprocess-collapsed',\n    target: {\n      type: 'bpmn:SubProcess',\n      isExpanded: false\n    }\n  },\n  {\n    label: 'Sub Process (expanded)',\n    search: 'subprocess',\n    actionName: 'expanded-subprocess',\n    className: 'bpmn-icon-subprocess-collapsed',\n    target: {\n      type: 'bpmn:SubProcess',\n      isExpanded: true\n    }\n  }\n].map(option => ({ ...option, group: SUBPROCESS_GROUP }));\n\nconst TASK$1 = [\n  {\n    label: 'Task',\n    actionName: 'task',\n    className: 'bpmn-icon-task',\n    target: {\n      type: 'bpmn:Task'\n    }\n  },\n  {\n    label: 'User Task',\n    actionName: 'user-task',\n    className: 'bpmn-icon-user',\n    target: {\n      type: 'bpmn:UserTask'\n    }\n  },\n  {\n    label: 'Service Task',\n    actionName: 'service-task',\n    className: 'bpmn-icon-service',\n    target: {\n      type: 'bpmn:ServiceTask'\n    }\n  },\n  {\n    label: 'Send Task',\n    actionName: 'send-task',\n    className: 'bpmn-icon-send',\n    target: {\n      type: 'bpmn:SendTask'\n    },\n    rank: -1\n  },\n  {\n    label: 'Receive Task',\n    actionName: 'receive-task',\n    className: 'bpmn-icon-receive',\n    target: {\n      type: 'bpmn:ReceiveTask'\n    },\n    rank: -1\n  },\n  {\n    label: 'Manual Task',\n    actionName: 'manual-task',\n    className: 'bpmn-icon-manual',\n    target: {\n      type: 'bpmn:ManualTask'\n    },\n    rank: -1\n  },\n  {\n    label: 'Business Rule Task',\n    actionName: 'rule-task',\n    className: 'bpmn-icon-business-rule',\n    target: {\n      type: 'bpmn:BusinessRuleTask'\n    }\n  },\n  {\n    label: 'Script Task',\n    actionName: 'script-task',\n    className: 'bpmn-icon-script',\n    target: {\n      type: 'bpmn:ScriptTask'\n    }\n  },\n  {\n    label: 'Call Activity',\n    actionName: 'call-activity',\n    className: 'bpmn-icon-call-activity',\n    target: {\n      type: 'bpmn:CallActivity'\n    }\n  }\n].map(option => ({ ...option, group: TASK_GROUP }));\n\nconst DATA_OBJECTS = [\n  {\n    label: 'Data Store Reference',\n    actionName: 'data-store-reference',\n    className: 'bpmn-icon-data-store',\n    target: {\n      type: 'bpmn:DataStoreReference'\n    }\n  },\n  {\n    label: 'Data Object Reference',\n    actionName: 'data-object-reference',\n    className: 'bpmn-icon-data-object',\n    target: {\n      type: 'bpmn:DataObjectReference'\n    }\n  }\n].map(option => ({ ...option, group: DATA_GROUP }));\n\nconst PARTICIPANT$1 = [\n  {\n    label: 'Expanded Pool',\n    search: 'Participant',\n    actionName: 'expanded-pool',\n    className: 'bpmn-icon-participant',\n    target: {\n      type: 'bpmn:Participant',\n      isExpanded: true\n    }\n  },\n  {\n    label: 'Empty Pool',\n    search: 'Collapsed Participant',\n    actionName: 'collapsed-pool',\n    className: 'bpmn-icon-lane',\n    target: {\n      type: 'bpmn:Participant',\n      isExpanded: false\n    }\n  }\n].map(option => ({ ...option, group: PARTICIPANT_GROUP }));\n\nconst CREATE_OPTIONS = [\n  ...GATEWAY$1,\n  ...TASK$1,\n  ...SUBPROCESS,\n  ...NONE_EVENTS,\n  ...TYPED_START_EVENTS,\n  ...TYPED_INTERMEDIATE_EVENT,\n  ...TYPED_END_EVENT,\n  ...TYPED_BOUNDARY_EVENT,\n  ...DATA_OBJECTS,\n  ...PARTICIPANT$1\n];\n\n/**\n * This module is an append menu provider for the popup menu.\n */\nfunction AppendMenuProvider(\n    elementFactory, popupMenu,\n    create, autoPlace, rules,\n    mouse, translate\n) {\n\n  this._elementFactory = elementFactory;\n  this._popupMenu = popupMenu;\n  this._create = create;\n  this._autoPlace = autoPlace;\n  this._rules = rules;\n  this._create = create;\n  this._mouse = mouse;\n  this._translate = translate;\n\n  this.register();\n}\n\nAppendMenuProvider.$inject = [\n  'elementFactory',\n  'popupMenu',\n  'create',\n  'autoPlace',\n  'rules',\n  'mouse',\n  'translate'\n];\n\n/**\n * Register append menu provider in the popup menu\n */\nAppendMenuProvider.prototype.register = function() {\n  this._popupMenu.registerProvider('bpmn-append', this);\n};\n\n/**\n * Gets the append options for the given element as menu entries\n *\n * @param {djs.model.Base} element\n *\n * @return {Array<Object>} a list of menu entry items\n */\nAppendMenuProvider.prototype.getPopupMenuEntries = function(element) {\n  const rules = this._rules;\n  const translate = this._translate;\n\n  const entries = {};\n\n  if (!rules.allowed('shape.append', { element: element })) {\n    return [];\n  }\n\n  // filter out elements with no incoming connections\n  const appendOptions = this._filterEntries(CREATE_OPTIONS);\n\n  // map options to menu entries\n  appendOptions.forEach(option => {\n    const {\n      actionName,\n      className,\n      label,\n      target,\n      description,\n      group,\n      search,\n      rank\n    } = option;\n\n    entries[`append-${actionName}`] = {\n      label: label && translate(label),\n      className,\n      description,\n      group: group && {\n        ...group,\n        name: translate(group.name)\n      },\n      search,\n      rank,\n      action: this._createEntryAction(element, target)\n    };\n  });\n\n  return entries;\n};\n\n/**\n * Filter out entries from the options.\n *\n * @param {Array<Object>} entries\n *\n * @return {Array<Object>} filtered entries\n */\nAppendMenuProvider.prototype._filterEntries = function(entries) {\n  return entries.filter(option => {\n\n    const target = option.target;\n    const {\n      type,\n      eventDefinitionType\n    } = target;\n\n    if ([\n      'bpmn:StartEvent',\n      'bpmn:Participant'\n    ].includes(type)) {\n      return false;\n    }\n\n    if (type === 'bpmn:BoundaryEvent' && isUndefined(eventDefinitionType)) {\n      return false;\n    }\n\n    return true;\n  });\n};\n\n/**\n * Create an action for a given target.\n *\n * @param {djs.model.Base} element\n * @param {Object} target\n *\n * @return {Object}\n */\nAppendMenuProvider.prototype._createEntryAction = function(element, target) {\n  const elementFactory = this._elementFactory;\n  const autoPlace = this._autoPlace;\n  const create = this._create;\n  const mouse = this._mouse;\n\n\n  const autoPlaceElement = () => {\n    const newElement = elementFactory.create('shape', target);\n    autoPlace.append(element, newElement);\n  };\n\n  const manualPlaceElement = (event) => {\n    const newElement = elementFactory.create('shape', target);\n\n    if (event instanceof KeyboardEvent) {\n      event = mouse.getLastMoveEvent();\n    }\n\n    return create.start(event, newElement, {\n      source: element\n    });\n  };\n\n  return {\n    click: this._canAutoPlaceElement(target) ? autoPlaceElement : manualPlaceElement,\n    dragstart: manualPlaceElement\n  };\n};\n\n/**\n * Check if the element should be auto placed.\n *\n * @param {Object} target\n *\n * @return {Boolean}\n */\nAppendMenuProvider.prototype._canAutoPlaceElement = (target) => {\n  const { type } = target;\n\n  if (type === 'bpmn:BoundaryEvent') {\n    return false;\n  }\n\n  if (type === 'bpmn:SubProcess' && target.triggeredByEvent) {\n    return false;\n  }\n\n  if (type === 'bpmn:IntermediateCatchEvent' && target.eventDefinitionType === 'bpmn:LinkEventDefinition') {\n    return false;\n  }\n\n  return true;\n};\n\nconst appendIcon = `<svg width=\"22\" height=\"22\" viewBox=\"0 0 5.82 5.82\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\">\n  <path d=\"M1.3 3.4c.3 0 .5-.2.5-.5s-.2-.4-.5-.4c-.2 0-.4.1-.4.4 0 .3.2.5.4.5zM3 3.4c.2 0 .4-.2.4-.5s-.2-.4-.4-.4c-.3 0-.5.1-.5.4 0 .3.2.5.5.5zM4.6 3.4c.2 0 .4-.2.4-.5s-.2-.4-.4-.4c-.3 0-.5.1-.5.4 0 .3.2.5.5.5z\"/>\n</svg>`;\nconst createIcon = `<svg width=\"46\" height=\"46\" viewBox=\"-2 -2 9.82 9.82\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\">\n  <path d=\"M1.3 3.4c.3 0 .5-.2.5-.5s-.2-.4-.5-.4c-.2 0-.4.1-.4.4 0 .3.2.5.4.5zM3 3.4c.2 0 .4-.2.4-.5s-.2-.4-.4-.4c-.3 0-.5.1-.5.4 0 .3.2.5.5.5zM4.6 3.4c.2 0 .4-.2.4-.5s-.2-.4-.4-.4c-.3 0-.5.1-.5.4 0 .3.2.5.5.5z\"/>\n</svg>`;\n\n/**\n * A provider for append context pad button\n */\nfunction AppendContextPadProvider(contextPad, popupMenu, translate, canvas) {\n\n  this._contextPad = contextPad;\n  this._popupMenu = popupMenu;\n  this._translate = translate;\n  this._canvas = canvas;\n\n  this.register();\n}\n\nAppendContextPadProvider.$inject = [\n  'contextPad',\n  'popupMenu',\n  'translate',\n  'canvas'\n];\n\n/**\n * Register append button provider in the context pad\n */\nAppendContextPadProvider.prototype.register = function() {\n  this._contextPad.registerProvider(this);\n};\n\n/**\n * Gets the append context pad entry\n *\n * @param {djs.model.Base} element\n * @returns {Object} entries\n */\nAppendContextPadProvider.prototype.getContextPadEntries = function(element) {\n  const popupMenu = this._popupMenu;\n  const translate = this._translate;\n  const getAppendMenuPosition = this._getAppendMenuPosition.bind(this);\n\n  if (!popupMenu.isEmpty(element, 'bpmn-append')) {\n\n    // append menu entry\n    return {\n      'append': {\n        group: 'model',\n        html: `<div class=\"entry\">${appendIcon}</div>`,\n        title: translate('Append element'),\n        action: {\n          click: function(event, element) {\n\n            const position = assign(getAppendMenuPosition(element), {\n              cursor: { x: event.x, y: event.y }\n            });\n\n            popupMenu.open(element, 'bpmn-append', position, {\n              title: translate('Append element'),\n              width: 300,\n              search: true\n            });\n          }\n        }\n      }\n    };\n  }\n};\n\n/**\n * Calculates the position for the append menu relatively to the element\n *\n * @param {djs.model.Base} element\n * @returns {Object}\n */\nAppendContextPadProvider.prototype._getAppendMenuPosition = function(element) {\n  const contextPad = this._contextPad;\n\n  const X_OFFSET = 5;\n\n  const pad = contextPad.getPad(element).html;\n\n  const padRect = pad.getBoundingClientRect();\n\n  const pos = {\n    x: padRect.right + X_OFFSET,\n    y: padRect.top\n  };\n\n  return pos;\n};\n\nfunction e(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}));}\n\n/**\n * @typedef { import('../model/Types').Element } Element\n * @typedef { import('../model/Types').ModdleElement } ModdleElement\n */\n\n/**\n * Is an element of the given BPMN type?\n *\n * @param  {Element|ModdleElement} element\n * @param  {string} type\n *\n * @return {boolean}\n */\nfunction is(element, type) {\n  var bo = getBusinessObject(element);\n\n  return bo && (typeof bo.$instanceOf === 'function') && bo.$instanceOf(type);\n}\n\n\n/**\n * Return true if element has any of the given types.\n *\n * @param {Element|ModdleElement} element\n * @param {string[]} types\n *\n * @return {boolean}\n */\nfunction isAny(element, types) {\n  return some(types, function(t) {\n    return is(element, t);\n  });\n}\n\n/**\n * Return the business object for a given element.\n *\n * @param {Element|ModdleElement} element\n *\n * @return {ModdleElement}\n */\nfunction getBusinessObject(element) {\n  return (element && element.businessObject) || element;\n}\n\n/**\n * Return the di object for a given element.\n *\n * @param {Element} element\n *\n * @return {ModdleElement}\n */\nfunction getDi(element) {\n  return element && element.di;\n}\n\n/**\n * Checks whether a value is an instance of Label.\n *\n * @param {any} value\n *\n * @return {boolean}\n */\nfunction isLabel(value) {\n  return isObject(value) && has(value, 'labelTarget');\n}\n\n/**\n * @typedef {import('../core/Types').ElementLike} ElementLike\n * @typedef {import('../core/EventBus').default} EventBus\n * @typedef {import('./CommandStack').CommandContext} CommandContext\n *\n * @typedef {string|string[]} Events\n * @typedef { (context: CommandContext) => ElementLike[] | void } HandlerFunction\n * @typedef { (context: CommandContext) => void } ComposeHandlerFunction\n */\n\nvar DEFAULT_PRIORITY = 1000;\n\n/**\n * A utility that can be used to plug into the command execution for\n * extension and/or validation.\n *\n * @class\n * @constructor\n *\n * @example\n *\n * ```javascript\n * import CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n *\n * class CommandLogger extends CommandInterceptor {\n *   constructor(eventBus) {\n *     super(eventBus);\n *\n *   this.preExecute('shape.create', (event) => {\n *     console.log('commandStack.shape-create.preExecute', event);\n *   });\n * }\n * ```\n *\n * @param {EventBus} eventBus\n */\nfunction CommandInterceptor(eventBus) {\n\n  /**\n   * @type {EventBus}\n   */\n  this._eventBus = eventBus;\n}\n\nCommandInterceptor.$inject = [ 'eventBus' ];\n\nfunction unwrapEvent(fn, that) {\n  return function(event) {\n    return fn.call(that || null, event.context, event.command, event);\n  };\n}\n\n\n/**\n * Intercept a command during one of the phases.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {string} [hook] phase to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.on = function(events, hook, priority, handlerFn, unwrap, that) {\n\n  if (isFunction(hook) || isNumber(hook)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = hook;\n    hook = null;\n  }\n\n  if (isFunction(priority)) {\n    that = unwrap;\n    unwrap = handlerFn;\n    handlerFn = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (isObject(unwrap)) {\n    that = unwrap;\n    unwrap = false;\n  }\n\n  if (!isFunction(handlerFn)) {\n    throw new Error('handlerFn must be a function');\n  }\n\n  if (!isArray(events)) {\n    events = [ events ];\n  }\n\n  var eventBus = this._eventBus;\n\n  forEach(events, function(event) {\n\n    // concat commandStack(.event)?(.hook)?\n    var fullEvent = [ 'commandStack', event, hook ].filter(function(e) { return e; }).join('.');\n\n    eventBus.on(fullEvent, priority, unwrap ? unwrapEvent(handlerFn, that) : handlerFn, that);\n  });\n};\n\n/**\n * Add a <canExecute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.canExecute = createHook('canExecute');\n\n/**\n * Add a <preExecute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.preExecute = createHook('preExecute');\n\n/**\n * Add a <preExecuted> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.preExecuted = createHook('preExecuted');\n\n/**\n * Add a <execute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.execute = createHook('execute');\n\n/**\n * Add a <executed> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.executed = createHook('executed');\n\n/**\n * Add a <postExecute> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.postExecute = createHook('postExecute');\n\n/**\n * Add a <postExecuted> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.postExecuted = createHook('postExecuted');\n\n/**\n * Add a <revert> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.revert = createHook('revert');\n\n/**\n * Add a <reverted> phase of command interceptor.\n *\n * @param {Events} [events] command(s) to intercept\n * @param {number} [priority]\n * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n * @param {boolean} [unwrap] whether the event should be unwrapped\n * @param {any} [that]\n */\nCommandInterceptor.prototype.reverted = createHook('reverted');\n\n/*\n * Add prototype methods for each phase of command execution (e.g. execute,\n * revert).\n *\n * @param {string} hook\n *\n * @return { (\n *   events?: Events,\n *   priority?: number,\n *   handlerFn: ComposeHandlerFunction|HandlerFunction,\n *   unwrap?: boolean\n * ) => any }\n */\nfunction createHook(hook) {\n\n  /**\n   * @this {CommandInterceptor}\n   *\n   * @param {Events} [events]\n   * @param {number} [priority]\n   * @param {ComposeHandlerFunction|HandlerFunction} handlerFn\n   * @param {boolean} [unwrap]\n   * @param {any} [that]\n   */\n  const hookFn = function(events, priority, handlerFn, unwrap, that) {\n\n    if (isFunction(events) || isNumber(events)) {\n      that = unwrap;\n      unwrap = handlerFn;\n      handlerFn = priority;\n      priority = events;\n      events = null;\n    }\n\n    this.on(events, hook, priority, handlerFn, unwrap, that);\n  };\n\n  return hookFn;\n}\n\n/**\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\n/**\n * A basic provider that may be extended to implement modeling rules.\n *\n * Extensions should implement the init method to actually add their custom\n * modeling checks. Checks may be added via the #addRule(action, fn) method.\n *\n * @class\n *\n * @param {EventBus} eventBus\n */\nfunction RuleProvider(eventBus) {\n  CommandInterceptor.call(this, eventBus);\n\n  this.init();\n}\n\nRuleProvider.$inject = [ 'eventBus' ];\n\ne(RuleProvider, CommandInterceptor);\n\n\n/**\n * Adds a modeling rule for the given action, implemented through\n * a callback function.\n *\n * The callback receives a modeling specific action context\n * to perform its check. It must return `false` to disallow the\n * action from happening or `true` to allow the action. Usually returing\n * `null` denotes that a particular interaction shall be ignored.\n * By returning nothing or `undefined` you pass evaluation to lower\n * priority rules.\n *\n * @example\n *\n * ```javascript\n * ResizableRules.prototype.init = function() {\n *\n *   \\/**\n *    * Return `true`, `false` or nothing to denote\n *    * _allowed_, _not allowed_ and _continue evaluating_.\n *    *\\/\n *   this.addRule('shape.resize', function(context) {\n *\n *     var shape = context.shape;\n *\n *     if (!context.newBounds) {\n *       // check general resizability\n *       if (!shape.resizable) {\n *         return false;\n *       }\n *\n *       // not returning anything (read: undefined)\n *       // will continue the evaluation of other rules\n *       // (with lower priority)\n *       return;\n *     } else {\n *       // element must have minimum size of 10*10 points\n *       return context.newBounds.width > 10 && context.newBounds.height > 10;\n *     }\n *   });\n * };\n * ```\n *\n * @param {string|string[]} actions the identifier for the modeling action to check\n * @param {number} [priority] the priority at which this rule is being applied\n * @param {(any) => any} fn the callback function that performs the actual check\n */\nRuleProvider.prototype.addRule = function(actions, priority, fn) {\n\n  var self = this;\n\n  if (typeof actions === 'string') {\n    actions = [ actions ];\n  }\n\n  actions.forEach(function(action) {\n\n    self.canExecute(action, priority, function(context, action, event) {\n      return fn(context);\n    }, true);\n  });\n};\n\n/**\n * Implement this method to add new rules during provider initialization.\n */\nRuleProvider.prototype.init = function() {};\n\n/**\n * Append anything modeling rules\n */\nfunction AppendRules(eventBus) {\n  RuleProvider.call(this, eventBus);\n}\n\ne(AppendRules, RuleProvider);\n\nAppendRules.$inject = [\n  'eventBus'\n];\n\nAppendRules.prototype.init = function() {\n  this.addRule('shape.append', function(context) {\n\n    const source = context.element;\n\n    const businessObject = getBusinessObject(source);\n\n    if (isLabel(source)) {\n      return false;\n    }\n\n    if (isAny(source, [\n      'bpmn:EndEvent',\n      'bpmn:Group',\n      'bpmn:TextAnnotation',\n      'bpmn:Lane',\n      'bpmn:Participant',\n      'bpmn:DataStoreReference',\n      'bpmn:DataObjectReference'\n    ])) {\n      return false;\n    }\n\n    if (isConnection(source)) {\n      return false;\n    }\n\n    if (is(source, 'bpmn:IntermediateThrowEvent') && hasEventDefinition(source, 'bpmn:LinkEventDefinition')) {\n      return false;\n    }\n\n    if (is(source, 'bpmn:SubProcess') && businessObject.triggeredByEvent) {\n      return false;\n    }\n  });\n\n};\n\n\n// helpers //////////////\nfunction hasEventDefinition(element, eventDefinition) {\n  const bo = getBusinessObject(element);\n\n  return !!find(bo.eventDefinitions || [], function(definition) {\n    return is(definition, eventDefinition);\n  });\n}\n\nfunction isConnection(element) {\n  return element.waypoints;\n}\n\nvar AppendMenuModule = {\n  __init__: [\n    'appendMenuProvider',\n    'appendContextPadProvider',\n    'appendRules'\n  ],\n  appendMenuProvider: [ 'type', AppendMenuProvider ],\n  appendContextPadProvider: [ 'type', AppendContextPadProvider ],\n  appendRules: [ 'type', AppendRules ]\n};\n\n/**\n * This module is a create menu provider for the popup menu.\n */\nfunction CreateMenuProvider(\n    elementFactory, popupMenu, create,\n    autoPlace, mouse, translate\n) {\n  this._elementFactory = elementFactory;\n  this._popupMenu = popupMenu;\n  this._create = create;\n  this._autoPlace = autoPlace;\n  this._mouse = mouse;\n  this._translate = translate;\n\n  this.register();\n}\n\nCreateMenuProvider.$inject = [\n  'elementFactory',\n  'popupMenu',\n  'create',\n  'autoPlace',\n  'mouse',\n  'translate'\n];\n\n/**\n * Register create menu provider in the popup menu\n */\nCreateMenuProvider.prototype.register = function() {\n  this._popupMenu.registerProvider('bpmn-create', this);\n};\n\n/**\n * Returns the create options as menu entries\n *\n * @param {djs.model.Base} element\n *\n * @return {Array<Object>} a list of menu entry items\n */\nCreateMenuProvider.prototype.getPopupMenuEntries = function() {\n\n  const entries = {};\n\n  // map options to menu entries\n  CREATE_OPTIONS.forEach(option => {\n    const {\n      actionName,\n      className,\n      label,\n      target,\n      description,\n      group,\n      search,\n      rank\n    } = option;\n\n    const targetAction = this._createEntryAction(target);\n\n    entries[`create-${actionName}`] = {\n      label: label && this._translate(label),\n      className,\n      description,\n      group: group && {\n        ...group,\n        name: this._translate(group.name)\n      },\n      search,\n      rank,\n      action: {\n        click: targetAction,\n        dragstart: targetAction\n      }\n    };\n  });\n\n  return entries;\n};\n\n/**\n * Create an action for a given target\n *\n * @param {Object} target\n * @returns {Object}\n */\nCreateMenuProvider.prototype._createEntryAction = function(target) {\n\n  const create = this._create;\n  const mouse = this._mouse;\n  const popupMenu = this._popupMenu;\n  const elementFactory = this._elementFactory;\n\n  let newElement;\n\n  return (event) => {\n    popupMenu.close();\n\n    // create the new element\n    if (target.type === 'bpmn:Participant') {\n      newElement = elementFactory.createParticipantShape(target);\n    } else {\n      newElement = elementFactory.create('shape', target);\n    }\n\n    // use last mouse event if triggered via keyboard\n    if (event instanceof KeyboardEvent) {\n      event = mouse.getLastMoveEvent();\n    }\n\n    return create.start(event, newElement);\n  };\n};\n\nvar bugTestDiv;\nif (typeof document !== 'undefined') {\n  bugTestDiv = document.createElement('div');\n  // Setup\n  bugTestDiv.innerHTML = '  <link/><table></table><a href=\"/a\">a</a><input type=\"checkbox\"/>';\n  // Make sure that link elements get serialized correctly by innerHTML\n  // This requires a wrapper element in IE\n  !bugTestDiv.getElementsByTagName('link').length;\n  bugTestDiv = undefined;\n}\n\nfunction query(selector, el) {\n  el = el || document;\n\n  return el.querySelector(selector);\n}\n\nconst LOWER_PRIORITY = 900;\n\n/**\n * A palette provider for the create elements menu.\n */\nfunction CreatePaletteProvider(palette, translate, popupMenu, canvas, mouse) {\n\n  this._palette = palette;\n  this._translate = translate;\n  this._popupMenu = popupMenu;\n  this._canvas = canvas;\n  this._mouse = mouse;\n\n  this.register();\n}\n\nCreatePaletteProvider.$inject = [\n  'palette',\n  'translate',\n  'popupMenu',\n  'canvas',\n  'mouse'\n];\n\n/**\n * Register create button provider in the palette\n */\nCreatePaletteProvider.prototype.register = function() {\n  this._palette.registerProvider(LOWER_PRIORITY, this);\n};\n\n/**\n * Gets the palette create entry\n *\n * @param {djs.model.Base} element\n * @returns {Object}\n */\nCreatePaletteProvider.prototype.getPaletteEntries = function(element) {\n  const translate = this._translate,\n        popupMenu = this._popupMenu,\n        canvas = this._canvas,\n        mouse = this._mouse;\n\n  const getPosition = (event) => {\n    const X_OFFSET = 35;\n    const Y_OFFSET = 10;\n\n    if (event instanceof KeyboardEvent) {\n      event = mouse.getLastMoveEvent();\n      return { x: event.x, y: event.y };\n    }\n\n    const target = event && event.target || query('.djs-palette [data-action=\"create\"]');\n    const targetPosition = target.getBoundingClientRect();\n\n    return target && {\n      x: targetPosition.left + targetPosition.width / 2 + X_OFFSET,\n      y: targetPosition.top + targetPosition.height / 2 + Y_OFFSET\n    };\n  };\n\n  return {\n    'create': {\n      group: 'create',\n      html: `<div class=\"entry\"> ${createIcon}</div>`,\n      title: translate('Create element'),\n      action: {\n        click: function(event) {\n          const position = getPosition(event);\n\n          const element = canvas.getRootElement();\n\n          popupMenu.open(element, 'bpmn-create', position, {\n            title: translate('Create element'),\n            width: 300,\n            search: true\n          });\n        }\n      }\n    }\n  };\n};\n\nvar CreateMenuModule = {\n  __init__: [\n    'createMenuProvider',\n    'createPaletteProvider'\n  ],\n  createMenuProvider: [ 'type', CreateMenuProvider ],\n  createPaletteProvider: [ 'type', CreatePaletteProvider ]\n};\n\n/**\n * Registers and executes BPMN specific editor actions.\n *\n * @param {Injector} injector\n */\nfunction CreateAppendEditorActions(injector) {\n  this._injector = injector;\n\n  this.registerActions();\n}\n\nCreateAppendEditorActions.$inject = [\n  'injector'\n];\n\n/**\n * Register actions.\n *\n * @param {Injector} injector\n */\nCreateAppendEditorActions.prototype.registerActions = function() {\n  const editorActions = this._injector.get('editorActions', false);\n  const selection = this._injector.get('selection', false);\n  const contextPad = this._injector.get('contextPad', false);\n  const palette = this._injector.get('palette', false);\n  const popupMenu = this._injector.get('popupMenu', false);\n\n  const actions = {};\n\n  // append\n  if (selection && contextPad && palette && popupMenu && palette) {\n    assign(actions, {\n      'appendElement': function(event) {\n        const selected = selection && selection.get();\n\n        if (selected.length == 1 && !popupMenu.isEmpty(selected[0], 'bpmn-append')) {\n          contextPad.triggerEntry('append', 'click', event);\n        } else {\n          palette.triggerEntry('create', 'click', event);\n        }\n      }\n    });\n  }\n\n  // create\n  if (palette) {\n    assign(actions, {\n      'createElement': function(event) {\n        palette.triggerEntry('create', 'click', event);\n      } }\n    );\n  }\n\n  editorActions && editorActions.register(actions);\n\n};\n\nvar EditorActionsModule = {\n  __depends__: [\n    AppendMenuModule,\n    CreateMenuModule\n  ],\n  __init__: [\n    'createAppendEditorActions'\n  ],\n  createAppendEditorActions: [ 'type', CreateAppendEditorActions ]\n};\n\nvar KEYS_COPY = [ 'c', 'C' ];\r\nvar KEYS_PASTE = [ 'v', 'V' ];\r\nvar KEYS_REDO = [ 'y', 'Y' ];\r\nvar KEYS_UNDO = [ 'z', 'Z' ];\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n * @return {boolean}\r\n */\r\nfunction isCmd(event) {\r\n\r\n  // ensure we don't react to AltGr\r\n  // (mapped to CTRL + ALT)\r\n  if (event.altKey) {\r\n    return false;\r\n  }\r\n\r\n  return event.ctrlKey || event.metaKey;\r\n}\r\n\r\n/**\r\n * Checks if key pressed is one of provided keys.\r\n *\r\n * @param {string|string[]} keys\r\n * @param {KeyboardEvent} event\r\n * @return {boolean}\r\n */\r\nfunction isKey(keys, event) {\r\n  keys = isArray(keys) ? keys : [ keys ];\r\n\r\n  return keys.indexOf(event.key) !== -1 || keys.indexOf(event.code) !== -1;\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nfunction isShift(event) {\r\n  return event.shiftKey;\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nfunction isCopy(event) {\r\n  return isCmd(event) && isKey(KEYS_COPY, event);\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nfunction isPaste(event) {\r\n  return isCmd(event) && isKey(KEYS_PASTE, event);\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nfunction isUndo(event) {\r\n  return isCmd(event) && !isShift(event) && isKey(KEYS_UNDO, event);\r\n}\r\n\r\n/**\r\n * @param {KeyboardEvent} event\r\n */\r\nfunction isRedo(event) {\r\n  return isCmd(event) && (\r\n    isKey(KEYS_REDO, event) || (\r\n      isKey(KEYS_UNDO, event) && isShift(event)\r\n    )\r\n  );\r\n}\n\nvar LOW_PRIORITY = 500;\n\n\n/**\n * Adds default keyboard bindings.\n *\n * This does not pull in any features will bind only actions that\n * have previously been registered against the editorActions component.\n *\n * @param {EventBus} eventBus\n * @param {Keyboard} keyboard\n */\nfunction KeyboardBindings(eventBus, keyboard) {\n\n  var self = this;\n\n  eventBus.on('editorActions.init', LOW_PRIORITY, function(event) {\n\n    var editorActions = event.editorActions;\n\n    self.registerBindings(keyboard, editorActions);\n  });\n}\n\nKeyboardBindings.$inject = [\n  'eventBus',\n  'keyboard'\n];\n\n\n/**\n * Register available keyboard bindings.\n *\n * @param {Keyboard} keyboard\n * @param {EditorActions} editorActions\n */\nKeyboardBindings.prototype.registerBindings = function(keyboard, editorActions) {\n\n  /**\n   * Add keyboard binding if respective editor action\n   * is registered.\n   *\n   * @param {string} action name\n   * @param {Function} fn that implements the key binding\n   */\n  function addListener(action, fn) {\n\n    if (editorActions.isRegistered(action)) {\n      keyboard.addListener(fn);\n    }\n  }\n\n\n  // undo\n  // (CTRL|CMD) + Z\n  addListener('undo', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isUndo(event)) {\n      editorActions.trigger('undo');\n\n      return true;\n    }\n  });\n\n  // redo\n  // CTRL + Y\n  // CMD + SHIFT + Z\n  addListener('redo', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isRedo(event)) {\n      editorActions.trigger('redo');\n\n      return true;\n    }\n  });\n\n  // copy\n  // CTRL/CMD + C\n  addListener('copy', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isCopy(event)) {\n      editorActions.trigger('copy');\n\n      return true;\n    }\n  });\n\n  // paste\n  // CTRL/CMD + V\n  addListener('paste', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isPaste(event)) {\n      editorActions.trigger('paste');\n\n      return true;\n    }\n  });\n\n  // zoom in one step\n  // CTRL/CMD + +\n  addListener('stepZoom', function(context) {\n\n    var event = context.keyEvent;\n\n    // quirk: it has to be triggered by `=` as well to work on international keyboard layout\n    // cf: https://github.com/bpmn-io/bpmn-js/issues/1362#issuecomment-722989754\n    if (isKey([ '+', 'Add', '=' ], event) && isCmd(event)) {\n      editorActions.trigger('stepZoom', { value: 1 });\n\n      return true;\n    }\n  });\n\n  // zoom out one step\n  // CTRL + -\n  addListener('stepZoom', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isKey([ '-', 'Subtract' ], event) && isCmd(event)) {\n      editorActions.trigger('stepZoom', { value: -1 });\n\n      return true;\n    }\n  });\n\n  // zoom to the default level\n  // CTRL + 0\n  addListener('zoom', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isKey('0', event) && isCmd(event)) {\n      editorActions.trigger('zoom', { value: 1 });\n\n      return true;\n    }\n  });\n\n  // delete selected element\n  // DEL\n  addListener('removeSelection', function(context) {\n\n    var event = context.keyEvent;\n\n    if (isKey([ 'Backspace', 'Delete', 'Del' ], event)) {\n      editorActions.trigger('removeSelection');\n\n      return true;\n    }\n  });\n};\n\n/**\n * BPMN 2.0 specific keyboard bindings.\n *\n * @param {Injector} injector\n */\nfunction CreateAppendKeyboardBindings(injector) {\n\n  this._injector = injector;\n  this._keyboard = this._injector.get('keyboard', false);\n  this._editorActions = this._injector.get('editorActions', false);\n\n  if (this._keyboard) {\n    this._injector.invoke(KeyboardBindings, this);\n  }\n}\n\ne(CreateAppendKeyboardBindings, KeyboardBindings);\n\nCreateAppendKeyboardBindings.$inject = [\n  'injector'\n];\n\n\n/**\n * Register available keyboard bindings.\n *\n * @param {Keyboard} keyboard\n * @param {EditorActions} editorActions\n */\nCreateAppendKeyboardBindings.prototype.registerBindings = function() {\n\n  const keyboard = this._keyboard;\n  const editorActions = this._editorActions;\n\n  // inherit default bindings\n  KeyboardBindings.prototype.registerBindings.call(this, keyboard, editorActions);\n\n  /**\n   * Add keyboard binding if respective editor action\n   * is registered.\n   *\n   * @param {string} action name\n   * @param {Function} fn that implements the key binding\n   */\n  function addListener(action, fn) {\n\n    if (editorActions && editorActions.isRegistered(action)) {\n      keyboard && keyboard.addListener(fn);\n    }\n  }\n\n  // activate append/create element\n  // A\n  addListener('appendElement', function(context) {\n\n    const event = context.keyEvent;\n\n    if (keyboard && keyboard.hasModifier(event)) {\n      return;\n    }\n\n    if (keyboard && keyboard.isKey([ 'a', 'A' ], event)) {\n\n      editorActions && editorActions.trigger('appendElement', event);\n      return true;\n    }\n  });\n\n  // N\n  addListener('createElement', function(context) {\n\n    const event = context.keyEvent;\n\n    if (keyboard && keyboard.hasModifier(event)) {\n      return;\n    }\n\n    if (keyboard && keyboard.isKey([ 'n', 'N' ], event)) {\n      editorActions && editorActions.trigger('createElement', event);\n\n      return true;\n    }\n  });\n\n};\n\nvar KeyboardBindingsModule = {\n  __depends__: [\n    AppendMenuModule,\n    CreateMenuModule\n  ],\n  __init__: [\n    'createAppendKeyboardBindings'\n  ],\n  createAppendKeyboardBindings: [ 'type', CreateAppendKeyboardBindings ]\n};\n\nvar index$1 = {\n  __depends__: [\n    AppendMenuModule,\n    CreateMenuModule,\n    EditorActionsModule,\n    KeyboardBindingsModule\n  ],\n};\n\n/**\n * A popup menu provider that allows to append elements with\n * element templates.\n */\nfunction ElementTemplatesAppendProvider(\n    popupMenu, translate, elementTemplates,\n    autoPlace, create, mouse, rules) {\n\n  this._popupMenu = popupMenu;\n  this._translate = translate;\n  this._elementTemplates = elementTemplates;\n  this._autoPlace = autoPlace;\n  this._create = create;\n  this._mouse = mouse;\n  this._rules = rules;\n\n  this.register();\n}\n\nElementTemplatesAppendProvider.$inject = [\n  'popupMenu',\n  'translate',\n  'elementTemplates',\n  'autoPlace',\n  'create',\n  'move',\n  'rules'\n];\n\n/**\n * Register append menu provider in the popup menu\n */\nElementTemplatesAppendProvider.prototype.register = function() {\n  this._popupMenu.registerProvider('bpmn-append', this);\n};\n\n/**\n * Adds the element templates to the append menu.\n * @param {djs.model.Base} element\n *\n * @returns {Object}\n */\nElementTemplatesAppendProvider.prototype.getPopupMenuEntries = function(element) {\n  return (entries) => {\n\n    if (!this._rules.allowed('shape.append', { element: element })) {\n      return [];\n    }\n\n    const filteredTemplates = this._filterTemplates(this._elementTemplates.getLatest());\n\n    // add template entries\n    assign(entries, this.getTemplateEntries(element, filteredTemplates));\n\n    return entries;\n  };\n};\n\n/**\n * Get all element templates.\n *\n * @param {djs.model.Base} element\n *\n * @return {Object} element templates as menu entries\n */\nElementTemplatesAppendProvider.prototype.getTemplateEntries = function(element, templates) {\n\n  const templateEntries = {};\n\n  templates.map(template => {\n\n    const {\n      icon = {},\n      category,\n    } = template;\n\n    const entryId = `append.template-${template.id}`;\n\n    const defaultGroup = {\n      id: 'templates',\n      name: this._translate('Templates')\n    };\n\n    templateEntries[entryId] = {\n      label: template.name,\n      description: template.description,\n      documentationRef: template.documentationRef,\n      imageUrl: icon.contents,\n      group: category || defaultGroup,\n      action: this._getEntryAction(element, template)\n    };\n  });\n\n  return templateEntries;\n};\n\n/**\n * Filter out templates from the options.\n *\n * @param {Array<Object>} templates\n *\n * @returns {Array<Object>}\n */\nElementTemplatesAppendProvider.prototype._filterTemplates = function(templates) {\n  return templates.filter(template => {\n    const {\n      appliesTo,\n      elementType\n    } = template;\n\n    const type = (elementType && elementType.value) || appliesTo[0];\n\n    // elements that can not be appended\n    if ([\n      'bpmn:StartEvent',\n      'bpmn:Participant'\n    ].includes(type)) {\n      return false;\n    }\n\n    // sequence flow templates are supported\n    // but connections are not appendable\n    if ('bpmn:SequenceFlow' === type) {\n      return false;\n    }\n\n    return true;\n  });\n};\n\n/**\n * Create an action for a given template.\n *\n * @param {djs.model.Base} element\n * @param {Object} template\n *\n * @returns {Object}\n */\nElementTemplatesAppendProvider.prototype._getEntryAction = function(element, template) {\n  return {\n\n    click: () => {\n      const newElement = this._elementTemplates.createElement(template);\n      this._autoPlace.append(element, newElement);\n    },\n\n    dragstart: (event) => {\n      const newElement = this._elementTemplates.createElement(template);\n\n      if (event instanceof KeyboardEvent) {\n        event = this._mouse.getLastMoveEvent();\n      }\n\n      this._create.start(event, newElement, {\n        source: element\n      });\n    }\n  };\n};\n\nvar AppendElementTemplatesModule = {\n  __init__: [ 'elementTemplatesAppendProvider' ],\n  elementTemplatesAppendProvider: [ 'type', ElementTemplatesAppendProvider ]\n};\n\n/**\n * A popup menu provider that allows to create elements with\n * element templates.\n */\nfunction ElementTemplatesCreateProvider(\n    popupMenu, translate,\n    elementTemplates, mouse, create) {\n\n  this._popupMenu = popupMenu;\n  this._translate = translate;\n  this._elementTemplates = elementTemplates;\n  this._mouse = mouse;\n  this._create = create;\n\n  this.register();\n}\n\nElementTemplatesCreateProvider.$inject = [\n  'popupMenu',\n  'translate',\n  'elementTemplates',\n  'mouse',\n  'create'\n];\n\n/**\n * Register create menu provider in the popup menu\n */\nElementTemplatesCreateProvider.prototype.register = function() {\n  this._popupMenu.registerProvider('bpmn-create', this);\n};\n\n/**\n * Adds the element templates to the create menu.\n * @param {djs.model.Base} element\n *\n * @returns {Object}\n */\nElementTemplatesCreateProvider.prototype.getPopupMenuEntries = function(element) {\n  return (entries) => {\n\n    // add template entries\n    assign(entries, this.getTemplateEntries(element));\n\n    return entries;\n  };\n};\n\n/**\n * Get all element templates.\n *\n * @param {djs.model.Base} element\n *\n * @return {Array<Object>} a list of element templates as menu entries\n */\nElementTemplatesCreateProvider.prototype.getTemplateEntries = function() {\n\n  const templates = this._elementTemplates.getLatest();\n  const templateEntries = {};\n\n  templates.map(template => {\n\n    const {\n      icon = {},\n      category,\n    } = template;\n\n    const entryId = `create.template-${template.id}`;\n\n    const defaultGroup = {\n      id: 'templates',\n      name: this._translate('Templates')\n    };\n\n    templateEntries[entryId] = {\n      label: template.name,\n      description: template.description,\n      documentationRef: template.documentationRef,\n      imageUrl: icon.contents,\n      group: category || defaultGroup,\n      action: {\n        click: this._getEntryAction(template),\n        dragstart: this._getEntryAction(template)\n      }\n    };\n  });\n\n  return templateEntries;\n};\n\n\nElementTemplatesCreateProvider.prototype._getEntryAction = function(template) {\n  const create = this._create;\n  const popupMenu = this._popupMenu;\n  const elementTemplates = this._elementTemplates;\n  const mouse = this._mouse;\n\n  return (event) => {\n\n    popupMenu.close();\n\n    // create the new element\n    let newElement = elementTemplates.createElement(template);\n\n    // use last mouse event if triggered via keyboard\n    if (event instanceof KeyboardEvent) {\n      event = mouse.getLastMoveEvent();\n    }\n\n    return create.start(event, newElement);\n  };\n};\n\nvar CreateElementTemplatesModule = {\n  __init__: [ 'elementTemplatesCreateProvider' ],\n  elementTemplatesCreateProvider: [ 'type', ElementTemplatesCreateProvider ]\n};\n\n/**\n * A replace menu provider that allows to replace elements with\n * element templates.\n */\nfunction ElementTemplatesReplaceProvider(popupMenu, translate, elementTemplates) {\n\n  this._popupMenu = popupMenu;\n  this._translate = translate;\n  this._elementTemplates = elementTemplates;\n\n  this.register();\n}\n\nElementTemplatesReplaceProvider.$inject = [\n  'popupMenu',\n  'translate',\n  'elementTemplates'\n];\n\n/**\n * Register replace menu provider in the popup menu\n */\nElementTemplatesReplaceProvider.prototype.register = function() {\n  this._popupMenu.registerProvider('bpmn-replace', this);\n};\n\n/**\n * Adds the element templates to the replace menu.\n * @param {djs.model.Base} element\n *\n * @returns {Object}\n */\nElementTemplatesReplaceProvider.prototype.getPopupMenuEntries = function(element) {\n\n  return (entries) => {\n\n    // convert our entries into something sortable\n    let entrySet = Object.entries(entries);\n\n    // add template entries\n    entrySet = [ ...entrySet, ...this.getTemplateEntries(element) ];\n\n    // convert back to object\n    return entrySet.reduce((entries, [ key, value ]) => {\n      entries[key] = value;\n\n      return entries;\n    }, {});\n  };\n};\n\n/**\n * Get all element templates that can be used to replace the given element.\n *\n * @param {djs.model.Base} element\n *\n * @return {Array<Object>} a list of element templates as menu entries\n */\nElementTemplatesReplaceProvider.prototype.getTemplateEntries = function(element) {\n\n  const templates = this._getMatchingTemplates(element);\n  return templates.map(template => {\n\n    const {\n      icon = {},\n      category,\n    } = template;\n\n    const entryId = `replace.template-${template.id}`;\n\n    const defaultGroup = {\n      id: 'templates',\n      name: this._translate('Templates')\n    };\n\n    return [ entryId, {\n      label: template.name,\n      description: template.description,\n      documentationRef: template.documentationRef,\n      imageUrl: icon.contents,\n      group: category || defaultGroup,\n      action: () => {\n        this._elementTemplates.applyTemplate(element, template);\n      }\n    } ];\n  });\n};\n\n/**\n * Returns the templates that can the element can be replaced with.\n *\n * @param  {djs.model.Base} element\n *\n * @return {Array<ElementTemplate>}\n */\nElementTemplatesReplaceProvider.prototype._getMatchingTemplates = function(element) {\n  return this._elementTemplates.getLatest().filter(template => {\n    return isAny(element, template.appliesTo) && !isTemplateApplied(element, template);\n  });\n};\n\n\n// helpers ////////////\nfunction isTemplateApplied(element, template) {\n  const businessObject = getBusinessObject(element);\n\n  if (businessObject) {\n    return businessObject.get('zeebe:modelerTemplate') === template.id;\n  }\n\n  return false;\n}\n\nvar ReplaceElementTemplatesModule = {\n  __init__: [\n    'elementTemplatesReplaceProvider'\n  ],\n  elementTemplatesReplaceProvider: [ 'type', ElementTemplatesReplaceProvider ]\n};\n\n/**\n * @typedef {import('../model/Types').Element} Element\n * @typedef {import('../model/Types').ModdleElement} ModdleElement\n */\n\n/**\n * @param {Element} element\n * @param {ModdleElement} [di]\n *\n * @return {boolean}\n */\nfunction isExpanded(element, di) {\n\n  if (is(element, 'bpmn:CallActivity')) {\n    return false;\n  }\n\n  if (is(element, 'bpmn:SubProcess')) {\n    di = di || getDi(element);\n\n    if (di && is(di, 'bpmndi:BPMNPlane')) {\n      return true;\n    }\n\n    return di && !!di.isExpanded;\n  }\n\n  if (is(element, 'bpmn:Participant')) {\n    return !!getBusinessObject(element).processRef;\n  }\n\n  return true;\n}\n\n/**\n * @typedef {import('../../../model/Types').Element} Element\n * @typedef {import('diagram-js/lib/features/popup-menu/PopupMenu').PopupMenuTarget} PopupMenuTarget\n *\n * @typedef {(entry: PopupMenuTarget) => boolean} DifferentTypeValidator\n */\n\n/**\n * Returns true, if an element is from a different type\n * than a target definition. Takes into account the type,\n * event definition type and triggeredByEvent property.\n *\n * @param {Element} element\n *\n * @return {DifferentTypeValidator}\n */\nfunction isDifferentType(element) {\n\n  return function(entry) {\n    var target = entry.target;\n\n    var businessObject = getBusinessObject(element),\n        eventDefinition = businessObject.eventDefinitions && businessObject.eventDefinitions[0];\n\n    var isTypeEqual = businessObject.$type === target.type;\n\n    var isEventDefinitionEqual = (\n      (eventDefinition && eventDefinition.$type) === target.eventDefinitionType\n    );\n\n    var isTriggeredByEventEqual = (\n\n      // coherse to <false>\n      !!target.triggeredByEvent === !!businessObject.triggeredByEvent\n    );\n\n    var isExpandedEqual = (\n      target.isExpanded === undefined ||\n      target.isExpanded === isExpanded(element)\n    );\n\n    return !isTypeEqual || !isEventDefinitionEqual || !isTriggeredByEventEqual || !isExpandedEqual;\n  };\n}\n\n/**\n * @typedef { () => string } LabelGetter\n *\n * @typedef { {\n *   label: string | LabelGetter;\n *   actionName: string;\n *   className: string;\n *   target?: {\n *     type: string;\n *     isExpanded?: boolean;\n *     isInterrupting?: boolean;\n *     triggeredByEvent?: boolean;\n *     cancelActivity?: boolean;\n *     eventDefinitionType?: string;\n *     eventDefinitionAttrs?: Record<string, any>\n *   };\n * } } ReplaceOption\n */\n\n/**\n * @type {ReplaceOption[]}\n */\nvar START_EVENT = [\n  {\n    label: 'Start Event',\n    actionName: 'replace-with-none-start',\n    className: 'bpmn-icon-start-event-none',\n    target: {\n      type: 'bpmn:StartEvent'\n    }\n  },\n  {\n    label: 'Intermediate Throw Event',\n    actionName: 'replace-with-none-intermediate-throwing',\n    className: 'bpmn-icon-intermediate-event-none',\n    target: {\n      type: 'bpmn:IntermediateThrowEvent'\n    }\n  },\n  {\n    label: 'End Event',\n    actionName: 'replace-with-none-end',\n    className: 'bpmn-icon-end-event-none',\n    target: {\n      type: 'bpmn:EndEvent'\n    }\n  },\n  {\n    label: 'Message Start Event',\n    actionName: 'replace-with-message-start',\n    className: 'bpmn-icon-start-event-message',\n    target: {\n      type: 'bpmn:StartEvent',\n      eventDefinitionType: 'bpmn:MessageEventDefinition'\n    }\n  },\n  {\n    label: 'Timer Start Event',\n    actionName: 'replace-with-timer-start',\n    className: 'bpmn-icon-start-event-timer',\n    target: {\n      type: 'bpmn:StartEvent',\n      eventDefinitionType: 'bpmn:TimerEventDefinition'\n    }\n  },\n  {\n    label: 'Conditional Start Event',\n    actionName: 'replace-with-conditional-start',\n    className: 'bpmn-icon-start-event-condition',\n    target: {\n      type: 'bpmn:StartEvent',\n      eventDefinitionType: 'bpmn:ConditionalEventDefinition'\n    }\n  },\n  {\n    label: 'Signal Start Event',\n    actionName: 'replace-with-signal-start',\n    className: 'bpmn-icon-start-event-signal',\n    target: {\n      type: 'bpmn:StartEvent',\n      eventDefinitionType: 'bpmn:SignalEventDefinition'\n    }\n  }\n];\n\n/**\n * @type {ReplaceOption[]}\n */\nvar START_EVENT_SUB_PROCESS = [\n  {\n    label: 'Start Event',\n    actionName: 'replace-with-none-start',\n    className: 'bpmn-icon-start-event-none',\n    target: {\n      type: 'bpmn:StartEvent'\n    }\n  },\n  {\n    label: 'Intermediate Throw Event',\n    actionName: 'replace-with-none-intermediate-throwing',\n    className: 'bpmn-icon-intermediate-event-none',\n    target: {\n      type: 'bpmn:IntermediateThrowEvent'\n    }\n  },\n  {\n    label: 'End Event',\n    actionName: 'replace-with-none-end',\n    className: 'bpmn-icon-end-event-none',\n    target: {\n      type: 'bpmn:EndEvent'\n    }\n  }\n];\n\n/**\n * @type {ReplaceOption[]}\n */\nvar INTERMEDIATE_EVENT = [\n  {\n    label: 'Start Event',\n    actionName: 'replace-with-none-start',\n    className: 'bpmn-icon-start-event-none',\n    target: {\n      type: 'bpmn:StartEvent'\n    }\n  },\n  {\n    label: 'Intermediate Throw Event',\n    actionName: 'replace-with-none-intermediate-throw',\n    className: 'bpmn-icon-intermediate-event-none',\n    target: {\n      type: 'bpmn:IntermediateThrowEvent'\n    }\n  },\n  {\n    label: 'End Event',\n    actionName: 'replace-with-none-end',\n    className: 'bpmn-icon-end-event-none',\n    target: {\n      type: 'bpmn:EndEvent'\n    }\n  },\n  {\n    label: 'Message Intermediate Catch Event',\n    actionName: 'replace-with-message-intermediate-catch',\n    className: 'bpmn-icon-intermediate-event-catch-message',\n    target: {\n      type: 'bpmn:IntermediateCatchEvent',\n      eventDefinitionType: 'bpmn:MessageEventDefinition'\n    }\n  },\n  {\n    label: 'Message Intermediate Throw Event',\n    actionName: 'replace-with-message-intermediate-throw',\n    className: 'bpmn-icon-intermediate-event-throw-message',\n    target: {\n      type: 'bpmn:IntermediateThrowEvent',\n      eventDefinitionType: 'bpmn:MessageEventDefinition'\n    }\n  },\n  {\n    label: 'Timer Intermediate Catch Event',\n    actionName: 'replace-with-timer-intermediate-catch',\n    className: 'bpmn-icon-intermediate-event-catch-timer',\n    target: {\n      type: 'bpmn:IntermediateCatchEvent',\n      eventDefinitionType: 'bpmn:TimerEventDefinition'\n    }\n  },\n  {\n    label: 'Escalation Intermediate Throw Event',\n    actionName: 'replace-with-escalation-intermediate-throw',\n    className: 'bpmn-icon-intermediate-event-throw-escalation',\n    target: {\n      type: 'bpmn:IntermediateThrowEvent',\n      eventDefinitionType: 'bpmn:EscalationEventDefinition'\n    }\n  },\n  {\n    label: 'Conditional Intermediate Catch Event',\n    actionName: 'replace-with-conditional-intermediate-catch',\n    className: 'bpmn-icon-intermediate-event-catch-condition',\n    target: {\n      type: 'bpmn:IntermediateCatchEvent',\n      eventDefinitionType: 'bpmn:ConditionalEventDefinition'\n    }\n  },\n  {\n    label: 'Link Intermediate Catch Event',\n    actionName: 'replace-with-link-intermediate-catch',\n    className: 'bpmn-icon-intermediate-event-catch-link',\n    target: {\n      type: 'bpmn:IntermediateCatchEvent',\n      eventDefinitionType: 'bpmn:LinkEventDefinition',\n      eventDefinitionAttrs: {\n        name: ''\n      }\n    }\n  },\n  {\n    label: 'Link Intermediate Throw Event',\n    actionName: 'replace-with-link-intermediate-throw',\n    className: 'bpmn-icon-intermediate-event-throw-link',\n    target: {\n      type: 'bpmn:IntermediateThrowEvent',\n      eventDefinitionType: 'bpmn:LinkEventDefinition',\n      eventDefinitionAttrs: {\n        name: ''\n      }\n    }\n  },\n  {\n    label: 'Compensation Intermediate Throw Event',\n    actionName: 'replace-with-compensation-intermediate-throw',\n    className: 'bpmn-icon-intermediate-event-throw-compensation',\n    target: {\n      type: 'bpmn:IntermediateThrowEvent',\n      eventDefinitionType: 'bpmn:CompensateEventDefinition'\n    }\n  },\n  {\n    label: 'Signal Intermediate Catch Event',\n    actionName: 'replace-with-signal-intermediate-catch',\n    className: 'bpmn-icon-intermediate-event-catch-signal',\n    target: {\n      type: 'bpmn:IntermediateCatchEvent',\n      eventDefinitionType: 'bpmn:SignalEventDefinition'\n    }\n  },\n  {\n    label: 'Signal Intermediate Throw Event',\n    actionName: 'replace-with-signal-intermediate-throw',\n    className: 'bpmn-icon-intermediate-event-throw-signal',\n    target: {\n      type: 'bpmn:IntermediateThrowEvent',\n      eventDefinitionType: 'bpmn:SignalEventDefinition'\n    }\n  }\n];\n\n/**\n * @type {ReplaceOption[]}\n */\nvar END_EVENT = [\n  {\n    label: 'Start Event',\n    actionName: 'replace-with-none-start',\n    className: 'bpmn-icon-start-event-none',\n    target: {\n      type: 'bpmn:StartEvent'\n    }\n  },\n  {\n    label: 'Intermediate Throw Event',\n    actionName: 'replace-with-none-intermediate-throw',\n    className: 'bpmn-icon-intermediate-event-none',\n    target: {\n      type: 'bpmn:IntermediateThrowEvent'\n    }\n  },\n  {\n    label: 'End Event',\n    actionName: 'replace-with-none-end',\n    className: 'bpmn-icon-end-event-none',\n    target: {\n      type: 'bpmn:EndEvent'\n    }\n  },\n  {\n    label: 'Message End Event',\n    actionName: 'replace-with-message-end',\n    className: 'bpmn-icon-end-event-message',\n    target: {\n      type: 'bpmn:EndEvent',\n      eventDefinitionType: 'bpmn:MessageEventDefinition'\n    }\n  },\n  {\n    label: 'Escalation End Event',\n    actionName: 'replace-with-escalation-end',\n    className: 'bpmn-icon-end-event-escalation',\n    target: {\n      type: 'bpmn:EndEvent',\n      eventDefinitionType: 'bpmn:EscalationEventDefinition'\n    }\n  },\n  {\n    label: 'Error End Event',\n    actionName: 'replace-with-error-end',\n    className: 'bpmn-icon-end-event-error',\n    target: {\n      type: 'bpmn:EndEvent',\n      eventDefinitionType: 'bpmn:ErrorEventDefinition'\n    }\n  },\n  {\n    label: 'Cancel End Event',\n    actionName: 'replace-with-cancel-end',\n    className: 'bpmn-icon-end-event-cancel',\n    target: {\n      type: 'bpmn:EndEvent',\n      eventDefinitionType: 'bpmn:CancelEventDefinition'\n    }\n  },\n  {\n    label: 'Compensation End Event',\n    actionName: 'replace-with-compensation-end',\n    className: 'bpmn-icon-end-event-compensation',\n    target: {\n      type: 'bpmn:EndEvent',\n      eventDefinitionType: 'bpmn:CompensateEventDefinition'\n    }\n  },\n  {\n    label: 'Signal End Event',\n    actionName: 'replace-with-signal-end',\n    className: 'bpmn-icon-end-event-signal',\n    target: {\n      type: 'bpmn:EndEvent',\n      eventDefinitionType: 'bpmn:SignalEventDefinition'\n    }\n  },\n  {\n    label: 'Terminate End Event',\n    actionName: 'replace-with-terminate-end',\n    className: 'bpmn-icon-end-event-terminate',\n    target: {\n      type: 'bpmn:EndEvent',\n      eventDefinitionType: 'bpmn:TerminateEventDefinition'\n    }\n  }\n];\n\n/**\n * @type {ReplaceOption[]}\n */\nvar GATEWAY = [\n  {\n    label: 'Exclusive Gateway',\n    actionName: 'replace-with-exclusive-gateway',\n    className: 'bpmn-icon-gateway-xor',\n    target: {\n      type: 'bpmn:ExclusiveGateway'\n    }\n  },\n  {\n    label: 'Parallel Gateway',\n    actionName: 'replace-with-parallel-gateway',\n    className: 'bpmn-icon-gateway-parallel',\n    target: {\n      type: 'bpmn:ParallelGateway'\n    }\n  },\n  {\n    label: 'Inclusive Gateway',\n    actionName: 'replace-with-inclusive-gateway',\n    className: 'bpmn-icon-gateway-or',\n    target: {\n      type: 'bpmn:InclusiveGateway'\n    }\n  },\n  {\n    label: 'Complex Gateway',\n    actionName: 'replace-with-complex-gateway',\n    className: 'bpmn-icon-gateway-complex',\n    target: {\n      type: 'bpmn:ComplexGateway'\n    }\n  },\n  {\n    label: 'Event based Gateway',\n    actionName: 'replace-with-event-based-gateway',\n    className: 'bpmn-icon-gateway-eventbased',\n    target: {\n      type: 'bpmn:EventBasedGateway',\n      instantiate: false,\n      eventGatewayType: 'Exclusive'\n    }\n  }\n\n  // Gateways deactivated until https://github.com/bpmn-io/bpmn-js/issues/194\n  // {\n  //   label: 'Event based instantiating Gateway',\n  //   actionName: 'replace-with-exclusive-event-based-gateway',\n  //   className: 'bpmn-icon-exclusive-event-based',\n  //   target: {\n  //     type: 'bpmn:EventBasedGateway'\n  //   },\n  //   options: {\n  //     businessObject: { instantiate: true, eventGatewayType: 'Exclusive' }\n  //   }\n  // },\n  // {\n  //   label: 'Parallel Event based instantiating Gateway',\n  //   actionName: 'replace-with-parallel-event-based-instantiate-gateway',\n  //   className: 'bpmn-icon-parallel-event-based-instantiate-gateway',\n  //   target: {\n  //     type: 'bpmn:EventBasedGateway'\n  //   },\n  //   options: {\n  //     businessObject: { instantiate: true, eventGatewayType: 'Parallel' }\n  //   }\n  // }\n];\n\n/**\n * @type {ReplaceOption[]}\n */\nvar SUBPROCESS_EXPANDED = [\n  {\n    label: 'Transaction',\n    actionName: 'replace-with-transaction',\n    className: 'bpmn-icon-transaction',\n    target: {\n      type: 'bpmn:Transaction',\n      isExpanded: true\n    }\n  },\n  {\n    label: 'Event Sub Process',\n    actionName: 'replace-with-event-subprocess',\n    className: 'bpmn-icon-event-subprocess-expanded',\n    target: {\n      type: 'bpmn:SubProcess',\n      triggeredByEvent: true,\n      isExpanded: true\n    }\n  },\n  {\n    label: 'Sub Process (collapsed)',\n    actionName: 'replace-with-collapsed-subprocess',\n    className: 'bpmn-icon-subprocess-collapsed',\n    target: {\n      type: 'bpmn:SubProcess',\n      isExpanded: false\n    }\n  }\n];\n\n/**\n * @type {ReplaceOption[]}\n */\nvar TRANSACTION = [\n  {\n    label: 'Transaction',\n    actionName: 'replace-with-transaction',\n    className: 'bpmn-icon-transaction',\n    target: {\n      type: 'bpmn:Transaction',\n      isExpanded: true\n    }\n  },\n  {\n    label: 'Sub Process',\n    actionName: 'replace-with-subprocess',\n    className: 'bpmn-icon-subprocess-expanded',\n    target: {\n      type: 'bpmn:SubProcess',\n      isExpanded: true\n    }\n  },\n  {\n    label: 'Event Sub Process',\n    actionName: 'replace-with-event-subprocess',\n    className: 'bpmn-icon-event-subprocess-expanded',\n    target: {\n      type: 'bpmn:SubProcess',\n      triggeredByEvent: true,\n      isExpanded: true\n    }\n  }\n];\n\n/**\n * @type {ReplaceOption[]}\n */\nvar EVENT_SUB_PROCESS = TRANSACTION;\n\n/**\n * @type {ReplaceOption[]}\n */\nvar TASK = [\n  {\n    label: 'Task',\n    actionName: 'replace-with-task',\n    className: 'bpmn-icon-task',\n    target: {\n      type: 'bpmn:Task'\n    }\n  },\n  {\n    label: 'User Task',\n    actionName: 'replace-with-user-task',\n    className: 'bpmn-icon-user',\n    target: {\n      type: 'bpmn:UserTask'\n    }\n  },\n  {\n    label: 'Service Task',\n    actionName: 'replace-with-service-task',\n    className: 'bpmn-icon-service',\n    target: {\n      type: 'bpmn:ServiceTask'\n    }\n  },\n  {\n    label: 'Send Task',\n    actionName: 'replace-with-send-task',\n    className: 'bpmn-icon-send',\n    target: {\n      type: 'bpmn:SendTask'\n    }\n  },\n  {\n    label: 'Receive Task',\n    actionName: 'replace-with-receive-task',\n    className: 'bpmn-icon-receive',\n    target: {\n      type: 'bpmn:ReceiveTask'\n    }\n  },\n  {\n    label: 'Manual Task',\n    actionName: 'replace-with-manual-task',\n    className: 'bpmn-icon-manual',\n    target: {\n      type: 'bpmn:ManualTask'\n    }\n  },\n  {\n    label: 'Business Rule Task',\n    actionName: 'replace-with-rule-task',\n    className: 'bpmn-icon-business-rule',\n    target: {\n      type: 'bpmn:BusinessRuleTask'\n    }\n  },\n  {\n    label: 'Script Task',\n    actionName: 'replace-with-script-task',\n    className: 'bpmn-icon-script',\n    target: {\n      type: 'bpmn:ScriptTask'\n    }\n  },\n  {\n    label: 'Call Activity',\n    actionName: 'replace-with-call-activity',\n    className: 'bpmn-icon-call-activity',\n    target: {\n      type: 'bpmn:CallActivity'\n    }\n  },\n  {\n    label: 'Sub Process (collapsed)',\n    actionName: 'replace-with-collapsed-subprocess',\n    className: 'bpmn-icon-subprocess-collapsed',\n    target: {\n      type: 'bpmn:SubProcess',\n      isExpanded: false\n    }\n  },\n  {\n    label: 'Sub Process (expanded)',\n    actionName: 'replace-with-expanded-subprocess',\n    className: 'bpmn-icon-subprocess-expanded',\n    target: {\n      type: 'bpmn:SubProcess',\n      isExpanded: true\n    }\n  }\n];\n\n/**\n * @type {ReplaceOption[]}\n */\nvar DATA_OBJECT_REFERENCE = [\n  {\n    label: 'Data Store Reference',\n    actionName: 'replace-with-data-store-reference',\n    className: 'bpmn-icon-data-store',\n    target: {\n      type: 'bpmn:DataStoreReference'\n    }\n  }\n];\n\n/**\n * @type {ReplaceOption[]}\n */\nvar DATA_STORE_REFERENCE = [\n  {\n    label: 'Data Object Reference',\n    actionName: 'replace-with-data-object-reference',\n    className: 'bpmn-icon-data-object',\n    target: {\n      type: 'bpmn:DataObjectReference'\n    }\n  }\n];\n\n/**\n * @type {ReplaceOption[]}\n */\nvar BOUNDARY_EVENT = [\n  {\n    label: 'Message Boundary Event',\n    actionName: 'replace-with-message-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-message',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:MessageEventDefinition'\n    }\n  },\n  {\n    label: 'Timer Boundary Event',\n    actionName: 'replace-with-timer-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-timer',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:TimerEventDefinition'\n    }\n  },\n  {\n    label: 'Escalation Boundary Event',\n    actionName: 'replace-with-escalation-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-escalation',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:EscalationEventDefinition'\n    }\n  },\n  {\n    label: 'Conditional Boundary Event',\n    actionName: 'replace-with-conditional-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-condition',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:ConditionalEventDefinition'\n    }\n  },\n  {\n    label: 'Error Boundary Event',\n    actionName: 'replace-with-error-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-error',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:ErrorEventDefinition'\n    }\n  },\n  {\n    label: 'Cancel Boundary Event',\n    actionName: 'replace-with-cancel-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-cancel',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:CancelEventDefinition'\n    }\n  },\n  {\n    label: 'Signal Boundary Event',\n    actionName: 'replace-with-signal-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-signal',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:SignalEventDefinition'\n    }\n  },\n  {\n    label: 'Compensation Boundary Event',\n    actionName: 'replace-with-compensation-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-compensation',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:CompensateEventDefinition'\n    }\n  },\n  {\n    label: 'Message Boundary Event (non-interrupting)',\n    actionName: 'replace-with-non-interrupting-message-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-non-interrupting-message',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:MessageEventDefinition',\n      cancelActivity: false\n    }\n  },\n  {\n    label: 'Timer Boundary Event (non-interrupting)',\n    actionName: 'replace-with-non-interrupting-timer-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-non-interrupting-timer',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:TimerEventDefinition',\n      cancelActivity: false\n    }\n  },\n  {\n    label: 'Escalation Boundary Event (non-interrupting)',\n    actionName: 'replace-with-non-interrupting-escalation-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-non-interrupting-escalation',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:EscalationEventDefinition',\n      cancelActivity: false\n    }\n  },\n  {\n    label: 'Conditional Boundary Event (non-interrupting)',\n    actionName: 'replace-with-non-interrupting-conditional-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-non-interrupting-condition',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:ConditionalEventDefinition',\n      cancelActivity: false\n    }\n  },\n  {\n    label: 'Signal Boundary Event (non-interrupting)',\n    actionName: 'replace-with-non-interrupting-signal-boundary',\n    className: 'bpmn-icon-intermediate-event-catch-non-interrupting-signal',\n    target: {\n      type: 'bpmn:BoundaryEvent',\n      eventDefinitionType: 'bpmn:SignalEventDefinition',\n      cancelActivity: false\n    }\n  }\n];\n\n/**\n * @type {ReplaceOption[]}\n */\nvar EVENT_SUB_PROCESS_START_EVENT = [\n  {\n    label: 'Message Start Event',\n    actionName: 'replace-with-message-start',\n    className: 'bpmn-icon-start-event-message',\n    target: {\n      type: 'bpmn:StartEvent',\n      eventDefinitionType: 'bpmn:MessageEventDefinition'\n    }\n  },\n  {\n    label: 'Timer Start Event',\n    actionName: 'replace-with-timer-start',\n    className: 'bpmn-icon-start-event-timer',\n    target: {\n      type: 'bpmn:StartEvent',\n      eventDefinitionType: 'bpmn:TimerEventDefinition'\n    }\n  },\n  {\n    label: 'Conditional Start Event',\n    actionName: 'replace-with-conditional-start',\n    className: 'bpmn-icon-start-event-condition',\n    target: {\n      type: 'bpmn:StartEvent',\n      eventDefinitionType: 'bpmn:ConditionalEventDefinition'\n    }\n  },\n  {\n    label: 'Signal Start Event',\n    actionName: 'replace-with-signal-start',\n    className: 'bpmn-icon-start-event-signal',\n    target: {\n      type: 'bpmn:StartEvent',\n      eventDefinitionType: 'bpmn:SignalEventDefinition'\n    }\n  },\n  {\n    label: 'Error Start Event',\n    actionName: 'replace-with-error-start',\n    className: 'bpmn-icon-start-event-error',\n    target: {\n      type: 'bpmn:StartEvent',\n      eventDefinitionType: 'bpmn:ErrorEventDefinition'\n    }\n  },\n  {\n    label: 'Escalation Start Event',\n    actionName: 'replace-with-escalation-start',\n    className: 'bpmn-icon-start-event-escalation',\n    target: {\n      type: 'bpmn:StartEvent',\n      eventDefinitionType: 'bpmn:EscalationEventDefinition'\n    }\n  },\n  {\n    label: 'Compensation Start Event',\n    actionName: 'replace-with-compensation-start',\n    className: 'bpmn-icon-start-event-compensation',\n    target: {\n      type: 'bpmn:StartEvent',\n      eventDefinitionType: 'bpmn:CompensateEventDefinition'\n    }\n  },\n  {\n    label: 'Message Start Event (non-interrupting)',\n    actionName: 'replace-with-non-interrupting-message-start',\n    className: 'bpmn-icon-start-event-non-interrupting-message',\n    target: {\n      type: 'bpmn:StartEvent',\n      eventDefinitionType: 'bpmn:MessageEventDefinition',\n      isInterrupting: false\n    }\n  },\n  {\n    label: 'Timer Start Event (non-interrupting)',\n    actionName: 'replace-with-non-interrupting-timer-start',\n    className: 'bpmn-icon-start-event-non-interrupting-timer',\n    target: {\n      type: 'bpmn:StartEvent',\n      eventDefinitionType: 'bpmn:TimerEventDefinition',\n      isInterrupting: false\n    }\n  },\n  {\n    label: 'Conditional Start Event (non-interrupting)',\n    actionName: 'replace-with-non-interrupting-conditional-start',\n    className: 'bpmn-icon-start-event-non-interrupting-condition',\n    target: {\n      type: 'bpmn:StartEvent',\n      eventDefinitionType: 'bpmn:ConditionalEventDefinition',\n      isInterrupting: false\n    }\n  },\n  {\n    label: 'Signal Start Event (non-interrupting)',\n    actionName: 'replace-with-non-interrupting-signal-start',\n    className: 'bpmn-icon-start-event-non-interrupting-signal',\n    target: {\n      type: 'bpmn:StartEvent',\n      eventDefinitionType: 'bpmn:SignalEventDefinition',\n      isInterrupting: false\n    }\n  },\n  {\n    label: 'Escalation Start Event (non-interrupting)',\n    actionName: 'replace-with-non-interrupting-escalation-start',\n    className: 'bpmn-icon-start-event-non-interrupting-escalation',\n    target: {\n      type: 'bpmn:StartEvent',\n      eventDefinitionType: 'bpmn:EscalationEventDefinition',\n      isInterrupting: false\n    }\n  }\n];\n\n/**\n * @type {ReplaceOption[]}\n */\nvar SEQUENCE_FLOW = [\n  {\n    label: 'Sequence Flow',\n    actionName: 'replace-with-sequence-flow',\n    className: 'bpmn-icon-connection'\n  },\n  {\n    label: 'Default Flow',\n    actionName: 'replace-with-default-flow',\n    className: 'bpmn-icon-default-flow'\n  },\n  {\n    label: 'Conditional Flow',\n    actionName: 'replace-with-conditional-flow',\n    className: 'bpmn-icon-conditional-flow'\n  }\n];\n\n/**\n * @type {ReplaceOption[]}\n */\nvar PARTICIPANT = [\n  {\n    label: 'Expanded Pool',\n    actionName: 'replace-with-expanded-pool',\n    className: 'bpmn-icon-participant',\n    target: {\n      type: 'bpmn:Participant',\n      isExpanded: true\n    }\n  },\n  {\n    label: function(element) {\n      var label = 'Empty Pool';\n\n      if (element.children && element.children.length) {\n        label += ' (removes content)';\n      }\n\n      return label;\n    },\n    actionName: 'replace-with-collapsed-pool',\n\n    // TODO(@janstuemmel): maybe design new icon\n    className: 'bpmn-icon-lane',\n    target: {\n      type: 'bpmn:Participant',\n      isExpanded: false\n    }\n  }\n];\n\nvar replaceOptions = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  BOUNDARY_EVENT: BOUNDARY_EVENT,\n  DATA_OBJECT_REFERENCE: DATA_OBJECT_REFERENCE,\n  DATA_STORE_REFERENCE: DATA_STORE_REFERENCE,\n  END_EVENT: END_EVENT,\n  EVENT_SUB_PROCESS: EVENT_SUB_PROCESS,\n  EVENT_SUB_PROCESS_START_EVENT: EVENT_SUB_PROCESS_START_EVENT,\n  GATEWAY: GATEWAY,\n  INTERMEDIATE_EVENT: INTERMEDIATE_EVENT,\n  PARTICIPANT: PARTICIPANT,\n  SEQUENCE_FLOW: SEQUENCE_FLOW,\n  START_EVENT: START_EVENT,\n  START_EVENT_SUB_PROCESS: START_EVENT_SUB_PROCESS,\n  SUBPROCESS_EXPANDED: SUBPROCESS_EXPANDED,\n  TASK: TASK,\n  TRANSACTION: TRANSACTION\n});\n\nconst ALL_OPTIONS = Object.values(replaceOptions);\n\nfunction getReplaceOptionGroups() {\n  return ALL_OPTIONS;\n}\n\n/**\n * A replace menu provider that allows to replace elements with\n * templates applied with the correspondent plain element.\n */\nfunction RemoveTemplateReplaceProvider(popupMenu, translate, elementTemplates) {\n\n  this._popupMenu = popupMenu;\n  this._translate = translate;\n  this._elementTemplates = elementTemplates;\n\n  this.register();\n}\n\nRemoveTemplateReplaceProvider.$inject = [\n  'popupMenu',\n  'translate',\n  'elementTemplates'\n];\n\n/**\n * Register replace menu provider in the popup menu\n */\nRemoveTemplateReplaceProvider.prototype.register = function() {\n  this._popupMenu.registerProvider('bpmn-replace', this);\n};\n\n/**\n * Adds the element templates to the replace menu.\n * @param {djs.model.Base} element\n *\n * @returns {Object}\n */\nRemoveTemplateReplaceProvider.prototype.getPopupMenuEntries = function(element) {\n\n  return (entries) => {\n\n    // convert our entries into something sortable\n    let entrySet = Object.entries(entries);\n\n    if (this._elementTemplates && this._elementTemplates.get(element)) {\n\n      // add remove template option\n      this.addPlainElementEntry(element, entrySet, this._translate, this._elementTemplates);\n    }\n\n    // convert back to object\n    return entrySet.reduce((entries, [ key, value ]) => {\n      entries[key] = value;\n\n      return entries;\n    }, {});\n  };\n};\n\n\n/**\n * Adds the option to replace with plain element (remove template).\n *\n * @param {djs.model.Base} element\n * @param {Array<Object>} entries\n */\nRemoveTemplateReplaceProvider.prototype.addPlainElementEntry = function(element, entries, translate, elementTemplates) {\n\n  const replaceOption = this.getPlainEntry(element, entries, translate, elementTemplates);\n\n  if (!replaceOption) {\n    return;\n  }\n\n  const [\n    insertIndex,\n    entry\n  ] = replaceOption;\n\n  // insert remove entry\n  entries.splice(insertIndex, 0, [ entry.id, entry ]);\n};\n\n/**\n * Returns the option to replace with plain element and the index where it should be inserted.\n *\n * @param {djs.model.Base} element\n * @param {Array<Object>} entries\n *\n * @returns {Array<Object, number>}\n */\nRemoveTemplateReplaceProvider.prototype.getPlainEntry = function(element, entries, translate, elementTemplates) {\n\n  const {\n    options,\n    option,\n    optionIndex\n  } = findReplaceOptions(element) || { };\n\n  if (!options) {\n    return null;\n  }\n\n  const entry = {\n    id: 'replace-remove-element-template',\n    action: () => {\n      elementTemplates.removeTemplate(element);\n    },\n    label: translate(option.label),\n    className: option.className\n  };\n\n  // insert after previous option, if it exists\n  const previousIndex = getOptionIndex(options, optionIndex - 1, entries);\n\n  if (previousIndex) {\n    return [\n      previousIndex + 1,\n      entry\n    ];\n  }\n\n  // insert before next option, if it exists\n  const nextIndex = getOptionIndex(options, optionIndex + 1, entries);\n\n  if (nextIndex) {\n    return [\n      nextIndex,\n      entry\n    ];\n  }\n\n  // fallback to insert at start\n  return [\n    0,\n    entry\n  ];\n};\n\n\n/**\n * @param {ModdleElement} element\n *\n * @return { { options: Array<any>, option: any, optionIndex: number } | null }\n */\nfunction findReplaceOptions(element) {\n\n  const isSameType = (element, option) => option.target && !isDifferentType(element)(option);\n\n  return getReplaceOptionGroups().reduce((result, options) => {\n\n    if (result) {\n      return result;\n    }\n\n    const optionIndex = options.findIndex(option => isSameType(element, option));\n\n    if (optionIndex === -1) {\n      return;\n    }\n\n    return {\n      options,\n      option: options[optionIndex],\n      optionIndex\n    };\n  }, null);\n}\n\nfunction getOptionIndex(options, index, entries) {\n  const option = options[index];\n\n  if (!option) {\n    return false;\n  }\n\n  return entries.findIndex(\n    ([ key ]) => key === option.actionName\n  );\n}\n\nvar RemoveTemplatesModule = {\n  __init__: [ 'removeTemplateReplaceProvider' ],\n  removeTemplateReplaceProvider: [ 'type', RemoveTemplateReplaceProvider ]\n};\n\nvar index = {\n  __depends__: [\n    AppendElementTemplatesModule,\n    CreateElementTemplatesModule,\n    ReplaceElementTemplatesModule,\n    RemoveTemplatesModule\n  ]\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYnBtbi1qcy1jcmVhdGUtYXBwZW5kLWFueXRoaW5nL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLFlBQVk7QUFDWjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsS0FBSztBQUNoQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBLE9BQU87QUFDUDs7O0FBR0E7QUFDQTtBQUNBLGNBQWMsZ0NBQWdDO0FBQzlDOztBQUVBO0FBQ0E7QUFDQSxjQUFjLE1BQU07QUFDcEI7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQixxQkFBcUI7QUFDckM7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQixxQkFBcUI7QUFDckM7O0FBRUE7QUFDQTtBQUNBLGNBQWMsNERBQTREO0FBQzFFOztBQUVBO0FBQ0E7QUFDQSxjQUFjLDZDQUE2QztBQUMzRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7OztBQUdBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixZQUFZLDBGQUEwRjtBQUN0RztBQUNBLFlBQVksR0FBRztBQUNmO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCLFlBQVksVUFBVTtBQUN0QjtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFdBQVc7QUFDdEI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLCtCQUErQjs7QUFFbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsK0JBQStCOztBQUVsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrQkFBK0I7O0FBRWxEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwrQkFBK0I7O0FBRWxEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLCtCQUErQjs7QUFFbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBLHlFQUF5RSxXQUFXOztBQUVwRjtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0NBQXdDO0FBQ25ELFdBQVcsU0FBUztBQUNwQixXQUFXLEtBQUs7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0NBQXdDO0FBQ25ELFdBQVcsU0FBUztBQUNwQixXQUFXLEtBQUs7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0NBQXdDO0FBQ25ELFdBQVcsU0FBUztBQUNwQixXQUFXLEtBQUs7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0NBQXdDO0FBQ25ELFdBQVcsU0FBUztBQUNwQixXQUFXLEtBQUs7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0NBQXdDO0FBQ25ELFdBQVcsU0FBUztBQUNwQixXQUFXLEtBQUs7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0NBQXdDO0FBQ25ELFdBQVcsU0FBUztBQUNwQixXQUFXLEtBQUs7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0NBQXdDO0FBQ25ELFdBQVcsU0FBUztBQUNwQixXQUFXLEtBQUs7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0NBQXdDO0FBQ25ELFdBQVcsU0FBUztBQUNwQixXQUFXLEtBQUs7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0NBQXdDO0FBQ25ELFdBQVcsU0FBUztBQUNwQixXQUFXLEtBQUs7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSx3Q0FBd0M7QUFDckQsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsS0FBSztBQUNsQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGFBQWEsdUNBQXVDO0FBQ3BEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QixXQUFXLFFBQVE7QUFDbkIsV0FBVyxjQUFjO0FBQ3pCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0EsWUFBWSxlQUFlO0FBQzNCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47O0FBRUEsc0JBQXNCLFdBQVc7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1B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QUFFSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLFVBQVU7O0FBRXBEO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLDBDQUEwQyxXQUFXOztBQUVyRDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxzQ0FBc0MsVUFBVTs7QUFFaEQ7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxlQUFlO0FBQzFCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsVUFBVTtBQUN2QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7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QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSyxJQUFJO0FBQ1Q7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0IsV0FBVyxlQUFlO0FBQzFCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQixXQUFXLGVBQWU7QUFDMUI7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCO0FBQ0EsZUFBZSx3REFBd0Q7QUFDdkU7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFcUgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZGF5cy0yMDIzLy4vbm9kZV9tb2R1bGVzL2JwbW4tanMtY3JlYXRlLWFwcGVuZC1hbnl0aGluZy9kaXN0L2luZGV4LmVzLmpzP2YxNGQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGbGF0dGVuIGFycmF5LCBvbmUgbGV2ZWwgZGVlcC5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICpcbiAqIEBwYXJhbSB7VFtdW119IGFyclxuICpcbiAqIEByZXR1cm4ge1RbXX1cbiAqL1xuXG5jb25zdCBuYXRpdmVUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCBuYXRpdmVIYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKG9iaikge1xuICByZXR1cm4gb2JqID09PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXkob2JqKSB7XG4gIHJldHVybiBuYXRpdmVUb1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICByZXR1cm4gbmF0aXZlVG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBPYmplY3RdJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIob2JqKSB7XG4gIHJldHVybiBuYXRpdmVUb1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IE51bWJlcl0nO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSBvYmpcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKG9iaikge1xuICBjb25zdCB0YWcgPSBuYXRpdmVUb1N0cmluZy5jYWxsKG9iaik7XG5cbiAgcmV0dXJuIChcbiAgICB0YWcgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgfHxcbiAgICB0YWcgPT09ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyB8fFxuICAgIHRhZyA9PT0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyB8fFxuICAgIHRhZyA9PT0gJ1tvYmplY3QgQXN5bmNHZW5lcmF0b3JGdW5jdGlvbl0nIHx8XG4gICAgdGFnID09PSAnW29iamVjdCBQcm94eV0nXG4gICk7XG59XG5cbi8qKlxuICogUmV0dXJuIHRydWUsIGlmIHRhcmdldCBvd25zIGEgcHJvcGVydHkgd2l0aCB0aGUgZ2l2ZW4ga2V5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBoYXModGFyZ2V0LCBrZXkpIHtcbiAgcmV0dXJuIG5hdGl2ZUhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBrZXkpO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdHlwZWRlZiB7IChcbiAqICAgKChlOiBUKSA9PiBib29sZWFuKSB8XG4gKiAgICgoZTogVCwgaWR4OiBudW1iZXIpID0+IGJvb2xlYW4pIHxcbiAqICAgKChlOiBULCBrZXk6IHN0cmluZykgPT4gYm9vbGVhbikgfFxuICogICBzdHJpbmcgfFxuICogICBudW1iZXJcbiAqICkgfSBNYXRjaGVyXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHRlbXBsYXRlIFVcbiAqXG4gKiBAdHlwZWRlZiB7IChcbiAqICAgKChlOiBUKSA9PiBVKSB8IHN0cmluZyB8IG51bWJlclxuICogKSB9IEV4dHJhY3RvclxuICovXG5cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHR5cGVkZWYgeyAodmFsOiBULCBrZXk6IGFueSkgPT4gYm9vbGVhbiB9IE1hdGNoRm5cbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdHlwZWRlZiB7IFRbXSB9IEFycmF5Q29sbGVjdGlvblxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHsgeyBba2V5OiBzdHJpbmddOiBUIH0gfSBTdHJpbmdLZXlWYWx1ZUNvbGxlY3Rpb25cbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdHlwZWRlZiB7IHsgW2tleTogbnVtYmVyXTogVCB9IH0gTnVtYmVyS2V5VmFsdWVDb2xsZWN0aW9uXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHR5cGVkZWYgeyBTdHJpbmdLZXlWYWx1ZUNvbGxlY3Rpb248VD4gfCBOdW1iZXJLZXlWYWx1ZUNvbGxlY3Rpb248VD4gfSBLZXlWYWx1ZUNvbGxlY3Rpb25cbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdHlwZWRlZiB7IEtleVZhbHVlQ29sbGVjdGlvbjxUPiB8IEFycmF5Q29sbGVjdGlvbjxUPiB9IENvbGxlY3Rpb25cbiAqL1xuXG4vKipcbiAqIEZpbmQgZWxlbWVudCBpbiBjb2xsZWN0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge0NvbGxlY3Rpb248VD59IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7TWF0Y2hlcjxUPn0gbWF0Y2hlclxuICpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gZmluZChjb2xsZWN0aW9uLCBtYXRjaGVyKSB7XG5cbiAgY29uc3QgbWF0Y2hGbiA9IHRvTWF0Y2hlcihtYXRjaGVyKTtcblxuICBsZXQgbWF0Y2g7XG5cbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgIGlmIChtYXRjaEZuKHZhbCwga2V5KSkge1xuICAgICAgbWF0Y2ggPSB2YWw7XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBtYXRjaDtcblxufVxuXG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGNvbGxlY3Rpb247IHJldHVybmluZyBzb21ldGhpbmdcbiAqIChub24tdW5kZWZpbmVkKSB3aWxsIHN0b3AgaXRlcmF0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge0NvbGxlY3Rpb248VD59IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7ICgoaXRlbTogVCwgaWR4OiBudW1iZXIpID0+IChib29sZWFufHZvaWQpKSB8ICgoaXRlbTogVCwga2V5OiBzdHJpbmcpID0+IChib29sZWFufHZvaWQpKSB9IGl0ZXJhdG9yXG4gKlxuICogQHJldHVybiB7VH0gcmV0dXJuIHJlc3VsdCB0aGF0IHN0b3BwZWQgdGhlIGl0ZXJhdGlvblxuICovXG5mdW5jdGlvbiBmb3JFYWNoKGNvbGxlY3Rpb24sIGl0ZXJhdG9yKSB7XG5cbiAgbGV0IHZhbCxcbiAgICAgIHJlc3VsdDtcblxuICBpZiAoaXNVbmRlZmluZWQoY29sbGVjdGlvbikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjb252ZXJ0S2V5ID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IHRvTnVtIDogaWRlbnRpdHk7XG5cbiAgZm9yIChsZXQga2V5IGluIGNvbGxlY3Rpb24pIHtcblxuICAgIGlmIChoYXMoY29sbGVjdGlvbiwga2V5KSkge1xuICAgICAgdmFsID0gY29sbGVjdGlvbltrZXldO1xuXG4gICAgICByZXN1bHQgPSBpdGVyYXRvcih2YWwsIGNvbnZlcnRLZXkoa2V5KSk7XG5cbiAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cblxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSBpZiBzb21lIGVsZW1lbnRzIGluIHRoZSBjb2xsZWN0aW9uXG4gKiBtYXRjaCB0aGUgY3JpdGVyaWEuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gbWF0Y2hlclxuICpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHNvbWUoY29sbGVjdGlvbiwgbWF0Y2hlcikge1xuXG4gIHJldHVybiAhIWZpbmQoY29sbGVjdGlvbiwgbWF0Y2hlcik7XG59XG5cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtNYXRjaGVyPFQ+fSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7TWF0Y2hGbjxUPn1cbiAqL1xuZnVuY3Rpb24gdG9NYXRjaGVyKG1hdGNoZXIpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24obWF0Y2hlcikgPyBtYXRjaGVyIDogKGUpID0+IHtcbiAgICByZXR1cm4gZSA9PT0gbWF0Y2hlcjtcbiAgfTtcbn1cblxuXG5mdW5jdGlvbiBpZGVudGl0eShhcmcpIHtcbiAgcmV0dXJuIGFyZztcbn1cblxuZnVuY3Rpb24gdG9OdW0oYXJnKSB7XG4gIHJldHVybiBOdW1iZXIoYXJnKTtcbn1cblxuLyoqXG4gKiBDb252ZW5pZW5jZSB3cmFwcGVyIGZvciBgT2JqZWN0LmFzc2lnbmAuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHsuLi5PYmplY3R9IG90aGVyc1xuICpcbiAqIEByZXR1cm4ge09iamVjdH0gdGhlIHRhcmdldFxuICovXG5mdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCAuLi5vdGhlcnMpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24odGFyZ2V0LCAuLi5vdGhlcnMpO1xufVxuXG5jb25zdCBFVkVOVF9HUk9VUCA9IHtcbiAgaWQ6ICdldmVudHMnLFxuICBuYW1lOiAnRXZlbnRzJ1xufTtcblxuY29uc3QgVEFTS19HUk9VUCA9IHtcbiAgaWQ6ICd0YXNrcycsXG4gIG5hbWU6ICdUYXNrcydcbn07XG5cbmNvbnN0IERBVEFfR1JPVVAgPSB7XG4gIGlkOiAnZGF0YScsXG4gIG5hbWU6ICdEYXRhJ1xufTtcblxuY29uc3QgUEFSVElDSVBBTlRfR1JPVVAgPSB7XG4gIGlkOiAncGFydGljaXBhbnRzJyxcbiAgbmFtZTogJ1BhcnRpY2lwYW50cydcbn07XG5cbmNvbnN0IFNVQlBST0NFU1NfR1JPVVAgPSB7XG4gIGlkOiAnc3VicHJvY2VzcycsXG4gIG5hbWU6ICdTdWIgUHJvY2Vzc2VzJ1xufTtcblxuY29uc3QgR0FURVdBWV9HUk9VUCA9IHtcbiAgaWQ6ICdnYXRld2F5cycsXG4gIG5hbWU6ICdHYXRld2F5cydcbn07XG5cbmNvbnN0IE5PTkVfRVZFTlRTID0gW1xuICB7XG4gICAgbGFiZWw6ICdTdGFydCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ25vbmUtc3RhcnQtZXZlbnQnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1zdGFydC1ldmVudC1ub25lJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlN0YXJ0RXZlbnQnXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdJbnRlcm1lZGlhdGUgVGhyb3cgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdub25lLWludGVybWVkaWF0ZS10aHJvd2luZycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1ub25lJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkludGVybWVkaWF0ZVRocm93RXZlbnQnXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdCb3VuZGFyeSBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ25vbmUtYm91bmRhcnktZXZlbnQnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtbm9uZScsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpCb3VuZGFyeUV2ZW50J1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnRW5kIEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAnbm9uZS1lbmQtZXZlbnQnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1lbmQtZXZlbnQtbm9uZScsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpFbmRFdmVudCdcbiAgICB9XG4gIH1cbl0ubWFwKG9wdGlvbiA9PiAoeyAuLi5vcHRpb24sIGdyb3VwOiBFVkVOVF9HUk9VUCB9KSk7XG5cbmNvbnN0IFRZUEVEX1NUQVJUX0VWRU5UUyA9IFtcbiAge1xuICAgIGxhYmVsOiAnTWVzc2FnZSBTdGFydCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ21lc3NhZ2Utc3RhcnQnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1zdGFydC1ldmVudC1tZXNzYWdlJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlN0YXJ0RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46TWVzc2FnZUV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1RpbWVyIFN0YXJ0IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAndGltZXItc3RhcnQnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1zdGFydC1ldmVudC10aW1lcicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTdGFydEV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOlRpbWVyRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnQ29uZGl0aW9uYWwgU3RhcnQgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdjb25kaXRpb25hbC1zdGFydCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXN0YXJ0LWV2ZW50LWNvbmRpdGlvbicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTdGFydEV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOkNvbmRpdGlvbmFsRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnU2lnbmFsIFN0YXJ0IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAnc2lnbmFsLXN0YXJ0JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tc3RhcnQtZXZlbnQtc2lnbmFsJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlN0YXJ0RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46U2lnbmFsRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfVxuXS5tYXAob3B0aW9uID0+ICh7IC4uLm9wdGlvbiwgZ3JvdXA6IEVWRU5UX0dST1VQIH0pKTtcblxuY29uc3QgVFlQRURfSU5URVJNRURJQVRFX0VWRU5UID0gW1xuICB7XG4gICAgbGFiZWw6ICdNZXNzYWdlIEludGVybWVkaWF0ZSBDYXRjaCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ21lc3NhZ2UtaW50ZXJtZWRpYXRlLWNhdGNoJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LWNhdGNoLW1lc3NhZ2UnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46SW50ZXJtZWRpYXRlQ2F0Y2hFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpNZXNzYWdlRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnTWVzc2FnZSBJbnRlcm1lZGlhdGUgVGhyb3cgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdtZXNzYWdlLWludGVybWVkaWF0ZS10aHJvdycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC10aHJvdy1tZXNzYWdlJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkludGVybWVkaWF0ZVRocm93RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46TWVzc2FnZUV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1RpbWVyIEludGVybWVkaWF0ZSBDYXRjaCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3RpbWVyLWludGVybWVkaWF0ZS1jYXRjaCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC10aW1lcicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpJbnRlcm1lZGlhdGVDYXRjaEV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOlRpbWVyRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnRXNjYWxhdGlvbiBJbnRlcm1lZGlhdGUgVGhyb3cgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdlc2NhbGF0aW9uLWludGVybWVkaWF0ZS10aHJvdycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC10aHJvdy1lc2NhbGF0aW9uJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkludGVybWVkaWF0ZVRocm93RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46RXNjYWxhdGlvbkV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0NvbmRpdGlvbmFsIEludGVybWVkaWF0ZSBDYXRjaCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ2NvbmRpdGlvbmFsLWludGVybWVkaWF0ZS1jYXRjaCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC1jb25kaXRpb24nLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46SW50ZXJtZWRpYXRlQ2F0Y2hFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpDb25kaXRpb25hbEV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0xpbmsgSW50ZXJtZWRpYXRlIENhdGNoIEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAnbGluay1pbnRlcm1lZGlhdGUtY2F0Y2gnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtbGluaycsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpJbnRlcm1lZGlhdGVDYXRjaEV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOkxpbmtFdmVudERlZmluaXRpb24nLFxuICAgICAgZXZlbnREZWZpbml0aW9uQXR0cnM6IHtcbiAgICAgICAgbmFtZTogJydcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0xpbmsgSW50ZXJtZWRpYXRlIFRocm93IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAnbGluay1pbnRlcm1lZGlhdGUtdGhyb3cnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtdGhyb3ctbGluaycsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpJbnRlcm1lZGlhdGVUaHJvd0V2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOkxpbmtFdmVudERlZmluaXRpb24nLFxuICAgICAgZXZlbnREZWZpbml0aW9uQXR0cnM6IHtcbiAgICAgICAgbmFtZTogJydcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0NvbXBlbnNhdGlvbiBJbnRlcm1lZGlhdGUgVGhyb3cgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdjb21wZW5zYXRpb24taW50ZXJtZWRpYXRlLXRocm93JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LXRocm93LWNvbXBlbnNhdGlvbicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpJbnRlcm1lZGlhdGVUaHJvd0V2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOkNvbXBlbnNhdGVFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdTaWduYWwgSW50ZXJtZWRpYXRlIENhdGNoIEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAnc2lnbmFsLWludGVybWVkaWF0ZS1jYXRjaCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC1zaWduYWwnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46SW50ZXJtZWRpYXRlQ2F0Y2hFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpTaWduYWxFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdTaWduYWwgSW50ZXJtZWRpYXRlIFRocm93IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAnc2lnbmFsLWludGVybWVkaWF0ZS10aHJvdycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC10aHJvdy1zaWduYWwnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46SW50ZXJtZWRpYXRlVGhyb3dFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpTaWduYWxFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9XG5dLm1hcChvcHRpb24gPT4gKHsgLi4ub3B0aW9uLCBncm91cDogRVZFTlRfR1JPVVAgfSkpO1xuXG5jb25zdCBUWVBFRF9CT1VOREFSWV9FVkVOVCA9IFtcbiAge1xuICAgIGxhYmVsOiAnTWVzc2FnZSBCb3VuZGFyeSBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ21lc3NhZ2UtYm91bmRhcnknLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtbWVzc2FnZScsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpCb3VuZGFyeUV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOk1lc3NhZ2VFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdUaW1lciBCb3VuZGFyeSBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3RpbWVyLWJvdW5kYXJ5JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LWNhdGNoLXRpbWVyJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkJvdW5kYXJ5RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46VGltZXJFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdFc2NhbGF0aW9uIEJvdW5kYXJ5IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAnZXNjYWxhdGlvbi1ib3VuZGFyeScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC1lc2NhbGF0aW9uJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkJvdW5kYXJ5RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46RXNjYWxhdGlvbkV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0NvbmRpdGlvbmFsIEJvdW5kYXJ5IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAnY29uZGl0aW9uYWwtYm91bmRhcnknLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtY29uZGl0aW9uJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkJvdW5kYXJ5RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46Q29uZGl0aW9uYWxFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdFcnJvciBCb3VuZGFyeSBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ2Vycm9yLWJvdW5kYXJ5JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LWNhdGNoLWVycm9yJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkJvdW5kYXJ5RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46RXJyb3JFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdDYW5jZWwgQm91bmRhcnkgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdjYW5jZWwtYm91bmRhcnknLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtY2FuY2VsJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkJvdW5kYXJ5RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46Q2FuY2VsRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnU2lnbmFsIEJvdW5kYXJ5IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAnc2lnbmFsLWJvdW5kYXJ5JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LWNhdGNoLXNpZ25hbCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpCb3VuZGFyeUV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOlNpZ25hbEV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0NvbXBlbnNhdGlvbiBCb3VuZGFyeSBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ2NvbXBlbnNhdGlvbi1ib3VuZGFyeScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC1jb21wZW5zYXRpb24nLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46Qm91bmRhcnlFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpDb21wZW5zYXRlRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnTWVzc2FnZSBCb3VuZGFyeSBFdmVudCAobm9uLWludGVycnVwdGluZyknLFxuICAgIGFjdGlvbk5hbWU6ICdub24taW50ZXJydXB0aW5nLW1lc3NhZ2UtYm91bmRhcnknLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtbm9uLWludGVycnVwdGluZy1tZXNzYWdlJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkJvdW5kYXJ5RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46TWVzc2FnZUV2ZW50RGVmaW5pdGlvbicsXG4gICAgICBjYW5jZWxBY3Rpdml0eTogZmFsc2VcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1RpbWVyIEJvdW5kYXJ5IEV2ZW50IChub24taW50ZXJydXB0aW5nKScsXG4gICAgYWN0aW9uTmFtZTogJ25vbi1pbnRlcnJ1cHRpbmctdGltZXItYm91bmRhcnknLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtbm9uLWludGVycnVwdGluZy10aW1lcicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpCb3VuZGFyeUV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOlRpbWVyRXZlbnREZWZpbml0aW9uJyxcbiAgICAgIGNhbmNlbEFjdGl2aXR5OiBmYWxzZVxuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnRXNjYWxhdGlvbiBCb3VuZGFyeSBFdmVudCAobm9uLWludGVycnVwdGluZyknLFxuICAgIGFjdGlvbk5hbWU6ICdub24taW50ZXJydXB0aW5nLWVzY2FsYXRpb24tYm91bmRhcnknLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtbm9uLWludGVycnVwdGluZy1lc2NhbGF0aW9uJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkJvdW5kYXJ5RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46RXNjYWxhdGlvbkV2ZW50RGVmaW5pdGlvbicsXG4gICAgICBjYW5jZWxBY3Rpdml0eTogZmFsc2VcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0NvbmRpdGlvbmFsIEJvdW5kYXJ5IEV2ZW50IChub24taW50ZXJydXB0aW5nKScsXG4gICAgYWN0aW9uTmFtZTogJ25vbi1pbnRlcnJ1cHRpbmctY29uZGl0aW9uYWwtYm91bmRhcnknLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtbm9uLWludGVycnVwdGluZy1jb25kaXRpb24nLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46Qm91bmRhcnlFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpDb25kaXRpb25hbEV2ZW50RGVmaW5pdGlvbicsXG4gICAgICBjYW5jZWxBY3Rpdml0eTogZmFsc2VcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1NpZ25hbCBCb3VuZGFyeSBFdmVudCAobm9uLWludGVycnVwdGluZyknLFxuICAgIGFjdGlvbk5hbWU6ICdub24taW50ZXJydXB0aW5nLXNpZ25hbC1ib3VuZGFyeScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC1ub24taW50ZXJydXB0aW5nLXNpZ25hbCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpCb3VuZGFyeUV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOlNpZ25hbEV2ZW50RGVmaW5pdGlvbicsXG4gICAgICBjYW5jZWxBY3Rpdml0eTogZmFsc2VcbiAgICB9XG4gIH1cbl0ubWFwKG9wdGlvbiA9PiAoeyAuLi5vcHRpb24sIGdyb3VwOiBFVkVOVF9HUk9VUCB9KSk7XG5cbmNvbnN0IFRZUEVEX0VORF9FVkVOVCA9IFtcbiAge1xuICAgIGxhYmVsOiAnTWVzc2FnZSBFbmQgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdtZXNzYWdlLWVuZCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWVuZC1ldmVudC1tZXNzYWdlJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkVuZEV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOk1lc3NhZ2VFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdFc2NhbGF0aW9uIEVuZCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ2VzY2FsYXRpb24tZW5kJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tZW5kLWV2ZW50LWVzY2FsYXRpb24nLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46RW5kRXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46RXNjYWxhdGlvbkV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0Vycm9yIEVuZCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ2Vycm9yLWVuZCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWVuZC1ldmVudC1lcnJvcicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpFbmRFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpFcnJvckV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0NhbmNlbCBFbmQgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdjYW5jZWwtZW5kJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tZW5kLWV2ZW50LWNhbmNlbCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpFbmRFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpDYW5jZWxFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdDb21wZW5zYXRpb24gRW5kIEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAnY29tcGVuc2F0aW9uLWVuZCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWVuZC1ldmVudC1jb21wZW5zYXRpb24nLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46RW5kRXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46Q29tcGVuc2F0ZUV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1NpZ25hbCBFbmQgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdzaWduYWwtZW5kJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tZW5kLWV2ZW50LXNpZ25hbCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpFbmRFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpTaWduYWxFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdUZXJtaW5hdGUgRW5kIEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAndGVybWluYXRlLWVuZCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWVuZC1ldmVudC10ZXJtaW5hdGUnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46RW5kRXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46VGVybWluYXRlRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfVxuXS5tYXAob3B0aW9uID0+ICh7IC4uLm9wdGlvbiwgZ3JvdXA6IEVWRU5UX0dST1VQIH0pKTtcblxuY29uc3QgR0FURVdBWSQxID0gW1xuICB7XG4gICAgbGFiZWw6ICdFeGNsdXNpdmUgR2F0ZXdheScsXG4gICAgYWN0aW9uTmFtZTogJ2V4Y2x1c2l2ZS1nYXRld2F5JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tZ2F0ZXdheS14b3InLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46RXhjbHVzaXZlR2F0ZXdheSdcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1BhcmFsbGVsIEdhdGV3YXknLFxuICAgIGFjdGlvbk5hbWU6ICdwYXJhbGxlbC1nYXRld2F5JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tZ2F0ZXdheS1wYXJhbGxlbCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpQYXJhbGxlbEdhdGV3YXknXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdJbmNsdXNpdmUgR2F0ZXdheScsXG4gICAgc2VhcmNoOiAnb3InLFxuICAgIGFjdGlvbk5hbWU6ICdpbmNsdXNpdmUtZ2F0ZXdheScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWdhdGV3YXktb3InLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46SW5jbHVzaXZlR2F0ZXdheSdcbiAgICB9LFxuICAgIHJhbms6IC0xXG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0NvbXBsZXggR2F0ZXdheScsXG4gICAgYWN0aW9uTmFtZTogJ2NvbXBsZXgtZ2F0ZXdheScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWdhdGV3YXktY29tcGxleCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpDb21wbGV4R2F0ZXdheSdcbiAgICB9LFxuICAgIHJhbms6IC0xXG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0V2ZW50IGJhc2VkIEdhdGV3YXknLFxuICAgIGFjdGlvbk5hbWU6ICdldmVudC1iYXNlZC1nYXRld2F5JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tZ2F0ZXdheS1ldmVudGJhc2VkJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkV2ZW50QmFzZWRHYXRld2F5JyxcbiAgICAgIGluc3RhbnRpYXRlOiBmYWxzZSxcbiAgICAgIGV2ZW50R2F0ZXdheVR5cGU6ICdFeGNsdXNpdmUnXG4gICAgfVxuICB9XG5dLm1hcChvcHRpb24gPT4gKHsgLi4ub3B0aW9uLCBncm91cDogR0FURVdBWV9HUk9VUCB9KSk7XG5cbmNvbnN0IFNVQlBST0NFU1MgPSBbXG4gIHtcbiAgICBsYWJlbDogJ1RyYW5zYWN0aW9uJyxcbiAgICBhY3Rpb25OYW1lOiAndHJhbnNhY3Rpb24nLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi10cmFuc2FjdGlvbicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpUcmFuc2FjdGlvbicsXG4gICAgICBpc0V4cGFuZGVkOiB0cnVlXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdFdmVudCBTdWIgUHJvY2VzcycsXG4gICAgc2VhcmNoOiAnc3VicHJvY2VzcycsXG4gICAgYWN0aW9uTmFtZTogJ2V2ZW50LXN1YnByb2Nlc3MnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1ldmVudC1zdWJwcm9jZXNzLWV4cGFuZGVkJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlN1YlByb2Nlc3MnLFxuICAgICAgdHJpZ2dlcmVkQnlFdmVudDogdHJ1ZSxcbiAgICAgIGlzRXhwYW5kZWQ6IHRydWVcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1N1YiBQcm9jZXNzIChjb2xsYXBzZWQpJyxcbiAgICBzZWFyY2g6ICdzdWJwcm9jZXNzJyxcbiAgICBhY3Rpb25OYW1lOiAnY29sbGFwc2VkLXN1YnByb2Nlc3MnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1zdWJwcm9jZXNzLWNvbGxhcHNlZCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTdWJQcm9jZXNzJyxcbiAgICAgIGlzRXhwYW5kZWQ6IGZhbHNlXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdTdWIgUHJvY2VzcyAoZXhwYW5kZWQpJyxcbiAgICBzZWFyY2g6ICdzdWJwcm9jZXNzJyxcbiAgICBhY3Rpb25OYW1lOiAnZXhwYW5kZWQtc3VicHJvY2VzcycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXN1YnByb2Nlc3MtY29sbGFwc2VkJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlN1YlByb2Nlc3MnLFxuICAgICAgaXNFeHBhbmRlZDogdHJ1ZVxuICAgIH1cbiAgfVxuXS5tYXAob3B0aW9uID0+ICh7IC4uLm9wdGlvbiwgZ3JvdXA6IFNVQlBST0NFU1NfR1JPVVAgfSkpO1xuXG5jb25zdCBUQVNLJDEgPSBbXG4gIHtcbiAgICBsYWJlbDogJ1Rhc2snLFxuICAgIGFjdGlvbk5hbWU6ICd0YXNrJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tdGFzaycsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpUYXNrJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnVXNlciBUYXNrJyxcbiAgICBhY3Rpb25OYW1lOiAndXNlci10YXNrJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tdXNlcicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpVc2VyVGFzaydcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1NlcnZpY2UgVGFzaycsXG4gICAgYWN0aW9uTmFtZTogJ3NlcnZpY2UtdGFzaycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXNlcnZpY2UnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46U2VydmljZVRhc2snXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdTZW5kIFRhc2snLFxuICAgIGFjdGlvbk5hbWU6ICdzZW5kLXRhc2snLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1zZW5kJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlNlbmRUYXNrJ1xuICAgIH0sXG4gICAgcmFuazogLTFcbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnUmVjZWl2ZSBUYXNrJyxcbiAgICBhY3Rpb25OYW1lOiAncmVjZWl2ZS10YXNrJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tcmVjZWl2ZScsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpSZWNlaXZlVGFzaydcbiAgICB9LFxuICAgIHJhbms6IC0xXG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ01hbnVhbCBUYXNrJyxcbiAgICBhY3Rpb25OYW1lOiAnbWFudWFsLXRhc2snLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1tYW51YWwnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46TWFudWFsVGFzaydcbiAgICB9LFxuICAgIHJhbms6IC0xXG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0J1c2luZXNzIFJ1bGUgVGFzaycsXG4gICAgYWN0aW9uTmFtZTogJ3J1bGUtdGFzaycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWJ1c2luZXNzLXJ1bGUnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46QnVzaW5lc3NSdWxlVGFzaydcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1NjcmlwdCBUYXNrJyxcbiAgICBhY3Rpb25OYW1lOiAnc2NyaXB0LXRhc2snLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1zY3JpcHQnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46U2NyaXB0VGFzaydcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0NhbGwgQWN0aXZpdHknLFxuICAgIGFjdGlvbk5hbWU6ICdjYWxsLWFjdGl2aXR5JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tY2FsbC1hY3Rpdml0eScsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpDYWxsQWN0aXZpdHknXG4gICAgfVxuICB9XG5dLm1hcChvcHRpb24gPT4gKHsgLi4ub3B0aW9uLCBncm91cDogVEFTS19HUk9VUCB9KSk7XG5cbmNvbnN0IERBVEFfT0JKRUNUUyA9IFtcbiAge1xuICAgIGxhYmVsOiAnRGF0YSBTdG9yZSBSZWZlcmVuY2UnLFxuICAgIGFjdGlvbk5hbWU6ICdkYXRhLXN0b3JlLXJlZmVyZW5jZScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWRhdGEtc3RvcmUnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46RGF0YVN0b3JlUmVmZXJlbmNlJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnRGF0YSBPYmplY3QgUmVmZXJlbmNlJyxcbiAgICBhY3Rpb25OYW1lOiAnZGF0YS1vYmplY3QtcmVmZXJlbmNlJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tZGF0YS1vYmplY3QnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46RGF0YU9iamVjdFJlZmVyZW5jZSdcbiAgICB9XG4gIH1cbl0ubWFwKG9wdGlvbiA9PiAoeyAuLi5vcHRpb24sIGdyb3VwOiBEQVRBX0dST1VQIH0pKTtcblxuY29uc3QgUEFSVElDSVBBTlQkMSA9IFtcbiAge1xuICAgIGxhYmVsOiAnRXhwYW5kZWQgUG9vbCcsXG4gICAgc2VhcmNoOiAnUGFydGljaXBhbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdleHBhbmRlZC1wb29sJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tcGFydGljaXBhbnQnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46UGFydGljaXBhbnQnLFxuICAgICAgaXNFeHBhbmRlZDogdHJ1ZVxuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnRW1wdHkgUG9vbCcsXG4gICAgc2VhcmNoOiAnQ29sbGFwc2VkIFBhcnRpY2lwYW50JyxcbiAgICBhY3Rpb25OYW1lOiAnY29sbGFwc2VkLXBvb2wnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1sYW5lJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlBhcnRpY2lwYW50JyxcbiAgICAgIGlzRXhwYW5kZWQ6IGZhbHNlXG4gICAgfVxuICB9XG5dLm1hcChvcHRpb24gPT4gKHsgLi4ub3B0aW9uLCBncm91cDogUEFSVElDSVBBTlRfR1JPVVAgfSkpO1xuXG5jb25zdCBDUkVBVEVfT1BUSU9OUyA9IFtcbiAgLi4uR0FURVdBWSQxLFxuICAuLi5UQVNLJDEsXG4gIC4uLlNVQlBST0NFU1MsXG4gIC4uLk5PTkVfRVZFTlRTLFxuICAuLi5UWVBFRF9TVEFSVF9FVkVOVFMsXG4gIC4uLlRZUEVEX0lOVEVSTUVESUFURV9FVkVOVCxcbiAgLi4uVFlQRURfRU5EX0VWRU5ULFxuICAuLi5UWVBFRF9CT1VOREFSWV9FVkVOVCxcbiAgLi4uREFUQV9PQkpFQ1RTLFxuICAuLi5QQVJUSUNJUEFOVCQxXG5dO1xuXG4vKipcbiAqIFRoaXMgbW9kdWxlIGlzIGFuIGFwcGVuZCBtZW51IHByb3ZpZGVyIGZvciB0aGUgcG9wdXAgbWVudS5cbiAqL1xuZnVuY3Rpb24gQXBwZW5kTWVudVByb3ZpZGVyKFxuICAgIGVsZW1lbnRGYWN0b3J5LCBwb3B1cE1lbnUsXG4gICAgY3JlYXRlLCBhdXRvUGxhY2UsIHJ1bGVzLFxuICAgIG1vdXNlLCB0cmFuc2xhdGVcbikge1xuXG4gIHRoaXMuX2VsZW1lbnRGYWN0b3J5ID0gZWxlbWVudEZhY3Rvcnk7XG4gIHRoaXMuX3BvcHVwTWVudSA9IHBvcHVwTWVudTtcbiAgdGhpcy5fY3JlYXRlID0gY3JlYXRlO1xuICB0aGlzLl9hdXRvUGxhY2UgPSBhdXRvUGxhY2U7XG4gIHRoaXMuX3J1bGVzID0gcnVsZXM7XG4gIHRoaXMuX2NyZWF0ZSA9IGNyZWF0ZTtcbiAgdGhpcy5fbW91c2UgPSBtb3VzZTtcbiAgdGhpcy5fdHJhbnNsYXRlID0gdHJhbnNsYXRlO1xuXG4gIHRoaXMucmVnaXN0ZXIoKTtcbn1cblxuQXBwZW5kTWVudVByb3ZpZGVyLiRpbmplY3QgPSBbXG4gICdlbGVtZW50RmFjdG9yeScsXG4gICdwb3B1cE1lbnUnLFxuICAnY3JlYXRlJyxcbiAgJ2F1dG9QbGFjZScsXG4gICdydWxlcycsXG4gICdtb3VzZScsXG4gICd0cmFuc2xhdGUnXG5dO1xuXG4vKipcbiAqIFJlZ2lzdGVyIGFwcGVuZCBtZW51IHByb3ZpZGVyIGluIHRoZSBwb3B1cCBtZW51XG4gKi9cbkFwcGVuZE1lbnVQcm92aWRlci5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcG9wdXBNZW51LnJlZ2lzdGVyUHJvdmlkZXIoJ2JwbW4tYXBwZW5kJywgdGhpcyk7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGFwcGVuZCBvcHRpb25zIGZvciB0aGUgZ2l2ZW4gZWxlbWVudCBhcyBtZW51IGVudHJpZXNcbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7QXJyYXk8T2JqZWN0Pn0gYSBsaXN0IG9mIG1lbnUgZW50cnkgaXRlbXNcbiAqL1xuQXBwZW5kTWVudVByb3ZpZGVyLnByb3RvdHlwZS5nZXRQb3B1cE1lbnVFbnRyaWVzID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICBjb25zdCBydWxlcyA9IHRoaXMuX3J1bGVzO1xuICBjb25zdCB0cmFuc2xhdGUgPSB0aGlzLl90cmFuc2xhdGU7XG5cbiAgY29uc3QgZW50cmllcyA9IHt9O1xuXG4gIGlmICghcnVsZXMuYWxsb3dlZCgnc2hhcGUuYXBwZW5kJywgeyBlbGVtZW50OiBlbGVtZW50IH0pKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgLy8gZmlsdGVyIG91dCBlbGVtZW50cyB3aXRoIG5vIGluY29taW5nIGNvbm5lY3Rpb25zXG4gIGNvbnN0IGFwcGVuZE9wdGlvbnMgPSB0aGlzLl9maWx0ZXJFbnRyaWVzKENSRUFURV9PUFRJT05TKTtcblxuICAvLyBtYXAgb3B0aW9ucyB0byBtZW51IGVudHJpZXNcbiAgYXBwZW5kT3B0aW9ucy5mb3JFYWNoKG9wdGlvbiA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgYWN0aW9uTmFtZSxcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIGxhYmVsLFxuICAgICAgdGFyZ2V0LFxuICAgICAgZGVzY3JpcHRpb24sXG4gICAgICBncm91cCxcbiAgICAgIHNlYXJjaCxcbiAgICAgIHJhbmtcbiAgICB9ID0gb3B0aW9uO1xuXG4gICAgZW50cmllc1tgYXBwZW5kLSR7YWN0aW9uTmFtZX1gXSA9IHtcbiAgICAgIGxhYmVsOiBsYWJlbCAmJiB0cmFuc2xhdGUobGFiZWwpLFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgZGVzY3JpcHRpb24sXG4gICAgICBncm91cDogZ3JvdXAgJiYge1xuICAgICAgICAuLi5ncm91cCxcbiAgICAgICAgbmFtZTogdHJhbnNsYXRlKGdyb3VwLm5hbWUpXG4gICAgICB9LFxuICAgICAgc2VhcmNoLFxuICAgICAgcmFuayxcbiAgICAgIGFjdGlvbjogdGhpcy5fY3JlYXRlRW50cnlBY3Rpb24oZWxlbWVudCwgdGFyZ2V0KVxuICAgIH07XG4gIH0pO1xuXG4gIHJldHVybiBlbnRyaWVzO1xufTtcblxuLyoqXG4gKiBGaWx0ZXIgb3V0IGVudHJpZXMgZnJvbSB0aGUgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PE9iamVjdD59IGVudHJpZXNcbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxPYmplY3Q+fSBmaWx0ZXJlZCBlbnRyaWVzXG4gKi9cbkFwcGVuZE1lbnVQcm92aWRlci5wcm90b3R5cGUuX2ZpbHRlckVudHJpZXMgPSBmdW5jdGlvbihlbnRyaWVzKSB7XG4gIHJldHVybiBlbnRyaWVzLmZpbHRlcihvcHRpb24gPT4ge1xuXG4gICAgY29uc3QgdGFyZ2V0ID0gb3B0aW9uLnRhcmdldDtcbiAgICBjb25zdCB7XG4gICAgICB0eXBlLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZVxuICAgIH0gPSB0YXJnZXQ7XG5cbiAgICBpZiAoW1xuICAgICAgJ2JwbW46U3RhcnRFdmVudCcsXG4gICAgICAnYnBtbjpQYXJ0aWNpcGFudCdcbiAgICBdLmluY2x1ZGVzKHR5cGUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHR5cGUgPT09ICdicG1uOkJvdW5kYXJ5RXZlbnQnICYmIGlzVW5kZWZpbmVkKGV2ZW50RGVmaW5pdGlvblR5cGUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gYWN0aW9uIGZvciBhIGdpdmVuIHRhcmdldC5cbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5BcHBlbmRNZW51UHJvdmlkZXIucHJvdG90eXBlLl9jcmVhdGVFbnRyeUFjdGlvbiA9IGZ1bmN0aW9uKGVsZW1lbnQsIHRhcmdldCkge1xuICBjb25zdCBlbGVtZW50RmFjdG9yeSA9IHRoaXMuX2VsZW1lbnRGYWN0b3J5O1xuICBjb25zdCBhdXRvUGxhY2UgPSB0aGlzLl9hdXRvUGxhY2U7XG4gIGNvbnN0IGNyZWF0ZSA9IHRoaXMuX2NyZWF0ZTtcbiAgY29uc3QgbW91c2UgPSB0aGlzLl9tb3VzZTtcblxuXG4gIGNvbnN0IGF1dG9QbGFjZUVsZW1lbnQgPSAoKSA9PiB7XG4gICAgY29uc3QgbmV3RWxlbWVudCA9IGVsZW1lbnRGYWN0b3J5LmNyZWF0ZSgnc2hhcGUnLCB0YXJnZXQpO1xuICAgIGF1dG9QbGFjZS5hcHBlbmQoZWxlbWVudCwgbmV3RWxlbWVudCk7XG4gIH07XG5cbiAgY29uc3QgbWFudWFsUGxhY2VFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgbmV3RWxlbWVudCA9IGVsZW1lbnRGYWN0b3J5LmNyZWF0ZSgnc2hhcGUnLCB0YXJnZXQpO1xuXG4gICAgaWYgKGV2ZW50IGluc3RhbmNlb2YgS2V5Ym9hcmRFdmVudCkge1xuICAgICAgZXZlbnQgPSBtb3VzZS5nZXRMYXN0TW92ZUV2ZW50KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZS5zdGFydChldmVudCwgbmV3RWxlbWVudCwge1xuICAgICAgc291cmNlOiBlbGVtZW50XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBjbGljazogdGhpcy5fY2FuQXV0b1BsYWNlRWxlbWVudCh0YXJnZXQpID8gYXV0b1BsYWNlRWxlbWVudCA6IG1hbnVhbFBsYWNlRWxlbWVudCxcbiAgICBkcmFnc3RhcnQ6IG1hbnVhbFBsYWNlRWxlbWVudFxuICB9O1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZWxlbWVudCBzaG91bGQgYmUgYXV0byBwbGFjZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbkFwcGVuZE1lbnVQcm92aWRlci5wcm90b3R5cGUuX2NhbkF1dG9QbGFjZUVsZW1lbnQgPSAodGFyZ2V0KSA9PiB7XG4gIGNvbnN0IHsgdHlwZSB9ID0gdGFyZ2V0O1xuXG4gIGlmICh0eXBlID09PSAnYnBtbjpCb3VuZGFyeUV2ZW50Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0eXBlID09PSAnYnBtbjpTdWJQcm9jZXNzJyAmJiB0YXJnZXQudHJpZ2dlcmVkQnlFdmVudCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0eXBlID09PSAnYnBtbjpJbnRlcm1lZGlhdGVDYXRjaEV2ZW50JyAmJiB0YXJnZXQuZXZlbnREZWZpbml0aW9uVHlwZSA9PT0gJ2JwbW46TGlua0V2ZW50RGVmaW5pdGlvbicpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmNvbnN0IGFwcGVuZEljb24gPSBgPHN2ZyB3aWR0aD1cIjIyXCIgaGVpZ2h0PVwiMjJcIiB2aWV3Qm94PVwiMCAwIDUuODIgNS44MlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+XG4gIDxwYXRoIGQ9XCJNMS4zIDMuNGMuMyAwIC41LS4yLjUtLjVzLS4yLS40LS41LS40Yy0uMiAwLS40LjEtLjQuNCAwIC4zLjIuNS40LjV6TTMgMy40Yy4yIDAgLjQtLjIuNC0uNXMtLjItLjQtLjQtLjRjLS4zIDAtLjUuMS0uNS40IDAgLjMuMi41LjUuNXpNNC42IDMuNGMuMiAwIC40LS4yLjQtLjVzLS4yLS40LS40LS40Yy0uMyAwLS41LjEtLjUuNCAwIC4zLjIuNS41LjV6XCIvPlxuPC9zdmc+YDtcbmNvbnN0IGNyZWF0ZUljb24gPSBgPHN2ZyB3aWR0aD1cIjQ2XCIgaGVpZ2h0PVwiNDZcIiB2aWV3Qm94PVwiLTIgLTIgOS44MiA5LjgyXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj5cbiAgPHBhdGggZD1cIk0xLjMgMy40Yy4zIDAgLjUtLjIuNS0uNXMtLjItLjQtLjUtLjRjLS4yIDAtLjQuMS0uNC40IDAgLjMuMi41LjQuNXpNMyAzLjRjLjIgMCAuNC0uMi40LS41cy0uMi0uNC0uNC0uNGMtLjMgMC0uNS4xLS41LjQgMCAuMy4yLjUuNS41ek00LjYgMy40Yy4yIDAgLjQtLjIuNC0uNXMtLjItLjQtLjQtLjRjLS4zIDAtLjUuMS0uNS40IDAgLjMuMi41LjUuNXpcIi8+XG48L3N2Zz5gO1xuXG4vKipcbiAqIEEgcHJvdmlkZXIgZm9yIGFwcGVuZCBjb250ZXh0IHBhZCBidXR0b25cbiAqL1xuZnVuY3Rpb24gQXBwZW5kQ29udGV4dFBhZFByb3ZpZGVyKGNvbnRleHRQYWQsIHBvcHVwTWVudSwgdHJhbnNsYXRlLCBjYW52YXMpIHtcblxuICB0aGlzLl9jb250ZXh0UGFkID0gY29udGV4dFBhZDtcbiAgdGhpcy5fcG9wdXBNZW51ID0gcG9wdXBNZW51O1xuICB0aGlzLl90cmFuc2xhdGUgPSB0cmFuc2xhdGU7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcblxuICB0aGlzLnJlZ2lzdGVyKCk7XG59XG5cbkFwcGVuZENvbnRleHRQYWRQcm92aWRlci4kaW5qZWN0ID0gW1xuICAnY29udGV4dFBhZCcsXG4gICdwb3B1cE1lbnUnLFxuICAndHJhbnNsYXRlJyxcbiAgJ2NhbnZhcydcbl07XG5cbi8qKlxuICogUmVnaXN0ZXIgYXBwZW5kIGJ1dHRvbiBwcm92aWRlciBpbiB0aGUgY29udGV4dCBwYWRcbiAqL1xuQXBwZW5kQ29udGV4dFBhZFByb3ZpZGVyLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jb250ZXh0UGFkLnJlZ2lzdGVyUHJvdmlkZXIodGhpcyk7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGFwcGVuZCBjb250ZXh0IHBhZCBlbnRyeVxuICpcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9IGVudHJpZXNcbiAqL1xuQXBwZW5kQ29udGV4dFBhZFByb3ZpZGVyLnByb3RvdHlwZS5nZXRDb250ZXh0UGFkRW50cmllcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgY29uc3QgcG9wdXBNZW51ID0gdGhpcy5fcG9wdXBNZW51O1xuICBjb25zdCB0cmFuc2xhdGUgPSB0aGlzLl90cmFuc2xhdGU7XG4gIGNvbnN0IGdldEFwcGVuZE1lbnVQb3NpdGlvbiA9IHRoaXMuX2dldEFwcGVuZE1lbnVQb3NpdGlvbi5iaW5kKHRoaXMpO1xuXG4gIGlmICghcG9wdXBNZW51LmlzRW1wdHkoZWxlbWVudCwgJ2JwbW4tYXBwZW5kJykpIHtcblxuICAgIC8vIGFwcGVuZCBtZW51IGVudHJ5XG4gICAgcmV0dXJuIHtcbiAgICAgICdhcHBlbmQnOiB7XG4gICAgICAgIGdyb3VwOiAnbW9kZWwnLFxuICAgICAgICBodG1sOiBgPGRpdiBjbGFzcz1cImVudHJ5XCI+JHthcHBlbmRJY29ufTwvZGl2PmAsXG4gICAgICAgIHRpdGxlOiB0cmFuc2xhdGUoJ0FwcGVuZCBlbGVtZW50JyksXG4gICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbihldmVudCwgZWxlbWVudCkge1xuXG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGFzc2lnbihnZXRBcHBlbmRNZW51UG9zaXRpb24oZWxlbWVudCksIHtcbiAgICAgICAgICAgICAgY3Vyc29yOiB7IHg6IGV2ZW50LngsIHk6IGV2ZW50LnkgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHBvcHVwTWVudS5vcGVuKGVsZW1lbnQsICdicG1uLWFwcGVuZCcsIHBvc2l0aW9uLCB7XG4gICAgICAgICAgICAgIHRpdGxlOiB0cmFuc2xhdGUoJ0FwcGVuZCBlbGVtZW50JyksXG4gICAgICAgICAgICAgIHdpZHRoOiAzMDAsXG4gICAgICAgICAgICAgIHNlYXJjaDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBwb3NpdGlvbiBmb3IgdGhlIGFwcGVuZCBtZW51IHJlbGF0aXZlbHkgdG8gdGhlIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5BcHBlbmRDb250ZXh0UGFkUHJvdmlkZXIucHJvdG90eXBlLl9nZXRBcHBlbmRNZW51UG9zaXRpb24gPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIGNvbnN0IGNvbnRleHRQYWQgPSB0aGlzLl9jb250ZXh0UGFkO1xuXG4gIGNvbnN0IFhfT0ZGU0VUID0gNTtcblxuICBjb25zdCBwYWQgPSBjb250ZXh0UGFkLmdldFBhZChlbGVtZW50KS5odG1sO1xuXG4gIGNvbnN0IHBhZFJlY3QgPSBwYWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgY29uc3QgcG9zID0ge1xuICAgIHg6IHBhZFJlY3QucmlnaHQgKyBYX09GRlNFVCxcbiAgICB5OiBwYWRSZWN0LnRvcFxuICB9O1xuXG4gIHJldHVybiBwb3M7XG59O1xuXG5mdW5jdGlvbiBlKGUsdCl7dCYmKGUuc3VwZXJfPXQsZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSkpO31cblxuLyoqXG4gKiBAdHlwZWRlZiB7IGltcG9ydCgnLi4vbW9kZWwvVHlwZXMnKS5FbGVtZW50IH0gRWxlbWVudFxuICogQHR5cGVkZWYgeyBpbXBvcnQoJy4uL21vZGVsL1R5cGVzJykuTW9kZGxlRWxlbWVudCB9IE1vZGRsZUVsZW1lbnRcbiAqL1xuXG4vKipcbiAqIElzIGFuIGVsZW1lbnQgb2YgdGhlIGdpdmVuIEJQTU4gdHlwZT9cbiAqXG4gKiBAcGFyYW0gIHtFbGVtZW50fE1vZGRsZUVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSAge3N0cmluZ30gdHlwZVxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzKGVsZW1lbnQsIHR5cGUpIHtcbiAgdmFyIGJvID0gZ2V0QnVzaW5lc3NPYmplY3QoZWxlbWVudCk7XG5cbiAgcmV0dXJuIGJvICYmICh0eXBlb2YgYm8uJGluc3RhbmNlT2YgPT09ICdmdW5jdGlvbicpICYmIGJvLiRpbnN0YW5jZU9mKHR5cGUpO1xufVxuXG5cbi8qKlxuICogUmV0dXJuIHRydWUgaWYgZWxlbWVudCBoYXMgYW55IG9mIHRoZSBnaXZlbiB0eXBlcy5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR8TW9kZGxlRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmdbXX0gdHlwZXNcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0FueShlbGVtZW50LCB0eXBlcykge1xuICByZXR1cm4gc29tZSh0eXBlcywgZnVuY3Rpb24odCkge1xuICAgIHJldHVybiBpcyhlbGVtZW50LCB0KTtcbiAgfSk7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBidXNpbmVzcyBvYmplY3QgZm9yIGEgZ2l2ZW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR8TW9kZGxlRWxlbWVudH0gZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge01vZGRsZUVsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGdldEJ1c2luZXNzT2JqZWN0KGVsZW1lbnQpIHtcbiAgcmV0dXJuIChlbGVtZW50ICYmIGVsZW1lbnQuYnVzaW5lc3NPYmplY3QpIHx8IGVsZW1lbnQ7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBkaSBvYmplY3QgZm9yIGEgZ2l2ZW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtNb2RkbGVFbGVtZW50fVxuICovXG5mdW5jdGlvbiBnZXREaShlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50ICYmIGVsZW1lbnQuZGk7XG59XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSB2YWx1ZSBpcyBhbiBpbnN0YW5jZSBvZiBMYWJlbC5cbiAqXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0xhYmVsKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWx1ZSkgJiYgaGFzKHZhbHVlLCAnbGFiZWxUYXJnZXQnKTtcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9jb3JlL1R5cGVzJykuRWxlbWVudExpa2V9IEVsZW1lbnRMaWtlXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9jb3JlL0V2ZW50QnVzJykuZGVmYXVsdH0gRXZlbnRCdXNcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vQ29tbWFuZFN0YWNrJykuQ29tbWFuZENvbnRleHR9IENvbW1hbmRDb250ZXh0XG4gKlxuICogQHR5cGVkZWYge3N0cmluZ3xzdHJpbmdbXX0gRXZlbnRzXG4gKiBAdHlwZWRlZiB7IChjb250ZXh0OiBDb21tYW5kQ29udGV4dCkgPT4gRWxlbWVudExpa2VbXSB8IHZvaWQgfSBIYW5kbGVyRnVuY3Rpb25cbiAqIEB0eXBlZGVmIHsgKGNvbnRleHQ6IENvbW1hbmRDb250ZXh0KSA9PiB2b2lkIH0gQ29tcG9zZUhhbmRsZXJGdW5jdGlvblxuICovXG5cbnZhciBERUZBVUxUX1BSSU9SSVRZID0gMTAwMDtcblxuLyoqXG4gKiBBIHV0aWxpdHkgdGhhdCBjYW4gYmUgdXNlZCB0byBwbHVnIGludG8gdGhlIGNvbW1hbmQgZXhlY3V0aW9uIGZvclxuICogZXh0ZW5zaW9uIGFuZC9vciB2YWxpZGF0aW9uLlxuICpcbiAqIEBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBpbXBvcnQgQ29tbWFuZEludGVyY2VwdG9yIGZyb20gJ2RpYWdyYW0tanMvbGliL2NvbW1hbmQvQ29tbWFuZEludGVyY2VwdG9yJztcbiAqXG4gKiBjbGFzcyBDb21tYW5kTG9nZ2VyIGV4dGVuZHMgQ29tbWFuZEludGVyY2VwdG9yIHtcbiAqICAgY29uc3RydWN0b3IoZXZlbnRCdXMpIHtcbiAqICAgICBzdXBlcihldmVudEJ1cyk7XG4gKlxuICogICB0aGlzLnByZUV4ZWN1dGUoJ3NoYXBlLmNyZWF0ZScsIChldmVudCkgPT4ge1xuICogICAgIGNvbnNvbGUubG9nKCdjb21tYW5kU3RhY2suc2hhcGUtY3JlYXRlLnByZUV4ZWN1dGUnLCBldmVudCk7XG4gKiAgIH0pO1xuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcbiAqL1xuZnVuY3Rpb24gQ29tbWFuZEludGVyY2VwdG9yKGV2ZW50QnVzKSB7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtFdmVudEJ1c31cbiAgICovXG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XG59XG5cbkNvbW1hbmRJbnRlcmNlcHRvci4kaW5qZWN0ID0gWyAnZXZlbnRCdXMnIF07XG5cbmZ1bmN0aW9uIHVud3JhcEV2ZW50KGZuLCB0aGF0KSB7XG4gIHJldHVybiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiBmbi5jYWxsKHRoYXQgfHwgbnVsbCwgZXZlbnQuY29udGV4dCwgZXZlbnQuY29tbWFuZCwgZXZlbnQpO1xuICB9O1xufVxuXG5cbi8qKlxuICogSW50ZXJjZXB0IGEgY29tbWFuZCBkdXJpbmcgb25lIG9mIHRoZSBwaGFzZXMuXG4gKlxuICogQHBhcmFtIHtFdmVudHN9IFtldmVudHNdIGNvbW1hbmQocykgdG8gaW50ZXJjZXB0XG4gKiBAcGFyYW0ge3N0cmluZ30gW2hvb2tdIHBoYXNlIHRvIGludGVyY2VwdFxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eV1cbiAqIEBwYXJhbSB7Q29tcG9zZUhhbmRsZXJGdW5jdGlvbnxIYW5kbGVyRnVuY3Rpb259IGhhbmRsZXJGblxuICogQHBhcmFtIHtib29sZWFufSBbdW53cmFwXSB3aGV0aGVyIHRoZSBldmVudCBzaG91bGQgYmUgdW53cmFwcGVkXG4gKiBAcGFyYW0ge2FueX0gW3RoYXRdXG4gKi9cbkNvbW1hbmRJbnRlcmNlcHRvci5wcm90b3R5cGUub24gPSBmdW5jdGlvbihldmVudHMsIGhvb2ssIHByaW9yaXR5LCBoYW5kbGVyRm4sIHVud3JhcCwgdGhhdCkge1xuXG4gIGlmIChpc0Z1bmN0aW9uKGhvb2spIHx8IGlzTnVtYmVyKGhvb2spKSB7XG4gICAgdGhhdCA9IHVud3JhcDtcbiAgICB1bndyYXAgPSBoYW5kbGVyRm47XG4gICAgaGFuZGxlckZuID0gcHJpb3JpdHk7XG4gICAgcHJpb3JpdHkgPSBob29rO1xuICAgIGhvb2sgPSBudWxsO1xuICB9XG5cbiAgaWYgKGlzRnVuY3Rpb24ocHJpb3JpdHkpKSB7XG4gICAgdGhhdCA9IHVud3JhcDtcbiAgICB1bndyYXAgPSBoYW5kbGVyRm47XG4gICAgaGFuZGxlckZuID0gcHJpb3JpdHk7XG4gICAgcHJpb3JpdHkgPSBERUZBVUxUX1BSSU9SSVRZO1xuICB9XG5cbiAgaWYgKGlzT2JqZWN0KHVud3JhcCkpIHtcbiAgICB0aGF0ID0gdW53cmFwO1xuICAgIHVud3JhcCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGhhbmRsZXJGbikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2hhbmRsZXJGbiBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGlmICghaXNBcnJheShldmVudHMpKSB7XG4gICAgZXZlbnRzID0gWyBldmVudHMgXTtcbiAgfVxuXG4gIHZhciBldmVudEJ1cyA9IHRoaXMuX2V2ZW50QnVzO1xuXG4gIGZvckVhY2goZXZlbnRzLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgLy8gY29uY2F0IGNvbW1hbmRTdGFjayguZXZlbnQpPyguaG9vayk/XG4gICAgdmFyIGZ1bGxFdmVudCA9IFsgJ2NvbW1hbmRTdGFjaycsIGV2ZW50LCBob29rIF0uZmlsdGVyKGZ1bmN0aW9uKGUpIHsgcmV0dXJuIGU7IH0pLmpvaW4oJy4nKTtcblxuICAgIGV2ZW50QnVzLm9uKGZ1bGxFdmVudCwgcHJpb3JpdHksIHVud3JhcCA/IHVud3JhcEV2ZW50KGhhbmRsZXJGbiwgdGhhdCkgOiBoYW5kbGVyRm4sIHRoYXQpO1xuICB9KTtcbn07XG5cbi8qKlxuICogQWRkIGEgPGNhbkV4ZWN1dGU+IHBoYXNlIG9mIGNvbW1hbmQgaW50ZXJjZXB0b3IuXG4gKlxuICogQHBhcmFtIHtFdmVudHN9IFtldmVudHNdIGNvbW1hbmQocykgdG8gaW50ZXJjZXB0XG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XVxuICogQHBhcmFtIHtDb21wb3NlSGFuZGxlckZ1bmN0aW9ufEhhbmRsZXJGdW5jdGlvbn0gaGFuZGxlckZuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bndyYXBdIHdoZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSB1bndyYXBwZWRcbiAqIEBwYXJhbSB7YW55fSBbdGhhdF1cbiAqL1xuQ29tbWFuZEludGVyY2VwdG9yLnByb3RvdHlwZS5jYW5FeGVjdXRlID0gY3JlYXRlSG9vaygnY2FuRXhlY3V0ZScpO1xuXG4vKipcbiAqIEFkZCBhIDxwcmVFeGVjdXRlPiBwaGFzZSBvZiBjb21tYW5kIGludGVyY2VwdG9yLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRzfSBbZXZlbnRzXSBjb21tYW5kKHMpIHRvIGludGVyY2VwdFxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eV1cbiAqIEBwYXJhbSB7Q29tcG9zZUhhbmRsZXJGdW5jdGlvbnxIYW5kbGVyRnVuY3Rpb259IGhhbmRsZXJGblxuICogQHBhcmFtIHtib29sZWFufSBbdW53cmFwXSB3aGV0aGVyIHRoZSBldmVudCBzaG91bGQgYmUgdW53cmFwcGVkXG4gKiBAcGFyYW0ge2FueX0gW3RoYXRdXG4gKi9cbkNvbW1hbmRJbnRlcmNlcHRvci5wcm90b3R5cGUucHJlRXhlY3V0ZSA9IGNyZWF0ZUhvb2soJ3ByZUV4ZWN1dGUnKTtcblxuLyoqXG4gKiBBZGQgYSA8cHJlRXhlY3V0ZWQ+IHBoYXNlIG9mIGNvbW1hbmQgaW50ZXJjZXB0b3IuXG4gKlxuICogQHBhcmFtIHtFdmVudHN9IFtldmVudHNdIGNvbW1hbmQocykgdG8gaW50ZXJjZXB0XG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XVxuICogQHBhcmFtIHtDb21wb3NlSGFuZGxlckZ1bmN0aW9ufEhhbmRsZXJGdW5jdGlvbn0gaGFuZGxlckZuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bndyYXBdIHdoZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSB1bndyYXBwZWRcbiAqIEBwYXJhbSB7YW55fSBbdGhhdF1cbiAqL1xuQ29tbWFuZEludGVyY2VwdG9yLnByb3RvdHlwZS5wcmVFeGVjdXRlZCA9IGNyZWF0ZUhvb2soJ3ByZUV4ZWN1dGVkJyk7XG5cbi8qKlxuICogQWRkIGEgPGV4ZWN1dGU+IHBoYXNlIG9mIGNvbW1hbmQgaW50ZXJjZXB0b3IuXG4gKlxuICogQHBhcmFtIHtFdmVudHN9IFtldmVudHNdIGNvbW1hbmQocykgdG8gaW50ZXJjZXB0XG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XVxuICogQHBhcmFtIHtDb21wb3NlSGFuZGxlckZ1bmN0aW9ufEhhbmRsZXJGdW5jdGlvbn0gaGFuZGxlckZuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bndyYXBdIHdoZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSB1bndyYXBwZWRcbiAqIEBwYXJhbSB7YW55fSBbdGhhdF1cbiAqL1xuQ29tbWFuZEludGVyY2VwdG9yLnByb3RvdHlwZS5leGVjdXRlID0gY3JlYXRlSG9vaygnZXhlY3V0ZScpO1xuXG4vKipcbiAqIEFkZCBhIDxleGVjdXRlZD4gcGhhc2Ugb2YgY29tbWFuZCBpbnRlcmNlcHRvci5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50c30gW2V2ZW50c10gY29tbWFuZChzKSB0byBpbnRlcmNlcHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHldXG4gKiBAcGFyYW0ge0NvbXBvc2VIYW5kbGVyRnVuY3Rpb258SGFuZGxlckZ1bmN0aW9ufSBoYW5kbGVyRm5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vud3JhcF0gd2hldGhlciB0aGUgZXZlbnQgc2hvdWxkIGJlIHVud3JhcHBlZFxuICogQHBhcmFtIHthbnl9IFt0aGF0XVxuICovXG5Db21tYW5kSW50ZXJjZXB0b3IucHJvdG90eXBlLmV4ZWN1dGVkID0gY3JlYXRlSG9vaygnZXhlY3V0ZWQnKTtcblxuLyoqXG4gKiBBZGQgYSA8cG9zdEV4ZWN1dGU+IHBoYXNlIG9mIGNvbW1hbmQgaW50ZXJjZXB0b3IuXG4gKlxuICogQHBhcmFtIHtFdmVudHN9IFtldmVudHNdIGNvbW1hbmQocykgdG8gaW50ZXJjZXB0XG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XVxuICogQHBhcmFtIHtDb21wb3NlSGFuZGxlckZ1bmN0aW9ufEhhbmRsZXJGdW5jdGlvbn0gaGFuZGxlckZuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bndyYXBdIHdoZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSB1bndyYXBwZWRcbiAqIEBwYXJhbSB7YW55fSBbdGhhdF1cbiAqL1xuQ29tbWFuZEludGVyY2VwdG9yLnByb3RvdHlwZS5wb3N0RXhlY3V0ZSA9IGNyZWF0ZUhvb2soJ3Bvc3RFeGVjdXRlJyk7XG5cbi8qKlxuICogQWRkIGEgPHBvc3RFeGVjdXRlZD4gcGhhc2Ugb2YgY29tbWFuZCBpbnRlcmNlcHRvci5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50c30gW2V2ZW50c10gY29tbWFuZChzKSB0byBpbnRlcmNlcHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHldXG4gKiBAcGFyYW0ge0NvbXBvc2VIYW5kbGVyRnVuY3Rpb258SGFuZGxlckZ1bmN0aW9ufSBoYW5kbGVyRm5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vud3JhcF0gd2hldGhlciB0aGUgZXZlbnQgc2hvdWxkIGJlIHVud3JhcHBlZFxuICogQHBhcmFtIHthbnl9IFt0aGF0XVxuICovXG5Db21tYW5kSW50ZXJjZXB0b3IucHJvdG90eXBlLnBvc3RFeGVjdXRlZCA9IGNyZWF0ZUhvb2soJ3Bvc3RFeGVjdXRlZCcpO1xuXG4vKipcbiAqIEFkZCBhIDxyZXZlcnQ+IHBoYXNlIG9mIGNvbW1hbmQgaW50ZXJjZXB0b3IuXG4gKlxuICogQHBhcmFtIHtFdmVudHN9IFtldmVudHNdIGNvbW1hbmQocykgdG8gaW50ZXJjZXB0XG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XVxuICogQHBhcmFtIHtDb21wb3NlSGFuZGxlckZ1bmN0aW9ufEhhbmRsZXJGdW5jdGlvbn0gaGFuZGxlckZuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bndyYXBdIHdoZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSB1bndyYXBwZWRcbiAqIEBwYXJhbSB7YW55fSBbdGhhdF1cbiAqL1xuQ29tbWFuZEludGVyY2VwdG9yLnByb3RvdHlwZS5yZXZlcnQgPSBjcmVhdGVIb29rKCdyZXZlcnQnKTtcblxuLyoqXG4gKiBBZGQgYSA8cmV2ZXJ0ZWQ+IHBoYXNlIG9mIGNvbW1hbmQgaW50ZXJjZXB0b3IuXG4gKlxuICogQHBhcmFtIHtFdmVudHN9IFtldmVudHNdIGNvbW1hbmQocykgdG8gaW50ZXJjZXB0XG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XVxuICogQHBhcmFtIHtDb21wb3NlSGFuZGxlckZ1bmN0aW9ufEhhbmRsZXJGdW5jdGlvbn0gaGFuZGxlckZuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bndyYXBdIHdoZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSB1bndyYXBwZWRcbiAqIEBwYXJhbSB7YW55fSBbdGhhdF1cbiAqL1xuQ29tbWFuZEludGVyY2VwdG9yLnByb3RvdHlwZS5yZXZlcnRlZCA9IGNyZWF0ZUhvb2soJ3JldmVydGVkJyk7XG5cbi8qXG4gKiBBZGQgcHJvdG90eXBlIG1ldGhvZHMgZm9yIGVhY2ggcGhhc2Ugb2YgY29tbWFuZCBleGVjdXRpb24gKGUuZy4gZXhlY3V0ZSxcbiAqIHJldmVydCkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGhvb2tcbiAqXG4gKiBAcmV0dXJuIHsgKFxuICogICBldmVudHM/OiBFdmVudHMsXG4gKiAgIHByaW9yaXR5PzogbnVtYmVyLFxuICogICBoYW5kbGVyRm46IENvbXBvc2VIYW5kbGVyRnVuY3Rpb258SGFuZGxlckZ1bmN0aW9uLFxuICogICB1bndyYXA/OiBib29sZWFuXG4gKiApID0+IGFueSB9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUhvb2soaG9vaykge1xuXG4gIC8qKlxuICAgKiBAdGhpcyB7Q29tbWFuZEludGVyY2VwdG9yfVxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50c30gW2V2ZW50c11cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eV1cbiAgICogQHBhcmFtIHtDb21wb3NlSGFuZGxlckZ1bmN0aW9ufEhhbmRsZXJGdW5jdGlvbn0gaGFuZGxlckZuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vud3JhcF1cbiAgICogQHBhcmFtIHthbnl9IFt0aGF0XVxuICAgKi9cbiAgY29uc3QgaG9va0ZuID0gZnVuY3Rpb24oZXZlbnRzLCBwcmlvcml0eSwgaGFuZGxlckZuLCB1bndyYXAsIHRoYXQpIHtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGV2ZW50cykgfHwgaXNOdW1iZXIoZXZlbnRzKSkge1xuICAgICAgdGhhdCA9IHVud3JhcDtcbiAgICAgIHVud3JhcCA9IGhhbmRsZXJGbjtcbiAgICAgIGhhbmRsZXJGbiA9IHByaW9yaXR5O1xuICAgICAgcHJpb3JpdHkgPSBldmVudHM7XG4gICAgICBldmVudHMgPSBudWxsO1xuICAgIH1cblxuICAgIHRoaXMub24oZXZlbnRzLCBob29rLCBwcmlvcml0eSwgaGFuZGxlckZuLCB1bndyYXAsIHRoYXQpO1xuICB9O1xuXG4gIHJldHVybiBob29rRm47XG59XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXG4gKi9cblxuLyoqXG4gKiBBIGJhc2ljIHByb3ZpZGVyIHRoYXQgbWF5IGJlIGV4dGVuZGVkIHRvIGltcGxlbWVudCBtb2RlbGluZyBydWxlcy5cbiAqXG4gKiBFeHRlbnNpb25zIHNob3VsZCBpbXBsZW1lbnQgdGhlIGluaXQgbWV0aG9kIHRvIGFjdHVhbGx5IGFkZCB0aGVpciBjdXN0b21cbiAqIG1vZGVsaW5nIGNoZWNrcy4gQ2hlY2tzIG1heSBiZSBhZGRlZCB2aWEgdGhlICNhZGRSdWxlKGFjdGlvbiwgZm4pIG1ldGhvZC5cbiAqXG4gKiBAY2xhc3NcbiAqXG4gKiBAcGFyYW0ge0V2ZW50QnVzfSBldmVudEJ1c1xuICovXG5mdW5jdGlvbiBSdWxlUHJvdmlkZXIoZXZlbnRCdXMpIHtcbiAgQ29tbWFuZEludGVyY2VwdG9yLmNhbGwodGhpcywgZXZlbnRCdXMpO1xuXG4gIHRoaXMuaW5pdCgpO1xufVxuXG5SdWxlUHJvdmlkZXIuJGluamVjdCA9IFsgJ2V2ZW50QnVzJyBdO1xuXG5lKFJ1bGVQcm92aWRlciwgQ29tbWFuZEludGVyY2VwdG9yKTtcblxuXG4vKipcbiAqIEFkZHMgYSBtb2RlbGluZyBydWxlIGZvciB0aGUgZ2l2ZW4gYWN0aW9uLCBpbXBsZW1lbnRlZCB0aHJvdWdoXG4gKiBhIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICpcbiAqIFRoZSBjYWxsYmFjayByZWNlaXZlcyBhIG1vZGVsaW5nIHNwZWNpZmljIGFjdGlvbiBjb250ZXh0XG4gKiB0byBwZXJmb3JtIGl0cyBjaGVjay4gSXQgbXVzdCByZXR1cm4gYGZhbHNlYCB0byBkaXNhbGxvdyB0aGVcbiAqIGFjdGlvbiBmcm9tIGhhcHBlbmluZyBvciBgdHJ1ZWAgdG8gYWxsb3cgdGhlIGFjdGlvbi4gVXN1YWxseSByZXR1cmluZ1xuICogYG51bGxgIGRlbm90ZXMgdGhhdCBhIHBhcnRpY3VsYXIgaW50ZXJhY3Rpb24gc2hhbGwgYmUgaWdub3JlZC5cbiAqIEJ5IHJldHVybmluZyBub3RoaW5nIG9yIGB1bmRlZmluZWRgIHlvdSBwYXNzIGV2YWx1YXRpb24gdG8gbG93ZXJcbiAqIHByaW9yaXR5IHJ1bGVzLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogUmVzaXphYmxlUnVsZXMucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcbiAqXG4gKiAgIFxcLyoqXG4gKiAgICAqIFJldHVybiBgdHJ1ZWAsIGBmYWxzZWAgb3Igbm90aGluZyB0byBkZW5vdGVcbiAqICAgICogX2FsbG93ZWRfLCBfbm90IGFsbG93ZWRfIGFuZCBfY29udGludWUgZXZhbHVhdGluZ18uXG4gKiAgICAqXFwvXG4gKiAgIHRoaXMuYWRkUnVsZSgnc2hhcGUucmVzaXplJywgZnVuY3Rpb24oY29udGV4dCkge1xuICpcbiAqICAgICB2YXIgc2hhcGUgPSBjb250ZXh0LnNoYXBlO1xuICpcbiAqICAgICBpZiAoIWNvbnRleHQubmV3Qm91bmRzKSB7XG4gKiAgICAgICAvLyBjaGVjayBnZW5lcmFsIHJlc2l6YWJpbGl0eVxuICogICAgICAgaWYgKCFzaGFwZS5yZXNpemFibGUpIHtcbiAqICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICogICAgICAgfVxuICpcbiAqICAgICAgIC8vIG5vdCByZXR1cm5pbmcgYW55dGhpbmcgKHJlYWQ6IHVuZGVmaW5lZClcbiAqICAgICAgIC8vIHdpbGwgY29udGludWUgdGhlIGV2YWx1YXRpb24gb2Ygb3RoZXIgcnVsZXNcbiAqICAgICAgIC8vICh3aXRoIGxvd2VyIHByaW9yaXR5KVxuICogICAgICAgcmV0dXJuO1xuICogICAgIH0gZWxzZSB7XG4gKiAgICAgICAvLyBlbGVtZW50IG11c3QgaGF2ZSBtaW5pbXVtIHNpemUgb2YgMTAqMTAgcG9pbnRzXG4gKiAgICAgICByZXR1cm4gY29udGV4dC5uZXdCb3VuZHMud2lkdGggPiAxMCAmJiBjb250ZXh0Lm5ld0JvdW5kcy5oZWlnaHQgPiAxMDtcbiAqICAgICB9XG4gKiAgIH0pO1xuICogfTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBhY3Rpb25zIHRoZSBpZGVudGlmaWVyIGZvciB0aGUgbW9kZWxpbmcgYWN0aW9uIHRvIGNoZWNrXG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5XSB0aGUgcHJpb3JpdHkgYXQgd2hpY2ggdGhpcyBydWxlIGlzIGJlaW5nIGFwcGxpZWRcbiAqIEBwYXJhbSB7KGFueSkgPT4gYW55fSBmbiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyB0aGUgYWN0dWFsIGNoZWNrXG4gKi9cblJ1bGVQcm92aWRlci5wcm90b3R5cGUuYWRkUnVsZSA9IGZ1bmN0aW9uKGFjdGlvbnMsIHByaW9yaXR5LCBmbikge1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAodHlwZW9mIGFjdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgYWN0aW9ucyA9IFsgYWN0aW9ucyBdO1xuICB9XG5cbiAgYWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGFjdGlvbikge1xuXG4gICAgc2VsZi5jYW5FeGVjdXRlKGFjdGlvbiwgcHJpb3JpdHksIGZ1bmN0aW9uKGNvbnRleHQsIGFjdGlvbiwgZXZlbnQpIHtcbiAgICAgIHJldHVybiBmbihjb250ZXh0KTtcbiAgICB9LCB0cnVlKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEltcGxlbWVudCB0aGlzIG1ldGhvZCB0byBhZGQgbmV3IHJ1bGVzIGR1cmluZyBwcm92aWRlciBpbml0aWFsaXphdGlvbi5cbiAqL1xuUnVsZVByb3ZpZGVyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7fTtcblxuLyoqXG4gKiBBcHBlbmQgYW55dGhpbmcgbW9kZWxpbmcgcnVsZXNcbiAqL1xuZnVuY3Rpb24gQXBwZW5kUnVsZXMoZXZlbnRCdXMpIHtcbiAgUnVsZVByb3ZpZGVyLmNhbGwodGhpcywgZXZlbnRCdXMpO1xufVxuXG5lKEFwcGVuZFJ1bGVzLCBSdWxlUHJvdmlkZXIpO1xuXG5BcHBlbmRSdWxlcy4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnXG5dO1xuXG5BcHBlbmRSdWxlcy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmFkZFJ1bGUoJ3NoYXBlLmFwcGVuZCcsIGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgIGNvbnN0IHNvdXJjZSA9IGNvbnRleHQuZWxlbWVudDtcblxuICAgIGNvbnN0IGJ1c2luZXNzT2JqZWN0ID0gZ2V0QnVzaW5lc3NPYmplY3Qoc291cmNlKTtcblxuICAgIGlmIChpc0xhYmVsKHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoaXNBbnkoc291cmNlLCBbXG4gICAgICAnYnBtbjpFbmRFdmVudCcsXG4gICAgICAnYnBtbjpHcm91cCcsXG4gICAgICAnYnBtbjpUZXh0QW5ub3RhdGlvbicsXG4gICAgICAnYnBtbjpMYW5lJyxcbiAgICAgICdicG1uOlBhcnRpY2lwYW50JyxcbiAgICAgICdicG1uOkRhdGFTdG9yZVJlZmVyZW5jZScsXG4gICAgICAnYnBtbjpEYXRhT2JqZWN0UmVmZXJlbmNlJ1xuICAgIF0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGlzQ29ubmVjdGlvbihzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGlzKHNvdXJjZSwgJ2JwbW46SW50ZXJtZWRpYXRlVGhyb3dFdmVudCcpICYmIGhhc0V2ZW50RGVmaW5pdGlvbihzb3VyY2UsICdicG1uOkxpbmtFdmVudERlZmluaXRpb24nKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChpcyhzb3VyY2UsICdicG1uOlN1YlByb2Nlc3MnKSAmJiBidXNpbmVzc09iamVjdC50cmlnZ2VyZWRCeUV2ZW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcblxufTtcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vXG5mdW5jdGlvbiBoYXNFdmVudERlZmluaXRpb24oZWxlbWVudCwgZXZlbnREZWZpbml0aW9uKSB7XG4gIGNvbnN0IGJvID0gZ2V0QnVzaW5lc3NPYmplY3QoZWxlbWVudCk7XG5cbiAgcmV0dXJuICEhZmluZChiby5ldmVudERlZmluaXRpb25zIHx8IFtdLCBmdW5jdGlvbihkZWZpbml0aW9uKSB7XG4gICAgcmV0dXJuIGlzKGRlZmluaXRpb24sIGV2ZW50RGVmaW5pdGlvbik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBpc0Nvbm5lY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC53YXlwb2ludHM7XG59XG5cbnZhciBBcHBlbmRNZW51TW9kdWxlID0ge1xuICBfX2luaXRfXzogW1xuICAgICdhcHBlbmRNZW51UHJvdmlkZXInLFxuICAgICdhcHBlbmRDb250ZXh0UGFkUHJvdmlkZXInLFxuICAgICdhcHBlbmRSdWxlcydcbiAgXSxcbiAgYXBwZW5kTWVudVByb3ZpZGVyOiBbICd0eXBlJywgQXBwZW5kTWVudVByb3ZpZGVyIF0sXG4gIGFwcGVuZENvbnRleHRQYWRQcm92aWRlcjogWyAndHlwZScsIEFwcGVuZENvbnRleHRQYWRQcm92aWRlciBdLFxuICBhcHBlbmRSdWxlczogWyAndHlwZScsIEFwcGVuZFJ1bGVzIF1cbn07XG5cbi8qKlxuICogVGhpcyBtb2R1bGUgaXMgYSBjcmVhdGUgbWVudSBwcm92aWRlciBmb3IgdGhlIHBvcHVwIG1lbnUuXG4gKi9cbmZ1bmN0aW9uIENyZWF0ZU1lbnVQcm92aWRlcihcbiAgICBlbGVtZW50RmFjdG9yeSwgcG9wdXBNZW51LCBjcmVhdGUsXG4gICAgYXV0b1BsYWNlLCBtb3VzZSwgdHJhbnNsYXRlXG4pIHtcbiAgdGhpcy5fZWxlbWVudEZhY3RvcnkgPSBlbGVtZW50RmFjdG9yeTtcbiAgdGhpcy5fcG9wdXBNZW51ID0gcG9wdXBNZW51O1xuICB0aGlzLl9jcmVhdGUgPSBjcmVhdGU7XG4gIHRoaXMuX2F1dG9QbGFjZSA9IGF1dG9QbGFjZTtcbiAgdGhpcy5fbW91c2UgPSBtb3VzZTtcbiAgdGhpcy5fdHJhbnNsYXRlID0gdHJhbnNsYXRlO1xuXG4gIHRoaXMucmVnaXN0ZXIoKTtcbn1cblxuQ3JlYXRlTWVudVByb3ZpZGVyLiRpbmplY3QgPSBbXG4gICdlbGVtZW50RmFjdG9yeScsXG4gICdwb3B1cE1lbnUnLFxuICAnY3JlYXRlJyxcbiAgJ2F1dG9QbGFjZScsXG4gICdtb3VzZScsXG4gICd0cmFuc2xhdGUnXG5dO1xuXG4vKipcbiAqIFJlZ2lzdGVyIGNyZWF0ZSBtZW51IHByb3ZpZGVyIGluIHRoZSBwb3B1cCBtZW51XG4gKi9cbkNyZWF0ZU1lbnVQcm92aWRlci5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcG9wdXBNZW51LnJlZ2lzdGVyUHJvdmlkZXIoJ2JwbW4tY3JlYXRlJywgdGhpcyk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGNyZWF0ZSBvcHRpb25zIGFzIG1lbnUgZW50cmllc1xuICpcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxPYmplY3Q+fSBhIGxpc3Qgb2YgbWVudSBlbnRyeSBpdGVtc1xuICovXG5DcmVhdGVNZW51UHJvdmlkZXIucHJvdG90eXBlLmdldFBvcHVwTWVudUVudHJpZXMgPSBmdW5jdGlvbigpIHtcblxuICBjb25zdCBlbnRyaWVzID0ge307XG5cbiAgLy8gbWFwIG9wdGlvbnMgdG8gbWVudSBlbnRyaWVzXG4gIENSRUFURV9PUFRJT05TLmZvckVhY2gob3B0aW9uID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBhY3Rpb25OYW1lLFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgbGFiZWwsXG4gICAgICB0YXJnZXQsXG4gICAgICBkZXNjcmlwdGlvbixcbiAgICAgIGdyb3VwLFxuICAgICAgc2VhcmNoLFxuICAgICAgcmFua1xuICAgIH0gPSBvcHRpb247XG5cbiAgICBjb25zdCB0YXJnZXRBY3Rpb24gPSB0aGlzLl9jcmVhdGVFbnRyeUFjdGlvbih0YXJnZXQpO1xuXG4gICAgZW50cmllc1tgY3JlYXRlLSR7YWN0aW9uTmFtZX1gXSA9IHtcbiAgICAgIGxhYmVsOiBsYWJlbCAmJiB0aGlzLl90cmFuc2xhdGUobGFiZWwpLFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgZGVzY3JpcHRpb24sXG4gICAgICBncm91cDogZ3JvdXAgJiYge1xuICAgICAgICAuLi5ncm91cCxcbiAgICAgICAgbmFtZTogdGhpcy5fdHJhbnNsYXRlKGdyb3VwLm5hbWUpXG4gICAgICB9LFxuICAgICAgc2VhcmNoLFxuICAgICAgcmFuayxcbiAgICAgIGFjdGlvbjoge1xuICAgICAgICBjbGljazogdGFyZ2V0QWN0aW9uLFxuICAgICAgICBkcmFnc3RhcnQ6IHRhcmdldEFjdGlvblxuICAgICAgfVxuICAgIH07XG4gIH0pO1xuXG4gIHJldHVybiBlbnRyaWVzO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gYWN0aW9uIGZvciBhIGdpdmVuIHRhcmdldFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbkNyZWF0ZU1lbnVQcm92aWRlci5wcm90b3R5cGUuX2NyZWF0ZUVudHJ5QWN0aW9uID0gZnVuY3Rpb24odGFyZ2V0KSB7XG5cbiAgY29uc3QgY3JlYXRlID0gdGhpcy5fY3JlYXRlO1xuICBjb25zdCBtb3VzZSA9IHRoaXMuX21vdXNlO1xuICBjb25zdCBwb3B1cE1lbnUgPSB0aGlzLl9wb3B1cE1lbnU7XG4gIGNvbnN0IGVsZW1lbnRGYWN0b3J5ID0gdGhpcy5fZWxlbWVudEZhY3Rvcnk7XG5cbiAgbGV0IG5ld0VsZW1lbnQ7XG5cbiAgcmV0dXJuIChldmVudCkgPT4ge1xuICAgIHBvcHVwTWVudS5jbG9zZSgpO1xuXG4gICAgLy8gY3JlYXRlIHRoZSBuZXcgZWxlbWVudFxuICAgIGlmICh0YXJnZXQudHlwZSA9PT0gJ2JwbW46UGFydGljaXBhbnQnKSB7XG4gICAgICBuZXdFbGVtZW50ID0gZWxlbWVudEZhY3RvcnkuY3JlYXRlUGFydGljaXBhbnRTaGFwZSh0YXJnZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdFbGVtZW50ID0gZWxlbWVudEZhY3RvcnkuY3JlYXRlKCdzaGFwZScsIHRhcmdldCk7XG4gICAgfVxuXG4gICAgLy8gdXNlIGxhc3QgbW91c2UgZXZlbnQgaWYgdHJpZ2dlcmVkIHZpYSBrZXlib2FyZFxuICAgIGlmIChldmVudCBpbnN0YW5jZW9mIEtleWJvYXJkRXZlbnQpIHtcbiAgICAgIGV2ZW50ID0gbW91c2UuZ2V0TGFzdE1vdmVFdmVudCgpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGUuc3RhcnQoZXZlbnQsIG5ld0VsZW1lbnQpO1xuICB9O1xufTtcblxudmFyIGJ1Z1Rlc3REaXY7XG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICBidWdUZXN0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIC8vIFNldHVwXG4gIGJ1Z1Rlc3REaXYuaW5uZXJIVE1MID0gJyAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9XCIvYVwiPmE8L2E+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiLz4nO1xuICAvLyBNYWtlIHN1cmUgdGhhdCBsaW5rIGVsZW1lbnRzIGdldCBzZXJpYWxpemVkIGNvcnJlY3RseSBieSBpbm5lckhUTUxcbiAgLy8gVGhpcyByZXF1aXJlcyBhIHdyYXBwZXIgZWxlbWVudCBpbiBJRVxuICAhYnVnVGVzdERpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGluaycpLmxlbmd0aDtcbiAgYnVnVGVzdERpdiA9IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gcXVlcnkoc2VsZWN0b3IsIGVsKSB7XG4gIGVsID0gZWwgfHwgZG9jdW1lbnQ7XG5cbiAgcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xufVxuXG5jb25zdCBMT1dFUl9QUklPUklUWSA9IDkwMDtcblxuLyoqXG4gKiBBIHBhbGV0dGUgcHJvdmlkZXIgZm9yIHRoZSBjcmVhdGUgZWxlbWVudHMgbWVudS5cbiAqL1xuZnVuY3Rpb24gQ3JlYXRlUGFsZXR0ZVByb3ZpZGVyKHBhbGV0dGUsIHRyYW5zbGF0ZSwgcG9wdXBNZW51LCBjYW52YXMsIG1vdXNlKSB7XG5cbiAgdGhpcy5fcGFsZXR0ZSA9IHBhbGV0dGU7XG4gIHRoaXMuX3RyYW5zbGF0ZSA9IHRyYW5zbGF0ZTtcbiAgdGhpcy5fcG9wdXBNZW51ID0gcG9wdXBNZW51O1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gIHRoaXMuX21vdXNlID0gbW91c2U7XG5cbiAgdGhpcy5yZWdpc3RlcigpO1xufVxuXG5DcmVhdGVQYWxldHRlUHJvdmlkZXIuJGluamVjdCA9IFtcbiAgJ3BhbGV0dGUnLFxuICAndHJhbnNsYXRlJyxcbiAgJ3BvcHVwTWVudScsXG4gICdjYW52YXMnLFxuICAnbW91c2UnXG5dO1xuXG4vKipcbiAqIFJlZ2lzdGVyIGNyZWF0ZSBidXR0b24gcHJvdmlkZXIgaW4gdGhlIHBhbGV0dGVcbiAqL1xuQ3JlYXRlUGFsZXR0ZVByb3ZpZGVyLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9wYWxldHRlLnJlZ2lzdGVyUHJvdmlkZXIoTE9XRVJfUFJJT1JJVFksIHRoaXMpO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBwYWxldHRlIGNyZWF0ZSBlbnRyeVxuICpcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbkNyZWF0ZVBhbGV0dGVQcm92aWRlci5wcm90b3R5cGUuZ2V0UGFsZXR0ZUVudHJpZXMgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIGNvbnN0IHRyYW5zbGF0ZSA9IHRoaXMuX3RyYW5zbGF0ZSxcbiAgICAgICAgcG9wdXBNZW51ID0gdGhpcy5fcG9wdXBNZW51LFxuICAgICAgICBjYW52YXMgPSB0aGlzLl9jYW52YXMsXG4gICAgICAgIG1vdXNlID0gdGhpcy5fbW91c2U7XG5cbiAgY29uc3QgZ2V0UG9zaXRpb24gPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCBYX09GRlNFVCA9IDM1O1xuICAgIGNvbnN0IFlfT0ZGU0VUID0gMTA7XG5cbiAgICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICBldmVudCA9IG1vdXNlLmdldExhc3RNb3ZlRXZlbnQoKTtcbiAgICAgIHJldHVybiB7IHg6IGV2ZW50LngsIHk6IGV2ZW50LnkgfTtcbiAgICB9XG5cbiAgICBjb25zdCB0YXJnZXQgPSBldmVudCAmJiBldmVudC50YXJnZXQgfHwgcXVlcnkoJy5kanMtcGFsZXR0ZSBbZGF0YS1hY3Rpb249XCJjcmVhdGVcIl0nKTtcbiAgICBjb25zdCB0YXJnZXRQb3NpdGlvbiA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIHJldHVybiB0YXJnZXQgJiYge1xuICAgICAgeDogdGFyZ2V0UG9zaXRpb24ubGVmdCArIHRhcmdldFBvc2l0aW9uLndpZHRoIC8gMiArIFhfT0ZGU0VULFxuICAgICAgeTogdGFyZ2V0UG9zaXRpb24udG9wICsgdGFyZ2V0UG9zaXRpb24uaGVpZ2h0IC8gMiArIFlfT0ZGU0VUXG4gICAgfTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgICdjcmVhdGUnOiB7XG4gICAgICBncm91cDogJ2NyZWF0ZScsXG4gICAgICBodG1sOiBgPGRpdiBjbGFzcz1cImVudHJ5XCI+ICR7Y3JlYXRlSWNvbn08L2Rpdj5gLFxuICAgICAgdGl0bGU6IHRyYW5zbGF0ZSgnQ3JlYXRlIGVsZW1lbnQnKSxcbiAgICAgIGFjdGlvbjoge1xuICAgICAgICBjbGljazogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGdldFBvc2l0aW9uKGV2ZW50KTtcblxuICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjYW52YXMuZ2V0Um9vdEVsZW1lbnQoKTtcblxuICAgICAgICAgIHBvcHVwTWVudS5vcGVuKGVsZW1lbnQsICdicG1uLWNyZWF0ZScsIHBvc2l0aW9uLCB7XG4gICAgICAgICAgICB0aXRsZTogdHJhbnNsYXRlKCdDcmVhdGUgZWxlbWVudCcpLFxuICAgICAgICAgICAgd2lkdGg6IDMwMCxcbiAgICAgICAgICAgIHNlYXJjaDogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxudmFyIENyZWF0ZU1lbnVNb2R1bGUgPSB7XG4gIF9faW5pdF9fOiBbXG4gICAgJ2NyZWF0ZU1lbnVQcm92aWRlcicsXG4gICAgJ2NyZWF0ZVBhbGV0dGVQcm92aWRlcidcbiAgXSxcbiAgY3JlYXRlTWVudVByb3ZpZGVyOiBbICd0eXBlJywgQ3JlYXRlTWVudVByb3ZpZGVyIF0sXG4gIGNyZWF0ZVBhbGV0dGVQcm92aWRlcjogWyAndHlwZScsIENyZWF0ZVBhbGV0dGVQcm92aWRlciBdXG59O1xuXG4vKipcbiAqIFJlZ2lzdGVycyBhbmQgZXhlY3V0ZXMgQlBNTiBzcGVjaWZpYyBlZGl0b3IgYWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge0luamVjdG9yfSBpbmplY3RvclxuICovXG5mdW5jdGlvbiBDcmVhdGVBcHBlbmRFZGl0b3JBY3Rpb25zKGluamVjdG9yKSB7XG4gIHRoaXMuX2luamVjdG9yID0gaW5qZWN0b3I7XG5cbiAgdGhpcy5yZWdpc3RlckFjdGlvbnMoKTtcbn1cblxuQ3JlYXRlQXBwZW5kRWRpdG9yQWN0aW9ucy4kaW5qZWN0ID0gW1xuICAnaW5qZWN0b3InXG5dO1xuXG4vKipcbiAqIFJlZ2lzdGVyIGFjdGlvbnMuXG4gKlxuICogQHBhcmFtIHtJbmplY3Rvcn0gaW5qZWN0b3JcbiAqL1xuQ3JlYXRlQXBwZW5kRWRpdG9yQWN0aW9ucy5wcm90b3R5cGUucmVnaXN0ZXJBY3Rpb25zID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IGVkaXRvckFjdGlvbnMgPSB0aGlzLl9pbmplY3Rvci5nZXQoJ2VkaXRvckFjdGlvbnMnLCBmYWxzZSk7XG4gIGNvbnN0IHNlbGVjdGlvbiA9IHRoaXMuX2luamVjdG9yLmdldCgnc2VsZWN0aW9uJywgZmFsc2UpO1xuICBjb25zdCBjb250ZXh0UGFkID0gdGhpcy5faW5qZWN0b3IuZ2V0KCdjb250ZXh0UGFkJywgZmFsc2UpO1xuICBjb25zdCBwYWxldHRlID0gdGhpcy5faW5qZWN0b3IuZ2V0KCdwYWxldHRlJywgZmFsc2UpO1xuICBjb25zdCBwb3B1cE1lbnUgPSB0aGlzLl9pbmplY3Rvci5nZXQoJ3BvcHVwTWVudScsIGZhbHNlKTtcblxuICBjb25zdCBhY3Rpb25zID0ge307XG5cbiAgLy8gYXBwZW5kXG4gIGlmIChzZWxlY3Rpb24gJiYgY29udGV4dFBhZCAmJiBwYWxldHRlICYmIHBvcHVwTWVudSAmJiBwYWxldHRlKSB7XG4gICAgYXNzaWduKGFjdGlvbnMsIHtcbiAgICAgICdhcHBlbmRFbGVtZW50JzogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmdldCgpO1xuXG4gICAgICAgIGlmIChzZWxlY3RlZC5sZW5ndGggPT0gMSAmJiAhcG9wdXBNZW51LmlzRW1wdHkoc2VsZWN0ZWRbMF0sICdicG1uLWFwcGVuZCcpKSB7XG4gICAgICAgICAgY29udGV4dFBhZC50cmlnZ2VyRW50cnkoJ2FwcGVuZCcsICdjbGljaycsIGV2ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYWxldHRlLnRyaWdnZXJFbnRyeSgnY3JlYXRlJywgJ2NsaWNrJywgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBjcmVhdGVcbiAgaWYgKHBhbGV0dGUpIHtcbiAgICBhc3NpZ24oYWN0aW9ucywge1xuICAgICAgJ2NyZWF0ZUVsZW1lbnQnOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBwYWxldHRlLnRyaWdnZXJFbnRyeSgnY3JlYXRlJywgJ2NsaWNrJywgZXZlbnQpO1xuICAgICAgfSB9XG4gICAgKTtcbiAgfVxuXG4gIGVkaXRvckFjdGlvbnMgJiYgZWRpdG9yQWN0aW9ucy5yZWdpc3RlcihhY3Rpb25zKTtcblxufTtcblxudmFyIEVkaXRvckFjdGlvbnNNb2R1bGUgPSB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgQXBwZW5kTWVudU1vZHVsZSxcbiAgICBDcmVhdGVNZW51TW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbXG4gICAgJ2NyZWF0ZUFwcGVuZEVkaXRvckFjdGlvbnMnXG4gIF0sXG4gIGNyZWF0ZUFwcGVuZEVkaXRvckFjdGlvbnM6IFsgJ3R5cGUnLCBDcmVhdGVBcHBlbmRFZGl0b3JBY3Rpb25zIF1cbn07XG5cbnZhciBLRVlTX0NPUFkgPSBbICdjJywgJ0MnIF07XHJcbnZhciBLRVlTX1BBU1RFID0gWyAndicsICdWJyBdO1xyXG52YXIgS0VZU19SRURPID0gWyAneScsICdZJyBdO1xyXG52YXIgS0VZU19VTkRPID0gWyAneicsICdaJyBdO1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcclxuICogQHJldHVybiB7Ym9vbGVhbn1cclxuICovXHJcbmZ1bmN0aW9uIGlzQ21kKGV2ZW50KSB7XHJcblxyXG4gIC8vIGVuc3VyZSB3ZSBkb24ndCByZWFjdCB0byBBbHRHclxyXG4gIC8vIChtYXBwZWQgdG8gQ1RSTCArIEFMVClcclxuICBpZiAoZXZlbnQuYWx0S2V5KSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5O1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2tzIGlmIGtleSBwcmVzc2VkIGlzIG9uZSBvZiBwcm92aWRlZCBrZXlzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0ga2V5c1xyXG4gKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50XHJcbiAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0tleShrZXlzLCBldmVudCkge1xyXG4gIGtleXMgPSBpc0FycmF5KGtleXMpID8ga2V5cyA6IFsga2V5cyBdO1xyXG5cclxuICByZXR1cm4ga2V5cy5pbmRleE9mKGV2ZW50LmtleSkgIT09IC0xIHx8IGtleXMuaW5kZXhPZihldmVudC5jb2RlKSAhPT0gLTE7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50XHJcbiAqL1xyXG5mdW5jdGlvbiBpc1NoaWZ0KGV2ZW50KSB7XHJcbiAgcmV0dXJuIGV2ZW50LnNoaWZ0S2V5O1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudFxyXG4gKi9cclxuZnVuY3Rpb24gaXNDb3B5KGV2ZW50KSB7XHJcbiAgcmV0dXJuIGlzQ21kKGV2ZW50KSAmJiBpc0tleShLRVlTX0NPUFksIGV2ZW50KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcclxuICovXHJcbmZ1bmN0aW9uIGlzUGFzdGUoZXZlbnQpIHtcclxuICByZXR1cm4gaXNDbWQoZXZlbnQpICYmIGlzS2V5KEtFWVNfUEFTVEUsIGV2ZW50KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnRcclxuICovXHJcbmZ1bmN0aW9uIGlzVW5kbyhldmVudCkge1xyXG4gIHJldHVybiBpc0NtZChldmVudCkgJiYgIWlzU2hpZnQoZXZlbnQpICYmIGlzS2V5KEtFWVNfVU5ETywgZXZlbnQpO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudFxyXG4gKi9cclxuZnVuY3Rpb24gaXNSZWRvKGV2ZW50KSB7XHJcbiAgcmV0dXJuIGlzQ21kKGV2ZW50KSAmJiAoXHJcbiAgICBpc0tleShLRVlTX1JFRE8sIGV2ZW50KSB8fCAoXHJcbiAgICAgIGlzS2V5KEtFWVNfVU5ETywgZXZlbnQpICYmIGlzU2hpZnQoZXZlbnQpXHJcbiAgICApXHJcbiAgKTtcclxufVxuXG52YXIgTE9XX1BSSU9SSVRZID0gNTAwO1xuXG5cbi8qKlxuICogQWRkcyBkZWZhdWx0IGtleWJvYXJkIGJpbmRpbmdzLlxuICpcbiAqIFRoaXMgZG9lcyBub3QgcHVsbCBpbiBhbnkgZmVhdHVyZXMgd2lsbCBiaW5kIG9ubHkgYWN0aW9ucyB0aGF0XG4gKiBoYXZlIHByZXZpb3VzbHkgYmVlbiByZWdpc3RlcmVkIGFnYWluc3QgdGhlIGVkaXRvckFjdGlvbnMgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRCdXN9IGV2ZW50QnVzXG4gKiBAcGFyYW0ge0tleWJvYXJkfSBrZXlib2FyZFxuICovXG5mdW5jdGlvbiBLZXlib2FyZEJpbmRpbmdzKGV2ZW50QnVzLCBrZXlib2FyZCkge1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBldmVudEJ1cy5vbignZWRpdG9yQWN0aW9ucy5pbml0JywgTE9XX1BSSU9SSVRZLCBmdW5jdGlvbihldmVudCkge1xuXG4gICAgdmFyIGVkaXRvckFjdGlvbnMgPSBldmVudC5lZGl0b3JBY3Rpb25zO1xuXG4gICAgc2VsZi5yZWdpc3RlckJpbmRpbmdzKGtleWJvYXJkLCBlZGl0b3JBY3Rpb25zKTtcbiAgfSk7XG59XG5cbktleWJvYXJkQmluZGluZ3MuJGluamVjdCA9IFtcbiAgJ2V2ZW50QnVzJyxcbiAgJ2tleWJvYXJkJ1xuXTtcblxuXG4vKipcbiAqIFJlZ2lzdGVyIGF2YWlsYWJsZSBrZXlib2FyZCBiaW5kaW5ncy5cbiAqXG4gKiBAcGFyYW0ge0tleWJvYXJkfSBrZXlib2FyZFxuICogQHBhcmFtIHtFZGl0b3JBY3Rpb25zfSBlZGl0b3JBY3Rpb25zXG4gKi9cbktleWJvYXJkQmluZGluZ3MucHJvdG90eXBlLnJlZ2lzdGVyQmluZGluZ3MgPSBmdW5jdGlvbihrZXlib2FyZCwgZWRpdG9yQWN0aW9ucykge1xuXG4gIC8qKlxuICAgKiBBZGQga2V5Ym9hcmQgYmluZGluZyBpZiByZXNwZWN0aXZlIGVkaXRvciBhY3Rpb25cbiAgICogaXMgcmVnaXN0ZXJlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvbiBuYW1lXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIHRoYXQgaW1wbGVtZW50cyB0aGUga2V5IGJpbmRpbmdcbiAgICovXG4gIGZ1bmN0aW9uIGFkZExpc3RlbmVyKGFjdGlvbiwgZm4pIHtcblxuICAgIGlmIChlZGl0b3JBY3Rpb25zLmlzUmVnaXN0ZXJlZChhY3Rpb24pKSB7XG4gICAgICBrZXlib2FyZC5hZGRMaXN0ZW5lcihmbik7XG4gICAgfVxuICB9XG5cblxuICAvLyB1bmRvXG4gIC8vIChDVFJMfENNRCkgKyBaXG4gIGFkZExpc3RlbmVyKCd1bmRvJywgZnVuY3Rpb24oY29udGV4dCkge1xuXG4gICAgdmFyIGV2ZW50ID0gY29udGV4dC5rZXlFdmVudDtcblxuICAgIGlmIChpc1VuZG8oZXZlbnQpKSB7XG4gICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ3VuZG8nKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcblxuICAvLyByZWRvXG4gIC8vIENUUkwgKyBZXG4gIC8vIENNRCArIFNISUZUICsgWlxuICBhZGRMaXN0ZW5lcigncmVkbycsIGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG5cbiAgICBpZiAoaXNSZWRvKGV2ZW50KSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCdyZWRvJyk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gY29weVxuICAvLyBDVFJML0NNRCArIENcbiAgYWRkTGlzdGVuZXIoJ2NvcHknLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICB2YXIgZXZlbnQgPSBjb250ZXh0LmtleUV2ZW50O1xuXG4gICAgaWYgKGlzQ29weShldmVudCkpIHtcbiAgICAgIGVkaXRvckFjdGlvbnMudHJpZ2dlcignY29weScpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHBhc3RlXG4gIC8vIENUUkwvQ01EICsgVlxuICBhZGRMaXN0ZW5lcigncGFzdGUnLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICB2YXIgZXZlbnQgPSBjb250ZXh0LmtleUV2ZW50O1xuXG4gICAgaWYgKGlzUGFzdGUoZXZlbnQpKSB7XG4gICAgICBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ3Bhc3RlJyk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gem9vbSBpbiBvbmUgc3RlcFxuICAvLyBDVFJML0NNRCArICtcbiAgYWRkTGlzdGVuZXIoJ3N0ZXBab29tJywgZnVuY3Rpb24oY29udGV4dCkge1xuXG4gICAgdmFyIGV2ZW50ID0gY29udGV4dC5rZXlFdmVudDtcblxuICAgIC8vIHF1aXJrOiBpdCBoYXMgdG8gYmUgdHJpZ2dlcmVkIGJ5IGA9YCBhcyB3ZWxsIHRvIHdvcmsgb24gaW50ZXJuYXRpb25hbCBrZXlib2FyZCBsYXlvdXRcbiAgICAvLyBjZjogaHR0cHM6Ly9naXRodWIuY29tL2JwbW4taW8vYnBtbi1qcy9pc3N1ZXMvMTM2MiNpc3N1ZWNvbW1lbnQtNzIyOTg5NzU0XG4gICAgaWYgKGlzS2V5KFsgJysnLCAnQWRkJywgJz0nIF0sIGV2ZW50KSAmJiBpc0NtZChldmVudCkpIHtcbiAgICAgIGVkaXRvckFjdGlvbnMudHJpZ2dlcignc3RlcFpvb20nLCB7IHZhbHVlOiAxIH0pO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHpvb20gb3V0IG9uZSBzdGVwXG4gIC8vIENUUkwgKyAtXG4gIGFkZExpc3RlbmVyKCdzdGVwWm9vbScsIGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG5cbiAgICBpZiAoaXNLZXkoWyAnLScsICdTdWJ0cmFjdCcgXSwgZXZlbnQpICYmIGlzQ21kKGV2ZW50KSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCdzdGVwWm9vbScsIHsgdmFsdWU6IC0xIH0pO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHpvb20gdG8gdGhlIGRlZmF1bHQgbGV2ZWxcbiAgLy8gQ1RSTCArIDBcbiAgYWRkTGlzdGVuZXIoJ3pvb20nLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICB2YXIgZXZlbnQgPSBjb250ZXh0LmtleUV2ZW50O1xuXG4gICAgaWYgKGlzS2V5KCcwJywgZXZlbnQpICYmIGlzQ21kKGV2ZW50KSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCd6b29tJywgeyB2YWx1ZTogMSB9KTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcblxuICAvLyBkZWxldGUgc2VsZWN0ZWQgZWxlbWVudFxuICAvLyBERUxcbiAgYWRkTGlzdGVuZXIoJ3JlbW92ZVNlbGVjdGlvbicsIGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgIHZhciBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG5cbiAgICBpZiAoaXNLZXkoWyAnQmFja3NwYWNlJywgJ0RlbGV0ZScsICdEZWwnIF0sIGV2ZW50KSkge1xuICAgICAgZWRpdG9yQWN0aW9ucy50cmlnZ2VyKCdyZW1vdmVTZWxlY3Rpb24nKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogQlBNTiAyLjAgc3BlY2lmaWMga2V5Ym9hcmQgYmluZGluZ3MuXG4gKlxuICogQHBhcmFtIHtJbmplY3Rvcn0gaW5qZWN0b3JcbiAqL1xuZnVuY3Rpb24gQ3JlYXRlQXBwZW5kS2V5Ym9hcmRCaW5kaW5ncyhpbmplY3Rvcikge1xuXG4gIHRoaXMuX2luamVjdG9yID0gaW5qZWN0b3I7XG4gIHRoaXMuX2tleWJvYXJkID0gdGhpcy5faW5qZWN0b3IuZ2V0KCdrZXlib2FyZCcsIGZhbHNlKTtcbiAgdGhpcy5fZWRpdG9yQWN0aW9ucyA9IHRoaXMuX2luamVjdG9yLmdldCgnZWRpdG9yQWN0aW9ucycsIGZhbHNlKTtcblxuICBpZiAodGhpcy5fa2V5Ym9hcmQpIHtcbiAgICB0aGlzLl9pbmplY3Rvci5pbnZva2UoS2V5Ym9hcmRCaW5kaW5ncywgdGhpcyk7XG4gIH1cbn1cblxuZShDcmVhdGVBcHBlbmRLZXlib2FyZEJpbmRpbmdzLCBLZXlib2FyZEJpbmRpbmdzKTtcblxuQ3JlYXRlQXBwZW5kS2V5Ym9hcmRCaW5kaW5ncy4kaW5qZWN0ID0gW1xuICAnaW5qZWN0b3InXG5dO1xuXG5cbi8qKlxuICogUmVnaXN0ZXIgYXZhaWxhYmxlIGtleWJvYXJkIGJpbmRpbmdzLlxuICpcbiAqIEBwYXJhbSB7S2V5Ym9hcmR9IGtleWJvYXJkXG4gKiBAcGFyYW0ge0VkaXRvckFjdGlvbnN9IGVkaXRvckFjdGlvbnNcbiAqL1xuQ3JlYXRlQXBwZW5kS2V5Ym9hcmRCaW5kaW5ncy5wcm90b3R5cGUucmVnaXN0ZXJCaW5kaW5ncyA9IGZ1bmN0aW9uKCkge1xuXG4gIGNvbnN0IGtleWJvYXJkID0gdGhpcy5fa2V5Ym9hcmQ7XG4gIGNvbnN0IGVkaXRvckFjdGlvbnMgPSB0aGlzLl9lZGl0b3JBY3Rpb25zO1xuXG4gIC8vIGluaGVyaXQgZGVmYXVsdCBiaW5kaW5nc1xuICBLZXlib2FyZEJpbmRpbmdzLnByb3RvdHlwZS5yZWdpc3RlckJpbmRpbmdzLmNhbGwodGhpcywga2V5Ym9hcmQsIGVkaXRvckFjdGlvbnMpO1xuXG4gIC8qKlxuICAgKiBBZGQga2V5Ym9hcmQgYmluZGluZyBpZiByZXNwZWN0aXZlIGVkaXRvciBhY3Rpb25cbiAgICogaXMgcmVnaXN0ZXJlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvbiBuYW1lXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIHRoYXQgaW1wbGVtZW50cyB0aGUga2V5IGJpbmRpbmdcbiAgICovXG4gIGZ1bmN0aW9uIGFkZExpc3RlbmVyKGFjdGlvbiwgZm4pIHtcblxuICAgIGlmIChlZGl0b3JBY3Rpb25zICYmIGVkaXRvckFjdGlvbnMuaXNSZWdpc3RlcmVkKGFjdGlvbikpIHtcbiAgICAgIGtleWJvYXJkICYmIGtleWJvYXJkLmFkZExpc3RlbmVyKGZuKTtcbiAgICB9XG4gIH1cblxuICAvLyBhY3RpdmF0ZSBhcHBlbmQvY3JlYXRlIGVsZW1lbnRcbiAgLy8gQVxuICBhZGRMaXN0ZW5lcignYXBwZW5kRWxlbWVudCcsIGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgIGNvbnN0IGV2ZW50ID0gY29udGV4dC5rZXlFdmVudDtcblxuICAgIGlmIChrZXlib2FyZCAmJiBrZXlib2FyZC5oYXNNb2RpZmllcihldmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoa2V5Ym9hcmQgJiYga2V5Ym9hcmQuaXNLZXkoWyAnYScsICdBJyBdLCBldmVudCkpIHtcblxuICAgICAgZWRpdG9yQWN0aW9ucyAmJiBlZGl0b3JBY3Rpb25zLnRyaWdnZXIoJ2FwcGVuZEVsZW1lbnQnLCBldmVudCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIE5cbiAgYWRkTGlzdGVuZXIoJ2NyZWF0ZUVsZW1lbnQnLCBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICBjb25zdCBldmVudCA9IGNvbnRleHQua2V5RXZlbnQ7XG5cbiAgICBpZiAoa2V5Ym9hcmQgJiYga2V5Ym9hcmQuaGFzTW9kaWZpZXIoZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGtleWJvYXJkICYmIGtleWJvYXJkLmlzS2V5KFsgJ24nLCAnTicgXSwgZXZlbnQpKSB7XG4gICAgICBlZGl0b3JBY3Rpb25zICYmIGVkaXRvckFjdGlvbnMudHJpZ2dlcignY3JlYXRlRWxlbWVudCcsIGV2ZW50KTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcblxufTtcblxudmFyIEtleWJvYXJkQmluZGluZ3NNb2R1bGUgPSB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgQXBwZW5kTWVudU1vZHVsZSxcbiAgICBDcmVhdGVNZW51TW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbXG4gICAgJ2NyZWF0ZUFwcGVuZEtleWJvYXJkQmluZGluZ3MnXG4gIF0sXG4gIGNyZWF0ZUFwcGVuZEtleWJvYXJkQmluZGluZ3M6IFsgJ3R5cGUnLCBDcmVhdGVBcHBlbmRLZXlib2FyZEJpbmRpbmdzIF1cbn07XG5cbnZhciBpbmRleCQxID0ge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIEFwcGVuZE1lbnVNb2R1bGUsXG4gICAgQ3JlYXRlTWVudU1vZHVsZSxcbiAgICBFZGl0b3JBY3Rpb25zTW9kdWxlLFxuICAgIEtleWJvYXJkQmluZGluZ3NNb2R1bGVcbiAgXSxcbn07XG5cbi8qKlxuICogQSBwb3B1cCBtZW51IHByb3ZpZGVyIHRoYXQgYWxsb3dzIHRvIGFwcGVuZCBlbGVtZW50cyB3aXRoXG4gKiBlbGVtZW50IHRlbXBsYXRlcy5cbiAqL1xuZnVuY3Rpb24gRWxlbWVudFRlbXBsYXRlc0FwcGVuZFByb3ZpZGVyKFxuICAgIHBvcHVwTWVudSwgdHJhbnNsYXRlLCBlbGVtZW50VGVtcGxhdGVzLFxuICAgIGF1dG9QbGFjZSwgY3JlYXRlLCBtb3VzZSwgcnVsZXMpIHtcblxuICB0aGlzLl9wb3B1cE1lbnUgPSBwb3B1cE1lbnU7XG4gIHRoaXMuX3RyYW5zbGF0ZSA9IHRyYW5zbGF0ZTtcbiAgdGhpcy5fZWxlbWVudFRlbXBsYXRlcyA9IGVsZW1lbnRUZW1wbGF0ZXM7XG4gIHRoaXMuX2F1dG9QbGFjZSA9IGF1dG9QbGFjZTtcbiAgdGhpcy5fY3JlYXRlID0gY3JlYXRlO1xuICB0aGlzLl9tb3VzZSA9IG1vdXNlO1xuICB0aGlzLl9ydWxlcyA9IHJ1bGVzO1xuXG4gIHRoaXMucmVnaXN0ZXIoKTtcbn1cblxuRWxlbWVudFRlbXBsYXRlc0FwcGVuZFByb3ZpZGVyLiRpbmplY3QgPSBbXG4gICdwb3B1cE1lbnUnLFxuICAndHJhbnNsYXRlJyxcbiAgJ2VsZW1lbnRUZW1wbGF0ZXMnLFxuICAnYXV0b1BsYWNlJyxcbiAgJ2NyZWF0ZScsXG4gICdtb3ZlJyxcbiAgJ3J1bGVzJ1xuXTtcblxuLyoqXG4gKiBSZWdpc3RlciBhcHBlbmQgbWVudSBwcm92aWRlciBpbiB0aGUgcG9wdXAgbWVudVxuICovXG5FbGVtZW50VGVtcGxhdGVzQXBwZW5kUHJvdmlkZXIucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3BvcHVwTWVudS5yZWdpc3RlclByb3ZpZGVyKCdicG1uLWFwcGVuZCcsIHRoaXMpO1xufTtcblxuLyoqXG4gKiBBZGRzIHRoZSBlbGVtZW50IHRlbXBsYXRlcyB0byB0aGUgYXBwZW5kIG1lbnUuXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuRWxlbWVudFRlbXBsYXRlc0FwcGVuZFByb3ZpZGVyLnByb3RvdHlwZS5nZXRQb3B1cE1lbnVFbnRyaWVzID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gKGVudHJpZXMpID0+IHtcblxuICAgIGlmICghdGhpcy5fcnVsZXMuYWxsb3dlZCgnc2hhcGUuYXBwZW5kJywgeyBlbGVtZW50OiBlbGVtZW50IH0pKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgY29uc3QgZmlsdGVyZWRUZW1wbGF0ZXMgPSB0aGlzLl9maWx0ZXJUZW1wbGF0ZXModGhpcy5fZWxlbWVudFRlbXBsYXRlcy5nZXRMYXRlc3QoKSk7XG5cbiAgICAvLyBhZGQgdGVtcGxhdGUgZW50cmllc1xuICAgIGFzc2lnbihlbnRyaWVzLCB0aGlzLmdldFRlbXBsYXRlRW50cmllcyhlbGVtZW50LCBmaWx0ZXJlZFRlbXBsYXRlcykpO1xuXG4gICAgcmV0dXJuIGVudHJpZXM7XG4gIH07XG59O1xuXG4vKipcbiAqIEdldCBhbGwgZWxlbWVudCB0ZW1wbGF0ZXMuXG4gKlxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gZWxlbWVudCB0ZW1wbGF0ZXMgYXMgbWVudSBlbnRyaWVzXG4gKi9cbkVsZW1lbnRUZW1wbGF0ZXNBcHBlbmRQcm92aWRlci5wcm90b3R5cGUuZ2V0VGVtcGxhdGVFbnRyaWVzID0gZnVuY3Rpb24oZWxlbWVudCwgdGVtcGxhdGVzKSB7XG5cbiAgY29uc3QgdGVtcGxhdGVFbnRyaWVzID0ge307XG5cbiAgdGVtcGxhdGVzLm1hcCh0ZW1wbGF0ZSA9PiB7XG5cbiAgICBjb25zdCB7XG4gICAgICBpY29uID0ge30sXG4gICAgICBjYXRlZ29yeSxcbiAgICB9ID0gdGVtcGxhdGU7XG5cbiAgICBjb25zdCBlbnRyeUlkID0gYGFwcGVuZC50ZW1wbGF0ZS0ke3RlbXBsYXRlLmlkfWA7XG5cbiAgICBjb25zdCBkZWZhdWx0R3JvdXAgPSB7XG4gICAgICBpZDogJ3RlbXBsYXRlcycsXG4gICAgICBuYW1lOiB0aGlzLl90cmFuc2xhdGUoJ1RlbXBsYXRlcycpXG4gICAgfTtcblxuICAgIHRlbXBsYXRlRW50cmllc1tlbnRyeUlkXSA9IHtcbiAgICAgIGxhYmVsOiB0ZW1wbGF0ZS5uYW1lLFxuICAgICAgZGVzY3JpcHRpb246IHRlbXBsYXRlLmRlc2NyaXB0aW9uLFxuICAgICAgZG9jdW1lbnRhdGlvblJlZjogdGVtcGxhdGUuZG9jdW1lbnRhdGlvblJlZixcbiAgICAgIGltYWdlVXJsOiBpY29uLmNvbnRlbnRzLFxuICAgICAgZ3JvdXA6IGNhdGVnb3J5IHx8IGRlZmF1bHRHcm91cCxcbiAgICAgIGFjdGlvbjogdGhpcy5fZ2V0RW50cnlBY3Rpb24oZWxlbWVudCwgdGVtcGxhdGUpXG4gICAgfTtcbiAgfSk7XG5cbiAgcmV0dXJuIHRlbXBsYXRlRW50cmllcztcbn07XG5cbi8qKlxuICogRmlsdGVyIG91dCB0ZW1wbGF0ZXMgZnJvbSB0aGUgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PE9iamVjdD59IHRlbXBsYXRlc1xuICpcbiAqIEByZXR1cm5zIHtBcnJheTxPYmplY3Q+fVxuICovXG5FbGVtZW50VGVtcGxhdGVzQXBwZW5kUHJvdmlkZXIucHJvdG90eXBlLl9maWx0ZXJUZW1wbGF0ZXMgPSBmdW5jdGlvbih0ZW1wbGF0ZXMpIHtcbiAgcmV0dXJuIHRlbXBsYXRlcy5maWx0ZXIodGVtcGxhdGUgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGFwcGxpZXNUbyxcbiAgICAgIGVsZW1lbnRUeXBlXG4gICAgfSA9IHRlbXBsYXRlO1xuXG4gICAgY29uc3QgdHlwZSA9IChlbGVtZW50VHlwZSAmJiBlbGVtZW50VHlwZS52YWx1ZSkgfHwgYXBwbGllc1RvWzBdO1xuXG4gICAgLy8gZWxlbWVudHMgdGhhdCBjYW4gbm90IGJlIGFwcGVuZGVkXG4gICAgaWYgKFtcbiAgICAgICdicG1uOlN0YXJ0RXZlbnQnLFxuICAgICAgJ2JwbW46UGFydGljaXBhbnQnXG4gICAgXS5pbmNsdWRlcyh0eXBlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIHNlcXVlbmNlIGZsb3cgdGVtcGxhdGVzIGFyZSBzdXBwb3J0ZWRcbiAgICAvLyBidXQgY29ubmVjdGlvbnMgYXJlIG5vdCBhcHBlbmRhYmxlXG4gICAgaWYgKCdicG1uOlNlcXVlbmNlRmxvdycgPT09IHR5cGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhbiBhY3Rpb24gZm9yIGEgZ2l2ZW4gdGVtcGxhdGUuXG4gKlxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IHRlbXBsYXRlXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuRWxlbWVudFRlbXBsYXRlc0FwcGVuZFByb3ZpZGVyLnByb3RvdHlwZS5fZ2V0RW50cnlBY3Rpb24gPSBmdW5jdGlvbihlbGVtZW50LCB0ZW1wbGF0ZSkge1xuICByZXR1cm4ge1xuXG4gICAgY2xpY2s6ICgpID0+IHtcbiAgICAgIGNvbnN0IG5ld0VsZW1lbnQgPSB0aGlzLl9lbGVtZW50VGVtcGxhdGVzLmNyZWF0ZUVsZW1lbnQodGVtcGxhdGUpO1xuICAgICAgdGhpcy5fYXV0b1BsYWNlLmFwcGVuZChlbGVtZW50LCBuZXdFbGVtZW50KTtcbiAgICB9LFxuXG4gICAgZHJhZ3N0YXJ0OiAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IG5ld0VsZW1lbnQgPSB0aGlzLl9lbGVtZW50VGVtcGxhdGVzLmNyZWF0ZUVsZW1lbnQodGVtcGxhdGUpO1xuXG4gICAgICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIGV2ZW50ID0gdGhpcy5fbW91c2UuZ2V0TGFzdE1vdmVFdmVudCgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9jcmVhdGUuc3RhcnQoZXZlbnQsIG5ld0VsZW1lbnQsIHtcbiAgICAgICAgc291cmNlOiBlbGVtZW50XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59O1xuXG52YXIgQXBwZW5kRWxlbWVudFRlbXBsYXRlc01vZHVsZSA9IHtcbiAgX19pbml0X186IFsgJ2VsZW1lbnRUZW1wbGF0ZXNBcHBlbmRQcm92aWRlcicgXSxcbiAgZWxlbWVudFRlbXBsYXRlc0FwcGVuZFByb3ZpZGVyOiBbICd0eXBlJywgRWxlbWVudFRlbXBsYXRlc0FwcGVuZFByb3ZpZGVyIF1cbn07XG5cbi8qKlxuICogQSBwb3B1cCBtZW51IHByb3ZpZGVyIHRoYXQgYWxsb3dzIHRvIGNyZWF0ZSBlbGVtZW50cyB3aXRoXG4gKiBlbGVtZW50IHRlbXBsYXRlcy5cbiAqL1xuZnVuY3Rpb24gRWxlbWVudFRlbXBsYXRlc0NyZWF0ZVByb3ZpZGVyKFxuICAgIHBvcHVwTWVudSwgdHJhbnNsYXRlLFxuICAgIGVsZW1lbnRUZW1wbGF0ZXMsIG1vdXNlLCBjcmVhdGUpIHtcblxuICB0aGlzLl9wb3B1cE1lbnUgPSBwb3B1cE1lbnU7XG4gIHRoaXMuX3RyYW5zbGF0ZSA9IHRyYW5zbGF0ZTtcbiAgdGhpcy5fZWxlbWVudFRlbXBsYXRlcyA9IGVsZW1lbnRUZW1wbGF0ZXM7XG4gIHRoaXMuX21vdXNlID0gbW91c2U7XG4gIHRoaXMuX2NyZWF0ZSA9IGNyZWF0ZTtcblxuICB0aGlzLnJlZ2lzdGVyKCk7XG59XG5cbkVsZW1lbnRUZW1wbGF0ZXNDcmVhdGVQcm92aWRlci4kaW5qZWN0ID0gW1xuICAncG9wdXBNZW51JyxcbiAgJ3RyYW5zbGF0ZScsXG4gICdlbGVtZW50VGVtcGxhdGVzJyxcbiAgJ21vdXNlJyxcbiAgJ2NyZWF0ZSdcbl07XG5cbi8qKlxuICogUmVnaXN0ZXIgY3JlYXRlIG1lbnUgcHJvdmlkZXIgaW4gdGhlIHBvcHVwIG1lbnVcbiAqL1xuRWxlbWVudFRlbXBsYXRlc0NyZWF0ZVByb3ZpZGVyLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9wb3B1cE1lbnUucmVnaXN0ZXJQcm92aWRlcignYnBtbi1jcmVhdGUnLCB0aGlzKTtcbn07XG5cbi8qKlxuICogQWRkcyB0aGUgZWxlbWVudCB0ZW1wbGF0ZXMgdG8gdGhlIGNyZWF0ZSBtZW51LlxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbkVsZW1lbnRUZW1wbGF0ZXNDcmVhdGVQcm92aWRlci5wcm90b3R5cGUuZ2V0UG9wdXBNZW51RW50cmllcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIChlbnRyaWVzKSA9PiB7XG5cbiAgICAvLyBhZGQgdGVtcGxhdGUgZW50cmllc1xuICAgIGFzc2lnbihlbnRyaWVzLCB0aGlzLmdldFRlbXBsYXRlRW50cmllcyhlbGVtZW50KSk7XG5cbiAgICByZXR1cm4gZW50cmllcztcbiAgfTtcbn07XG5cbi8qKlxuICogR2V0IGFsbCBlbGVtZW50IHRlbXBsYXRlcy5cbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7QXJyYXk8T2JqZWN0Pn0gYSBsaXN0IG9mIGVsZW1lbnQgdGVtcGxhdGVzIGFzIG1lbnUgZW50cmllc1xuICovXG5FbGVtZW50VGVtcGxhdGVzQ3JlYXRlUHJvdmlkZXIucHJvdG90eXBlLmdldFRlbXBsYXRlRW50cmllcyA9IGZ1bmN0aW9uKCkge1xuXG4gIGNvbnN0IHRlbXBsYXRlcyA9IHRoaXMuX2VsZW1lbnRUZW1wbGF0ZXMuZ2V0TGF0ZXN0KCk7XG4gIGNvbnN0IHRlbXBsYXRlRW50cmllcyA9IHt9O1xuXG4gIHRlbXBsYXRlcy5tYXAodGVtcGxhdGUgPT4ge1xuXG4gICAgY29uc3Qge1xuICAgICAgaWNvbiA9IHt9LFxuICAgICAgY2F0ZWdvcnksXG4gICAgfSA9IHRlbXBsYXRlO1xuXG4gICAgY29uc3QgZW50cnlJZCA9IGBjcmVhdGUudGVtcGxhdGUtJHt0ZW1wbGF0ZS5pZH1gO1xuXG4gICAgY29uc3QgZGVmYXVsdEdyb3VwID0ge1xuICAgICAgaWQ6ICd0ZW1wbGF0ZXMnLFxuICAgICAgbmFtZTogdGhpcy5fdHJhbnNsYXRlKCdUZW1wbGF0ZXMnKVxuICAgIH07XG5cbiAgICB0ZW1wbGF0ZUVudHJpZXNbZW50cnlJZF0gPSB7XG4gICAgICBsYWJlbDogdGVtcGxhdGUubmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uOiB0ZW1wbGF0ZS5kZXNjcmlwdGlvbixcbiAgICAgIGRvY3VtZW50YXRpb25SZWY6IHRlbXBsYXRlLmRvY3VtZW50YXRpb25SZWYsXG4gICAgICBpbWFnZVVybDogaWNvbi5jb250ZW50cyxcbiAgICAgIGdyb3VwOiBjYXRlZ29yeSB8fCBkZWZhdWx0R3JvdXAsXG4gICAgICBhY3Rpb246IHtcbiAgICAgICAgY2xpY2s6IHRoaXMuX2dldEVudHJ5QWN0aW9uKHRlbXBsYXRlKSxcbiAgICAgICAgZHJhZ3N0YXJ0OiB0aGlzLl9nZXRFbnRyeUFjdGlvbih0ZW1wbGF0ZSlcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcblxuICByZXR1cm4gdGVtcGxhdGVFbnRyaWVzO1xufTtcblxuXG5FbGVtZW50VGVtcGxhdGVzQ3JlYXRlUHJvdmlkZXIucHJvdG90eXBlLl9nZXRFbnRyeUFjdGlvbiA9IGZ1bmN0aW9uKHRlbXBsYXRlKSB7XG4gIGNvbnN0IGNyZWF0ZSA9IHRoaXMuX2NyZWF0ZTtcbiAgY29uc3QgcG9wdXBNZW51ID0gdGhpcy5fcG9wdXBNZW51O1xuICBjb25zdCBlbGVtZW50VGVtcGxhdGVzID0gdGhpcy5fZWxlbWVudFRlbXBsYXRlcztcbiAgY29uc3QgbW91c2UgPSB0aGlzLl9tb3VzZTtcblxuICByZXR1cm4gKGV2ZW50KSA9PiB7XG5cbiAgICBwb3B1cE1lbnUuY2xvc2UoKTtcblxuICAgIC8vIGNyZWF0ZSB0aGUgbmV3IGVsZW1lbnRcbiAgICBsZXQgbmV3RWxlbWVudCA9IGVsZW1lbnRUZW1wbGF0ZXMuY3JlYXRlRWxlbWVudCh0ZW1wbGF0ZSk7XG5cbiAgICAvLyB1c2UgbGFzdCBtb3VzZSBldmVudCBpZiB0cmlnZ2VyZWQgdmlhIGtleWJvYXJkXG4gICAgaWYgKGV2ZW50IGluc3RhbmNlb2YgS2V5Ym9hcmRFdmVudCkge1xuICAgICAgZXZlbnQgPSBtb3VzZS5nZXRMYXN0TW92ZUV2ZW50KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZS5zdGFydChldmVudCwgbmV3RWxlbWVudCk7XG4gIH07XG59O1xuXG52YXIgQ3JlYXRlRWxlbWVudFRlbXBsYXRlc01vZHVsZSA9IHtcbiAgX19pbml0X186IFsgJ2VsZW1lbnRUZW1wbGF0ZXNDcmVhdGVQcm92aWRlcicgXSxcbiAgZWxlbWVudFRlbXBsYXRlc0NyZWF0ZVByb3ZpZGVyOiBbICd0eXBlJywgRWxlbWVudFRlbXBsYXRlc0NyZWF0ZVByb3ZpZGVyIF1cbn07XG5cbi8qKlxuICogQSByZXBsYWNlIG1lbnUgcHJvdmlkZXIgdGhhdCBhbGxvd3MgdG8gcmVwbGFjZSBlbGVtZW50cyB3aXRoXG4gKiBlbGVtZW50IHRlbXBsYXRlcy5cbiAqL1xuZnVuY3Rpb24gRWxlbWVudFRlbXBsYXRlc1JlcGxhY2VQcm92aWRlcihwb3B1cE1lbnUsIHRyYW5zbGF0ZSwgZWxlbWVudFRlbXBsYXRlcykge1xuXG4gIHRoaXMuX3BvcHVwTWVudSA9IHBvcHVwTWVudTtcbiAgdGhpcy5fdHJhbnNsYXRlID0gdHJhbnNsYXRlO1xuICB0aGlzLl9lbGVtZW50VGVtcGxhdGVzID0gZWxlbWVudFRlbXBsYXRlcztcblxuICB0aGlzLnJlZ2lzdGVyKCk7XG59XG5cbkVsZW1lbnRUZW1wbGF0ZXNSZXBsYWNlUHJvdmlkZXIuJGluamVjdCA9IFtcbiAgJ3BvcHVwTWVudScsXG4gICd0cmFuc2xhdGUnLFxuICAnZWxlbWVudFRlbXBsYXRlcydcbl07XG5cbi8qKlxuICogUmVnaXN0ZXIgcmVwbGFjZSBtZW51IHByb3ZpZGVyIGluIHRoZSBwb3B1cCBtZW51XG4gKi9cbkVsZW1lbnRUZW1wbGF0ZXNSZXBsYWNlUHJvdmlkZXIucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3BvcHVwTWVudS5yZWdpc3RlclByb3ZpZGVyKCdicG1uLXJlcGxhY2UnLCB0aGlzKTtcbn07XG5cbi8qKlxuICogQWRkcyB0aGUgZWxlbWVudCB0ZW1wbGF0ZXMgdG8gdGhlIHJlcGxhY2UgbWVudS5cbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5FbGVtZW50VGVtcGxhdGVzUmVwbGFjZVByb3ZpZGVyLnByb3RvdHlwZS5nZXRQb3B1cE1lbnVFbnRyaWVzID0gZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gIHJldHVybiAoZW50cmllcykgPT4ge1xuXG4gICAgLy8gY29udmVydCBvdXIgZW50cmllcyBpbnRvIHNvbWV0aGluZyBzb3J0YWJsZVxuICAgIGxldCBlbnRyeVNldCA9IE9iamVjdC5lbnRyaWVzKGVudHJpZXMpO1xuXG4gICAgLy8gYWRkIHRlbXBsYXRlIGVudHJpZXNcbiAgICBlbnRyeVNldCA9IFsgLi4uZW50cnlTZXQsIC4uLnRoaXMuZ2V0VGVtcGxhdGVFbnRyaWVzKGVsZW1lbnQpIF07XG5cbiAgICAvLyBjb252ZXJ0IGJhY2sgdG8gb2JqZWN0XG4gICAgcmV0dXJuIGVudHJ5U2V0LnJlZHVjZSgoZW50cmllcywgWyBrZXksIHZhbHVlIF0pID0+IHtcbiAgICAgIGVudHJpZXNba2V5XSA9IHZhbHVlO1xuXG4gICAgICByZXR1cm4gZW50cmllcztcbiAgICB9LCB7fSk7XG4gIH07XG59O1xuXG4vKipcbiAqIEdldCBhbGwgZWxlbWVudCB0ZW1wbGF0ZXMgdGhhdCBjYW4gYmUgdXNlZCB0byByZXBsYWNlIHRoZSBnaXZlbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxPYmplY3Q+fSBhIGxpc3Qgb2YgZWxlbWVudCB0ZW1wbGF0ZXMgYXMgbWVudSBlbnRyaWVzXG4gKi9cbkVsZW1lbnRUZW1wbGF0ZXNSZXBsYWNlUHJvdmlkZXIucHJvdG90eXBlLmdldFRlbXBsYXRlRW50cmllcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICBjb25zdCB0ZW1wbGF0ZXMgPSB0aGlzLl9nZXRNYXRjaGluZ1RlbXBsYXRlcyhlbGVtZW50KTtcbiAgcmV0dXJuIHRlbXBsYXRlcy5tYXAodGVtcGxhdGUgPT4ge1xuXG4gICAgY29uc3Qge1xuICAgICAgaWNvbiA9IHt9LFxuICAgICAgY2F0ZWdvcnksXG4gICAgfSA9IHRlbXBsYXRlO1xuXG4gICAgY29uc3QgZW50cnlJZCA9IGByZXBsYWNlLnRlbXBsYXRlLSR7dGVtcGxhdGUuaWR9YDtcblxuICAgIGNvbnN0IGRlZmF1bHRHcm91cCA9IHtcbiAgICAgIGlkOiAndGVtcGxhdGVzJyxcbiAgICAgIG5hbWU6IHRoaXMuX3RyYW5zbGF0ZSgnVGVtcGxhdGVzJylcbiAgICB9O1xuXG4gICAgcmV0dXJuIFsgZW50cnlJZCwge1xuICAgICAgbGFiZWw6IHRlbXBsYXRlLm5hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogdGVtcGxhdGUuZGVzY3JpcHRpb24sXG4gICAgICBkb2N1bWVudGF0aW9uUmVmOiB0ZW1wbGF0ZS5kb2N1bWVudGF0aW9uUmVmLFxuICAgICAgaW1hZ2VVcmw6IGljb24uY29udGVudHMsXG4gICAgICBncm91cDogY2F0ZWdvcnkgfHwgZGVmYXVsdEdyb3VwLFxuICAgICAgYWN0aW9uOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRUZW1wbGF0ZXMuYXBwbHlUZW1wbGF0ZShlbGVtZW50LCB0ZW1wbGF0ZSk7XG4gICAgICB9XG4gICAgfSBdO1xuICB9KTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgdGVtcGxhdGVzIHRoYXQgY2FuIHRoZSBlbGVtZW50IGNhbiBiZSByZXBsYWNlZCB3aXRoLlxuICpcbiAqIEBwYXJhbSAge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7QXJyYXk8RWxlbWVudFRlbXBsYXRlPn1cbiAqL1xuRWxlbWVudFRlbXBsYXRlc1JlcGxhY2VQcm92aWRlci5wcm90b3R5cGUuX2dldE1hdGNoaW5nVGVtcGxhdGVzID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gdGhpcy5fZWxlbWVudFRlbXBsYXRlcy5nZXRMYXRlc3QoKS5maWx0ZXIodGVtcGxhdGUgPT4ge1xuICAgIHJldHVybiBpc0FueShlbGVtZW50LCB0ZW1wbGF0ZS5hcHBsaWVzVG8pICYmICFpc1RlbXBsYXRlQXBwbGllZChlbGVtZW50LCB0ZW1wbGF0ZSk7XG4gIH0pO1xufTtcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vL1xuZnVuY3Rpb24gaXNUZW1wbGF0ZUFwcGxpZWQoZWxlbWVudCwgdGVtcGxhdGUpIHtcbiAgY29uc3QgYnVzaW5lc3NPYmplY3QgPSBnZXRCdXNpbmVzc09iamVjdChlbGVtZW50KTtcblxuICBpZiAoYnVzaW5lc3NPYmplY3QpIHtcbiAgICByZXR1cm4gYnVzaW5lc3NPYmplY3QuZ2V0KCd6ZWViZTptb2RlbGVyVGVtcGxhdGUnKSA9PT0gdGVtcGxhdGUuaWQ7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbnZhciBSZXBsYWNlRWxlbWVudFRlbXBsYXRlc01vZHVsZSA9IHtcbiAgX19pbml0X186IFtcbiAgICAnZWxlbWVudFRlbXBsYXRlc1JlcGxhY2VQcm92aWRlcidcbiAgXSxcbiAgZWxlbWVudFRlbXBsYXRlc1JlcGxhY2VQcm92aWRlcjogWyAndHlwZScsIEVsZW1lbnRUZW1wbGF0ZXNSZXBsYWNlUHJvdmlkZXIgXVxufTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb2RlbC9UeXBlcycpLkVsZW1lbnR9IEVsZW1lbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21vZGVsL1R5cGVzJykuTW9kZGxlRWxlbWVudH0gTW9kZGxlRWxlbWVudFxuICovXG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge01vZGRsZUVsZW1lbnR9IFtkaV1cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0V4cGFuZGVkKGVsZW1lbnQsIGRpKSB7XG5cbiAgaWYgKGlzKGVsZW1lbnQsICdicG1uOkNhbGxBY3Rpdml0eScpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGlzKGVsZW1lbnQsICdicG1uOlN1YlByb2Nlc3MnKSkge1xuICAgIGRpID0gZGkgfHwgZ2V0RGkoZWxlbWVudCk7XG5cbiAgICBpZiAoZGkgJiYgaXMoZGksICdicG1uZGk6QlBNTlBsYW5lJykpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBkaSAmJiAhIWRpLmlzRXhwYW5kZWQ7XG4gIH1cblxuICBpZiAoaXMoZWxlbWVudCwgJ2JwbW46UGFydGljaXBhbnQnKSkge1xuICAgIHJldHVybiAhIWdldEJ1c2luZXNzT2JqZWN0KGVsZW1lbnQpLnByb2Nlc3NSZWY7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi8uLi9tb2RlbC9UeXBlcycpLkVsZW1lbnR9IEVsZW1lbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL3BvcHVwLW1lbnUvUG9wdXBNZW51JykuUG9wdXBNZW51VGFyZ2V0fSBQb3B1cE1lbnVUYXJnZXRcbiAqXG4gKiBAdHlwZWRlZiB7KGVudHJ5OiBQb3B1cE1lbnVUYXJnZXQpID0+IGJvb2xlYW59IERpZmZlcmVudFR5cGVWYWxpZGF0b3JcbiAqL1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSwgaWYgYW4gZWxlbWVudCBpcyBmcm9tIGEgZGlmZmVyZW50IHR5cGVcbiAqIHRoYW4gYSB0YXJnZXQgZGVmaW5pdGlvbi4gVGFrZXMgaW50byBhY2NvdW50IHRoZSB0eXBlLFxuICogZXZlbnQgZGVmaW5pdGlvbiB0eXBlIGFuZCB0cmlnZ2VyZWRCeUV2ZW50IHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge0RpZmZlcmVudFR5cGVWYWxpZGF0b3J9XG4gKi9cbmZ1bmN0aW9uIGlzRGlmZmVyZW50VHlwZShlbGVtZW50KSB7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgdmFyIHRhcmdldCA9IGVudHJ5LnRhcmdldDtcblxuICAgIHZhciBidXNpbmVzc09iamVjdCA9IGdldEJ1c2luZXNzT2JqZWN0KGVsZW1lbnQpLFxuICAgICAgICBldmVudERlZmluaXRpb24gPSBidXNpbmVzc09iamVjdC5ldmVudERlZmluaXRpb25zICYmIGJ1c2luZXNzT2JqZWN0LmV2ZW50RGVmaW5pdGlvbnNbMF07XG5cbiAgICB2YXIgaXNUeXBlRXF1YWwgPSBidXNpbmVzc09iamVjdC4kdHlwZSA9PT0gdGFyZ2V0LnR5cGU7XG5cbiAgICB2YXIgaXNFdmVudERlZmluaXRpb25FcXVhbCA9IChcbiAgICAgIChldmVudERlZmluaXRpb24gJiYgZXZlbnREZWZpbml0aW9uLiR0eXBlKSA9PT0gdGFyZ2V0LmV2ZW50RGVmaW5pdGlvblR5cGVcbiAgICApO1xuXG4gICAgdmFyIGlzVHJpZ2dlcmVkQnlFdmVudEVxdWFsID0gKFxuXG4gICAgICAvLyBjb2hlcnNlIHRvIDxmYWxzZT5cbiAgICAgICEhdGFyZ2V0LnRyaWdnZXJlZEJ5RXZlbnQgPT09ICEhYnVzaW5lc3NPYmplY3QudHJpZ2dlcmVkQnlFdmVudFxuICAgICk7XG5cbiAgICB2YXIgaXNFeHBhbmRlZEVxdWFsID0gKFxuICAgICAgdGFyZ2V0LmlzRXhwYW5kZWQgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgdGFyZ2V0LmlzRXhwYW5kZWQgPT09IGlzRXhwYW5kZWQoZWxlbWVudClcbiAgICApO1xuXG4gICAgcmV0dXJuICFpc1R5cGVFcXVhbCB8fCAhaXNFdmVudERlZmluaXRpb25FcXVhbCB8fCAhaXNUcmlnZ2VyZWRCeUV2ZW50RXF1YWwgfHwgIWlzRXhwYW5kZWRFcXVhbDtcbiAgfTtcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7ICgpID0+IHN0cmluZyB9IExhYmVsR2V0dGVyXG4gKlxuICogQHR5cGVkZWYgeyB7XG4gKiAgIGxhYmVsOiBzdHJpbmcgfCBMYWJlbEdldHRlcjtcbiAqICAgYWN0aW9uTmFtZTogc3RyaW5nO1xuICogICBjbGFzc05hbWU6IHN0cmluZztcbiAqICAgdGFyZ2V0Pzoge1xuICogICAgIHR5cGU6IHN0cmluZztcbiAqICAgICBpc0V4cGFuZGVkPzogYm9vbGVhbjtcbiAqICAgICBpc0ludGVycnVwdGluZz86IGJvb2xlYW47XG4gKiAgICAgdHJpZ2dlcmVkQnlFdmVudD86IGJvb2xlYW47XG4gKiAgICAgY2FuY2VsQWN0aXZpdHk/OiBib29sZWFuO1xuICogICAgIGV2ZW50RGVmaW5pdGlvblR5cGU/OiBzdHJpbmc7XG4gKiAgICAgZXZlbnREZWZpbml0aW9uQXR0cnM/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4gKiAgIH07XG4gKiB9IH0gUmVwbGFjZU9wdGlvblxuICovXG5cbi8qKlxuICogQHR5cGUge1JlcGxhY2VPcHRpb25bXX1cbiAqL1xudmFyIFNUQVJUX0VWRU5UID0gW1xuICB7XG4gICAgbGFiZWw6ICdTdGFydCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1ub25lLXN0YXJ0JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tc3RhcnQtZXZlbnQtbm9uZScsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTdGFydEV2ZW50J1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnSW50ZXJtZWRpYXRlIFRocm93IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLW5vbmUtaW50ZXJtZWRpYXRlLXRocm93aW5nJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LW5vbmUnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46SW50ZXJtZWRpYXRlVGhyb3dFdmVudCdcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0VuZCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1ub25lLWVuZCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWVuZC1ldmVudC1ub25lJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkVuZEV2ZW50J1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnTWVzc2FnZSBTdGFydCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1tZXNzYWdlLXN0YXJ0JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tc3RhcnQtZXZlbnQtbWVzc2FnZScsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTdGFydEV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOk1lc3NhZ2VFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdUaW1lciBTdGFydCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC10aW1lci1zdGFydCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXN0YXJ0LWV2ZW50LXRpbWVyJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlN0YXJ0RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46VGltZXJFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdDb25kaXRpb25hbCBTdGFydCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1jb25kaXRpb25hbC1zdGFydCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXN0YXJ0LWV2ZW50LWNvbmRpdGlvbicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTdGFydEV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOkNvbmRpdGlvbmFsRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnU2lnbmFsIFN0YXJ0IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLXNpZ25hbC1zdGFydCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXN0YXJ0LWV2ZW50LXNpZ25hbCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTdGFydEV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOlNpZ25hbEV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH1cbl07XG5cbi8qKlxuICogQHR5cGUge1JlcGxhY2VPcHRpb25bXX1cbiAqL1xudmFyIFNUQVJUX0VWRU5UX1NVQl9QUk9DRVNTID0gW1xuICB7XG4gICAgbGFiZWw6ICdTdGFydCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1ub25lLXN0YXJ0JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tc3RhcnQtZXZlbnQtbm9uZScsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTdGFydEV2ZW50J1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnSW50ZXJtZWRpYXRlIFRocm93IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLW5vbmUtaW50ZXJtZWRpYXRlLXRocm93aW5nJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LW5vbmUnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46SW50ZXJtZWRpYXRlVGhyb3dFdmVudCdcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0VuZCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1ub25lLWVuZCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWVuZC1ldmVudC1ub25lJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkVuZEV2ZW50J1xuICAgIH1cbiAgfVxuXTtcblxuLyoqXG4gKiBAdHlwZSB7UmVwbGFjZU9wdGlvbltdfVxuICovXG52YXIgSU5URVJNRURJQVRFX0VWRU5UID0gW1xuICB7XG4gICAgbGFiZWw6ICdTdGFydCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1ub25lLXN0YXJ0JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tc3RhcnQtZXZlbnQtbm9uZScsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTdGFydEV2ZW50J1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnSW50ZXJtZWRpYXRlIFRocm93IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLW5vbmUtaW50ZXJtZWRpYXRlLXRocm93JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LW5vbmUnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46SW50ZXJtZWRpYXRlVGhyb3dFdmVudCdcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0VuZCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1ub25lLWVuZCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWVuZC1ldmVudC1ub25lJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkVuZEV2ZW50J1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnTWVzc2FnZSBJbnRlcm1lZGlhdGUgQ2F0Y2ggRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtbWVzc2FnZS1pbnRlcm1lZGlhdGUtY2F0Y2gnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtbWVzc2FnZScsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpJbnRlcm1lZGlhdGVDYXRjaEV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOk1lc3NhZ2VFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdNZXNzYWdlIEludGVybWVkaWF0ZSBUaHJvdyBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1tZXNzYWdlLWludGVybWVkaWF0ZS10aHJvdycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC10aHJvdy1tZXNzYWdlJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkludGVybWVkaWF0ZVRocm93RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46TWVzc2FnZUV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1RpbWVyIEludGVybWVkaWF0ZSBDYXRjaCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC10aW1lci1pbnRlcm1lZGlhdGUtY2F0Y2gnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtdGltZXInLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46SW50ZXJtZWRpYXRlQ2F0Y2hFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpUaW1lckV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0VzY2FsYXRpb24gSW50ZXJtZWRpYXRlIFRocm93IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLWVzY2FsYXRpb24taW50ZXJtZWRpYXRlLXRocm93JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LXRocm93LWVzY2FsYXRpb24nLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46SW50ZXJtZWRpYXRlVGhyb3dFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpFc2NhbGF0aW9uRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnQ29uZGl0aW9uYWwgSW50ZXJtZWRpYXRlIENhdGNoIEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLWNvbmRpdGlvbmFsLWludGVybWVkaWF0ZS1jYXRjaCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC1jb25kaXRpb24nLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46SW50ZXJtZWRpYXRlQ2F0Y2hFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpDb25kaXRpb25hbEV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0xpbmsgSW50ZXJtZWRpYXRlIENhdGNoIEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLWxpbmstaW50ZXJtZWRpYXRlLWNhdGNoJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LWNhdGNoLWxpbmsnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46SW50ZXJtZWRpYXRlQ2F0Y2hFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpMaW5rRXZlbnREZWZpbml0aW9uJyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvbkF0dHJzOiB7XG4gICAgICAgIG5hbWU6ICcnXG4gICAgICB9XG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdMaW5rIEludGVybWVkaWF0ZSBUaHJvdyBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1saW5rLWludGVybWVkaWF0ZS10aHJvdycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC10aHJvdy1saW5rJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkludGVybWVkaWF0ZVRocm93RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46TGlua0V2ZW50RGVmaW5pdGlvbicsXG4gICAgICBldmVudERlZmluaXRpb25BdHRyczoge1xuICAgICAgICBuYW1lOiAnJ1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnQ29tcGVuc2F0aW9uIEludGVybWVkaWF0ZSBUaHJvdyBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1jb21wZW5zYXRpb24taW50ZXJtZWRpYXRlLXRocm93JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LXRocm93LWNvbXBlbnNhdGlvbicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpJbnRlcm1lZGlhdGVUaHJvd0V2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOkNvbXBlbnNhdGVFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdTaWduYWwgSW50ZXJtZWRpYXRlIENhdGNoIEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLXNpZ25hbC1pbnRlcm1lZGlhdGUtY2F0Y2gnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtc2lnbmFsJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkludGVybWVkaWF0ZUNhdGNoRXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46U2lnbmFsRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnU2lnbmFsIEludGVybWVkaWF0ZSBUaHJvdyBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1zaWduYWwtaW50ZXJtZWRpYXRlLXRocm93JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LXRocm93LXNpZ25hbCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpJbnRlcm1lZGlhdGVUaHJvd0V2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOlNpZ25hbEV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH1cbl07XG5cbi8qKlxuICogQHR5cGUge1JlcGxhY2VPcHRpb25bXX1cbiAqL1xudmFyIEVORF9FVkVOVCA9IFtcbiAge1xuICAgIGxhYmVsOiAnU3RhcnQgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtbm9uZS1zdGFydCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXN0YXJ0LWV2ZW50LW5vbmUnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46U3RhcnRFdmVudCdcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0ludGVybWVkaWF0ZSBUaHJvdyBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1ub25lLWludGVybWVkaWF0ZS10aHJvdycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1ub25lJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkludGVybWVkaWF0ZVRocm93RXZlbnQnXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdFbmQgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtbm9uZS1lbmQnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1lbmQtZXZlbnQtbm9uZScsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpFbmRFdmVudCdcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ01lc3NhZ2UgRW5kIEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLW1lc3NhZ2UtZW5kJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tZW5kLWV2ZW50LW1lc3NhZ2UnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46RW5kRXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46TWVzc2FnZUV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0VzY2FsYXRpb24gRW5kIEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLWVzY2FsYXRpb24tZW5kJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tZW5kLWV2ZW50LWVzY2FsYXRpb24nLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46RW5kRXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46RXNjYWxhdGlvbkV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0Vycm9yIEVuZCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1lcnJvci1lbmQnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1lbmQtZXZlbnQtZXJyb3InLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46RW5kRXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46RXJyb3JFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdDYW5jZWwgRW5kIEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLWNhbmNlbC1lbmQnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1lbmQtZXZlbnQtY2FuY2VsJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkVuZEV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOkNhbmNlbEV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0NvbXBlbnNhdGlvbiBFbmQgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtY29tcGVuc2F0aW9uLWVuZCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWVuZC1ldmVudC1jb21wZW5zYXRpb24nLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46RW5kRXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46Q29tcGVuc2F0ZUV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1NpZ25hbCBFbmQgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtc2lnbmFsLWVuZCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWVuZC1ldmVudC1zaWduYWwnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46RW5kRXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46U2lnbmFsRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnVGVybWluYXRlIEVuZCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC10ZXJtaW5hdGUtZW5kJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tZW5kLWV2ZW50LXRlcm1pbmF0ZScsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpFbmRFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpUZXJtaW5hdGVFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9XG5dO1xuXG4vKipcbiAqIEB0eXBlIHtSZXBsYWNlT3B0aW9uW119XG4gKi9cbnZhciBHQVRFV0FZID0gW1xuICB7XG4gICAgbGFiZWw6ICdFeGNsdXNpdmUgR2F0ZXdheScsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1leGNsdXNpdmUtZ2F0ZXdheScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWdhdGV3YXkteG9yJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkV4Y2x1c2l2ZUdhdGV3YXknXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdQYXJhbGxlbCBHYXRld2F5JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLXBhcmFsbGVsLWdhdGV3YXknLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1nYXRld2F5LXBhcmFsbGVsJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlBhcmFsbGVsR2F0ZXdheSdcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0luY2x1c2l2ZSBHYXRld2F5JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLWluY2x1c2l2ZS1nYXRld2F5JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tZ2F0ZXdheS1vcicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpJbmNsdXNpdmVHYXRld2F5J1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnQ29tcGxleCBHYXRld2F5JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLWNvbXBsZXgtZ2F0ZXdheScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWdhdGV3YXktY29tcGxleCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpDb21wbGV4R2F0ZXdheSdcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0V2ZW50IGJhc2VkIEdhdGV3YXknLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtZXZlbnQtYmFzZWQtZ2F0ZXdheScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWdhdGV3YXktZXZlbnRiYXNlZCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpFdmVudEJhc2VkR2F0ZXdheScsXG4gICAgICBpbnN0YW50aWF0ZTogZmFsc2UsXG4gICAgICBldmVudEdhdGV3YXlUeXBlOiAnRXhjbHVzaXZlJ1xuICAgIH1cbiAgfVxuXG4gIC8vIEdhdGV3YXlzIGRlYWN0aXZhdGVkIHVudGlsIGh0dHBzOi8vZ2l0aHViLmNvbS9icG1uLWlvL2JwbW4tanMvaXNzdWVzLzE5NFxuICAvLyB7XG4gIC8vICAgbGFiZWw6ICdFdmVudCBiYXNlZCBpbnN0YW50aWF0aW5nIEdhdGV3YXknLFxuICAvLyAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtZXhjbHVzaXZlLWV2ZW50LWJhc2VkLWdhdGV3YXknLFxuICAvLyAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1leGNsdXNpdmUtZXZlbnQtYmFzZWQnLFxuICAvLyAgIHRhcmdldDoge1xuICAvLyAgICAgdHlwZTogJ2JwbW46RXZlbnRCYXNlZEdhdGV3YXknXG4gIC8vICAgfSxcbiAgLy8gICBvcHRpb25zOiB7XG4gIC8vICAgICBidXNpbmVzc09iamVjdDogeyBpbnN0YW50aWF0ZTogdHJ1ZSwgZXZlbnRHYXRld2F5VHlwZTogJ0V4Y2x1c2l2ZScgfVxuICAvLyAgIH1cbiAgLy8gfSxcbiAgLy8ge1xuICAvLyAgIGxhYmVsOiAnUGFyYWxsZWwgRXZlbnQgYmFzZWQgaW5zdGFudGlhdGluZyBHYXRld2F5JyxcbiAgLy8gICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLXBhcmFsbGVsLWV2ZW50LWJhc2VkLWluc3RhbnRpYXRlLWdhdGV3YXknLFxuICAvLyAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1wYXJhbGxlbC1ldmVudC1iYXNlZC1pbnN0YW50aWF0ZS1nYXRld2F5JyxcbiAgLy8gICB0YXJnZXQ6IHtcbiAgLy8gICAgIHR5cGU6ICdicG1uOkV2ZW50QmFzZWRHYXRld2F5J1xuICAvLyAgIH0sXG4gIC8vICAgb3B0aW9uczoge1xuICAvLyAgICAgYnVzaW5lc3NPYmplY3Q6IHsgaW5zdGFudGlhdGU6IHRydWUsIGV2ZW50R2F0ZXdheVR5cGU6ICdQYXJhbGxlbCcgfVxuICAvLyAgIH1cbiAgLy8gfVxuXTtcblxuLyoqXG4gKiBAdHlwZSB7UmVwbGFjZU9wdGlvbltdfVxuICovXG52YXIgU1VCUFJPQ0VTU19FWFBBTkRFRCA9IFtcbiAge1xuICAgIGxhYmVsOiAnVHJhbnNhY3Rpb24nLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtdHJhbnNhY3Rpb24nLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi10cmFuc2FjdGlvbicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpUcmFuc2FjdGlvbicsXG4gICAgICBpc0V4cGFuZGVkOiB0cnVlXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdFdmVudCBTdWIgUHJvY2VzcycsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1ldmVudC1zdWJwcm9jZXNzJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tZXZlbnQtc3VicHJvY2Vzcy1leHBhbmRlZCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTdWJQcm9jZXNzJyxcbiAgICAgIHRyaWdnZXJlZEJ5RXZlbnQ6IHRydWUsXG4gICAgICBpc0V4cGFuZGVkOiB0cnVlXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdTdWIgUHJvY2VzcyAoY29sbGFwc2VkKScsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1jb2xsYXBzZWQtc3VicHJvY2VzcycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXN1YnByb2Nlc3MtY29sbGFwc2VkJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlN1YlByb2Nlc3MnLFxuICAgICAgaXNFeHBhbmRlZDogZmFsc2VcbiAgICB9XG4gIH1cbl07XG5cbi8qKlxuICogQHR5cGUge1JlcGxhY2VPcHRpb25bXX1cbiAqL1xudmFyIFRSQU5TQUNUSU9OID0gW1xuICB7XG4gICAgbGFiZWw6ICdUcmFuc2FjdGlvbicsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC10cmFuc2FjdGlvbicsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXRyYW5zYWN0aW9uJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlRyYW5zYWN0aW9uJyxcbiAgICAgIGlzRXhwYW5kZWQ6IHRydWVcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1N1YiBQcm9jZXNzJyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLXN1YnByb2Nlc3MnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1zdWJwcm9jZXNzLWV4cGFuZGVkJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlN1YlByb2Nlc3MnLFxuICAgICAgaXNFeHBhbmRlZDogdHJ1ZVxuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnRXZlbnQgU3ViIFByb2Nlc3MnLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtZXZlbnQtc3VicHJvY2VzcycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWV2ZW50LXN1YnByb2Nlc3MtZXhwYW5kZWQnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46U3ViUHJvY2VzcycsXG4gICAgICB0cmlnZ2VyZWRCeUV2ZW50OiB0cnVlLFxuICAgICAgaXNFeHBhbmRlZDogdHJ1ZVxuICAgIH1cbiAgfVxuXTtcblxuLyoqXG4gKiBAdHlwZSB7UmVwbGFjZU9wdGlvbltdfVxuICovXG52YXIgRVZFTlRfU1VCX1BST0NFU1MgPSBUUkFOU0FDVElPTjtcblxuLyoqXG4gKiBAdHlwZSB7UmVwbGFjZU9wdGlvbltdfVxuICovXG52YXIgVEFTSyA9IFtcbiAge1xuICAgIGxhYmVsOiAnVGFzaycsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC10YXNrJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tdGFzaycsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpUYXNrJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnVXNlciBUYXNrJyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLXVzZXItdGFzaycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXVzZXInLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46VXNlclRhc2snXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdTZXJ2aWNlIFRhc2snLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtc2VydmljZS10YXNrJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tc2VydmljZScsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTZXJ2aWNlVGFzaydcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1NlbmQgVGFzaycsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1zZW5kLXRhc2snLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1zZW5kJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlNlbmRUYXNrJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnUmVjZWl2ZSBUYXNrJyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLXJlY2VpdmUtdGFzaycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXJlY2VpdmUnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46UmVjZWl2ZVRhc2snXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdNYW51YWwgVGFzaycsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1tYW51YWwtdGFzaycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLW1hbnVhbCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpNYW51YWxUYXNrJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnQnVzaW5lc3MgUnVsZSBUYXNrJyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLXJ1bGUtdGFzaycsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWJ1c2luZXNzLXJ1bGUnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46QnVzaW5lc3NSdWxlVGFzaydcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1NjcmlwdCBUYXNrJyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLXNjcmlwdC10YXNrJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tc2NyaXB0JyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlNjcmlwdFRhc2snXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdDYWxsIEFjdGl2aXR5JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLWNhbGwtYWN0aXZpdHknLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1jYWxsLWFjdGl2aXR5JyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkNhbGxBY3Rpdml0eSdcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1N1YiBQcm9jZXNzIChjb2xsYXBzZWQpJyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLWNvbGxhcHNlZC1zdWJwcm9jZXNzJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tc3VicHJvY2Vzcy1jb2xsYXBzZWQnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46U3ViUHJvY2VzcycsXG4gICAgICBpc0V4cGFuZGVkOiBmYWxzZVxuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnU3ViIFByb2Nlc3MgKGV4cGFuZGVkKScsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1leHBhbmRlZC1zdWJwcm9jZXNzJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tc3VicHJvY2Vzcy1leHBhbmRlZCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTdWJQcm9jZXNzJyxcbiAgICAgIGlzRXhwYW5kZWQ6IHRydWVcbiAgICB9XG4gIH1cbl07XG5cbi8qKlxuICogQHR5cGUge1JlcGxhY2VPcHRpb25bXX1cbiAqL1xudmFyIERBVEFfT0JKRUNUX1JFRkVSRU5DRSA9IFtcbiAge1xuICAgIGxhYmVsOiAnRGF0YSBTdG9yZSBSZWZlcmVuY2UnLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtZGF0YS1zdG9yZS1yZWZlcmVuY2UnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1kYXRhLXN0b3JlJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkRhdGFTdG9yZVJlZmVyZW5jZSdcbiAgICB9XG4gIH1cbl07XG5cbi8qKlxuICogQHR5cGUge1JlcGxhY2VPcHRpb25bXX1cbiAqL1xudmFyIERBVEFfU1RPUkVfUkVGRVJFTkNFID0gW1xuICB7XG4gICAgbGFiZWw6ICdEYXRhIE9iamVjdCBSZWZlcmVuY2UnLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtZGF0YS1vYmplY3QtcmVmZXJlbmNlJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tZGF0YS1vYmplY3QnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46RGF0YU9iamVjdFJlZmVyZW5jZSdcbiAgICB9XG4gIH1cbl07XG5cbi8qKlxuICogQHR5cGUge1JlcGxhY2VPcHRpb25bXX1cbiAqL1xudmFyIEJPVU5EQVJZX0VWRU5UID0gW1xuICB7XG4gICAgbGFiZWw6ICdNZXNzYWdlIEJvdW5kYXJ5IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLW1lc3NhZ2UtYm91bmRhcnknLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtbWVzc2FnZScsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpCb3VuZGFyeUV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOk1lc3NhZ2VFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdUaW1lciBCb3VuZGFyeSBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC10aW1lci1ib3VuZGFyeScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC10aW1lcicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpCb3VuZGFyeUV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOlRpbWVyRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnRXNjYWxhdGlvbiBCb3VuZGFyeSBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1lc2NhbGF0aW9uLWJvdW5kYXJ5JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LWNhdGNoLWVzY2FsYXRpb24nLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46Qm91bmRhcnlFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpFc2NhbGF0aW9uRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnQ29uZGl0aW9uYWwgQm91bmRhcnkgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtY29uZGl0aW9uYWwtYm91bmRhcnknLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtY29uZGl0aW9uJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkJvdW5kYXJ5RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46Q29uZGl0aW9uYWxFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdFcnJvciBCb3VuZGFyeSBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1lcnJvci1ib3VuZGFyeScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC1lcnJvcicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpCb3VuZGFyeUV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOkVycm9yRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnQ2FuY2VsIEJvdW5kYXJ5IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLWNhbmNlbC1ib3VuZGFyeScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC1jYW5jZWwnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46Qm91bmRhcnlFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpDYW5jZWxFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdTaWduYWwgQm91bmRhcnkgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtc2lnbmFsLWJvdW5kYXJ5JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LWNhdGNoLXNpZ25hbCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpCb3VuZGFyeUV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOlNpZ25hbEV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0NvbXBlbnNhdGlvbiBCb3VuZGFyeSBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1jb21wZW5zYXRpb24tYm91bmRhcnknLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtY29tcGVuc2F0aW9uJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOkJvdW5kYXJ5RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46Q29tcGVuc2F0ZUV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ01lc3NhZ2UgQm91bmRhcnkgRXZlbnQgKG5vbi1pbnRlcnJ1cHRpbmcpJyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLW5vbi1pbnRlcnJ1cHRpbmctbWVzc2FnZS1ib3VuZGFyeScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC1ub24taW50ZXJydXB0aW5nLW1lc3NhZ2UnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46Qm91bmRhcnlFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpNZXNzYWdlRXZlbnREZWZpbml0aW9uJyxcbiAgICAgIGNhbmNlbEFjdGl2aXR5OiBmYWxzZVxuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnVGltZXIgQm91bmRhcnkgRXZlbnQgKG5vbi1pbnRlcnJ1cHRpbmcpJyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLW5vbi1pbnRlcnJ1cHRpbmctdGltZXItYm91bmRhcnknLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1pbnRlcm1lZGlhdGUtZXZlbnQtY2F0Y2gtbm9uLWludGVycnVwdGluZy10aW1lcicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpCb3VuZGFyeUV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOlRpbWVyRXZlbnREZWZpbml0aW9uJyxcbiAgICAgIGNhbmNlbEFjdGl2aXR5OiBmYWxzZVxuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnRXNjYWxhdGlvbiBCb3VuZGFyeSBFdmVudCAobm9uLWludGVycnVwdGluZyknLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtbm9uLWludGVycnVwdGluZy1lc2NhbGF0aW9uLWJvdW5kYXJ5JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LWNhdGNoLW5vbi1pbnRlcnJ1cHRpbmctZXNjYWxhdGlvbicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpCb3VuZGFyeUV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOkVzY2FsYXRpb25FdmVudERlZmluaXRpb24nLFxuICAgICAgY2FuY2VsQWN0aXZpdHk6IGZhbHNlXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdDb25kaXRpb25hbCBCb3VuZGFyeSBFdmVudCAobm9uLWludGVycnVwdGluZyknLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtbm9uLWludGVycnVwdGluZy1jb25kaXRpb25hbC1ib3VuZGFyeScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC1ub24taW50ZXJydXB0aW5nLWNvbmRpdGlvbicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpCb3VuZGFyeUV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOkNvbmRpdGlvbmFsRXZlbnREZWZpbml0aW9uJyxcbiAgICAgIGNhbmNlbEFjdGl2aXR5OiBmYWxzZVxuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnU2lnbmFsIEJvdW5kYXJ5IEV2ZW50IChub24taW50ZXJydXB0aW5nKScsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1ub24taW50ZXJydXB0aW5nLXNpZ25hbC1ib3VuZGFyeScsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1jYXRjaC1ub24taW50ZXJydXB0aW5nLXNpZ25hbCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpCb3VuZGFyeUV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOlNpZ25hbEV2ZW50RGVmaW5pdGlvbicsXG4gICAgICBjYW5jZWxBY3Rpdml0eTogZmFsc2VcbiAgICB9XG4gIH1cbl07XG5cbi8qKlxuICogQHR5cGUge1JlcGxhY2VPcHRpb25bXX1cbiAqL1xudmFyIEVWRU5UX1NVQl9QUk9DRVNTX1NUQVJUX0VWRU5UID0gW1xuICB7XG4gICAgbGFiZWw6ICdNZXNzYWdlIFN0YXJ0IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLW1lc3NhZ2Utc3RhcnQnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1zdGFydC1ldmVudC1tZXNzYWdlJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlN0YXJ0RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46TWVzc2FnZUV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1RpbWVyIFN0YXJ0IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLXRpbWVyLXN0YXJ0JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tc3RhcnQtZXZlbnQtdGltZXInLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46U3RhcnRFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpUaW1lckV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0NvbmRpdGlvbmFsIFN0YXJ0IEV2ZW50JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLWNvbmRpdGlvbmFsLXN0YXJ0JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tc3RhcnQtZXZlbnQtY29uZGl0aW9uJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlN0YXJ0RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46Q29uZGl0aW9uYWxFdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdTaWduYWwgU3RhcnQgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtc2lnbmFsLXN0YXJ0JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tc3RhcnQtZXZlbnQtc2lnbmFsJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlN0YXJ0RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46U2lnbmFsRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnRXJyb3IgU3RhcnQgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtZXJyb3Itc3RhcnQnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1zdGFydC1ldmVudC1lcnJvcicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTdGFydEV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOkVycm9yRXZlbnREZWZpbml0aW9uJ1xuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiAnRXNjYWxhdGlvbiBTdGFydCBFdmVudCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1lc2NhbGF0aW9uLXN0YXJ0JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tc3RhcnQtZXZlbnQtZXNjYWxhdGlvbicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTdGFydEV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOkVzY2FsYXRpb25FdmVudERlZmluaXRpb24nXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdDb21wZW5zYXRpb24gU3RhcnQgRXZlbnQnLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtY29tcGVuc2F0aW9uLXN0YXJ0JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tc3RhcnQtZXZlbnQtY29tcGVuc2F0aW9uJyxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHR5cGU6ICdicG1uOlN0YXJ0RXZlbnQnLFxuICAgICAgZXZlbnREZWZpbml0aW9uVHlwZTogJ2JwbW46Q29tcGVuc2F0ZUV2ZW50RGVmaW5pdGlvbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ01lc3NhZ2UgU3RhcnQgRXZlbnQgKG5vbi1pbnRlcnJ1cHRpbmcpJyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLW5vbi1pbnRlcnJ1cHRpbmctbWVzc2FnZS1zdGFydCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXN0YXJ0LWV2ZW50LW5vbi1pbnRlcnJ1cHRpbmctbWVzc2FnZScsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTdGFydEV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOk1lc3NhZ2VFdmVudERlZmluaXRpb24nLFxuICAgICAgaXNJbnRlcnJ1cHRpbmc6IGZhbHNlXG4gICAgfVxuICB9LFxuICB7XG4gICAgbGFiZWw6ICdUaW1lciBTdGFydCBFdmVudCAobm9uLWludGVycnVwdGluZyknLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtbm9uLWludGVycnVwdGluZy10aW1lci1zdGFydCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXN0YXJ0LWV2ZW50LW5vbi1pbnRlcnJ1cHRpbmctdGltZXInLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46U3RhcnRFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpUaW1lckV2ZW50RGVmaW5pdGlvbicsXG4gICAgICBpc0ludGVycnVwdGluZzogZmFsc2VcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0NvbmRpdGlvbmFsIFN0YXJ0IEV2ZW50IChub24taW50ZXJydXB0aW5nKScsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1ub24taW50ZXJydXB0aW5nLWNvbmRpdGlvbmFsLXN0YXJ0JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tc3RhcnQtZXZlbnQtbm9uLWludGVycnVwdGluZy1jb25kaXRpb24nLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46U3RhcnRFdmVudCcsXG4gICAgICBldmVudERlZmluaXRpb25UeXBlOiAnYnBtbjpDb25kaXRpb25hbEV2ZW50RGVmaW5pdGlvbicsXG4gICAgICBpc0ludGVycnVwdGluZzogZmFsc2VcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ1NpZ25hbCBTdGFydCBFdmVudCAobm9uLWludGVycnVwdGluZyknLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtbm9uLWludGVycnVwdGluZy1zaWduYWwtc3RhcnQnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1zdGFydC1ldmVudC1ub24taW50ZXJydXB0aW5nLXNpZ25hbCcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTdGFydEV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOlNpZ25hbEV2ZW50RGVmaW5pdGlvbicsXG4gICAgICBpc0ludGVycnVwdGluZzogZmFsc2VcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ0VzY2FsYXRpb24gU3RhcnQgRXZlbnQgKG5vbi1pbnRlcnJ1cHRpbmcpJyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLW5vbi1pbnRlcnJ1cHRpbmctZXNjYWxhdGlvbi1zdGFydCcsXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLXN0YXJ0LWV2ZW50LW5vbi1pbnRlcnJ1cHRpbmctZXNjYWxhdGlvbicsXG4gICAgdGFyZ2V0OiB7XG4gICAgICB0eXBlOiAnYnBtbjpTdGFydEV2ZW50JyxcbiAgICAgIGV2ZW50RGVmaW5pdGlvblR5cGU6ICdicG1uOkVzY2FsYXRpb25FdmVudERlZmluaXRpb24nLFxuICAgICAgaXNJbnRlcnJ1cHRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG5dO1xuXG4vKipcbiAqIEB0eXBlIHtSZXBsYWNlT3B0aW9uW119XG4gKi9cbnZhciBTRVFVRU5DRV9GTE9XID0gW1xuICB7XG4gICAgbGFiZWw6ICdTZXF1ZW5jZSBGbG93JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLXNlcXVlbmNlLWZsb3cnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1jb25uZWN0aW9uJ1xuICB9LFxuICB7XG4gICAgbGFiZWw6ICdEZWZhdWx0IEZsb3cnLFxuICAgIGFjdGlvbk5hbWU6ICdyZXBsYWNlLXdpdGgtZGVmYXVsdC1mbG93JyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tZGVmYXVsdC1mbG93J1xuICB9LFxuICB7XG4gICAgbGFiZWw6ICdDb25kaXRpb25hbCBGbG93JyxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLWNvbmRpdGlvbmFsLWZsb3cnLFxuICAgIGNsYXNzTmFtZTogJ2JwbW4taWNvbi1jb25kaXRpb25hbC1mbG93J1xuICB9XG5dO1xuXG4vKipcbiAqIEB0eXBlIHtSZXBsYWNlT3B0aW9uW119XG4gKi9cbnZhciBQQVJUSUNJUEFOVCA9IFtcbiAge1xuICAgIGxhYmVsOiAnRXhwYW5kZWQgUG9vbCcsXG4gICAgYWN0aW9uTmFtZTogJ3JlcGxhY2Utd2l0aC1leHBhbmRlZC1wb29sJyxcbiAgICBjbGFzc05hbWU6ICdicG1uLWljb24tcGFydGljaXBhbnQnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46UGFydGljaXBhbnQnLFxuICAgICAgaXNFeHBhbmRlZDogdHJ1ZVxuICAgIH1cbiAgfSxcbiAge1xuICAgIGxhYmVsOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICB2YXIgbGFiZWwgPSAnRW1wdHkgUG9vbCc7XG5cbiAgICAgIGlmIChlbGVtZW50LmNoaWxkcmVuICYmIGVsZW1lbnQuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIGxhYmVsICs9ICcgKHJlbW92ZXMgY29udGVudCknO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGFiZWw7XG4gICAgfSxcbiAgICBhY3Rpb25OYW1lOiAncmVwbGFjZS13aXRoLWNvbGxhcHNlZC1wb29sJyxcblxuICAgIC8vIFRPRE8oQGphbnN0dWVtbWVsKTogbWF5YmUgZGVzaWduIG5ldyBpY29uXG4gICAgY2xhc3NOYW1lOiAnYnBtbi1pY29uLWxhbmUnLFxuICAgIHRhcmdldDoge1xuICAgICAgdHlwZTogJ2JwbW46UGFydGljaXBhbnQnLFxuICAgICAgaXNFeHBhbmRlZDogZmFsc2VcbiAgICB9XG4gIH1cbl07XG5cbnZhciByZXBsYWNlT3B0aW9ucyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICBCT1VOREFSWV9FVkVOVDogQk9VTkRBUllfRVZFTlQsXG4gIERBVEFfT0JKRUNUX1JFRkVSRU5DRTogREFUQV9PQkpFQ1RfUkVGRVJFTkNFLFxuICBEQVRBX1NUT1JFX1JFRkVSRU5DRTogREFUQV9TVE9SRV9SRUZFUkVOQ0UsXG4gIEVORF9FVkVOVDogRU5EX0VWRU5ULFxuICBFVkVOVF9TVUJfUFJPQ0VTUzogRVZFTlRfU1VCX1BST0NFU1MsXG4gIEVWRU5UX1NVQl9QUk9DRVNTX1NUQVJUX0VWRU5UOiBFVkVOVF9TVUJfUFJPQ0VTU19TVEFSVF9FVkVOVCxcbiAgR0FURVdBWTogR0FURVdBWSxcbiAgSU5URVJNRURJQVRFX0VWRU5UOiBJTlRFUk1FRElBVEVfRVZFTlQsXG4gIFBBUlRJQ0lQQU5UOiBQQVJUSUNJUEFOVCxcbiAgU0VRVUVOQ0VfRkxPVzogU0VRVUVOQ0VfRkxPVyxcbiAgU1RBUlRfRVZFTlQ6IFNUQVJUX0VWRU5ULFxuICBTVEFSVF9FVkVOVF9TVUJfUFJPQ0VTUzogU1RBUlRfRVZFTlRfU1VCX1BST0NFU1MsXG4gIFNVQlBST0NFU1NfRVhQQU5ERUQ6IFNVQlBST0NFU1NfRVhQQU5ERUQsXG4gIFRBU0s6IFRBU0ssXG4gIFRSQU5TQUNUSU9OOiBUUkFOU0FDVElPTlxufSk7XG5cbmNvbnN0IEFMTF9PUFRJT05TID0gT2JqZWN0LnZhbHVlcyhyZXBsYWNlT3B0aW9ucyk7XG5cbmZ1bmN0aW9uIGdldFJlcGxhY2VPcHRpb25Hcm91cHMoKSB7XG4gIHJldHVybiBBTExfT1BUSU9OUztcbn1cblxuLyoqXG4gKiBBIHJlcGxhY2UgbWVudSBwcm92aWRlciB0aGF0IGFsbG93cyB0byByZXBsYWNlIGVsZW1lbnRzIHdpdGhcbiAqIHRlbXBsYXRlcyBhcHBsaWVkIHdpdGggdGhlIGNvcnJlc3BvbmRlbnQgcGxhaW4gZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gUmVtb3ZlVGVtcGxhdGVSZXBsYWNlUHJvdmlkZXIocG9wdXBNZW51LCB0cmFuc2xhdGUsIGVsZW1lbnRUZW1wbGF0ZXMpIHtcblxuICB0aGlzLl9wb3B1cE1lbnUgPSBwb3B1cE1lbnU7XG4gIHRoaXMuX3RyYW5zbGF0ZSA9IHRyYW5zbGF0ZTtcbiAgdGhpcy5fZWxlbWVudFRlbXBsYXRlcyA9IGVsZW1lbnRUZW1wbGF0ZXM7XG5cbiAgdGhpcy5yZWdpc3RlcigpO1xufVxuXG5SZW1vdmVUZW1wbGF0ZVJlcGxhY2VQcm92aWRlci4kaW5qZWN0ID0gW1xuICAncG9wdXBNZW51JyxcbiAgJ3RyYW5zbGF0ZScsXG4gICdlbGVtZW50VGVtcGxhdGVzJ1xuXTtcblxuLyoqXG4gKiBSZWdpc3RlciByZXBsYWNlIG1lbnUgcHJvdmlkZXIgaW4gdGhlIHBvcHVwIG1lbnVcbiAqL1xuUmVtb3ZlVGVtcGxhdGVSZXBsYWNlUHJvdmlkZXIucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3BvcHVwTWVudS5yZWdpc3RlclByb3ZpZGVyKCdicG1uLXJlcGxhY2UnLCB0aGlzKTtcbn07XG5cbi8qKlxuICogQWRkcyB0aGUgZWxlbWVudCB0ZW1wbGF0ZXMgdG8gdGhlIHJlcGxhY2UgbWVudS5cbiAqIEBwYXJhbSB7ZGpzLm1vZGVsLkJhc2V9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5SZW1vdmVUZW1wbGF0ZVJlcGxhY2VQcm92aWRlci5wcm90b3R5cGUuZ2V0UG9wdXBNZW51RW50cmllcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICByZXR1cm4gKGVudHJpZXMpID0+IHtcblxuICAgIC8vIGNvbnZlcnQgb3VyIGVudHJpZXMgaW50byBzb21ldGhpbmcgc29ydGFibGVcbiAgICBsZXQgZW50cnlTZXQgPSBPYmplY3QuZW50cmllcyhlbnRyaWVzKTtcblxuICAgIGlmICh0aGlzLl9lbGVtZW50VGVtcGxhdGVzICYmIHRoaXMuX2VsZW1lbnRUZW1wbGF0ZXMuZ2V0KGVsZW1lbnQpKSB7XG5cbiAgICAgIC8vIGFkZCByZW1vdmUgdGVtcGxhdGUgb3B0aW9uXG4gICAgICB0aGlzLmFkZFBsYWluRWxlbWVudEVudHJ5KGVsZW1lbnQsIGVudHJ5U2V0LCB0aGlzLl90cmFuc2xhdGUsIHRoaXMuX2VsZW1lbnRUZW1wbGF0ZXMpO1xuICAgIH1cblxuICAgIC8vIGNvbnZlcnQgYmFjayB0byBvYmplY3RcbiAgICByZXR1cm4gZW50cnlTZXQucmVkdWNlKChlbnRyaWVzLCBbIGtleSwgdmFsdWUgXSkgPT4ge1xuICAgICAgZW50cmllc1trZXldID0gdmFsdWU7XG5cbiAgICAgIHJldHVybiBlbnRyaWVzO1xuICAgIH0sIHt9KTtcbiAgfTtcbn07XG5cblxuLyoqXG4gKiBBZGRzIHRoZSBvcHRpb24gdG8gcmVwbGFjZSB3aXRoIHBsYWluIGVsZW1lbnQgKHJlbW92ZSB0ZW1wbGF0ZSkuXG4gKlxuICogQHBhcmFtIHtkanMubW9kZWwuQmFzZX0gZWxlbWVudFxuICogQHBhcmFtIHtBcnJheTxPYmplY3Q+fSBlbnRyaWVzXG4gKi9cblJlbW92ZVRlbXBsYXRlUmVwbGFjZVByb3ZpZGVyLnByb3RvdHlwZS5hZGRQbGFpbkVsZW1lbnRFbnRyeSA9IGZ1bmN0aW9uKGVsZW1lbnQsIGVudHJpZXMsIHRyYW5zbGF0ZSwgZWxlbWVudFRlbXBsYXRlcykge1xuXG4gIGNvbnN0IHJlcGxhY2VPcHRpb24gPSB0aGlzLmdldFBsYWluRW50cnkoZWxlbWVudCwgZW50cmllcywgdHJhbnNsYXRlLCBlbGVtZW50VGVtcGxhdGVzKTtcblxuICBpZiAoIXJlcGxhY2VPcHRpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBbXG4gICAgaW5zZXJ0SW5kZXgsXG4gICAgZW50cnlcbiAgXSA9IHJlcGxhY2VPcHRpb247XG5cbiAgLy8gaW5zZXJ0IHJlbW92ZSBlbnRyeVxuICBlbnRyaWVzLnNwbGljZShpbnNlcnRJbmRleCwgMCwgWyBlbnRyeS5pZCwgZW50cnkgXSk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIG9wdGlvbiB0byByZXBsYWNlIHdpdGggcGxhaW4gZWxlbWVudCBhbmQgdGhlIGluZGV4IHdoZXJlIGl0IHNob3VsZCBiZSBpbnNlcnRlZC5cbiAqXG4gKiBAcGFyYW0ge2Rqcy5tb2RlbC5CYXNlfSBlbGVtZW50XG4gKiBAcGFyYW0ge0FycmF5PE9iamVjdD59IGVudHJpZXNcbiAqXG4gKiBAcmV0dXJucyB7QXJyYXk8T2JqZWN0LCBudW1iZXI+fVxuICovXG5SZW1vdmVUZW1wbGF0ZVJlcGxhY2VQcm92aWRlci5wcm90b3R5cGUuZ2V0UGxhaW5FbnRyeSA9IGZ1bmN0aW9uKGVsZW1lbnQsIGVudHJpZXMsIHRyYW5zbGF0ZSwgZWxlbWVudFRlbXBsYXRlcykge1xuXG4gIGNvbnN0IHtcbiAgICBvcHRpb25zLFxuICAgIG9wdGlvbixcbiAgICBvcHRpb25JbmRleFxuICB9ID0gZmluZFJlcGxhY2VPcHRpb25zKGVsZW1lbnQpIHx8IHsgfTtcblxuICBpZiAoIW9wdGlvbnMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IGVudHJ5ID0ge1xuICAgIGlkOiAncmVwbGFjZS1yZW1vdmUtZWxlbWVudC10ZW1wbGF0ZScsXG4gICAgYWN0aW9uOiAoKSA9PiB7XG4gICAgICBlbGVtZW50VGVtcGxhdGVzLnJlbW92ZVRlbXBsYXRlKGVsZW1lbnQpO1xuICAgIH0sXG4gICAgbGFiZWw6IHRyYW5zbGF0ZShvcHRpb24ubGFiZWwpLFxuICAgIGNsYXNzTmFtZTogb3B0aW9uLmNsYXNzTmFtZVxuICB9O1xuXG4gIC8vIGluc2VydCBhZnRlciBwcmV2aW91cyBvcHRpb24sIGlmIGl0IGV4aXN0c1xuICBjb25zdCBwcmV2aW91c0luZGV4ID0gZ2V0T3B0aW9uSW5kZXgob3B0aW9ucywgb3B0aW9uSW5kZXggLSAxLCBlbnRyaWVzKTtcblxuICBpZiAocHJldmlvdXNJbmRleCkge1xuICAgIHJldHVybiBbXG4gICAgICBwcmV2aW91c0luZGV4ICsgMSxcbiAgICAgIGVudHJ5XG4gICAgXTtcbiAgfVxuXG4gIC8vIGluc2VydCBiZWZvcmUgbmV4dCBvcHRpb24sIGlmIGl0IGV4aXN0c1xuICBjb25zdCBuZXh0SW5kZXggPSBnZXRPcHRpb25JbmRleChvcHRpb25zLCBvcHRpb25JbmRleCArIDEsIGVudHJpZXMpO1xuXG4gIGlmIChuZXh0SW5kZXgpIHtcbiAgICByZXR1cm4gW1xuICAgICAgbmV4dEluZGV4LFxuICAgICAgZW50cnlcbiAgICBdO1xuICB9XG5cbiAgLy8gZmFsbGJhY2sgdG8gaW5zZXJ0IGF0IHN0YXJ0XG4gIHJldHVybiBbXG4gICAgMCxcbiAgICBlbnRyeVxuICBdO1xufTtcblxuXG4vKipcbiAqIEBwYXJhbSB7TW9kZGxlRWxlbWVudH0gZWxlbWVudFxuICpcbiAqIEByZXR1cm4geyB7IG9wdGlvbnM6IEFycmF5PGFueT4sIG9wdGlvbjogYW55LCBvcHRpb25JbmRleDogbnVtYmVyIH0gfCBudWxsIH1cbiAqL1xuZnVuY3Rpb24gZmluZFJlcGxhY2VPcHRpb25zKGVsZW1lbnQpIHtcblxuICBjb25zdCBpc1NhbWVUeXBlID0gKGVsZW1lbnQsIG9wdGlvbikgPT4gb3B0aW9uLnRhcmdldCAmJiAhaXNEaWZmZXJlbnRUeXBlKGVsZW1lbnQpKG9wdGlvbik7XG5cbiAgcmV0dXJuIGdldFJlcGxhY2VPcHRpb25Hcm91cHMoKS5yZWR1Y2UoKHJlc3VsdCwgb3B0aW9ucykgPT4ge1xuXG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBjb25zdCBvcHRpb25JbmRleCA9IG9wdGlvbnMuZmluZEluZGV4KG9wdGlvbiA9PiBpc1NhbWVUeXBlKGVsZW1lbnQsIG9wdGlvbikpO1xuXG4gICAgaWYgKG9wdGlvbkluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBvcHRpb25zLFxuICAgICAgb3B0aW9uOiBvcHRpb25zW29wdGlvbkluZGV4XSxcbiAgICAgIG9wdGlvbkluZGV4XG4gICAgfTtcbiAgfSwgbnVsbCk7XG59XG5cbmZ1bmN0aW9uIGdldE9wdGlvbkluZGV4KG9wdGlvbnMsIGluZGV4LCBlbnRyaWVzKSB7XG4gIGNvbnN0IG9wdGlvbiA9IG9wdGlvbnNbaW5kZXhdO1xuXG4gIGlmICghb3B0aW9uKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGVudHJpZXMuZmluZEluZGV4KFxuICAgIChbIGtleSBdKSA9PiBrZXkgPT09IG9wdGlvbi5hY3Rpb25OYW1lXG4gICk7XG59XG5cbnZhciBSZW1vdmVUZW1wbGF0ZXNNb2R1bGUgPSB7XG4gIF9faW5pdF9fOiBbICdyZW1vdmVUZW1wbGF0ZVJlcGxhY2VQcm92aWRlcicgXSxcbiAgcmVtb3ZlVGVtcGxhdGVSZXBsYWNlUHJvdmlkZXI6IFsgJ3R5cGUnLCBSZW1vdmVUZW1wbGF0ZVJlcGxhY2VQcm92aWRlciBdXG59O1xuXG52YXIgaW5kZXggPSB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgQXBwZW5kRWxlbWVudFRlbXBsYXRlc01vZHVsZSxcbiAgICBDcmVhdGVFbGVtZW50VGVtcGxhdGVzTW9kdWxlLFxuICAgIFJlcGxhY2VFbGVtZW50VGVtcGxhdGVzTW9kdWxlLFxuICAgIFJlbW92ZVRlbXBsYXRlc01vZHVsZVxuICBdXG59O1xuXG5leHBvcnQgeyBpbmRleCQxIGFzIENyZWF0ZUFwcGVuZEFueXRoaW5nTW9kdWxlLCBpbmRleCBhcyBDcmVhdGVBcHBlbmRFbGVtZW50VGVtcGxhdGVzTW9kdWxlLCBSZW1vdmVUZW1wbGF0ZXNNb2R1bGUgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/bpmn-js-create-append-anything/dist/index.es.js\n");

/***/ }),

/***/ "./node_modules/diagram-js-grid/dist/index.esm.js":
/*!********************************************************!*\
  !*** ./node_modules/diagram-js-grid/dist/index.esm.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ index)\n/* harmony export */ });\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tiny-svg */ \"./node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/dist/index.esm.js\");\n/* harmony import */ var diagram_js_lib_features_grid_snapping_GridUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! diagram-js/lib/features/grid-snapping/GridUtil */ \"./node_modules/diagram-js/lib/features/grid-snapping/GridUtil.js\");\n/* harmony import */ var diagram_js_lib_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! diagram-js/lib/layout/LayoutUtil */ \"./node_modules/diagram-js/lib/layout/LayoutUtil.js\");\n\n\n\n\n\n/**\r\n * @typedef {import('diagram-js/lib/core/Canvas').default} Canvas\r\n * @typedef {import('diagram-js/lib/core/EventBus').default} EventBus\r\n */\r\n\r\nvar GRID_COLOR = '#ccc',\r\n    LAYER_NAME = 'djs-grid';\r\n\r\nvar GRID_DIMENSIONS = {\r\n  width: 100000,\r\n  height: 100000\r\n};\r\n\r\n/**\r\n * @param {Canvas} canvas\r\n * @param {EventBus} eventBus\r\n */\r\nfunction Grid(canvas, eventBus) {\r\n  this._canvas = canvas;\r\n\r\n  this._visible = false;\r\n\r\n  var self = this;\r\n\r\n  eventBus.on('diagram.init', function() {\r\n    self._init();\r\n  });\r\n\r\n  eventBus.on('gridSnapping.toggle', function(event) {\r\n    var active = event.active;\r\n\r\n    self.toggle(active);\r\n\r\n    self._centerGridAroundViewbox();\r\n  });\r\n\r\n  eventBus.on('canvas.viewbox.changed', function(context) {\r\n    var viewbox = context.viewbox;\r\n\r\n    self._centerGridAroundViewbox(viewbox);\r\n  });\r\n}\r\n\r\nGrid.prototype._init = function() {\r\n  var defs = (0,min_dom__WEBPACK_IMPORTED_MODULE_0__.query)('defs', this._canvas._svg);\r\n\r\n  if (!defs) {\r\n    defs = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('defs');\r\n\r\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(this._canvas._svg, defs);\r\n  }\r\n\r\n  var pattern = this._pattern = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('pattern');\r\n\r\n  var patternId = 'djs-grid-pattern-' + randomNumber();\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(pattern, {\r\n    id: patternId,\r\n    width: diagram_js_lib_features_grid_snapping_GridUtil__WEBPACK_IMPORTED_MODULE_2__.SPACING,\r\n    height: diagram_js_lib_features_grid_snapping_GridUtil__WEBPACK_IMPORTED_MODULE_2__.SPACING,\r\n    patternUnits: 'userSpaceOnUse'\r\n  });\r\n\r\n  var circle = this._circle = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('circle');\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(circle, {\r\n    cx: 0.5,\r\n    cy: 0.5,\r\n    r: 0.5,\r\n    fill: GRID_COLOR\r\n  });\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(pattern, circle);\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(defs, pattern);\r\n\r\n  var grid = this._gfx = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('rect');\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(grid, {\r\n    x: -(GRID_DIMENSIONS.width / 2),\r\n    y: -(GRID_DIMENSIONS.height / 2),\r\n    width: GRID_DIMENSIONS.width,\r\n    height: GRID_DIMENSIONS.height,\r\n    fill: `url(#${ patternId })`\r\n  });\r\n};\r\n\r\nGrid.prototype._centerGridAroundViewbox = function(viewbox) {\r\n  if (!viewbox) {\r\n    viewbox = this._canvas.viewbox();\r\n  }\r\n\r\n  var mid = (0,diagram_js_lib_layout_LayoutUtil__WEBPACK_IMPORTED_MODULE_3__.getMid)(viewbox);\r\n\r\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(this._gfx, {\r\n    x: -(GRID_DIMENSIONS.width / 2) + (0,diagram_js_lib_features_grid_snapping_GridUtil__WEBPACK_IMPORTED_MODULE_2__.quantize)(mid.x, diagram_js_lib_features_grid_snapping_GridUtil__WEBPACK_IMPORTED_MODULE_2__.SPACING),\r\n    y: -(GRID_DIMENSIONS.height / 2) + (0,diagram_js_lib_features_grid_snapping_GridUtil__WEBPACK_IMPORTED_MODULE_2__.quantize)(mid.y, diagram_js_lib_features_grid_snapping_GridUtil__WEBPACK_IMPORTED_MODULE_2__.SPACING)\r\n  });\r\n};\r\n\r\n/**\r\n * Return the current grid visibility.\r\n *\r\n * @return {boolean}\r\n */\r\nGrid.prototype.isVisible = function() {\r\n  return this._visible;\r\n};\r\n\r\n/**\r\n * Toggle grid visibility.\r\n *\r\n * @param {boolean} [visible] new visible state\r\n */\r\nGrid.prototype.toggle = function(visible) {\r\n\r\n  if (typeof visible === 'undefined') {\r\n    visible = !this._visible;\r\n  }\r\n\r\n  if (visible === this._visible) {\r\n    return;\r\n  }\r\n\r\n  var parent = this._getParent();\r\n\r\n  if (visible) {\r\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.append)(parent, this._gfx);\r\n  } else {\r\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.clear)(parent);\r\n  }\r\n\r\n  this._visible = visible;\r\n};\r\n\r\nGrid.prototype._getParent = function() {\r\n  return this._canvas.getLayer(LAYER_NAME, -2);\r\n};\r\n\r\nGrid.$inject = [\r\n  'canvas',\r\n  'eventBus'\r\n];\r\n\r\n\r\n// helpers ///////////////\r\n\r\nfunction randomNumber() {\r\n  return Math.trunc(Math.random() * 1000000);\r\n}\n\nvar index = {\n  __init__: [ 'grid' ],\n  grid: [ 'type', Grid ]\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy1ncmlkL2Rpc3QvaW5kZXguZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXVEO0FBQ3ZCO0FBQ21EO0FBQ3pCOztBQUUxRDtBQUNBLGFBQWEsOENBQThDO0FBQzNELGFBQWEsZ0RBQWdEO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsYUFBYSw4Q0FBSztBQUNsQjtBQUNBO0FBQ0EsV0FBVyxnREFBTTtBQUNqQjtBQUNBLElBQUksZ0RBQU07QUFDVjtBQUNBO0FBQ0EsZ0NBQWdDLGdEQUFNO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLEVBQUUsOENBQUk7QUFDTjtBQUNBLFdBQVcsbUZBQU87QUFDbEIsWUFBWSxtRkFBTztBQUNuQjtBQUNBLEdBQUc7QUFDSDtBQUNBLDhCQUE4QixnREFBTTtBQUNwQztBQUNBLEVBQUUsOENBQUk7QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEVBQUUsZ0RBQU07QUFDUjtBQUNBLEVBQUUsZ0RBQU07QUFDUjtBQUNBLHlCQUF5QixnREFBTTtBQUMvQjtBQUNBLEVBQUUsOENBQUk7QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixXQUFXO0FBQzlCLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0VBQU07QUFDbEI7QUFDQSxFQUFFLDhDQUFJO0FBQ04sc0NBQXNDLHdGQUFRLFFBQVEsbUZBQU87QUFDN0QsdUNBQXVDLHdGQUFRLFFBQVEsbUZBQU87QUFDOUQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxnREFBTTtBQUNWLElBQUk7QUFDSixJQUFJLCtDQUFLO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFNEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZGF5cy0yMDIzLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMtZ3JpZC9kaXN0L2luZGV4LmVzbS5qcz8wZmMwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZSwgYXBwZW5kLCBhdHRyLCBjbGVhciB9IGZyb20gJ3Rpbnktc3ZnJztcbmltcG9ydCB7IHF1ZXJ5IH0gZnJvbSAnbWluLWRvbSc7XG5pbXBvcnQgeyBTUEFDSU5HLCBxdWFudGl6ZSB9IGZyb20gJ2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2dyaWQtc25hcHBpbmcvR3JpZFV0aWwnO1xuaW1wb3J0IHsgZ2V0TWlkIH0gZnJvbSAnZGlhZ3JhbS1qcy9saWIvbGF5b3V0L0xheW91dFV0aWwnO1xuXG4vKipcclxuICogQHR5cGVkZWYge2ltcG9ydCgnZGlhZ3JhbS1qcy9saWIvY29yZS9DYW52YXMnKS5kZWZhdWx0fSBDYW52YXNcclxuICogQHR5cGVkZWYge2ltcG9ydCgnZGlhZ3JhbS1qcy9saWIvY29yZS9FdmVudEJ1cycpLmRlZmF1bHR9IEV2ZW50QnVzXHJcbiAqL1xyXG5cclxudmFyIEdSSURfQ09MT1IgPSAnI2NjYycsXHJcbiAgICBMQVlFUl9OQU1FID0gJ2Rqcy1ncmlkJztcclxuXHJcbnZhciBHUklEX0RJTUVOU0lPTlMgPSB7XHJcbiAgd2lkdGg6IDEwMDAwMCxcclxuICBoZWlnaHQ6IDEwMDAwMFxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7Q2FudmFzfSBjYW52YXNcclxuICogQHBhcmFtIHtFdmVudEJ1c30gZXZlbnRCdXNcclxuICovXHJcbmZ1bmN0aW9uIEdyaWQoY2FudmFzLCBldmVudEJ1cykge1xyXG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcclxuXHJcbiAgdGhpcy5fdmlzaWJsZSA9IGZhbHNlO1xyXG5cclxuICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gIGV2ZW50QnVzLm9uKCdkaWFncmFtLmluaXQnLCBmdW5jdGlvbigpIHtcclxuICAgIHNlbGYuX2luaXQoKTtcclxuICB9KTtcclxuXHJcbiAgZXZlbnRCdXMub24oJ2dyaWRTbmFwcGluZy50b2dnbGUnLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgdmFyIGFjdGl2ZSA9IGV2ZW50LmFjdGl2ZTtcclxuXHJcbiAgICBzZWxmLnRvZ2dsZShhY3RpdmUpO1xyXG5cclxuICAgIHNlbGYuX2NlbnRlckdyaWRBcm91bmRWaWV3Ym94KCk7XHJcbiAgfSk7XHJcblxyXG4gIGV2ZW50QnVzLm9uKCdjYW52YXMudmlld2JveC5jaGFuZ2VkJywgZnVuY3Rpb24oY29udGV4dCkge1xyXG4gICAgdmFyIHZpZXdib3ggPSBjb250ZXh0LnZpZXdib3g7XHJcblxyXG4gICAgc2VsZi5fY2VudGVyR3JpZEFyb3VuZFZpZXdib3godmlld2JveCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbkdyaWQucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgdmFyIGRlZnMgPSBxdWVyeSgnZGVmcycsIHRoaXMuX2NhbnZhcy5fc3ZnKTtcclxuXHJcbiAgaWYgKCFkZWZzKSB7XHJcbiAgICBkZWZzID0gY3JlYXRlKCdkZWZzJyk7XHJcblxyXG4gICAgYXBwZW5kKHRoaXMuX2NhbnZhcy5fc3ZnLCBkZWZzKTtcclxuICB9XHJcblxyXG4gIHZhciBwYXR0ZXJuID0gdGhpcy5fcGF0dGVybiA9IGNyZWF0ZSgncGF0dGVybicpO1xyXG5cclxuICB2YXIgcGF0dGVybklkID0gJ2Rqcy1ncmlkLXBhdHRlcm4tJyArIHJhbmRvbU51bWJlcigpO1xyXG5cclxuICBhdHRyKHBhdHRlcm4sIHtcclxuICAgIGlkOiBwYXR0ZXJuSWQsXHJcbiAgICB3aWR0aDogU1BBQ0lORyxcclxuICAgIGhlaWdodDogU1BBQ0lORyxcclxuICAgIHBhdHRlcm5Vbml0czogJ3VzZXJTcGFjZU9uVXNlJ1xyXG4gIH0pO1xyXG5cclxuICB2YXIgY2lyY2xlID0gdGhpcy5fY2lyY2xlID0gY3JlYXRlKCdjaXJjbGUnKTtcclxuXHJcbiAgYXR0cihjaXJjbGUsIHtcclxuICAgIGN4OiAwLjUsXHJcbiAgICBjeTogMC41LFxyXG4gICAgcjogMC41LFxyXG4gICAgZmlsbDogR1JJRF9DT0xPUlxyXG4gIH0pO1xyXG5cclxuICBhcHBlbmQocGF0dGVybiwgY2lyY2xlKTtcclxuXHJcbiAgYXBwZW5kKGRlZnMsIHBhdHRlcm4pO1xyXG5cclxuICB2YXIgZ3JpZCA9IHRoaXMuX2dmeCA9IGNyZWF0ZSgncmVjdCcpO1xyXG5cclxuICBhdHRyKGdyaWQsIHtcclxuICAgIHg6IC0oR1JJRF9ESU1FTlNJT05TLndpZHRoIC8gMiksXHJcbiAgICB5OiAtKEdSSURfRElNRU5TSU9OUy5oZWlnaHQgLyAyKSxcclxuICAgIHdpZHRoOiBHUklEX0RJTUVOU0lPTlMud2lkdGgsXHJcbiAgICBoZWlnaHQ6IEdSSURfRElNRU5TSU9OUy5oZWlnaHQsXHJcbiAgICBmaWxsOiBgdXJsKCMkeyBwYXR0ZXJuSWQgfSlgXHJcbiAgfSk7XHJcbn07XHJcblxyXG5HcmlkLnByb3RvdHlwZS5fY2VudGVyR3JpZEFyb3VuZFZpZXdib3ggPSBmdW5jdGlvbih2aWV3Ym94KSB7XHJcbiAgaWYgKCF2aWV3Ym94KSB7XHJcbiAgICB2aWV3Ym94ID0gdGhpcy5fY2FudmFzLnZpZXdib3goKTtcclxuICB9XHJcblxyXG4gIHZhciBtaWQgPSBnZXRNaWQodmlld2JveCk7XHJcblxyXG4gIGF0dHIodGhpcy5fZ2Z4LCB7XHJcbiAgICB4OiAtKEdSSURfRElNRU5TSU9OUy53aWR0aCAvIDIpICsgcXVhbnRpemUobWlkLngsIFNQQUNJTkcpLFxyXG4gICAgeTogLShHUklEX0RJTUVOU0lPTlMuaGVpZ2h0IC8gMikgKyBxdWFudGl6ZShtaWQueSwgU1BBQ0lORylcclxuICB9KTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm4gdGhlIGN1cnJlbnQgZ3JpZCB2aXNpYmlsaXR5LlxyXG4gKlxyXG4gKiBAcmV0dXJuIHtib29sZWFufVxyXG4gKi9cclxuR3JpZC5wcm90b3R5cGUuaXNWaXNpYmxlID0gZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHRoaXMuX3Zpc2libGU7XHJcbn07XHJcblxyXG4vKipcclxuICogVG9nZ2xlIGdyaWQgdmlzaWJpbGl0eS5cclxuICpcclxuICogQHBhcmFtIHtib29sZWFufSBbdmlzaWJsZV0gbmV3IHZpc2libGUgc3RhdGVcclxuICovXHJcbkdyaWQucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uKHZpc2libGUpIHtcclxuXHJcbiAgaWYgKHR5cGVvZiB2aXNpYmxlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgdmlzaWJsZSA9ICF0aGlzLl92aXNpYmxlO1xyXG4gIH1cclxuXHJcbiAgaWYgKHZpc2libGUgPT09IHRoaXMuX3Zpc2libGUpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIHZhciBwYXJlbnQgPSB0aGlzLl9nZXRQYXJlbnQoKTtcclxuXHJcbiAgaWYgKHZpc2libGUpIHtcclxuICAgIGFwcGVuZChwYXJlbnQsIHRoaXMuX2dmeCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNsZWFyKHBhcmVudCk7XHJcbiAgfVxyXG5cclxuICB0aGlzLl92aXNpYmxlID0gdmlzaWJsZTtcclxufTtcclxuXHJcbkdyaWQucHJvdG90eXBlLl9nZXRQYXJlbnQgPSBmdW5jdGlvbigpIHtcclxuICByZXR1cm4gdGhpcy5fY2FudmFzLmdldExheWVyKExBWUVSX05BTUUsIC0yKTtcclxufTtcclxuXHJcbkdyaWQuJGluamVjdCA9IFtcclxuICAnY2FudmFzJyxcclxuICAnZXZlbnRCdXMnXHJcbl07XHJcblxyXG5cclxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy9cclxuXHJcbmZ1bmN0aW9uIHJhbmRvbU51bWJlcigpIHtcclxuICByZXR1cm4gTWF0aC50cnVuYyhNYXRoLnJhbmRvbSgpICogMTAwMDAwMCk7XHJcbn1cblxudmFyIGluZGV4ID0ge1xuICBfX2luaXRfXzogWyAnZ3JpZCcgXSxcbiAgZ3JpZDogWyAndHlwZScsIEdyaWQgXVxufTtcblxuZXhwb3J0IHsgaW5kZXggYXMgZGVmYXVsdCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/diagram-js-grid/dist/index.esm.js\n");

/***/ }),

/***/ "./node_modules/diagram-js/lib/features/grid-snapping/GridUtil.js":
/*!************************************************************************!*\
  !*** ./node_modules/diagram-js/lib/features/grid-snapping/GridUtil.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SPACING: () => (/* binding */ SPACING),\n/* harmony export */   quantize: () => (/* binding */ quantize)\n/* harmony export */ });\nvar SPACING = 10;\n\nfunction quantize(value, quantum, fn) {\n  if (!fn) {\n    fn = 'round';\n  }\n\n  return Math[ fn ](value / quantum) * quantum;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvZmVhdHVyZXMvZ3JpZC1zbmFwcGluZy9HcmlkVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPOztBQUVBO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZGF5cy0yMDIzLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL2ZlYXR1cmVzL2dyaWQtc25hcHBpbmcvR3JpZFV0aWwuanM/ZDIwMyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIFNQQUNJTkcgPSAxMDtcblxuZXhwb3J0IGZ1bmN0aW9uIHF1YW50aXplKHZhbHVlLCBxdWFudHVtLCBmbikge1xuICBpZiAoIWZuKSB7XG4gICAgZm4gPSAncm91bmQnO1xuICB9XG5cbiAgcmV0dXJuIE1hdGhbIGZuIF0odmFsdWUgLyBxdWFudHVtKSAqIHF1YW50dW07XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/diagram-js/lib/features/grid-snapping/GridUtil.js\n");

/***/ }),

/***/ "./node_modules/diagram-js/lib/layout/LayoutUtil.js":
/*!**********************************************************!*\
  !*** ./node_modules/diagram-js/lib/layout/LayoutUtil.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asBounds: () => (/* binding */ asBounds),\n/* harmony export */   asTRBL: () => (/* binding */ asTRBL),\n/* harmony export */   filterRedundantWaypoints: () => (/* binding */ filterRedundantWaypoints),\n/* harmony export */   getBoundsMid: () => (/* binding */ getBoundsMid),\n/* harmony export */   getConnectionMid: () => (/* binding */ getConnectionMid),\n/* harmony export */   getElementLineIntersection: () => (/* binding */ getElementLineIntersection),\n/* harmony export */   getIntersections: () => (/* binding */ getIntersections),\n/* harmony export */   getMid: () => (/* binding */ getMid),\n/* harmony export */   getOrientation: () => (/* binding */ getOrientation),\n/* harmony export */   roundBounds: () => (/* binding */ roundBounds),\n/* harmony export */   roundPoint: () => (/* binding */ roundPoint)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dash */ \"./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var _util_Geometry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Geometry */ \"./node_modules/diagram-js/lib/util/Geometry.js\");\n/* harmony import */ var path_intersection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path-intersection */ \"./node_modules/path-intersection/intersect.js\");\n/* harmony import */ var path_intersection__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path_intersection__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/ModelUtil */ \"./node_modules/diagram-js/lib/util/ModelUtil.js\");\n\n\n\n\n\n\n\n\n/**\n * @typedef {import('../core/Types').ElementLike} Element\n * @typedef {import('../core/Types').ConnectionLike} Connection\n *\n * @typedef {import('../util/Types').DirectionTRBL} DirectionTRBL\n * @typedef {import('../util/Types').Point} Point\n * @typedef {import('../util/Types').Rect} Rect\n * @typedef {import('../util/Types').RectTRBL} RectTRBL\n */\n\n/**\n * @param {Rect} bounds\n *\n * @returns {Rect}\n */\nfunction roundBounds(bounds) {\n  return {\n    x: Math.round(bounds.x),\n    y: Math.round(bounds.y),\n    width: Math.round(bounds.width),\n    height: Math.round(bounds.height)\n  };\n}\n\n/**\n * @param {Point} point\n *\n * @returns {Point}\n */\nfunction roundPoint(point) {\n\n  return {\n    x: Math.round(point.x),\n    y: Math.round(point.y)\n  };\n}\n\n\n/**\n * Convert the given bounds to a { top, left, bottom, right } descriptor.\n *\n * @param {Point|Rect} bounds\n *\n * @return {RectTRBL}\n */\nfunction asTRBL(bounds) {\n  return {\n    top: bounds.y,\n    right: bounds.x + (bounds.width || 0),\n    bottom: bounds.y + (bounds.height || 0),\n    left: bounds.x\n  };\n}\n\n\n/**\n * Convert a { top, left, bottom, right } to an objects bounds.\n *\n * @param {RectTRBL} trbl\n *\n * @return {Rect}\n */\nfunction asBounds(trbl) {\n  return {\n    x: trbl.left,\n    y: trbl.top,\n    width: trbl.right - trbl.left,\n    height: trbl.bottom - trbl.top\n  };\n}\n\n\n/**\n * Get the mid of the given bounds or point.\n *\n * @param {Point|Rect} bounds\n *\n * @return {Point}\n */\nfunction getBoundsMid(bounds) {\n  return roundPoint({\n    x: bounds.x + (bounds.width || 0) / 2,\n    y: bounds.y + (bounds.height || 0) / 2\n  });\n}\n\n\n/**\n * Get the mid of the given Connection.\n *\n * @param {Connection} connection\n *\n * @return {Point}\n */\nfunction getConnectionMid(connection) {\n  var waypoints = connection.waypoints;\n\n  // calculate total length and length of each segment\n  var parts = waypoints.reduce(function(parts, point, index) {\n\n    var lastPoint = waypoints[index - 1];\n\n    if (lastPoint) {\n      var lastPart = parts[parts.length - 1];\n\n      var startLength = lastPart && lastPart.endLength || 0;\n      var length = distance(lastPoint, point);\n\n      parts.push({\n        start: lastPoint,\n        end: point,\n        startLength: startLength,\n        endLength: startLength + length,\n        length: length\n      });\n    }\n\n    return parts;\n  }, []);\n\n  var totalLength = parts.reduce(function(length, part) {\n    return length + part.length;\n  }, 0);\n\n  // find which segement contains middle point\n  var midLength = totalLength / 2;\n\n  var i = 0;\n  var midSegment = parts[i];\n\n  while (midSegment.endLength < midLength) {\n    midSegment = parts[++i];\n  }\n\n  // calculate relative position on mid segment\n  var segmentProgress = (midLength - midSegment.startLength) / midSegment.length;\n\n  var midPoint = {\n    x: midSegment.start.x + (midSegment.end.x - midSegment.start.x) * segmentProgress,\n    y: midSegment.start.y + (midSegment.end.y - midSegment.start.y) * segmentProgress\n  };\n\n  return midPoint;\n}\n\n\n/**\n * Get the mid of the given Element.\n *\n * @param {Element} element\n *\n * @return {Point}\n */\nfunction getMid(element) {\n  if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isConnection)(element)) {\n    return getConnectionMid(element);\n  }\n\n  return getBoundsMid(element);\n}\n\n// orientation utils //////////////////////\n\n/**\n * Get orientation of the given rectangle with respect to\n * the reference rectangle.\n *\n * A padding (positive or negative) may be passed to influence\n * horizontal / vertical orientation and intersection.\n *\n * @param {Rect} rect\n * @param {Rect} reference\n * @param {Point|number} padding\n *\n * @return {DirectionTRBL} the orientation; one of top, top-left, left, ..., bottom, right or intersect.\n */\nfunction getOrientation(rect, reference, padding) {\n\n  padding = padding || 0;\n\n  // make sure we can use an object, too\n  // for individual { x, y } padding\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_2__.isObject)(padding)) {\n    padding = { x: padding, y: padding };\n  }\n\n\n  var rectOrientation = asTRBL(rect),\n      referenceOrientation = asTRBL(reference);\n\n  var top = rectOrientation.bottom + padding.y <= referenceOrientation.top,\n      right = rectOrientation.left - padding.x >= referenceOrientation.right,\n      bottom = rectOrientation.top - padding.y >= referenceOrientation.bottom,\n      left = rectOrientation.right + padding.x <= referenceOrientation.left;\n\n  var vertical = top ? 'top' : (bottom ? 'bottom' : null),\n      horizontal = left ? 'left' : (right ? 'right' : null);\n\n  if (horizontal && vertical) {\n    return vertical + '-' + horizontal;\n  } else {\n    return horizontal || vertical || 'intersect';\n  }\n}\n\n\n// intersection utils //////////////////////\n\n/**\n * Get intersection between an element and a line path.\n *\n * @param {string} elementPath\n * @param {string} linePath\n * @param {boolean} cropStart Whether to crop start or end.\n *\n * @return {Point}\n */\nfunction getElementLineIntersection(elementPath, linePath, cropStart) {\n\n  var intersections = getIntersections(elementPath, linePath);\n\n  // recognize intersections\n  // only one -> choose\n  // two close together -> choose first\n  // two or more distinct -> pull out appropriate one\n  // none -> ok (fallback to point itself)\n  if (intersections.length === 1) {\n    return roundPoint(intersections[0]);\n  } else if (intersections.length === 2 && (0,_util_Geometry__WEBPACK_IMPORTED_MODULE_3__.pointDistance)(intersections[0], intersections[1]) < 1) {\n    return roundPoint(intersections[0]);\n  } else if (intersections.length > 1) {\n\n    // sort by intersections based on connection segment +\n    // distance from start\n    intersections = (0,min_dash__WEBPACK_IMPORTED_MODULE_2__.sortBy)(intersections, function(i) {\n      var distance = Math.floor(i.t2 * 100) || 1;\n\n      distance = 100 - distance;\n\n      distance = (distance < 10 ? '0' : '') + distance;\n\n      // create a sort string that makes sure we sort\n      // line segment ASC + line segment position DESC (for cropStart)\n      // line segment ASC + line segment position ASC (for cropEnd)\n      return i.segment2 + '#' + distance;\n    });\n\n    return roundPoint(intersections[cropStart ? 0 : intersections.length - 1]);\n  }\n\n  return null;\n}\n\n\nfunction getIntersections(a, b) {\n  return path_intersection__WEBPACK_IMPORTED_MODULE_0___default()(a, b);\n}\n\n\nfunction filterRedundantWaypoints(waypoints) {\n\n  // alter copy of waypoints, not original\n  waypoints = waypoints.slice();\n\n  var idx = 0,\n      point,\n      previousPoint,\n      nextPoint;\n\n  while (waypoints[idx]) {\n    point = waypoints[idx];\n    previousPoint = waypoints[idx - 1];\n    nextPoint = waypoints[idx + 1];\n\n    if ((0,_util_Geometry__WEBPACK_IMPORTED_MODULE_3__.pointDistance)(point, nextPoint) === 0 ||\n        (0,_util_Geometry__WEBPACK_IMPORTED_MODULE_3__.pointsOnLine)(previousPoint, nextPoint, point)) {\n\n      // remove point, if overlapping with {nextPoint}\n      // or on line with {previousPoint} -> {point} -> {nextPoint}\n      waypoints.splice(idx, 1);\n    } else {\n      idx++;\n    }\n  }\n\n  return waypoints;\n}\n\n// helpers //////////////////////\n\nfunction distance(a, b) {\n  return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbGF5b3V0L0xheW91dFV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUdrQjs7QUFLUTs7QUFFcUI7O0FBRUU7O0FBRWpEO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSx3Q0FBd0M7QUFDckQ7QUFDQSxhQUFhLHVDQUF1QztBQUNwRCxhQUFhLCtCQUErQjtBQUM1QyxhQUFhLDhCQUE4QjtBQUMzQyxhQUFhLGtDQUFrQztBQUMvQzs7QUFFQTtBQUNBLFdBQVcsTUFBTTtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQSxhQUFhO0FBQ2I7QUFDTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBLG1DQUFtQywyQkFBMkI7QUFDOUQ7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBLGVBQWUsMkJBQTJCO0FBQzFDO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUCxNQUFNLDZEQUFZO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCO0FBQ0EsWUFBWSxlQUFlLGlCQUFpQjtBQUM1QztBQUNPOztBQUVQOztBQUVBO0FBQ0Esc0JBQXNCLE9BQU87QUFDN0IsT0FBTyxrREFBUTtBQUNmLGdCQUFnQjtBQUNoQjs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQjtBQUNBLFlBQVk7QUFDWjtBQUNPOztBQUVQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSx1Q0FBdUMsNkRBQWE7QUFDeEQ7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxvQkFBb0IsZ0RBQU07QUFDMUI7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR087QUFDUCxTQUFTLHdEQUFjO0FBQ3ZCOzs7QUFHTzs7QUFFUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsNkRBQWE7QUFDckIsUUFBUSw0REFBWTs7QUFFcEIsNENBQTRDO0FBQzVDLDBCQUEwQixlQUFlLElBQUksT0FBTyxJQUFJO0FBQ3hEO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2tkYXlzLTIwMjMvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvbGF5b3V0L0xheW91dFV0aWwuanM/MmU0MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBpc09iamVjdCxcbiAgc29ydEJ5XG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgcG9pbnREaXN0YW5jZSxcbiAgcG9pbnRzT25MaW5lXG59IGZyb20gJy4uL3V0aWwvR2VvbWV0cnknO1xuXG5pbXBvcnQgaW50ZXJzZWN0UGF0aHMgZnJvbSAncGF0aC1pbnRlcnNlY3Rpb24nO1xuXG5pbXBvcnQgeyBpc0Nvbm5lY3Rpb24gfSBmcm9tICcuLi91dGlsL01vZGVsVXRpbCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vY29yZS9UeXBlcycpLkVsZW1lbnRMaWtlfSBFbGVtZW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9jb3JlL1R5cGVzJykuQ29ubmVjdGlvbkxpa2V9IENvbm5lY3Rpb25cbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi91dGlsL1R5cGVzJykuRGlyZWN0aW9uVFJCTH0gRGlyZWN0aW9uVFJCTFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLlBvaW50fSBQb2ludFxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLlJlY3R9IFJlY3RcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3V0aWwvVHlwZXMnKS5SZWN0VFJCTH0gUmVjdFRSQkxcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7UmVjdH0gYm91bmRzXG4gKlxuICogQHJldHVybnMge1JlY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByb3VuZEJvdW5kcyhib3VuZHMpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBNYXRoLnJvdW5kKGJvdW5kcy54KSxcbiAgICB5OiBNYXRoLnJvdW5kKGJvdW5kcy55KSxcbiAgICB3aWR0aDogTWF0aC5yb3VuZChib3VuZHMud2lkdGgpLFxuICAgIGhlaWdodDogTWF0aC5yb3VuZChib3VuZHMuaGVpZ2h0KVxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7UG9pbnR9IHBvaW50XG4gKlxuICogQHJldHVybnMge1BvaW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcm91bmRQb2ludChwb2ludCkge1xuXG4gIHJldHVybiB7XG4gICAgeDogTWF0aC5yb3VuZChwb2ludC54KSxcbiAgICB5OiBNYXRoLnJvdW5kKHBvaW50LnkpXG4gIH07XG59XG5cblxuLyoqXG4gKiBDb252ZXJ0IHRoZSBnaXZlbiBib3VuZHMgdG8gYSB7IHRvcCwgbGVmdCwgYm90dG9tLCByaWdodCB9IGRlc2NyaXB0b3IuXG4gKlxuICogQHBhcmFtIHtQb2ludHxSZWN0fSBib3VuZHNcbiAqXG4gKiBAcmV0dXJuIHtSZWN0VFJCTH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzVFJCTChib3VuZHMpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IGJvdW5kcy55LFxuICAgIHJpZ2h0OiBib3VuZHMueCArIChib3VuZHMud2lkdGggfHwgMCksXG4gICAgYm90dG9tOiBib3VuZHMueSArIChib3VuZHMuaGVpZ2h0IHx8IDApLFxuICAgIGxlZnQ6IGJvdW5kcy54XG4gIH07XG59XG5cblxuLyoqXG4gKiBDb252ZXJ0IGEgeyB0b3AsIGxlZnQsIGJvdHRvbSwgcmlnaHQgfSB0byBhbiBvYmplY3RzIGJvdW5kcy5cbiAqXG4gKiBAcGFyYW0ge1JlY3RUUkJMfSB0cmJsXG4gKlxuICogQHJldHVybiB7UmVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzQm91bmRzKHRyYmwpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiB0cmJsLmxlZnQsXG4gICAgeTogdHJibC50b3AsXG4gICAgd2lkdGg6IHRyYmwucmlnaHQgLSB0cmJsLmxlZnQsXG4gICAgaGVpZ2h0OiB0cmJsLmJvdHRvbSAtIHRyYmwudG9wXG4gIH07XG59XG5cblxuLyoqXG4gKiBHZXQgdGhlIG1pZCBvZiB0aGUgZ2l2ZW4gYm91bmRzIG9yIHBvaW50LlxuICpcbiAqIEBwYXJhbSB7UG9pbnR8UmVjdH0gYm91bmRzXG4gKlxuICogQHJldHVybiB7UG9pbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRCb3VuZHNNaWQoYm91bmRzKSB7XG4gIHJldHVybiByb3VuZFBvaW50KHtcbiAgICB4OiBib3VuZHMueCArIChib3VuZHMud2lkdGggfHwgMCkgLyAyLFxuICAgIHk6IGJvdW5kcy55ICsgKGJvdW5kcy5oZWlnaHQgfHwgMCkgLyAyXG4gIH0pO1xufVxuXG5cbi8qKlxuICogR2V0IHRoZSBtaWQgb2YgdGhlIGdpdmVuIENvbm5lY3Rpb24uXG4gKlxuICogQHBhcmFtIHtDb25uZWN0aW9ufSBjb25uZWN0aW9uXG4gKlxuICogQHJldHVybiB7UG9pbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb25uZWN0aW9uTWlkKGNvbm5lY3Rpb24pIHtcbiAgdmFyIHdheXBvaW50cyA9IGNvbm5lY3Rpb24ud2F5cG9pbnRzO1xuXG4gIC8vIGNhbGN1bGF0ZSB0b3RhbCBsZW5ndGggYW5kIGxlbmd0aCBvZiBlYWNoIHNlZ21lbnRcbiAgdmFyIHBhcnRzID0gd2F5cG9pbnRzLnJlZHVjZShmdW5jdGlvbihwYXJ0cywgcG9pbnQsIGluZGV4KSB7XG5cbiAgICB2YXIgbGFzdFBvaW50ID0gd2F5cG9pbnRzW2luZGV4IC0gMV07XG5cbiAgICBpZiAobGFzdFBvaW50KSB7XG4gICAgICB2YXIgbGFzdFBhcnQgPSBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXTtcblxuICAgICAgdmFyIHN0YXJ0TGVuZ3RoID0gbGFzdFBhcnQgJiYgbGFzdFBhcnQuZW5kTGVuZ3RoIHx8IDA7XG4gICAgICB2YXIgbGVuZ3RoID0gZGlzdGFuY2UobGFzdFBvaW50LCBwb2ludCk7XG5cbiAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICBzdGFydDogbGFzdFBvaW50LFxuICAgICAgICBlbmQ6IHBvaW50LFxuICAgICAgICBzdGFydExlbmd0aDogc3RhcnRMZW5ndGgsXG4gICAgICAgIGVuZExlbmd0aDogc3RhcnRMZW5ndGggKyBsZW5ndGgsXG4gICAgICAgIGxlbmd0aDogbGVuZ3RoXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFydHM7XG4gIH0sIFtdKTtcblxuICB2YXIgdG90YWxMZW5ndGggPSBwYXJ0cy5yZWR1Y2UoZnVuY3Rpb24obGVuZ3RoLCBwYXJ0KSB7XG4gICAgcmV0dXJuIGxlbmd0aCArIHBhcnQubGVuZ3RoO1xuICB9LCAwKTtcblxuICAvLyBmaW5kIHdoaWNoIHNlZ2VtZW50IGNvbnRhaW5zIG1pZGRsZSBwb2ludFxuICB2YXIgbWlkTGVuZ3RoID0gdG90YWxMZW5ndGggLyAyO1xuXG4gIHZhciBpID0gMDtcbiAgdmFyIG1pZFNlZ21lbnQgPSBwYXJ0c1tpXTtcblxuICB3aGlsZSAobWlkU2VnbWVudC5lbmRMZW5ndGggPCBtaWRMZW5ndGgpIHtcbiAgICBtaWRTZWdtZW50ID0gcGFydHNbKytpXTtcbiAgfVxuXG4gIC8vIGNhbGN1bGF0ZSByZWxhdGl2ZSBwb3NpdGlvbiBvbiBtaWQgc2VnbWVudFxuICB2YXIgc2VnbWVudFByb2dyZXNzID0gKG1pZExlbmd0aCAtIG1pZFNlZ21lbnQuc3RhcnRMZW5ndGgpIC8gbWlkU2VnbWVudC5sZW5ndGg7XG5cbiAgdmFyIG1pZFBvaW50ID0ge1xuICAgIHg6IG1pZFNlZ21lbnQuc3RhcnQueCArIChtaWRTZWdtZW50LmVuZC54IC0gbWlkU2VnbWVudC5zdGFydC54KSAqIHNlZ21lbnRQcm9ncmVzcyxcbiAgICB5OiBtaWRTZWdtZW50LnN0YXJ0LnkgKyAobWlkU2VnbWVudC5lbmQueSAtIG1pZFNlZ21lbnQuc3RhcnQueSkgKiBzZWdtZW50UHJvZ3Jlc3NcbiAgfTtcblxuICByZXR1cm4gbWlkUG9pbnQ7XG59XG5cblxuLyoqXG4gKiBHZXQgdGhlIG1pZCBvZiB0aGUgZ2l2ZW4gRWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtQb2ludH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE1pZChlbGVtZW50KSB7XG4gIGlmIChpc0Nvbm5lY3Rpb24oZWxlbWVudCkpIHtcbiAgICByZXR1cm4gZ2V0Q29ubmVjdGlvbk1pZChlbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiBnZXRCb3VuZHNNaWQoZWxlbWVudCk7XG59XG5cbi8vIG9yaWVudGF0aW9uIHV0aWxzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBHZXQgb3JpZW50YXRpb24gb2YgdGhlIGdpdmVuIHJlY3RhbmdsZSB3aXRoIHJlc3BlY3QgdG9cbiAqIHRoZSByZWZlcmVuY2UgcmVjdGFuZ2xlLlxuICpcbiAqIEEgcGFkZGluZyAocG9zaXRpdmUgb3IgbmVnYXRpdmUpIG1heSBiZSBwYXNzZWQgdG8gaW5mbHVlbmNlXG4gKiBob3Jpem9udGFsIC8gdmVydGljYWwgb3JpZW50YXRpb24gYW5kIGludGVyc2VjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlY3R9IHJlY3RcbiAqIEBwYXJhbSB7UmVjdH0gcmVmZXJlbmNlXG4gKiBAcGFyYW0ge1BvaW50fG51bWJlcn0gcGFkZGluZ1xuICpcbiAqIEByZXR1cm4ge0RpcmVjdGlvblRSQkx9IHRoZSBvcmllbnRhdGlvbjsgb25lIG9mIHRvcCwgdG9wLWxlZnQsIGxlZnQsIC4uLiwgYm90dG9tLCByaWdodCBvciBpbnRlcnNlY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcmllbnRhdGlvbihyZWN0LCByZWZlcmVuY2UsIHBhZGRpbmcpIHtcblxuICBwYWRkaW5nID0gcGFkZGluZyB8fCAwO1xuXG4gIC8vIG1ha2Ugc3VyZSB3ZSBjYW4gdXNlIGFuIG9iamVjdCwgdG9vXG4gIC8vIGZvciBpbmRpdmlkdWFsIHsgeCwgeSB9IHBhZGRpbmdcbiAgaWYgKCFpc09iamVjdChwYWRkaW5nKSkge1xuICAgIHBhZGRpbmcgPSB7IHg6IHBhZGRpbmcsIHk6IHBhZGRpbmcgfTtcbiAgfVxuXG5cbiAgdmFyIHJlY3RPcmllbnRhdGlvbiA9IGFzVFJCTChyZWN0KSxcbiAgICAgIHJlZmVyZW5jZU9yaWVudGF0aW9uID0gYXNUUkJMKHJlZmVyZW5jZSk7XG5cbiAgdmFyIHRvcCA9IHJlY3RPcmllbnRhdGlvbi5ib3R0b20gKyBwYWRkaW5nLnkgPD0gcmVmZXJlbmNlT3JpZW50YXRpb24udG9wLFxuICAgICAgcmlnaHQgPSByZWN0T3JpZW50YXRpb24ubGVmdCAtIHBhZGRpbmcueCA+PSByZWZlcmVuY2VPcmllbnRhdGlvbi5yaWdodCxcbiAgICAgIGJvdHRvbSA9IHJlY3RPcmllbnRhdGlvbi50b3AgLSBwYWRkaW5nLnkgPj0gcmVmZXJlbmNlT3JpZW50YXRpb24uYm90dG9tLFxuICAgICAgbGVmdCA9IHJlY3RPcmllbnRhdGlvbi5yaWdodCArIHBhZGRpbmcueCA8PSByZWZlcmVuY2VPcmllbnRhdGlvbi5sZWZ0O1xuXG4gIHZhciB2ZXJ0aWNhbCA9IHRvcCA/ICd0b3AnIDogKGJvdHRvbSA/ICdib3R0b20nIDogbnVsbCksXG4gICAgICBob3Jpem9udGFsID0gbGVmdCA/ICdsZWZ0JyA6IChyaWdodCA/ICdyaWdodCcgOiBudWxsKTtcblxuICBpZiAoaG9yaXpvbnRhbCAmJiB2ZXJ0aWNhbCkge1xuICAgIHJldHVybiB2ZXJ0aWNhbCArICctJyArIGhvcml6b250YWw7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGhvcml6b250YWwgfHwgdmVydGljYWwgfHwgJ2ludGVyc2VjdCc7XG4gIH1cbn1cblxuXG4vLyBpbnRlcnNlY3Rpb24gdXRpbHMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEdldCBpbnRlcnNlY3Rpb24gYmV0d2VlbiBhbiBlbGVtZW50IGFuZCBhIGxpbmUgcGF0aC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudFBhdGhcbiAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lUGF0aFxuICogQHBhcmFtIHtib29sZWFufSBjcm9wU3RhcnQgV2hldGhlciB0byBjcm9wIHN0YXJ0IG9yIGVuZC5cbiAqXG4gKiBAcmV0dXJuIHtQb2ludH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRMaW5lSW50ZXJzZWN0aW9uKGVsZW1lbnRQYXRoLCBsaW5lUGF0aCwgY3JvcFN0YXJ0KSB7XG5cbiAgdmFyIGludGVyc2VjdGlvbnMgPSBnZXRJbnRlcnNlY3Rpb25zKGVsZW1lbnRQYXRoLCBsaW5lUGF0aCk7XG5cbiAgLy8gcmVjb2duaXplIGludGVyc2VjdGlvbnNcbiAgLy8gb25seSBvbmUgLT4gY2hvb3NlXG4gIC8vIHR3byBjbG9zZSB0b2dldGhlciAtPiBjaG9vc2UgZmlyc3RcbiAgLy8gdHdvIG9yIG1vcmUgZGlzdGluY3QgLT4gcHVsbCBvdXQgYXBwcm9wcmlhdGUgb25lXG4gIC8vIG5vbmUgLT4gb2sgKGZhbGxiYWNrIHRvIHBvaW50IGl0c2VsZilcbiAgaWYgKGludGVyc2VjdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIHJvdW5kUG9pbnQoaW50ZXJzZWN0aW9uc1swXSk7XG4gIH0gZWxzZSBpZiAoaW50ZXJzZWN0aW9ucy5sZW5ndGggPT09IDIgJiYgcG9pbnREaXN0YW5jZShpbnRlcnNlY3Rpb25zWzBdLCBpbnRlcnNlY3Rpb25zWzFdKSA8IDEpIHtcbiAgICByZXR1cm4gcm91bmRQb2ludChpbnRlcnNlY3Rpb25zWzBdKTtcbiAgfSBlbHNlIGlmIChpbnRlcnNlY3Rpb25zLmxlbmd0aCA+IDEpIHtcblxuICAgIC8vIHNvcnQgYnkgaW50ZXJzZWN0aW9ucyBiYXNlZCBvbiBjb25uZWN0aW9uIHNlZ21lbnQgK1xuICAgIC8vIGRpc3RhbmNlIGZyb20gc3RhcnRcbiAgICBpbnRlcnNlY3Rpb25zID0gc29ydEJ5KGludGVyc2VjdGlvbnMsIGZ1bmN0aW9uKGkpIHtcbiAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguZmxvb3IoaS50MiAqIDEwMCkgfHwgMTtcblxuICAgICAgZGlzdGFuY2UgPSAxMDAgLSBkaXN0YW5jZTtcblxuICAgICAgZGlzdGFuY2UgPSAoZGlzdGFuY2UgPCAxMCA/ICcwJyA6ICcnKSArIGRpc3RhbmNlO1xuXG4gICAgICAvLyBjcmVhdGUgYSBzb3J0IHN0cmluZyB0aGF0IG1ha2VzIHN1cmUgd2Ugc29ydFxuICAgICAgLy8gbGluZSBzZWdtZW50IEFTQyArIGxpbmUgc2VnbWVudCBwb3NpdGlvbiBERVNDIChmb3IgY3JvcFN0YXJ0KVxuICAgICAgLy8gbGluZSBzZWdtZW50IEFTQyArIGxpbmUgc2VnbWVudCBwb3NpdGlvbiBBU0MgKGZvciBjcm9wRW5kKVxuICAgICAgcmV0dXJuIGkuc2VnbWVudDIgKyAnIycgKyBkaXN0YW5jZTtcbiAgICB9KTtcblxuICAgIHJldHVybiByb3VuZFBvaW50KGludGVyc2VjdGlvbnNbY3JvcFN0YXJ0ID8gMCA6IGludGVyc2VjdGlvbnMubGVuZ3RoIC0gMV0pO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVyc2VjdGlvbnMoYSwgYikge1xuICByZXR1cm4gaW50ZXJzZWN0UGF0aHMoYSwgYik7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlclJlZHVuZGFudFdheXBvaW50cyh3YXlwb2ludHMpIHtcblxuICAvLyBhbHRlciBjb3B5IG9mIHdheXBvaW50cywgbm90IG9yaWdpbmFsXG4gIHdheXBvaW50cyA9IHdheXBvaW50cy5zbGljZSgpO1xuXG4gIHZhciBpZHggPSAwLFxuICAgICAgcG9pbnQsXG4gICAgICBwcmV2aW91c1BvaW50LFxuICAgICAgbmV4dFBvaW50O1xuXG4gIHdoaWxlICh3YXlwb2ludHNbaWR4XSkge1xuICAgIHBvaW50ID0gd2F5cG9pbnRzW2lkeF07XG4gICAgcHJldmlvdXNQb2ludCA9IHdheXBvaW50c1tpZHggLSAxXTtcbiAgICBuZXh0UG9pbnQgPSB3YXlwb2ludHNbaWR4ICsgMV07XG5cbiAgICBpZiAocG9pbnREaXN0YW5jZShwb2ludCwgbmV4dFBvaW50KSA9PT0gMCB8fFxuICAgICAgICBwb2ludHNPbkxpbmUocHJldmlvdXNQb2ludCwgbmV4dFBvaW50LCBwb2ludCkpIHtcblxuICAgICAgLy8gcmVtb3ZlIHBvaW50LCBpZiBvdmVybGFwcGluZyB3aXRoIHtuZXh0UG9pbnR9XG4gICAgICAvLyBvciBvbiBsaW5lIHdpdGgge3ByZXZpb3VzUG9pbnR9IC0+IHtwb2ludH0gLT4ge25leHRQb2ludH1cbiAgICAgIHdheXBvaW50cy5zcGxpY2UoaWR4LCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWR4Kys7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHdheXBvaW50cztcbn1cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcbiAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhhLnggLSBiLngsIDIpICsgTWF0aC5wb3coYS55IC0gYi55LCAyKSk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/diagram-js/lib/layout/LayoutUtil.js\n");

/***/ }),

/***/ "./node_modules/diagram-js/lib/util/Elements.js":
/*!******************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/Elements.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   eachElement: () => (/* binding */ eachElement),\n/* harmony export */   getBBox: () => (/* binding */ getBBox),\n/* harmony export */   getClosure: () => (/* binding */ getClosure),\n/* harmony export */   getEnclosedElements: () => (/* binding */ getEnclosedElements),\n/* harmony export */   getParents: () => (/* binding */ getParents),\n/* harmony export */   getType: () => (/* binding */ getType),\n/* harmony export */   isFrameElement: () => (/* binding */ isFrameElement),\n/* harmony export */   selfAndAllChildren: () => (/* binding */ selfAndAllChildren),\n/* harmony export */   selfAndChildren: () => (/* binding */ selfAndChildren),\n/* harmony export */   selfAndDirectChildren: () => (/* binding */ selfAndDirectChildren)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../model/Types').Connection} Connection\n * @typedef {import('../model/Types').Element} Element\n * @typedef {import('../model/Types').Shape} Shape\n *\n * @typedef {import('../../type/Types').Rect} Rect\n *\n * @typedef { {\n *   allShapes: Record<string, Shape>,\n *   allConnections: Record<string, Connection>,\n *   topLevel: Record<string, Element>,\n *   enclosedConnections: Record<string, Connection>,\n *   enclosedElements: Record<string, Element>\n * } } Closure\n */\n\n/**\n * Get parent elements.\n *\n * @param {Element[]} elements\n *\n * @return {Element[]}\n */\nfunction getParents(elements) {\n\n  // find elements that are not children of any other elements\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.filter)(elements, function(element) {\n    return !(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.find)(elements, function(e) {\n      return e !== element && getParent(element, e);\n    });\n  });\n}\n\n\nfunction getParent(element, parent) {\n  if (!parent) {\n    return;\n  }\n\n  if (element === parent) {\n    return parent;\n  }\n\n  if (!element.parent) {\n    return;\n  }\n\n  return getParent(element.parent, parent);\n}\n\n\n/**\n * Adds an element to a collection and returns true if the\n * element was added.\n *\n * @param {Object[]} elements\n * @param {Object} element\n * @param {boolean} [unique]\n */\nfunction add(elements, element, unique) {\n  var canAdd = !unique || elements.indexOf(element) === -1;\n\n  if (canAdd) {\n    elements.push(element);\n  }\n\n  return canAdd;\n}\n\n\n/**\n * Iterate over each element in a collection, calling the iterator function `fn`\n * with (element, index, recursionDepth).\n *\n * Recurse into all elements that are returned by `fn`.\n *\n * @param {Element|Element[]} elements\n * @param {(element: Element, index: number, depth: number) => Element[] | boolean | undefined} fn\n * @param {number} [depth] maximum recursion depth\n */\nfunction eachElement(elements, fn, depth) {\n\n  depth = depth || 0;\n\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(elements)) {\n    elements = [ elements ];\n  }\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(s, i) {\n    var filter = fn(s, i, depth);\n\n    if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(filter) && filter.length) {\n      eachElement(filter, fn, depth + 1);\n    }\n  });\n}\n\n\n/**\n * Collects self + child elements up to a given depth from a list of elements.\n *\n * @param {Element|Element[]} elements the elements to select the children from\n * @param {boolean} unique whether to return a unique result set (no duplicates)\n * @param {number} maxDepth the depth to search through or -1 for infinite\n *\n * @return {Element[]} found elements\n */\nfunction selfAndChildren(elements, unique, maxDepth) {\n  var result = [],\n      processedChildren = [];\n\n  eachElement(elements, function(element, i, depth) {\n    add(result, element, unique);\n\n    var children = element.children;\n\n    // max traversal depth not reached yet\n    if (maxDepth === -1 || depth < maxDepth) {\n\n      // children exist && children not yet processed\n      if (children && add(processedChildren, children, unique)) {\n        return children;\n      }\n    }\n  });\n\n  return result;\n}\n\n/**\n * Return self + direct children for a number of elements\n *\n * @param {Element[]} elements to query\n * @param {boolean} [allowDuplicates] to allow duplicates in the result set\n *\n * @return {Element[]} the collected elements\n */\nfunction selfAndDirectChildren(elements, allowDuplicates) {\n  return selfAndChildren(elements, !allowDuplicates, 1);\n}\n\n\n/**\n * Return self + ALL children for a number of elements\n *\n * @param {Element[]} elements to query\n * @param {boolean} [allowDuplicates] to allow duplicates in the result set\n *\n * @return {Element[]} the collected elements\n */\nfunction selfAndAllChildren(elements, allowDuplicates) {\n  return selfAndChildren(elements, !allowDuplicates, -1);\n}\n\n\n/**\n * Gets the the closure for all selected elements,\n * their enclosed children and connections.\n *\n * @param {Element[]} elements\n * @param {boolean} [isTopLevel=true]\n * @param {Closure} [closure]\n *\n * @return {Closure} newClosure\n */\nfunction getClosure(elements, isTopLevel, closure) {\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isUndefined)(isTopLevel)) {\n    isTopLevel = true;\n  }\n\n  if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(isTopLevel)) {\n    closure = isTopLevel;\n    isTopLevel = true;\n  }\n\n\n  closure = closure || {};\n\n  var allShapes = copyObject(closure.allShapes),\n      allConnections = copyObject(closure.allConnections),\n      enclosedElements = copyObject(closure.enclosedElements),\n      enclosedConnections = copyObject(closure.enclosedConnections);\n\n  var topLevel = copyObject(\n    closure.topLevel,\n    isTopLevel && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.groupBy)(elements, function(e) { return e.id; })\n  );\n\n\n  function handleConnection(c) {\n    if (topLevel[c.source.id] && topLevel[c.target.id]) {\n      topLevel[c.id] = [ c ];\n    }\n\n    // not enclosed as a child, but maybe logically\n    // (connecting two moved elements?)\n    if (allShapes[c.source.id] && allShapes[c.target.id]) {\n      enclosedConnections[c.id] = enclosedElements[c.id] = c;\n    }\n\n    allConnections[c.id] = c;\n  }\n\n  function handleElement(element) {\n\n    enclosedElements[element.id] = element;\n\n    if (element.waypoints) {\n\n      // remember connection\n      enclosedConnections[element.id] = allConnections[element.id] = element;\n    } else {\n\n      // remember shape\n      allShapes[element.id] = element;\n\n      // remember all connections\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(element.incoming, handleConnection);\n\n      (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(element.outgoing, handleConnection);\n\n      // recurse into children\n      return element.children;\n    }\n  }\n\n  eachElement(elements, handleElement);\n\n  return {\n    allShapes: allShapes,\n    allConnections: allConnections,\n    topLevel: topLevel,\n    enclosedConnections: enclosedConnections,\n    enclosedElements: enclosedElements\n  };\n}\n\n/**\n * Returns the surrounding bbox for all elements in\n * the array or the element primitive.\n *\n * @param {Element|Element[]} elements\n * @param {boolean} [stopRecursion=false]\n *\n * @return {Rect}\n */\nfunction getBBox(elements, stopRecursion) {\n\n  stopRecursion = !!stopRecursion;\n  if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isArray)(elements)) {\n    elements = [ elements ];\n  }\n\n  var minX,\n      minY,\n      maxX,\n      maxY;\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\n\n    // If element is a connection the bbox must be computed first\n    var bbox = element;\n    if (element.waypoints && !stopRecursion) {\n      bbox = getBBox(element.waypoints, true);\n    }\n\n    var x = bbox.x,\n        y = bbox.y,\n        height = bbox.height || 0,\n        width = bbox.width || 0;\n\n    if (x < minX || minX === undefined) {\n      minX = x;\n    }\n    if (y < minY || minY === undefined) {\n      minY = y;\n    }\n\n    if ((x + width) > maxX || maxX === undefined) {\n      maxX = x + width;\n    }\n    if ((y + height) > maxY || maxY === undefined) {\n      maxY = y + height;\n    }\n  });\n\n  return {\n    x: minX,\n    y: minY,\n    height: maxY - minY,\n    width: maxX - minX\n  };\n}\n\n\n/**\n * Returns all elements that are enclosed from the bounding box.\n *\n *   * If bbox.(width|height) is not specified the method returns\n *     all elements with element.x/y > bbox.x/y\n *   * If only bbox.x or bbox.y is specified, method return all elements with\n *     e.x > bbox.x or e.y > bbox.y\n *\n * @param {Element[]} elements List of Elements to search through\n * @param {Rect} bbox the enclosing bbox.\n *\n * @return {Element[]} enclosed elements\n */\nfunction getEnclosedElements(elements, bbox) {\n\n  var filteredElements = {};\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.forEach)(elements, function(element) {\n\n    var e = element;\n\n    if (e.waypoints) {\n      e = getBBox(e);\n    }\n\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.y) && (e.x > bbox.x)) {\n      filteredElements[element.id] = element;\n    }\n    if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.x) && (e.y > bbox.y)) {\n      filteredElements[element.id] = element;\n    }\n    if (e.x > bbox.x && e.y > bbox.y) {\n      if ((0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.width) && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.height) &&\n          e.width + e.x < bbox.width + bbox.x &&\n          e.height + e.y < bbox.height + bbox.y) {\n\n        filteredElements[element.id] = element;\n      } else if (!(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.width) || !(0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(bbox.height)) {\n        filteredElements[element.id] = element;\n      }\n    }\n  });\n\n  return filteredElements;\n}\n\n/**\n * Get the element's type\n *\n * @param {Element} element\n *\n * @return {'connection' | 'shape' | 'root'}\n */\nfunction getType(element) {\n\n  if ('waypoints' in element) {\n    return 'connection';\n  }\n\n  if ('x' in element) {\n    return 'shape';\n  }\n\n  return 'root';\n}\n\n/**\n * @param {Element} element\n *\n * @return {boolean}\n */\nfunction isFrameElement(element) {\n  return !!(element && element.isFrame);\n}\n\n// helpers ///////////////////////////////\n\nfunction copyObject(src1, src2) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.assign)({}, src1 || {}, src2 || {});\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9FbGVtZW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFVa0I7O0FBRWxCO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSxrQ0FBa0M7QUFDL0MsYUFBYSxnQ0FBZ0M7QUFDN0M7QUFDQSxhQUFhLGlDQUFpQztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDtBQUNBLFNBQVMsZ0RBQU07QUFDZixZQUFZLDhDQUFJO0FBQ2hCO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCO0FBQ087QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUIsV0FBVyxxRkFBcUY7QUFDaEcsV0FBVyxRQUFRO0FBQ25CO0FBQ087O0FBRVA7O0FBRUEsT0FBTyxpREFBTztBQUNkO0FBQ0E7O0FBRUEsRUFBRSxpREFBTztBQUNUOztBQUVBLFFBQVEsaURBQU87QUFDZjtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQjtBQUM5QixXQUFXLFNBQVM7QUFDcEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWSxXQUFXO0FBQ3ZCO0FBQ087QUFDUDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZLFdBQVc7QUFDdkI7QUFDTztBQUNQO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZLFdBQVc7QUFDdkI7QUFDTztBQUNQO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDTzs7QUFFUCxNQUFNLHFEQUFXO0FBQ2pCO0FBQ0E7O0FBRUEsTUFBTSxrREFBUTtBQUNkO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixpREFBTyx5QkFBeUIsY0FBYztBQUNoRTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLGlEQUFPOztBQUViLE1BQU0saURBQU87O0FBRWI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbUJBQW1CO0FBQzlCLFdBQVcsU0FBUztBQUNwQjtBQUNBLFlBQVk7QUFDWjtBQUNPOztBQUVQO0FBQ0EsT0FBTyxpREFBTztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxpREFBTzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsTUFBTTtBQUNqQjtBQUNBLFlBQVksV0FBVztBQUN2QjtBQUNPOztBQUVQOztBQUVBLEVBQUUsaURBQU87O0FBRVQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBLFNBQVMsa0RBQVE7QUFDakI7QUFDQTtBQUNBLFNBQVMsa0RBQVE7QUFDakI7QUFDQTtBQUNBO0FBQ0EsVUFBVSxrREFBUSxnQkFBZ0Isa0RBQVE7QUFDMUM7QUFDQTs7QUFFQTtBQUNBLFFBQVEsVUFBVSxrREFBUSxpQkFBaUIsa0RBQVE7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBLFlBQVk7QUFDWjtBQUNPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFNBQVMsZ0RBQU0sR0FBRyxZQUFZLFlBQVk7QUFDMUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZGF5cy0yMDIzLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvRWxlbWVudHMuanM/NDNjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBhc3NpZ24sXG4gIGZpbHRlcixcbiAgZmluZCxcbiAgaXNBcnJheSxcbiAgaXNOdW1iZXIsXG4gIGlzT2JqZWN0LFxuICBpc1VuZGVmaW5lZCxcbiAgZ3JvdXBCeSxcbiAgZm9yRWFjaFxufSBmcm9tICdtaW4tZGFzaCc7XG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vbW9kZWwvVHlwZXMnKS5Db25uZWN0aW9ufSBDb25uZWN0aW9uXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tb2RlbC9UeXBlcycpLkVsZW1lbnR9IEVsZW1lbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21vZGVsL1R5cGVzJykuU2hhcGV9IFNoYXBlXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vdHlwZS9UeXBlcycpLlJlY3R9IFJlY3RcbiAqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgYWxsU2hhcGVzOiBSZWNvcmQ8c3RyaW5nLCBTaGFwZT4sXG4gKiAgIGFsbENvbm5lY3Rpb25zOiBSZWNvcmQ8c3RyaW5nLCBDb25uZWN0aW9uPixcbiAqICAgdG9wTGV2ZWw6IFJlY29yZDxzdHJpbmcsIEVsZW1lbnQ+LFxuICogICBlbmNsb3NlZENvbm5lY3Rpb25zOiBSZWNvcmQ8c3RyaW5nLCBDb25uZWN0aW9uPixcbiAqICAgZW5jbG9zZWRFbGVtZW50czogUmVjb3JkPHN0cmluZywgRWxlbWVudD5cbiAqIH0gfSBDbG9zdXJlXG4gKi9cblxuLyoqXG4gKiBHZXQgcGFyZW50IGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudFtdfSBlbGVtZW50c1xuICpcbiAqIEByZXR1cm4ge0VsZW1lbnRbXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmVudHMoZWxlbWVudHMpIHtcblxuICAvLyBmaW5kIGVsZW1lbnRzIHRoYXQgYXJlIG5vdCBjaGlsZHJlbiBvZiBhbnkgb3RoZXIgZWxlbWVudHNcbiAgcmV0dXJuIGZpbHRlcihlbGVtZW50cywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiAhZmluZChlbGVtZW50cywgZnVuY3Rpb24oZSkge1xuICAgICAgcmV0dXJuIGUgIT09IGVsZW1lbnQgJiYgZ2V0UGFyZW50KGVsZW1lbnQsIGUpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuXG5mdW5jdGlvbiBnZXRQYXJlbnQoZWxlbWVudCwgcGFyZW50KSB7XG4gIGlmICghcGFyZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGVsZW1lbnQgPT09IHBhcmVudCkge1xuICAgIHJldHVybiBwYXJlbnQ7XG4gIH1cblxuICBpZiAoIWVsZW1lbnQucGFyZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmV0dXJuIGdldFBhcmVudChlbGVtZW50LnBhcmVudCwgcGFyZW50KTtcbn1cblxuXG4vKipcbiAqIEFkZHMgYW4gZWxlbWVudCB0byBhIGNvbGxlY3Rpb24gYW5kIHJldHVybnMgdHJ1ZSBpZiB0aGVcbiAqIGVsZW1lbnQgd2FzIGFkZGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0W119IGVsZW1lbnRzXG4gKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudFxuICogQHBhcmFtIHtib29sZWFufSBbdW5pcXVlXVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkKGVsZW1lbnRzLCBlbGVtZW50LCB1bmlxdWUpIHtcbiAgdmFyIGNhbkFkZCA9ICF1bmlxdWUgfHwgZWxlbWVudHMuaW5kZXhPZihlbGVtZW50KSA9PT0gLTE7XG5cbiAgaWYgKGNhbkFkZCkge1xuICAgIGVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gIH1cblxuICByZXR1cm4gY2FuQWRkO1xufVxuXG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGVhY2ggZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24sIGNhbGxpbmcgdGhlIGl0ZXJhdG9yIGZ1bmN0aW9uIGBmbmBcbiAqIHdpdGggKGVsZW1lbnQsIGluZGV4LCByZWN1cnNpb25EZXB0aCkuXG4gKlxuICogUmVjdXJzZSBpbnRvIGFsbCBlbGVtZW50cyB0aGF0IGFyZSByZXR1cm5lZCBieSBgZm5gLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudHxFbGVtZW50W119IGVsZW1lbnRzXG4gKiBAcGFyYW0geyhlbGVtZW50OiBFbGVtZW50LCBpbmRleDogbnVtYmVyLCBkZXB0aDogbnVtYmVyKSA9PiBFbGVtZW50W10gfCBib29sZWFuIHwgdW5kZWZpbmVkfSBmblxuICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aF0gbWF4aW11bSByZWN1cnNpb24gZGVwdGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhY2hFbGVtZW50KGVsZW1lbnRzLCBmbiwgZGVwdGgpIHtcblxuICBkZXB0aCA9IGRlcHRoIHx8IDA7XG5cbiAgaWYgKCFpc0FycmF5KGVsZW1lbnRzKSkge1xuICAgIGVsZW1lbnRzID0gWyBlbGVtZW50cyBdO1xuICB9XG5cbiAgZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24ocywgaSkge1xuICAgIHZhciBmaWx0ZXIgPSBmbihzLCBpLCBkZXB0aCk7XG5cbiAgICBpZiAoaXNBcnJheShmaWx0ZXIpICYmIGZpbHRlci5sZW5ndGgpIHtcbiAgICAgIGVhY2hFbGVtZW50KGZpbHRlciwgZm4sIGRlcHRoICsgMSk7XG4gICAgfVxuICB9KTtcbn1cblxuXG4vKipcbiAqIENvbGxlY3RzIHNlbGYgKyBjaGlsZCBlbGVtZW50cyB1cCB0byBhIGdpdmVuIGRlcHRoIGZyb20gYSBsaXN0IG9mIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudHxFbGVtZW50W119IGVsZW1lbnRzIHRoZSBlbGVtZW50cyB0byBzZWxlY3QgdGhlIGNoaWxkcmVuIGZyb21cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdW5pcXVlIHdoZXRoZXIgdG8gcmV0dXJuIGEgdW5pcXVlIHJlc3VsdCBzZXQgKG5vIGR1cGxpY2F0ZXMpXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4RGVwdGggdGhlIGRlcHRoIHRvIHNlYXJjaCB0aHJvdWdoIG9yIC0xIGZvciBpbmZpbml0ZVxuICpcbiAqIEByZXR1cm4ge0VsZW1lbnRbXX0gZm91bmQgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGZBbmRDaGlsZHJlbihlbGVtZW50cywgdW5pcXVlLCBtYXhEZXB0aCkge1xuICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICBwcm9jZXNzZWRDaGlsZHJlbiA9IFtdO1xuXG4gIGVhY2hFbGVtZW50KGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50LCBpLCBkZXB0aCkge1xuICAgIGFkZChyZXN1bHQsIGVsZW1lbnQsIHVuaXF1ZSk7XG5cbiAgICB2YXIgY2hpbGRyZW4gPSBlbGVtZW50LmNoaWxkcmVuO1xuXG4gICAgLy8gbWF4IHRyYXZlcnNhbCBkZXB0aCBub3QgcmVhY2hlZCB5ZXRcbiAgICBpZiAobWF4RGVwdGggPT09IC0xIHx8IGRlcHRoIDwgbWF4RGVwdGgpIHtcblxuICAgICAgLy8gY2hpbGRyZW4gZXhpc3QgJiYgY2hpbGRyZW4gbm90IHlldCBwcm9jZXNzZWRcbiAgICAgIGlmIChjaGlsZHJlbiAmJiBhZGQocHJvY2Vzc2VkQ2hpbGRyZW4sIGNoaWxkcmVuLCB1bmlxdWUpKSB7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogUmV0dXJuIHNlbGYgKyBkaXJlY3QgY2hpbGRyZW4gZm9yIGEgbnVtYmVyIG9mIGVsZW1lbnRzXG4gKlxuICogQHBhcmFtIHtFbGVtZW50W119IGVsZW1lbnRzIHRvIHF1ZXJ5XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFthbGxvd0R1cGxpY2F0ZXNdIHRvIGFsbG93IGR1cGxpY2F0ZXMgaW4gdGhlIHJlc3VsdCBzZXRcbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50W119IHRoZSBjb2xsZWN0ZWQgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGZBbmREaXJlY3RDaGlsZHJlbihlbGVtZW50cywgYWxsb3dEdXBsaWNhdGVzKSB7XG4gIHJldHVybiBzZWxmQW5kQ2hpbGRyZW4oZWxlbWVudHMsICFhbGxvd0R1cGxpY2F0ZXMsIDEpO1xufVxuXG5cbi8qKlxuICogUmV0dXJuIHNlbGYgKyBBTEwgY2hpbGRyZW4gZm9yIGEgbnVtYmVyIG9mIGVsZW1lbnRzXG4gKlxuICogQHBhcmFtIHtFbGVtZW50W119IGVsZW1lbnRzIHRvIHF1ZXJ5XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFthbGxvd0R1cGxpY2F0ZXNdIHRvIGFsbG93IGR1cGxpY2F0ZXMgaW4gdGhlIHJlc3VsdCBzZXRcbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50W119IHRoZSBjb2xsZWN0ZWQgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGZBbmRBbGxDaGlsZHJlbihlbGVtZW50cywgYWxsb3dEdXBsaWNhdGVzKSB7XG4gIHJldHVybiBzZWxmQW5kQ2hpbGRyZW4oZWxlbWVudHMsICFhbGxvd0R1cGxpY2F0ZXMsIC0xKTtcbn1cblxuXG4vKipcbiAqIEdldHMgdGhlIHRoZSBjbG9zdXJlIGZvciBhbGwgc2VsZWN0ZWQgZWxlbWVudHMsXG4gKiB0aGVpciBlbmNsb3NlZCBjaGlsZHJlbiBhbmQgY29ubmVjdGlvbnMuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50W119IGVsZW1lbnRzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1RvcExldmVsPXRydWVdXG4gKiBAcGFyYW0ge0Nsb3N1cmV9IFtjbG9zdXJlXVxuICpcbiAqIEByZXR1cm4ge0Nsb3N1cmV9IG5ld0Nsb3N1cmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENsb3N1cmUoZWxlbWVudHMsIGlzVG9wTGV2ZWwsIGNsb3N1cmUpIHtcblxuICBpZiAoaXNVbmRlZmluZWQoaXNUb3BMZXZlbCkpIHtcbiAgICBpc1RvcExldmVsID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChpc09iamVjdChpc1RvcExldmVsKSkge1xuICAgIGNsb3N1cmUgPSBpc1RvcExldmVsO1xuICAgIGlzVG9wTGV2ZWwgPSB0cnVlO1xuICB9XG5cblxuICBjbG9zdXJlID0gY2xvc3VyZSB8fCB7fTtcblxuICB2YXIgYWxsU2hhcGVzID0gY29weU9iamVjdChjbG9zdXJlLmFsbFNoYXBlcyksXG4gICAgICBhbGxDb25uZWN0aW9ucyA9IGNvcHlPYmplY3QoY2xvc3VyZS5hbGxDb25uZWN0aW9ucyksXG4gICAgICBlbmNsb3NlZEVsZW1lbnRzID0gY29weU9iamVjdChjbG9zdXJlLmVuY2xvc2VkRWxlbWVudHMpLFxuICAgICAgZW5jbG9zZWRDb25uZWN0aW9ucyA9IGNvcHlPYmplY3QoY2xvc3VyZS5lbmNsb3NlZENvbm5lY3Rpb25zKTtcblxuICB2YXIgdG9wTGV2ZWwgPSBjb3B5T2JqZWN0KFxuICAgIGNsb3N1cmUudG9wTGV2ZWwsXG4gICAgaXNUb3BMZXZlbCAmJiBncm91cEJ5KGVsZW1lbnRzLCBmdW5jdGlvbihlKSB7IHJldHVybiBlLmlkOyB9KVxuICApO1xuXG5cbiAgZnVuY3Rpb24gaGFuZGxlQ29ubmVjdGlvbihjKSB7XG4gICAgaWYgKHRvcExldmVsW2Muc291cmNlLmlkXSAmJiB0b3BMZXZlbFtjLnRhcmdldC5pZF0pIHtcbiAgICAgIHRvcExldmVsW2MuaWRdID0gWyBjIF07XG4gICAgfVxuXG4gICAgLy8gbm90IGVuY2xvc2VkIGFzIGEgY2hpbGQsIGJ1dCBtYXliZSBsb2dpY2FsbHlcbiAgICAvLyAoY29ubmVjdGluZyB0d28gbW92ZWQgZWxlbWVudHM/KVxuICAgIGlmIChhbGxTaGFwZXNbYy5zb3VyY2UuaWRdICYmIGFsbFNoYXBlc1tjLnRhcmdldC5pZF0pIHtcbiAgICAgIGVuY2xvc2VkQ29ubmVjdGlvbnNbYy5pZF0gPSBlbmNsb3NlZEVsZW1lbnRzW2MuaWRdID0gYztcbiAgICB9XG5cbiAgICBhbGxDb25uZWN0aW9uc1tjLmlkXSA9IGM7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVFbGVtZW50KGVsZW1lbnQpIHtcblxuICAgIGVuY2xvc2VkRWxlbWVudHNbZWxlbWVudC5pZF0gPSBlbGVtZW50O1xuXG4gICAgaWYgKGVsZW1lbnQud2F5cG9pbnRzKSB7XG5cbiAgICAgIC8vIHJlbWVtYmVyIGNvbm5lY3Rpb25cbiAgICAgIGVuY2xvc2VkQ29ubmVjdGlvbnNbZWxlbWVudC5pZF0gPSBhbGxDb25uZWN0aW9uc1tlbGVtZW50LmlkXSA9IGVsZW1lbnQ7XG4gICAgfSBlbHNlIHtcblxuICAgICAgLy8gcmVtZW1iZXIgc2hhcGVcbiAgICAgIGFsbFNoYXBlc1tlbGVtZW50LmlkXSA9IGVsZW1lbnQ7XG5cbiAgICAgIC8vIHJlbWVtYmVyIGFsbCBjb25uZWN0aW9uc1xuICAgICAgZm9yRWFjaChlbGVtZW50LmluY29taW5nLCBoYW5kbGVDb25uZWN0aW9uKTtcblxuICAgICAgZm9yRWFjaChlbGVtZW50Lm91dGdvaW5nLCBoYW5kbGVDb25uZWN0aW9uKTtcblxuICAgICAgLy8gcmVjdXJzZSBpbnRvIGNoaWxkcmVuXG4gICAgICByZXR1cm4gZWxlbWVudC5jaGlsZHJlbjtcbiAgICB9XG4gIH1cblxuICBlYWNoRWxlbWVudChlbGVtZW50cywgaGFuZGxlRWxlbWVudCk7XG5cbiAgcmV0dXJuIHtcbiAgICBhbGxTaGFwZXM6IGFsbFNoYXBlcyxcbiAgICBhbGxDb25uZWN0aW9uczogYWxsQ29ubmVjdGlvbnMsXG4gICAgdG9wTGV2ZWw6IHRvcExldmVsLFxuICAgIGVuY2xvc2VkQ29ubmVjdGlvbnM6IGVuY2xvc2VkQ29ubmVjdGlvbnMsXG4gICAgZW5jbG9zZWRFbGVtZW50czogZW5jbG9zZWRFbGVtZW50c1xuICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHN1cnJvdW5kaW5nIGJib3ggZm9yIGFsbCBlbGVtZW50cyBpblxuICogdGhlIGFycmF5IG9yIHRoZSBlbGVtZW50IHByaW1pdGl2ZS5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR8RWxlbWVudFtdfSBlbGVtZW50c1xuICogQHBhcmFtIHtib29sZWFufSBbc3RvcFJlY3Vyc2lvbj1mYWxzZV1cbiAqXG4gKiBAcmV0dXJuIHtSZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QkJveChlbGVtZW50cywgc3RvcFJlY3Vyc2lvbikge1xuXG4gIHN0b3BSZWN1cnNpb24gPSAhIXN0b3BSZWN1cnNpb247XG4gIGlmICghaXNBcnJheShlbGVtZW50cykpIHtcbiAgICBlbGVtZW50cyA9IFsgZWxlbWVudHMgXTtcbiAgfVxuXG4gIHZhciBtaW5YLFxuICAgICAgbWluWSxcbiAgICAgIG1heFgsXG4gICAgICBtYXhZO1xuXG4gIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICAgIC8vIElmIGVsZW1lbnQgaXMgYSBjb25uZWN0aW9uIHRoZSBiYm94IG11c3QgYmUgY29tcHV0ZWQgZmlyc3RcbiAgICB2YXIgYmJveCA9IGVsZW1lbnQ7XG4gICAgaWYgKGVsZW1lbnQud2F5cG9pbnRzICYmICFzdG9wUmVjdXJzaW9uKSB7XG4gICAgICBiYm94ID0gZ2V0QkJveChlbGVtZW50LndheXBvaW50cywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgdmFyIHggPSBiYm94LngsXG4gICAgICAgIHkgPSBiYm94LnksXG4gICAgICAgIGhlaWdodCA9IGJib3guaGVpZ2h0IHx8IDAsXG4gICAgICAgIHdpZHRoID0gYmJveC53aWR0aCB8fCAwO1xuXG4gICAgaWYgKHggPCBtaW5YIHx8IG1pblggPT09IHVuZGVmaW5lZCkge1xuICAgICAgbWluWCA9IHg7XG4gICAgfVxuICAgIGlmICh5IDwgbWluWSB8fCBtaW5ZID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG1pblkgPSB5O1xuICAgIH1cblxuICAgIGlmICgoeCArIHdpZHRoKSA+IG1heFggfHwgbWF4WCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBtYXhYID0geCArIHdpZHRoO1xuICAgIH1cbiAgICBpZiAoKHkgKyBoZWlnaHQpID4gbWF4WSB8fCBtYXhZID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG1heFkgPSB5ICsgaGVpZ2h0O1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICB4OiBtaW5YLFxuICAgIHk6IG1pblksXG4gICAgaGVpZ2h0OiBtYXhZIC0gbWluWSxcbiAgICB3aWR0aDogbWF4WCAtIG1pblhcbiAgfTtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgYWxsIGVsZW1lbnRzIHRoYXQgYXJlIGVuY2xvc2VkIGZyb20gdGhlIGJvdW5kaW5nIGJveC5cbiAqXG4gKiAgICogSWYgYmJveC4od2lkdGh8aGVpZ2h0KSBpcyBub3Qgc3BlY2lmaWVkIHRoZSBtZXRob2QgcmV0dXJuc1xuICogICAgIGFsbCBlbGVtZW50cyB3aXRoIGVsZW1lbnQueC95ID4gYmJveC54L3lcbiAqICAgKiBJZiBvbmx5IGJib3gueCBvciBiYm94LnkgaXMgc3BlY2lmaWVkLCBtZXRob2QgcmV0dXJuIGFsbCBlbGVtZW50cyB3aXRoXG4gKiAgICAgZS54ID4gYmJveC54IG9yIGUueSA+IGJib3gueVxuICpcbiAqIEBwYXJhbSB7RWxlbWVudFtdfSBlbGVtZW50cyBMaXN0IG9mIEVsZW1lbnRzIHRvIHNlYXJjaCB0aHJvdWdoXG4gKiBAcGFyYW0ge1JlY3R9IGJib3ggdGhlIGVuY2xvc2luZyBiYm94LlxuICpcbiAqIEByZXR1cm4ge0VsZW1lbnRbXX0gZW5jbG9zZWQgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVuY2xvc2VkRWxlbWVudHMoZWxlbWVudHMsIGJib3gpIHtcblxuICB2YXIgZmlsdGVyZWRFbGVtZW50cyA9IHt9O1xuXG4gIGZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICAgIHZhciBlID0gZWxlbWVudDtcblxuICAgIGlmIChlLndheXBvaW50cykge1xuICAgICAgZSA9IGdldEJCb3goZSk7XG4gICAgfVxuXG4gICAgaWYgKCFpc051bWJlcihiYm94LnkpICYmIChlLnggPiBiYm94LngpKSB7XG4gICAgICBmaWx0ZXJlZEVsZW1lbnRzW2VsZW1lbnQuaWRdID0gZWxlbWVudDtcbiAgICB9XG4gICAgaWYgKCFpc051bWJlcihiYm94LngpICYmIChlLnkgPiBiYm94LnkpKSB7XG4gICAgICBmaWx0ZXJlZEVsZW1lbnRzW2VsZW1lbnQuaWRdID0gZWxlbWVudDtcbiAgICB9XG4gICAgaWYgKGUueCA+IGJib3gueCAmJiBlLnkgPiBiYm94LnkpIHtcbiAgICAgIGlmIChpc051bWJlcihiYm94LndpZHRoKSAmJiBpc051bWJlcihiYm94LmhlaWdodCkgJiZcbiAgICAgICAgICBlLndpZHRoICsgZS54IDwgYmJveC53aWR0aCArIGJib3gueCAmJlxuICAgICAgICAgIGUuaGVpZ2h0ICsgZS55IDwgYmJveC5oZWlnaHQgKyBiYm94LnkpIHtcblxuICAgICAgICBmaWx0ZXJlZEVsZW1lbnRzW2VsZW1lbnQuaWRdID0gZWxlbWVudDtcbiAgICAgIH0gZWxzZSBpZiAoIWlzTnVtYmVyKGJib3gud2lkdGgpIHx8ICFpc051bWJlcihiYm94LmhlaWdodCkpIHtcbiAgICAgICAgZmlsdGVyZWRFbGVtZW50c1tlbGVtZW50LmlkXSA9IGVsZW1lbnQ7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gZmlsdGVyZWRFbGVtZW50cztcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGVsZW1lbnQncyB0eXBlXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7J2Nvbm5lY3Rpb24nIHwgJ3NoYXBlJyB8ICdyb290J31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFR5cGUoZWxlbWVudCkge1xuXG4gIGlmICgnd2F5cG9pbnRzJyBpbiBlbGVtZW50KSB7XG4gICAgcmV0dXJuICdjb25uZWN0aW9uJztcbiAgfVxuXG4gIGlmICgneCcgaW4gZWxlbWVudCkge1xuICAgIHJldHVybiAnc2hhcGUnO1xuICB9XG5cbiAgcmV0dXJuICdyb290Jztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGcmFtZUVsZW1lbnQoZWxlbWVudCkge1xuICByZXR1cm4gISEoZWxlbWVudCAmJiBlbGVtZW50LmlzRnJhbWUpO1xufVxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gY29weU9iamVjdChzcmMxLCBzcmMyKSB7XG4gIHJldHVybiBhc3NpZ24oe30sIHNyYzEgfHwge30sIHNyYzIgfHwge30pO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/diagram-js/lib/util/Elements.js\n");

/***/ }),

/***/ "./node_modules/diagram-js/lib/util/EscapeUtil.js":
/*!********************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/EscapeUtil.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   escapeCSS: () => (/* binding */ escapeCSS),\n/* harmony export */   escapeHTML: () => (/* binding */ escapeHTML)\n/* harmony export */ });\n/**\n * @param {string} str\n *\n * @return {string}\n */\nfunction escapeCSS(str) {\n  return CSS.escape(str);\n}\n\nvar HTML_ESCAPE_MAP = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  '\\'': '&#39;'\n};\n\n/**\n * @param {string} str\n *\n * @return {string}\n */\nfunction escapeHTML(str) {\n  str = '' + str;\n\n  return str && str.replace(/[&<>\"']/g, function(match) {\n    return HTML_ESCAPE_MAP[match];\n  });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9Fc2NhcGVVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2IsWUFBWTtBQUNaLFlBQVk7QUFDWixjQUFjO0FBQ2QsY0FBYztBQUNkOztBQUVBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUDs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2RheXMtMjAyMy8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL0VzY2FwZVV0aWwuanM/NjczMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVDU1Moc3RyKSB7XG4gIHJldHVybiBDU1MuZXNjYXBlKHN0cik7XG59XG5cbnZhciBIVE1MX0VTQ0FQRV9NQVAgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgJ1xcJyc6ICcmIzM5Oydcbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICpcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZUhUTUwoc3RyKSB7XG4gIHN0ciA9ICcnICsgc3RyO1xuXG4gIHJldHVybiBzdHIgJiYgc3RyLnJlcGxhY2UoL1smPD5cIiddL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuIEhUTUxfRVNDQVBFX01BUFttYXRjaF07XG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/diagram-js/lib/util/EscapeUtil.js\n");

/***/ }),

/***/ "./node_modules/diagram-js/lib/util/Event.js":
/*!***************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/Event.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getOriginal: () => (/* binding */ getOriginal),\n/* harmony export */   stopPropagation: () => (/* binding */ stopPropagation),\n/* harmony export */   toPoint: () => (/* binding */ toPoint)\n/* harmony export */ });\n/**\n * @typedef {import('../util/Types').Point} Point\n */\n\nfunction __stopPropagation(event) {\n  if (!event || typeof event.stopPropagation !== 'function') {\n    return;\n  }\n\n  event.stopPropagation();\n}\n\n/**\n * @param {import('../core/EventBus').Event} event\n *\n * @return {Event}\n */\nfunction getOriginal(event) {\n  return event.originalEvent || event.srcEvent;\n}\n\n/**\n * @param {Event|import('../core/EventBus').Event} event\n */\nfunction stopPropagation(event) {\n  __stopPropagation(event);\n  __stopPropagation(getOriginal(event));\n}\n\n/**\n * @param {Event} event\n *\n * @return {Point|null}\n */\nfunction toPoint(event) {\n\n  if (event.pointers && event.pointers.length) {\n    event = event.pointers[0];\n  }\n\n  if (event.touches && event.touches.length) {\n    event = event.touches[0];\n  }\n\n  return event ? {\n    x: event.clientX,\n    y: event.clientY\n  } : null;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9FdmVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBLGFBQWEsK0JBQStCO0FBQzVDOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLGtDQUFrQztBQUM3QztBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBLFdBQVcsd0NBQXdDO0FBQ25EO0FBQ087QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2tkYXlzLTIwMjMvLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9FdmVudC5qcz8xMDI1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vdXRpbC9UeXBlcycpLlBvaW50fSBQb2ludFxuICovXG5cbmZ1bmN0aW9uIF9fc3RvcFByb3BhZ2F0aW9uKGV2ZW50KSB7XG4gIGlmICghZXZlbnQgfHwgdHlwZW9mIGV2ZW50LnN0b3BQcm9wYWdhdGlvbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9jb3JlL0V2ZW50QnVzJykuRXZlbnR9IGV2ZW50XG4gKlxuICogQHJldHVybiB7RXZlbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcmlnaW5hbChldmVudCkge1xuICByZXR1cm4gZXZlbnQub3JpZ2luYWxFdmVudCB8fCBldmVudC5zcmNFdmVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V2ZW50fGltcG9ydCgnLi4vY29yZS9FdmVudEJ1cycpLkV2ZW50fSBldmVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKGV2ZW50KSB7XG4gIF9fc3RvcFByb3BhZ2F0aW9uKGV2ZW50KTtcbiAgX19zdG9wUHJvcGFnYXRpb24oZ2V0T3JpZ2luYWwoZXZlbnQpKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICpcbiAqIEByZXR1cm4ge1BvaW50fG51bGx9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1BvaW50KGV2ZW50KSB7XG5cbiAgaWYgKGV2ZW50LnBvaW50ZXJzICYmIGV2ZW50LnBvaW50ZXJzLmxlbmd0aCkge1xuICAgIGV2ZW50ID0gZXZlbnQucG9pbnRlcnNbMF07XG4gIH1cblxuICBpZiAoZXZlbnQudG91Y2hlcyAmJiBldmVudC50b3VjaGVzLmxlbmd0aCkge1xuICAgIGV2ZW50ID0gZXZlbnQudG91Y2hlc1swXTtcbiAgfVxuXG4gIHJldHVybiBldmVudCA/IHtcbiAgICB4OiBldmVudC5jbGllbnRYLFxuICAgIHk6IGV2ZW50LmNsaWVudFlcbiAgfSA6IG51bGw7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/diagram-js/lib/util/Event.js\n");

/***/ }),

/***/ "./node_modules/diagram-js/lib/util/Geometry.js":
/*!******************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/Geometry.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getMidPoint: () => (/* binding */ getMidPoint),\n/* harmony export */   pointDistance: () => (/* binding */ pointDistance),\n/* harmony export */   pointInRect: () => (/* binding */ pointInRect),\n/* harmony export */   pointsAligned: () => (/* binding */ pointsAligned),\n/* harmony export */   pointsAlignedOnAxis: () => (/* binding */ pointsAlignedOnAxis),\n/* harmony export */   pointsOnLine: () => (/* binding */ pointsOnLine)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef {import('../util/Types').Axis} Axis\n * @typedef {import('../util/Types').Point} Point\n * @typedef {import('../util/Types').Rect} Rect\n */\n\n/**\n * Computes the distance between two points.\n *\n * @param {Point} a\n * @param {Point} b\n *\n * @return {number} The distance between the two points.\n */\nfunction pointDistance(a, b) {\n  if (!a || !b) {\n    return -1;\n  }\n\n  return Math.sqrt(\n    Math.pow(a.x - b.x, 2) +\n    Math.pow(a.y - b.y, 2)\n  );\n}\n\n\n/**\n * Returns true if the point r is on the line between p and q.\n *\n * @param {Point} p\n * @param {Point} q\n * @param {Point} r\n * @param {number} [accuracy=5] The accuracy with which to check (lower is better).\n *\n * @return {boolean}\n */\nfunction pointsOnLine(p, q, r, accuracy) {\n\n  if (typeof accuracy === 'undefined') {\n    accuracy = 5;\n  }\n\n  if (!p || !q || !r) {\n    return false;\n  }\n\n  var val = (q.x - p.x) * (r.y - p.y) - (q.y - p.y) * (r.x - p.x),\n      dist = pointDistance(p, q);\n\n  // @see http://stackoverflow.com/a/907491/412190\n  return Math.abs(val / dist) <= accuracy;\n}\n\n\nvar ALIGNED_THRESHOLD = 2;\n\n/**\n * Check whether two points are horizontally or vertically aligned.\n *\n * @param {Point[]|Point} a\n * @param {Point} [b]\n *\n * @return {string|boolean} If and how the two points are aligned ('h', 'v' or `false`).\n */\nfunction pointsAligned(a, b) {\n  var points = Array.from(arguments).flat();\n\n  const axisMap = {\n    'x': 'v',\n    'y': 'h'\n  };\n\n  for (const [ axis, orientation ] of Object.entries(axisMap)) {\n    if (pointsAlignedOnAxis(axis, points)) {\n      return orientation;\n    }\n  }\n\n  return false;\n}\n\n/**\n * @param {Axis} axis\n * @param {Point[]} points\n *\n * @return {boolean}\n */\nfunction pointsAlignedOnAxis(axis, points) {\n  const referencePoint = points[0];\n\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.every)(points, function(point) {\n    return Math.abs(referencePoint[axis] - point[axis]) <= ALIGNED_THRESHOLD;\n  });\n}\n\n/**\n * Returns true if the point p is inside the rectangle rect\n *\n * @param {Point} p\n * @param {Rect} rect\n * @param {number} tolerance\n *\n * @return {boolean}\n */\nfunction pointInRect(p, rect, tolerance) {\n  tolerance = tolerance || 0;\n\n  return p.x > rect.x - tolerance &&\n         p.y > rect.y - tolerance &&\n         p.x < rect.x + rect.width + tolerance &&\n         p.y < rect.y + rect.height + tolerance;\n}\n\n/**\n * Returns a point in the middle of points p and q\n *\n * @param {Point} p\n * @param {Point} q\n *\n * @return {Point} The mid point between the two points.\n */\nfunction getMidPoint(p, q) {\n  return {\n    x: Math.round(p.x + ((q.x - p.x) / 2.0)),\n    y: Math.round(p.y + ((q.y - p.y) / 2.0))\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9HZW9tZXRyeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRWtCOztBQUVsQjtBQUNBLGFBQWEsOEJBQThCO0FBQzNDLGFBQWEsK0JBQStCO0FBQzVDLGFBQWEsOEJBQThCO0FBQzNDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWSxnQkFBZ0I7QUFDNUI7QUFDTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQOztBQUVBLFNBQVMsK0NBQUs7QUFDZDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2RheXMtMjAyMy8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL0dlb21ldHJ5LmpzPzZkZTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZXZlcnlcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3V0aWwvVHlwZXMnKS5BeGlzfSBBeGlzXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi91dGlsL1R5cGVzJykuUG9pbnR9IFBvaW50XG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi91dGlsL1R5cGVzJykuUmVjdH0gUmVjdFxuICovXG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50cy5cbiAqXG4gKiBAcGFyYW0ge1BvaW50fSBhXG4gKiBAcGFyYW0ge1BvaW50fSBiXG4gKlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgdHdvIHBvaW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvaW50RGlzdGFuY2UoYSwgYikge1xuICBpZiAoIWEgfHwgIWIpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICByZXR1cm4gTWF0aC5zcXJ0KFxuICAgIE1hdGgucG93KGEueCAtIGIueCwgMikgK1xuICAgIE1hdGgucG93KGEueSAtIGIueSwgMilcbiAgKTtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcG9pbnQgciBpcyBvbiB0aGUgbGluZSBiZXR3ZWVuIHAgYW5kIHEuXG4gKlxuICogQHBhcmFtIHtQb2ludH0gcFxuICogQHBhcmFtIHtQb2ludH0gcVxuICogQHBhcmFtIHtQb2ludH0gclxuICogQHBhcmFtIHtudW1iZXJ9IFthY2N1cmFjeT01XSBUaGUgYWNjdXJhY3kgd2l0aCB3aGljaCB0byBjaGVjayAobG93ZXIgaXMgYmV0dGVyKS5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9pbnRzT25MaW5lKHAsIHEsIHIsIGFjY3VyYWN5KSB7XG5cbiAgaWYgKHR5cGVvZiBhY2N1cmFjeSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBhY2N1cmFjeSA9IDU7XG4gIH1cblxuICBpZiAoIXAgfHwgIXEgfHwgIXIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgdmFsID0gKHEueCAtIHAueCkgKiAoci55IC0gcC55KSAtIChxLnkgLSBwLnkpICogKHIueCAtIHAueCksXG4gICAgICBkaXN0ID0gcG9pbnREaXN0YW5jZShwLCBxKTtcblxuICAvLyBAc2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzkwNzQ5MS80MTIxOTBcbiAgcmV0dXJuIE1hdGguYWJzKHZhbCAvIGRpc3QpIDw9IGFjY3VyYWN5O1xufVxuXG5cbnZhciBBTElHTkVEX1RIUkVTSE9MRCA9IDI7XG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciB0d28gcG9pbnRzIGFyZSBob3Jpem9udGFsbHkgb3IgdmVydGljYWxseSBhbGlnbmVkLlxuICpcbiAqIEBwYXJhbSB7UG9pbnRbXXxQb2ludH0gYVxuICogQHBhcmFtIHtQb2ludH0gW2JdXG4gKlxuICogQHJldHVybiB7c3RyaW5nfGJvb2xlYW59IElmIGFuZCBob3cgdGhlIHR3byBwb2ludHMgYXJlIGFsaWduZWQgKCdoJywgJ3YnIG9yIGBmYWxzZWApLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9pbnRzQWxpZ25lZChhLCBiKSB7XG4gIHZhciBwb2ludHMgPSBBcnJheS5mcm9tKGFyZ3VtZW50cykuZmxhdCgpO1xuXG4gIGNvbnN0IGF4aXNNYXAgPSB7XG4gICAgJ3gnOiAndicsXG4gICAgJ3knOiAnaCdcbiAgfTtcblxuICBmb3IgKGNvbnN0IFsgYXhpcywgb3JpZW50YXRpb24gXSBvZiBPYmplY3QuZW50cmllcyhheGlzTWFwKSkge1xuICAgIGlmIChwb2ludHNBbGlnbmVkT25BeGlzKGF4aXMsIHBvaW50cykpIHtcbiAgICAgIHJldHVybiBvcmllbnRhdGlvbjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBeGlzfSBheGlzXG4gKiBAcGFyYW0ge1BvaW50W119IHBvaW50c1xuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb2ludHNBbGlnbmVkT25BeGlzKGF4aXMsIHBvaW50cykge1xuICBjb25zdCByZWZlcmVuY2VQb2ludCA9IHBvaW50c1swXTtcblxuICByZXR1cm4gZXZlcnkocG9pbnRzLCBmdW5jdGlvbihwb2ludCkge1xuICAgIHJldHVybiBNYXRoLmFicyhyZWZlcmVuY2VQb2ludFtheGlzXSAtIHBvaW50W2F4aXNdKSA8PSBBTElHTkVEX1RIUkVTSE9MRDtcbiAgfSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBwb2ludCBwIGlzIGluc2lkZSB0aGUgcmVjdGFuZ2xlIHJlY3RcbiAqXG4gKiBAcGFyYW0ge1BvaW50fSBwXG4gKiBAcGFyYW0ge1JlY3R9IHJlY3RcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b2xlcmFuY2VcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9pbnRJblJlY3QocCwgcmVjdCwgdG9sZXJhbmNlKSB7XG4gIHRvbGVyYW5jZSA9IHRvbGVyYW5jZSB8fCAwO1xuXG4gIHJldHVybiBwLnggPiByZWN0LnggLSB0b2xlcmFuY2UgJiZcbiAgICAgICAgIHAueSA+IHJlY3QueSAtIHRvbGVyYW5jZSAmJlxuICAgICAgICAgcC54IDwgcmVjdC54ICsgcmVjdC53aWR0aCArIHRvbGVyYW5jZSAmJlxuICAgICAgICAgcC55IDwgcmVjdC55ICsgcmVjdC5oZWlnaHQgKyB0b2xlcmFuY2U7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHBvaW50IGluIHRoZSBtaWRkbGUgb2YgcG9pbnRzIHAgYW5kIHFcbiAqXG4gKiBAcGFyYW0ge1BvaW50fSBwXG4gKiBAcGFyYW0ge1BvaW50fSBxXG4gKlxuICogQHJldHVybiB7UG9pbnR9IFRoZSBtaWQgcG9pbnQgYmV0d2VlbiB0aGUgdHdvIHBvaW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE1pZFBvaW50KHAsIHEpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBNYXRoLnJvdW5kKHAueCArICgocS54IC0gcC54KSAvIDIuMCkpLFxuICAgIHk6IE1hdGgucm91bmQocC55ICsgKChxLnkgLSBwLnkpIC8gMi4wKSlcbiAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/diagram-js/lib/util/Geometry.js\n");

/***/ }),

/***/ "./node_modules/diagram-js/lib/util/ModelUtil.js":
/*!*******************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/ModelUtil.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isConnection: () => (/* binding */ isConnection),\n/* harmony export */   isLabel: () => (/* binding */ isLabel),\n/* harmony export */   isRoot: () => (/* binding */ isRoot)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * Checks whether a value is an instance of Connection.\n *\n * @param {any} value\n *\n * @return {boolean}\n */\nfunction isConnection(value) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(value) && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.has)(value, 'waypoints');\n}\n\n/**\n * Checks whether a value is an instance of Label.\n *\n * @param {any} value\n *\n * @return {boolean}\n */\nfunction isLabel(value) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(value) && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.has)(value, 'labelTarget');\n}\n\n/**\n * Checks whether a value is an instance of Root.\n *\n * @param {any} value\n *\n * @return {boolean}\n */\nfunction isRoot(value) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isObject)(value) && (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.isNil)(value.parent);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9Nb2RlbFV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUlrQjs7QUFFbEI7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUCxTQUFTLGtEQUFRLFdBQVcsNkNBQUc7QUFDL0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUCxTQUFTLGtEQUFRLFdBQVcsNkNBQUc7QUFDL0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUCxTQUFTLGtEQUFRLFdBQVcsK0NBQUs7QUFDakMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZGF5cy0yMDIzLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvTW9kZWxVdGlsLmpzP2ZjMDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgaGFzLFxuICBpc05pbCxcbiAgaXNPYmplY3Rcbn0gZnJvbSAnbWluLWRhc2gnO1xuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGEgdmFsdWUgaXMgYW4gaW5zdGFuY2Ugb2YgQ29ubmVjdGlvbi5cbiAqXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDb25uZWN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWx1ZSkgJiYgaGFzKHZhbHVlLCAnd2F5cG9pbnRzJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSB2YWx1ZSBpcyBhbiBpbnN0YW5jZSBvZiBMYWJlbC5cbiAqXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNMYWJlbCh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3QodmFsdWUpICYmIGhhcyh2YWx1ZSwgJ2xhYmVsVGFyZ2V0Jyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSB2YWx1ZSBpcyBhbiBpbnN0YW5jZSBvZiBSb290LlxuICpcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1Jvb3QodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbHVlKSAmJiBpc05pbCh2YWx1ZS5wYXJlbnQpO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/diagram-js/lib/util/ModelUtil.js\n");

/***/ }),

/***/ "./node_modules/diagram-js/lib/util/Mouse.js":
/*!***************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/Mouse.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hasPrimaryModifier: () => (/* binding */ hasPrimaryModifier),\n/* harmony export */   hasSecondaryModifier: () => (/* binding */ hasSecondaryModifier),\n/* harmony export */   isAuxiliaryButton: () => (/* binding */ isAuxiliaryButton),\n/* harmony export */   isButton: () => (/* binding */ isButton),\n/* harmony export */   isMac: () => (/* reexport safe */ _Platform__WEBPACK_IMPORTED_MODULE_0__.isMac),\n/* harmony export */   isPrimaryButton: () => (/* binding */ isPrimaryButton),\n/* harmony export */   isSecondaryButton: () => (/* binding */ isSecondaryButton)\n/* harmony export */ });\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Event */ \"./node_modules/diagram-js/lib/util/Event.js\");\n/* harmony import */ var _Platform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Platform */ \"./node_modules/diagram-js/lib/util/Platform.js\");\n\n\n\n\n\n\n/**\n * @param {MouseEvent} event\n * @param {string} button\n *\n * @return {boolean}\n */\nfunction isButton(event, button) {\n  return ((0,_Event__WEBPACK_IMPORTED_MODULE_1__.getOriginal)(event) || event).button === button;\n}\n\n/**\n * @param {MouseEvent} event\n *\n * @return {boolean}\n */\nfunction isPrimaryButton(event) {\n\n  // button === 0 -> left ka primary mouse button\n  return isButton(event, 0);\n}\n\n/**\n * @param {MouseEvent} event\n *\n * @return {boolean}\n */\nfunction isAuxiliaryButton(event) {\n\n  // button === 1 -> auxiliary ka wheel button\n  return isButton(event, 1);\n}\n\n/**\n * @param {MouseEvent} event\n *\n * @return {boolean}\n */\nfunction isSecondaryButton(event) {\n\n  // button === 2 -> right ka secondary button\n  return isButton(event, 2);\n}\n\n/**\n * @param {MouseEvent} event\n *\n * @return {boolean}\n */\nfunction hasPrimaryModifier(event) {\n  var originalEvent = (0,_Event__WEBPACK_IMPORTED_MODULE_1__.getOriginal)(event) || event;\n\n  if (!isPrimaryButton(event)) {\n    return false;\n  }\n\n  // Use cmd as primary modifier key for mac OS\n  if ((0,_Platform__WEBPACK_IMPORTED_MODULE_0__.isMac)()) {\n    return originalEvent.metaKey;\n  } else {\n    return originalEvent.ctrlKey;\n  }\n}\n\n/**\n * @param {MouseEvent} event\n *\n * @return {boolean}\n */\nfunction hasSecondaryModifier(event) {\n  var originalEvent = (0,_Event__WEBPACK_IMPORTED_MODULE_1__.getOriginal)(event) || event;\n\n  return isPrimaryButton(event) && originalEvent.shiftKey;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9Nb3VzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFaUI7O0FBSUc7O0FBSUE7O0FBRXBCO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1AsVUFBVSxtREFBZ0I7QUFDMUI7O0FBRUE7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZO0FBQ1o7QUFDTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQLHNCQUFzQixtREFBZ0I7O0FBRXRDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU0sZ0RBQUs7QUFDWDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQLHNCQUFzQixtREFBZ0I7O0FBRXRDO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWNrZGF5cy0yMDIzLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvTW91c2UuanM/NzhmOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBnZXRPcmlnaW5hbCBhcyBnZXRPcmlnaW5hbEV2ZW50XG59IGZyb20gJy4vRXZlbnQnO1xuXG5pbXBvcnQge1xuICBpc01hY1xufSBmcm9tICcuL1BsYXRmb3JtJztcblxuZXhwb3J0IHtcbiAgaXNNYWNcbn0gZnJvbSAnLi9QbGF0Zm9ybSc7XG5cbi8qKlxuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudFxuICogQHBhcmFtIHtzdHJpbmd9IGJ1dHRvblxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0J1dHRvbihldmVudCwgYnV0dG9uKSB7XG4gIHJldHVybiAoZ2V0T3JpZ2luYWxFdmVudChldmVudCkgfHwgZXZlbnQpLmJ1dHRvbiA9PT0gYnV0dG9uO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnRcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNQcmltYXJ5QnV0dG9uKGV2ZW50KSB7XG5cbiAgLy8gYnV0dG9uID09PSAwIC0+IGxlZnQgw6FrYSBwcmltYXJ5IG1vdXNlIGJ1dHRvblxuICByZXR1cm4gaXNCdXR0b24oZXZlbnQsIDApO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnRcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBdXhpbGlhcnlCdXR0b24oZXZlbnQpIHtcblxuICAvLyBidXR0b24gPT09IDEgLT4gYXV4aWxpYXJ5IMOha2Egd2hlZWwgYnV0dG9uXG4gIHJldHVybiBpc0J1dHRvbihldmVudCwgMSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudFxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NlY29uZGFyeUJ1dHRvbihldmVudCkge1xuXG4gIC8vIGJ1dHRvbiA9PT0gMiAtPiByaWdodCDDoWthIHNlY29uZGFyeSBidXR0b25cbiAgcmV0dXJuIGlzQnV0dG9uKGV2ZW50LCAyKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50XG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc1ByaW1hcnlNb2RpZmllcihldmVudCkge1xuICB2YXIgb3JpZ2luYWxFdmVudCA9IGdldE9yaWdpbmFsRXZlbnQoZXZlbnQpIHx8IGV2ZW50O1xuXG4gIGlmICghaXNQcmltYXJ5QnV0dG9uKGV2ZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFVzZSBjbWQgYXMgcHJpbWFyeSBtb2RpZmllciBrZXkgZm9yIG1hYyBPU1xuICBpZiAoaXNNYWMoKSkge1xuICAgIHJldHVybiBvcmlnaW5hbEV2ZW50Lm1ldGFLZXk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG9yaWdpbmFsRXZlbnQuY3RybEtleTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnRcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzU2Vjb25kYXJ5TW9kaWZpZXIoZXZlbnQpIHtcbiAgdmFyIG9yaWdpbmFsRXZlbnQgPSBnZXRPcmlnaW5hbEV2ZW50KGV2ZW50KSB8fCBldmVudDtcblxuICByZXR1cm4gaXNQcmltYXJ5QnV0dG9uKGV2ZW50KSAmJiBvcmlnaW5hbEV2ZW50LnNoaWZ0S2V5O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/diagram-js/lib/util/Mouse.js\n");

/***/ }),

/***/ "./node_modules/diagram-js/lib/util/Platform.js":
/*!******************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/Platform.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isMac: () => (/* binding */ isMac)\n/* harmony export */ });\nfunction isMac() {\n  return (/mac/i).test(navigator.platform);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9QbGF0Zm9ybS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2RheXMtMjAyMy8uL25vZGVfbW9kdWxlcy9kaWFncmFtLWpzL2xpYi91dGlsL1BsYXRmb3JtLmpzPzExNjUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGlzTWFjKCkge1xuICByZXR1cm4gKC9tYWMvaSkudGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/diagram-js/lib/util/Platform.js\n");

/***/ }),

/***/ "./node_modules/min-dom/dist/index.esm.js":
/*!************************************************!*\
  !*** ./node_modules/min-dom/dist/index.esm.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assignStyle: () => (/* binding */ assign),\n/* harmony export */   attr: () => (/* binding */ attr),\n/* harmony export */   classes: () => (/* binding */ classes),\n/* harmony export */   clear: () => (/* binding */ clear),\n/* harmony export */   closest: () => (/* binding */ closest),\n/* harmony export */   delegate: () => (/* binding */ delegate),\n/* harmony export */   domify: () => (/* binding */ domify$1),\n/* harmony export */   event: () => (/* binding */ event),\n/* harmony export */   matches: () => (/* binding */ matches),\n/* harmony export */   query: () => (/* binding */ query),\n/* harmony export */   queryAll: () => (/* binding */ all),\n/* harmony export */   remove: () => (/* binding */ remove)\n/* harmony export */ });\nfunction _mergeNamespaces(n, m) {\n  m.forEach(function (e) {\n    e && typeof e !== 'string' && !Array.isArray(e) && Object.keys(e).forEach(function (k) {\n      if (k !== 'default' && !(k in n)) {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () { return e[k]; }\n        });\n      }\n    });\n  });\n  return Object.freeze(n);\n}\n\n/**\n * Flatten array, one level deep.\n *\n * @param {Array<?>} arr\n *\n * @return {Array<?>}\n */\n\nconst nativeToString = Object.prototype.toString;\nconst nativeHasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isUndefined(obj) {\n  return obj === undefined;\n}\n\nfunction isArray(obj) {\n  return nativeToString.call(obj) === '[object Array]';\n}\n\n/**\n * Return true, if target owns a property with the given key.\n *\n * @param {Object} target\n * @param {String} key\n *\n * @return {Boolean}\n */\nfunction has(target, key) {\n  return nativeHasOwnProperty.call(target, key);\n}\n\n\n/**\n * Iterate over collection; returning something\n * (non-undefined) will stop iteration.\n *\n * @param  {Array|Object} collection\n * @param  {Function} iterator\n *\n * @return {Object} return result that stopped the iteration\n */\nfunction forEach(collection, iterator) {\n\n  let val,\n      result;\n\n  if (isUndefined(collection)) {\n    return;\n  }\n\n  const convertKey = isArray(collection) ? toNum : identity;\n\n  for (let key in collection) {\n\n    if (has(collection, key)) {\n      val = collection[key];\n\n      result = iterator(val, convertKey(key));\n\n      if (result === false) {\n        return val;\n      }\n    }\n  }\n}\n\n\nfunction identity(arg) {\n  return arg;\n}\n\nfunction toNum(arg) {\n  return Number(arg);\n}\n\n/**\n * Assigns style attributes in a style-src compliant way.\n *\n * @param {Element} element\n * @param {...Object} styleSources\n *\n * @return {Element} the element\n */\nfunction assign(element, ...styleSources) {\n  const target = element.style;\n\n  forEach(styleSources, function(style) {\n    if (!style) {\n      return;\n    }\n\n    forEach(style, function(value, key) {\n      target[key] = value;\n    });\n  });\n\n  return element;\n}\n\n/**\n * Set attribute `name` to `val`, or get attr `name`.\n *\n * @param {Element} el\n * @param {String} name\n * @param {String} [val]\n * @api public\n */\nfunction attr(el, name, val) {\n\n  // get\n  if (arguments.length == 2) {\n    return el.getAttribute(name);\n  }\n\n  // remove\n  if (val === null) {\n    return el.removeAttribute(name);\n  }\n\n  // set\n  el.setAttribute(name, val);\n\n  return el;\n}\n\n/**\n * Taken from https://github.com/component/classes\n *\n * Without the component bits.\n */\n\n/**\n * toString reference.\n */\n\nconst toString = Object.prototype.toString;\n\n/**\n * Wrap `el` in a `ClassList`.\n *\n * @param {Element} el\n * @return {ClassList}\n * @api public\n */\n\nfunction classes(el) {\n  return new ClassList(el);\n}\n\n/**\n * Initialize a new ClassList for `el`.\n *\n * @param {Element} el\n * @api private\n */\n\nfunction ClassList(el) {\n  if (!el || !el.nodeType) {\n    throw new Error('A DOM element reference is required');\n  }\n  this.el = el;\n  this.list = el.classList;\n}\n\n/**\n * Add class `name` if not already present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.add = function(name) {\n  this.list.add(name);\n  return this;\n};\n\n/**\n * Remove class `name` when present, or\n * pass a regular expression to remove\n * any which match.\n *\n * @param {String|RegExp} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.remove = function(name) {\n  if ('[object RegExp]' == toString.call(name)) {\n    return this.removeMatching(name);\n  }\n\n  this.list.remove(name);\n  return this;\n};\n\n/**\n * Remove all classes matching `re`.\n *\n * @param {RegExp} re\n * @return {ClassList}\n * @api private\n */\n\nClassList.prototype.removeMatching = function(re) {\n  const arr = this.array();\n  for (let i = 0; i < arr.length; i++) {\n    if (re.test(arr[i])) {\n      this.remove(arr[i]);\n    }\n  }\n  return this;\n};\n\n/**\n * Toggle class `name`, can force state via `force`.\n *\n * For browsers that support classList, but do not support `force` yet,\n * the mistake will be detected and corrected.\n *\n * @param {String} name\n * @param {Boolean} force\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.toggle = function(name, force) {\n  if ('undefined' !== typeof force) {\n    if (force !== this.list.toggle(name, force)) {\n      this.list.toggle(name); // toggle again to correct\n    }\n  } else {\n    this.list.toggle(name);\n  }\n  return this;\n};\n\n/**\n * Return an array of classes.\n *\n * @return {Array}\n * @api public\n */\n\nClassList.prototype.array = function() {\n  return Array.from(this.list);\n};\n\n/**\n * Check if class `name` is present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.has =\nClassList.prototype.contains = function(name) {\n  return this.list.contains(name);\n};\n\n/**\n * Remove all children from the given element.\n */\nfunction clear(el) {\n\n  var c;\n\n  while (el.childNodes.length) {\n    c = el.childNodes[0];\n    el.removeChild(c);\n  }\n\n  return el;\n}\n\n/**\n * @param { HTMLElement } element\n * @param { String } selector\n *\n * @return { boolean }\n */\nfunction matches(element, selector) {\n  return element && typeof element.matches === 'function' && element.matches(selector);\n}\n\n/**\n * Closest\n *\n * @param {Element} el\n * @param {String} selector\n * @param {Boolean} checkYourSelf (optional)\n */\nfunction closest(element, selector, checkYourSelf) {\n  var currentElem = checkYourSelf ? element : element.parentNode;\n\n  while (currentElem && currentElem.nodeType !== document.DOCUMENT_NODE &&\n      currentElem.nodeType !== document.DOCUMENT_FRAGMENT_NODE) {\n\n    if (matches(currentElem, selector)) {\n      return currentElem;\n    }\n\n    currentElem = currentElem.parentNode;\n  }\n\n  return matches(currentElem, selector) ? currentElem : null;\n}\n\nvar componentEvent = {};\n\nvar bind$1, unbind$1, prefix;\n\nfunction detect () {\n  bind$1 = window.addEventListener ? 'addEventListener' : 'attachEvent';\n  unbind$1 = window.removeEventListener ? 'removeEventListener' : 'detachEvent';\n  prefix = bind$1 !== 'addEventListener' ? 'on' : '';\n}\n\n/**\n * Bind `el` event `type` to `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nvar bind_1 = componentEvent.bind = function(el, type, fn, capture){\n  if (!bind$1) detect();\n  el[bind$1](prefix + type, fn, capture || false);\n  return fn;\n};\n\n/**\n * Unbind `el` event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nvar unbind_1 = componentEvent.unbind = function(el, type, fn, capture){\n  if (!unbind$1) detect();\n  el[unbind$1](prefix + type, fn, capture || false);\n  return fn;\n};\n\nvar event = /*#__PURE__*/_mergeNamespaces({\n  __proto__: null,\n  bind: bind_1,\n  unbind: unbind_1,\n  'default': componentEvent\n}, [componentEvent]);\n\n/**\n * Module dependencies.\n */\n\n/**\n * Delegate event `type` to `selector`\n * and invoke `fn(e)`. A callback function\n * is returned which may be passed to `.unbind()`.\n *\n * @param {Element} el\n * @param {String} selector\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\n// Some events don't bubble, so we want to bind to the capture phase instead\n// when delegating.\nvar forceCaptureEvents = [ 'focus', 'blur' ];\n\nfunction bind(el, selector, type, fn, capture) {\n  if (forceCaptureEvents.indexOf(type) !== -1) {\n    capture = true;\n  }\n\n  return event.bind(el, type, function(e) {\n    var target = e.target || e.srcElement;\n    e.delegateTarget = closest(target, selector, true);\n    if (e.delegateTarget) {\n      fn.call(el, e);\n    }\n  }, capture);\n}\n\n/**\n * Unbind event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @api public\n */\nfunction unbind(el, type, fn, capture) {\n  if (forceCaptureEvents.indexOf(type) !== -1) {\n    capture = true;\n  }\n\n  return event.unbind(el, type, fn, capture);\n}\n\nvar delegate = {\n  bind,\n  unbind\n};\n\n/**\n * Expose `parse`.\n */\n\nvar domify = parse;\n\n/**\n * Tests for browser support.\n */\n\nvar innerHTMLBug = false;\nvar bugTestDiv;\nif (typeof document !== 'undefined') {\n  bugTestDiv = document.createElement('div');\n  // Setup\n  bugTestDiv.innerHTML = '  <link/><table></table><a href=\"/a\">a</a><input type=\"checkbox\"/>';\n  // Make sure that link elements get serialized correctly by innerHTML\n  // This requires a wrapper element in IE\n  innerHTMLBug = !bugTestDiv.getElementsByTagName('link').length;\n  bugTestDiv = undefined;\n}\n\n/**\n * Wrap map from jquery.\n */\n\nvar map = {\n  legend: [1, '<fieldset>', '</fieldset>'],\n  tr: [2, '<table><tbody>', '</tbody></table>'],\n  col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n  // for script/link/style tags to work in IE6-8, you have to wrap\n  // in a div with a non-whitespace character in front, ha!\n  _default: innerHTMLBug ? [1, 'X<div>', '</div>'] : [0, '', '']\n};\n\nmap.td =\nmap.th = [3, '<table><tbody><tr>', '</tr></tbody></table>'];\n\nmap.option =\nmap.optgroup = [1, '<select multiple=\"multiple\">', '</select>'];\n\nmap.thead =\nmap.tbody =\nmap.colgroup =\nmap.caption =\nmap.tfoot = [1, '<table>', '</table>'];\n\nmap.polyline =\nmap.ellipse =\nmap.polygon =\nmap.circle =\nmap.text =\nmap.line =\nmap.path =\nmap.rect =\nmap.g = [1, '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">','</svg>'];\n\n/**\n * Parse `html` and return a DOM Node instance, which could be a TextNode,\n * HTML DOM Node of some kind (<div> for example), or a DocumentFragment\n * instance, depending on the contents of the `html` string.\n *\n * @param {String} html - HTML string to \"domify\"\n * @param {Document} doc - The `document` instance to create the Node for\n * @return {DOMNode} the TextNode, DOM Node, or DocumentFragment instance\n * @api private\n */\n\nfunction parse(html, doc) {\n  if ('string' != typeof html) throw new TypeError('String expected');\n\n  // default to the global `document` object\n  if (!doc) doc = document;\n\n  // tag name\n  var m = /<([\\w:]+)/.exec(html);\n  if (!m) return doc.createTextNode(html);\n\n  html = html.replace(/^\\s+|\\s+$/g, ''); // Remove leading/trailing whitespace\n\n  var tag = m[1];\n\n  // body support\n  if (tag == 'body') {\n    var el = doc.createElement('html');\n    el.innerHTML = html;\n    return el.removeChild(el.lastChild);\n  }\n\n  // wrap map\n  var wrap = Object.prototype.hasOwnProperty.call(map, tag) ? map[tag] : map._default;\n  var depth = wrap[0];\n  var prefix = wrap[1];\n  var suffix = wrap[2];\n  var el = doc.createElement('div');\n  el.innerHTML = prefix + html + suffix;\n  while (depth--) el = el.lastChild;\n\n  // one element\n  if (el.firstChild == el.lastChild) {\n    return el.removeChild(el.firstChild);\n  }\n\n  // several elements\n  var fragment = doc.createDocumentFragment();\n  while (el.firstChild) {\n    fragment.appendChild(el.removeChild(el.firstChild));\n  }\n\n  return fragment;\n}\n\nvar domify$1 = domify;\n\nfunction query(selector, el) {\n  el = el || document;\n\n  return el.querySelector(selector);\n}\n\nfunction all(selector, el) {\n  el = el || document;\n\n  return el.querySelectorAll(selector);\n}\n\nfunction remove(el) {\n  el.parentNode && el.parentNode.removeChild(el);\n}\n\n\n//# sourceMappingURL=index.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWluLWRvbS9kaXN0L2luZGV4LmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QixTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0EsWUFBWTtBQUNaOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCLFlBQVksVUFBVTtBQUN0QjtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFdBQVc7QUFDdEI7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0IsZ0JBQWdCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZLGNBQWM7QUFDMUIsWUFBWSxTQUFTO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixXQUFXLFNBQVM7QUFDcEIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixXQUFXLFNBQVM7QUFDcEIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixXQUFXLFNBQVM7QUFDcEIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixZQUFZLFNBQVM7QUFDckI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHlDQUF5Qzs7QUFFekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUU4STtBQUM5SSIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2tkYXlzLTIwMjMvLi9ub2RlX21vZHVsZXMvbWluLWRvbS9kaXN0L2luZGV4LmVzbS5qcz9lNTA2Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9tZXJnZU5hbWVzcGFjZXMobiwgbSkge1xuICBtLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICBlICYmIHR5cGVvZiBlICE9PSAnc3RyaW5nJyAmJiAhQXJyYXkuaXNBcnJheShlKSAmJiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICBpZiAoayAhPT0gJ2RlZmF1bHQnICYmICEoayBpbiBuKSkge1xuICAgICAgICB2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgayk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBrLCBkLmdldCA/IGQgOiB7XG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVba107IH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuKTtcbn1cblxuLyoqXG4gKiBGbGF0dGVuIGFycmF5LCBvbmUgbGV2ZWwgZGVlcC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PD8+fSBhcnJcbiAqXG4gKiBAcmV0dXJuIHtBcnJheTw/Pn1cbiAqL1xuXG5jb25zdCBuYXRpdmVUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCBuYXRpdmVIYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKG9iaikge1xuICByZXR1cm4gb2JqID09PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXkob2JqKSB7XG4gIHJldHVybiBuYXRpdmVUb1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbi8qKlxuICogUmV0dXJuIHRydWUsIGlmIHRhcmdldCBvd25zIGEgcHJvcGVydHkgd2l0aCB0aGUgZ2l2ZW4ga2V5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBoYXModGFyZ2V0LCBrZXkpIHtcbiAgcmV0dXJuIG5hdGl2ZUhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBrZXkpO1xufVxuXG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGNvbGxlY3Rpb247IHJldHVybmluZyBzb21ldGhpbmdcbiAqIChub24tdW5kZWZpbmVkKSB3aWxsIHN0b3AgaXRlcmF0aW9uLlxuICpcbiAqIEBwYXJhbSAge0FycmF5fE9iamVjdH0gY29sbGVjdGlvblxuICogQHBhcmFtICB7RnVuY3Rpb259IGl0ZXJhdG9yXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSByZXR1cm4gcmVzdWx0IHRoYXQgc3RvcHBlZCB0aGUgaXRlcmF0aW9uXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2goY29sbGVjdGlvbiwgaXRlcmF0b3IpIHtcblxuICBsZXQgdmFsLFxuICAgICAgcmVzdWx0O1xuXG4gIGlmIChpc1VuZGVmaW5lZChjb2xsZWN0aW9uKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNvbnZlcnRLZXkgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gdG9OdW0gOiBpZGVudGl0eTtcblxuICBmb3IgKGxldCBrZXkgaW4gY29sbGVjdGlvbikge1xuXG4gICAgaWYgKGhhcyhjb2xsZWN0aW9uLCBrZXkpKSB7XG4gICAgICB2YWwgPSBjb2xsZWN0aW9uW2tleV07XG5cbiAgICAgIHJlc3VsdCA9IGl0ZXJhdG9yKHZhbCwgY29udmVydEtleShrZXkpKTtcblxuICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBpZGVudGl0eShhcmcpIHtcbiAgcmV0dXJuIGFyZztcbn1cblxuZnVuY3Rpb24gdG9OdW0oYXJnKSB7XG4gIHJldHVybiBOdW1iZXIoYXJnKTtcbn1cblxuLyoqXG4gKiBBc3NpZ25zIHN0eWxlIGF0dHJpYnV0ZXMgaW4gYSBzdHlsZS1zcmMgY29tcGxpYW50IHdheS5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzdHlsZVNvdXJjZXNcbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50fSB0aGUgZWxlbWVudFxuICovXG5mdW5jdGlvbiBhc3NpZ24oZWxlbWVudCwgLi4uc3R5bGVTb3VyY2VzKSB7XG4gIGNvbnN0IHRhcmdldCA9IGVsZW1lbnQuc3R5bGU7XG5cbiAgZm9yRWFjaChzdHlsZVNvdXJjZXMsIGZ1bmN0aW9uKHN0eWxlKSB7XG4gICAgaWYgKCFzdHlsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvckVhY2goc3R5bGUsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiBlbGVtZW50O1xufVxuXG4vKipcbiAqIFNldCBhdHRyaWJ1dGUgYG5hbWVgIHRvIGB2YWxgLCBvciBnZXQgYXR0ciBgbmFtZWAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7U3RyaW5nfSBbdmFsXVxuICogQGFwaSBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gYXR0cihlbCwgbmFtZSwgdmFsKSB7XG5cbiAgLy8gZ2V0XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDIpIHtcbiAgICByZXR1cm4gZWwuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICB9XG5cbiAgLy8gcmVtb3ZlXG4gIGlmICh2YWwgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZWwucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICB9XG5cbiAgLy8gc2V0XG4gIGVsLnNldEF0dHJpYnV0ZShuYW1lLCB2YWwpO1xuXG4gIHJldHVybiBlbDtcbn1cblxuLyoqXG4gKiBUYWtlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9jb21wb25lbnQvY2xhc3Nlc1xuICpcbiAqIFdpdGhvdXQgdGhlIGNvbXBvbmVudCBiaXRzLlxuICovXG5cbi8qKlxuICogdG9TdHJpbmcgcmVmZXJlbmNlLlxuICovXG5cbmNvbnN0IHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqXG4gKiBXcmFwIGBlbGAgaW4gYSBgQ2xhc3NMaXN0YC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGNsYXNzZXMoZWwpIHtcbiAgcmV0dXJuIG5ldyBDbGFzc0xpc3QoZWwpO1xufVxuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgQ2xhc3NMaXN0IGZvciBgZWxgLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIENsYXNzTGlzdChlbCkge1xuICBpZiAoIWVsIHx8ICFlbC5ub2RlVHlwZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignQSBET00gZWxlbWVudCByZWZlcmVuY2UgaXMgcmVxdWlyZWQnKTtcbiAgfVxuICB0aGlzLmVsID0gZWw7XG4gIHRoaXMubGlzdCA9IGVsLmNsYXNzTGlzdDtcbn1cblxuLyoqXG4gKiBBZGQgY2xhc3MgYG5hbWVgIGlmIG5vdCBhbHJlYWR5IHByZXNlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge0NsYXNzTGlzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ2xhc3NMaXN0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHRoaXMubGlzdC5hZGQobmFtZSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgY2xhc3MgYG5hbWVgIHdoZW4gcHJlc2VudCwgb3JcbiAqIHBhc3MgYSByZWd1bGFyIGV4cHJlc3Npb24gdG8gcmVtb3ZlXG4gKiBhbnkgd2hpY2ggbWF0Y2guXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBuYW1lXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNsYXNzTGlzdC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24obmFtZSkge1xuICBpZiAoJ1tvYmplY3QgUmVnRXhwXScgPT0gdG9TdHJpbmcuY2FsbChuYW1lKSkge1xuICAgIHJldHVybiB0aGlzLnJlbW92ZU1hdGNoaW5nKG5hbWUpO1xuICB9XG5cbiAgdGhpcy5saXN0LnJlbW92ZShuYW1lKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgY2xhc3NlcyBtYXRjaGluZyBgcmVgLlxuICpcbiAqIEBwYXJhbSB7UmVnRXhwfSByZVxuICogQHJldHVybiB7Q2xhc3NMaXN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuQ2xhc3NMaXN0LnByb3RvdHlwZS5yZW1vdmVNYXRjaGluZyA9IGZ1bmN0aW9uKHJlKSB7XG4gIGNvbnN0IGFyciA9IHRoaXMuYXJyYXkoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAocmUudGVzdChhcnJbaV0pKSB7XG4gICAgICB0aGlzLnJlbW92ZShhcnJbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogVG9nZ2xlIGNsYXNzIGBuYW1lYCwgY2FuIGZvcmNlIHN0YXRlIHZpYSBgZm9yY2VgLlxuICpcbiAqIEZvciBicm93c2VycyB0aGF0IHN1cHBvcnQgY2xhc3NMaXN0LCBidXQgZG8gbm90IHN1cHBvcnQgYGZvcmNlYCB5ZXQsXG4gKiB0aGUgbWlzdGFrZSB3aWxsIGJlIGRldGVjdGVkIGFuZCBjb3JyZWN0ZWQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZm9yY2VcbiAqIEByZXR1cm4ge0NsYXNzTGlzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ2xhc3NMaXN0LnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbihuYW1lLCBmb3JjZSkge1xuICBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBmb3JjZSkge1xuICAgIGlmIChmb3JjZSAhPT0gdGhpcy5saXN0LnRvZ2dsZShuYW1lLCBmb3JjZSkpIHtcbiAgICAgIHRoaXMubGlzdC50b2dnbGUobmFtZSk7IC8vIHRvZ2dsZSBhZ2FpbiB0byBjb3JyZWN0XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMubGlzdC50b2dnbGUobmFtZSk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBvZiBjbGFzc2VzLlxuICpcbiAqIEByZXR1cm4ge0FycmF5fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5DbGFzc0xpc3QucHJvdG90eXBlLmFycmF5ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBBcnJheS5mcm9tKHRoaXMubGlzdCk7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGNsYXNzIGBuYW1lYCBpcyBwcmVzZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNsYXNzTGlzdC5wcm90b3R5cGUuaGFzID1cbkNsYXNzTGlzdC5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiB0aGlzLmxpc3QuY29udGFpbnMobmFtZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgY2hpbGRyZW4gZnJvbSB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gY2xlYXIoZWwpIHtcblxuICB2YXIgYztcblxuICB3aGlsZSAoZWwuY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICBjID0gZWwuY2hpbGROb2Rlc1swXTtcbiAgICBlbC5yZW1vdmVDaGlsZChjKTtcbiAgfVxuXG4gIHJldHVybiBlbDtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyBIVE1MRWxlbWVudCB9IGVsZW1lbnRcbiAqIEBwYXJhbSB7IFN0cmluZyB9IHNlbGVjdG9yXG4gKlxuICogQHJldHVybiB7IGJvb2xlYW4gfVxuICovXG5mdW5jdGlvbiBtYXRjaGVzKGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gIHJldHVybiBlbGVtZW50ICYmIHR5cGVvZiBlbGVtZW50Lm1hdGNoZXMgPT09ICdmdW5jdGlvbicgJiYgZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKTtcbn1cblxuLyoqXG4gKiBDbG9zZXN0XG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGNoZWNrWW91clNlbGYgKG9wdGlvbmFsKVxuICovXG5mdW5jdGlvbiBjbG9zZXN0KGVsZW1lbnQsIHNlbGVjdG9yLCBjaGVja1lvdXJTZWxmKSB7XG4gIHZhciBjdXJyZW50RWxlbSA9IGNoZWNrWW91clNlbGYgPyBlbGVtZW50IDogZWxlbWVudC5wYXJlbnROb2RlO1xuXG4gIHdoaWxlIChjdXJyZW50RWxlbSAmJiBjdXJyZW50RWxlbS5ub2RlVHlwZSAhPT0gZG9jdW1lbnQuRE9DVU1FTlRfTk9ERSAmJlxuICAgICAgY3VycmVudEVsZW0ubm9kZVR5cGUgIT09IGRvY3VtZW50LkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUpIHtcblxuICAgIGlmIChtYXRjaGVzKGN1cnJlbnRFbGVtLCBzZWxlY3RvcikpIHtcbiAgICAgIHJldHVybiBjdXJyZW50RWxlbTtcbiAgICB9XG5cbiAgICBjdXJyZW50RWxlbSA9IGN1cnJlbnRFbGVtLnBhcmVudE5vZGU7XG4gIH1cblxuICByZXR1cm4gbWF0Y2hlcyhjdXJyZW50RWxlbSwgc2VsZWN0b3IpID8gY3VycmVudEVsZW0gOiBudWxsO1xufVxuXG52YXIgY29tcG9uZW50RXZlbnQgPSB7fTtcblxudmFyIGJpbmQkMSwgdW5iaW5kJDEsIHByZWZpeDtcblxuZnVuY3Rpb24gZGV0ZWN0ICgpIHtcbiAgYmluZCQxID0gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgPyAnYWRkRXZlbnRMaXN0ZW5lcicgOiAnYXR0YWNoRXZlbnQnO1xuICB1bmJpbmQkMSA9IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyID8gJ3JlbW92ZUV2ZW50TGlzdGVuZXInIDogJ2RldGFjaEV2ZW50JztcbiAgcHJlZml4ID0gYmluZCQxICE9PSAnYWRkRXZlbnRMaXN0ZW5lcicgPyAnb24nIDogJyc7XG59XG5cbi8qKlxuICogQmluZCBgZWxgIGV2ZW50IGB0eXBlYCB0byBgZm5gLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtCb29sZWFufSBjYXB0dXJlXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxudmFyIGJpbmRfMSA9IGNvbXBvbmVudEV2ZW50LmJpbmQgPSBmdW5jdGlvbihlbCwgdHlwZSwgZm4sIGNhcHR1cmUpe1xuICBpZiAoIWJpbmQkMSkgZGV0ZWN0KCk7XG4gIGVsW2JpbmQkMV0ocHJlZml4ICsgdHlwZSwgZm4sIGNhcHR1cmUgfHwgZmFsc2UpO1xuICByZXR1cm4gZm47XG59O1xuXG4vKipcbiAqIFVuYmluZCBgZWxgIGV2ZW50IGB0eXBlYCdzIGNhbGxiYWNrIGBmbmAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGNhcHR1cmVcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG52YXIgdW5iaW5kXzEgPSBjb21wb25lbnRFdmVudC51bmJpbmQgPSBmdW5jdGlvbihlbCwgdHlwZSwgZm4sIGNhcHR1cmUpe1xuICBpZiAoIXVuYmluZCQxKSBkZXRlY3QoKTtcbiAgZWxbdW5iaW5kJDFdKHByZWZpeCArIHR5cGUsIGZuLCBjYXB0dXJlIHx8IGZhbHNlKTtcbiAgcmV0dXJuIGZuO1xufTtcblxudmFyIGV2ZW50ID0gLyojX19QVVJFX18qL19tZXJnZU5hbWVzcGFjZXMoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIGJpbmQ6IGJpbmRfMSxcbiAgdW5iaW5kOiB1bmJpbmRfMSxcbiAgJ2RlZmF1bHQnOiBjb21wb25lbnRFdmVudFxufSwgW2NvbXBvbmVudEV2ZW50XSk7XG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG4vKipcbiAqIERlbGVnYXRlIGV2ZW50IGB0eXBlYCB0byBgc2VsZWN0b3JgXG4gKiBhbmQgaW52b2tlIGBmbihlKWAuIEEgY2FsbGJhY2sgZnVuY3Rpb25cbiAqIGlzIHJldHVybmVkIHdoaWNoIG1heSBiZSBwYXNzZWQgdG8gYC51bmJpbmQoKWAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gY2FwdHVyZVxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbi8vIFNvbWUgZXZlbnRzIGRvbid0IGJ1YmJsZSwgc28gd2Ugd2FudCB0byBiaW5kIHRvIHRoZSBjYXB0dXJlIHBoYXNlIGluc3RlYWRcbi8vIHdoZW4gZGVsZWdhdGluZy5cbnZhciBmb3JjZUNhcHR1cmVFdmVudHMgPSBbICdmb2N1cycsICdibHVyJyBdO1xuXG5mdW5jdGlvbiBiaW5kKGVsLCBzZWxlY3RvciwgdHlwZSwgZm4sIGNhcHR1cmUpIHtcbiAgaWYgKGZvcmNlQ2FwdHVyZUV2ZW50cy5pbmRleE9mKHR5cGUpICE9PSAtMSkge1xuICAgIGNhcHR1cmUgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGV2ZW50LmJpbmQoZWwsIHR5cGUsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuICAgIGUuZGVsZWdhdGVUYXJnZXQgPSBjbG9zZXN0KHRhcmdldCwgc2VsZWN0b3IsIHRydWUpO1xuICAgIGlmIChlLmRlbGVnYXRlVGFyZ2V0KSB7XG4gICAgICBmbi5jYWxsKGVsLCBlKTtcbiAgICB9XG4gIH0sIGNhcHR1cmUpO1xufVxuXG4vKipcbiAqIFVuYmluZCBldmVudCBgdHlwZWAncyBjYWxsYmFjayBgZm5gLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtCb29sZWFufSBjYXB0dXJlXG4gKiBAYXBpIHB1YmxpY1xuICovXG5mdW5jdGlvbiB1bmJpbmQoZWwsIHR5cGUsIGZuLCBjYXB0dXJlKSB7XG4gIGlmIChmb3JjZUNhcHR1cmVFdmVudHMuaW5kZXhPZih0eXBlKSAhPT0gLTEpIHtcbiAgICBjYXB0dXJlID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBldmVudC51bmJpbmQoZWwsIHR5cGUsIGZuLCBjYXB0dXJlKTtcbn1cblxudmFyIGRlbGVnYXRlID0ge1xuICBiaW5kLFxuICB1bmJpbmRcbn07XG5cbi8qKlxuICogRXhwb3NlIGBwYXJzZWAuXG4gKi9cblxudmFyIGRvbWlmeSA9IHBhcnNlO1xuXG4vKipcbiAqIFRlc3RzIGZvciBicm93c2VyIHN1cHBvcnQuXG4gKi9cblxudmFyIGlubmVySFRNTEJ1ZyA9IGZhbHNlO1xudmFyIGJ1Z1Rlc3REaXY7XG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICBidWdUZXN0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIC8vIFNldHVwXG4gIGJ1Z1Rlc3REaXYuaW5uZXJIVE1MID0gJyAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9XCIvYVwiPmE8L2E+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiLz4nO1xuICAvLyBNYWtlIHN1cmUgdGhhdCBsaW5rIGVsZW1lbnRzIGdldCBzZXJpYWxpemVkIGNvcnJlY3RseSBieSBpbm5lckhUTUxcbiAgLy8gVGhpcyByZXF1aXJlcyBhIHdyYXBwZXIgZWxlbWVudCBpbiBJRVxuICBpbm5lckhUTUxCdWcgPSAhYnVnVGVzdERpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGluaycpLmxlbmd0aDtcbiAgYnVnVGVzdERpdiA9IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBXcmFwIG1hcCBmcm9tIGpxdWVyeS5cbiAqL1xuXG52YXIgbWFwID0ge1xuICBsZWdlbmQ6IFsxLCAnPGZpZWxkc2V0PicsICc8L2ZpZWxkc2V0PiddLFxuICB0cjogWzIsICc8dGFibGU+PHRib2R5PicsICc8L3Rib2R5PjwvdGFibGU+J10sXG4gIGNvbDogWzIsICc8dGFibGU+PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPicsICc8L2NvbGdyb3VwPjwvdGFibGU+J10sXG4gIC8vIGZvciBzY3JpcHQvbGluay9zdHlsZSB0YWdzIHRvIHdvcmsgaW4gSUU2LTgsIHlvdSBoYXZlIHRvIHdyYXBcbiAgLy8gaW4gYSBkaXYgd2l0aCBhIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlciBpbiBmcm9udCwgaGEhXG4gIF9kZWZhdWx0OiBpbm5lckhUTUxCdWcgPyBbMSwgJ1g8ZGl2PicsICc8L2Rpdj4nXSA6IFswLCAnJywgJyddXG59O1xuXG5tYXAudGQgPVxubWFwLnRoID0gWzMsICc8dGFibGU+PHRib2R5Pjx0cj4nLCAnPC90cj48L3Rib2R5PjwvdGFibGU+J107XG5cbm1hcC5vcHRpb24gPVxubWFwLm9wdGdyb3VwID0gWzEsICc8c2VsZWN0IG11bHRpcGxlPVwibXVsdGlwbGVcIj4nLCAnPC9zZWxlY3Q+J107XG5cbm1hcC50aGVhZCA9XG5tYXAudGJvZHkgPVxubWFwLmNvbGdyb3VwID1cbm1hcC5jYXB0aW9uID1cbm1hcC50Zm9vdCA9IFsxLCAnPHRhYmxlPicsICc8L3RhYmxlPiddO1xuXG5tYXAucG9seWxpbmUgPVxubWFwLmVsbGlwc2UgPVxubWFwLnBvbHlnb24gPVxubWFwLmNpcmNsZSA9XG5tYXAudGV4dCA9XG5tYXAubGluZSA9XG5tYXAucGF0aCA9XG5tYXAucmVjdCA9XG5tYXAuZyA9IFsxLCAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmVyc2lvbj1cIjEuMVwiPicsJzwvc3ZnPiddO1xuXG4vKipcbiAqIFBhcnNlIGBodG1sYCBhbmQgcmV0dXJuIGEgRE9NIE5vZGUgaW5zdGFuY2UsIHdoaWNoIGNvdWxkIGJlIGEgVGV4dE5vZGUsXG4gKiBIVE1MIERPTSBOb2RlIG9mIHNvbWUga2luZCAoPGRpdj4gZm9yIGV4YW1wbGUpLCBvciBhIERvY3VtZW50RnJhZ21lbnRcbiAqIGluc3RhbmNlLCBkZXBlbmRpbmcgb24gdGhlIGNvbnRlbnRzIG9mIHRoZSBgaHRtbGAgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBodG1sIC0gSFRNTCBzdHJpbmcgdG8gXCJkb21pZnlcIlxuICogQHBhcmFtIHtEb2N1bWVudH0gZG9jIC0gVGhlIGBkb2N1bWVudGAgaW5zdGFuY2UgdG8gY3JlYXRlIHRoZSBOb2RlIGZvclxuICogQHJldHVybiB7RE9NTm9kZX0gdGhlIFRleHROb2RlLCBET00gTm9kZSwgb3IgRG9jdW1lbnRGcmFnbWVudCBpbnN0YW5jZVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2UoaHRtbCwgZG9jKSB7XG4gIGlmICgnc3RyaW5nJyAhPSB0eXBlb2YgaHRtbCkgdGhyb3cgbmV3IFR5cGVFcnJvcignU3RyaW5nIGV4cGVjdGVkJyk7XG5cbiAgLy8gZGVmYXVsdCB0byB0aGUgZ2xvYmFsIGBkb2N1bWVudGAgb2JqZWN0XG4gIGlmICghZG9jKSBkb2MgPSBkb2N1bWVudDtcblxuICAvLyB0YWcgbmFtZVxuICB2YXIgbSA9IC88KFtcXHc6XSspLy5leGVjKGh0bWwpO1xuICBpZiAoIW0pIHJldHVybiBkb2MuY3JlYXRlVGV4dE5vZGUoaHRtbCk7XG5cbiAgaHRtbCA9IGh0bWwucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpOyAvLyBSZW1vdmUgbGVhZGluZy90cmFpbGluZyB3aGl0ZXNwYWNlXG5cbiAgdmFyIHRhZyA9IG1bMV07XG5cbiAgLy8gYm9keSBzdXBwb3J0XG4gIGlmICh0YWcgPT0gJ2JvZHknKSB7XG4gICAgdmFyIGVsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2h0bWwnKTtcbiAgICBlbC5pbm5lckhUTUwgPSBodG1sO1xuICAgIHJldHVybiBlbC5yZW1vdmVDaGlsZChlbC5sYXN0Q2hpbGQpO1xuICB9XG5cbiAgLy8gd3JhcCBtYXBcbiAgdmFyIHdyYXAgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWFwLCB0YWcpID8gbWFwW3RhZ10gOiBtYXAuX2RlZmF1bHQ7XG4gIHZhciBkZXB0aCA9IHdyYXBbMF07XG4gIHZhciBwcmVmaXggPSB3cmFwWzFdO1xuICB2YXIgc3VmZml4ID0gd3JhcFsyXTtcbiAgdmFyIGVsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBlbC5pbm5lckhUTUwgPSBwcmVmaXggKyBodG1sICsgc3VmZml4O1xuICB3aGlsZSAoZGVwdGgtLSkgZWwgPSBlbC5sYXN0Q2hpbGQ7XG5cbiAgLy8gb25lIGVsZW1lbnRcbiAgaWYgKGVsLmZpcnN0Q2hpbGQgPT0gZWwubGFzdENoaWxkKSB7XG4gICAgcmV0dXJuIGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpO1xuICB9XG5cbiAgLy8gc2V2ZXJhbCBlbGVtZW50c1xuICB2YXIgZnJhZ21lbnQgPSBkb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICB3aGlsZSAoZWwuZmlyc3RDaGlsZCkge1xuICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpKTtcbiAgfVxuXG4gIHJldHVybiBmcmFnbWVudDtcbn1cblxudmFyIGRvbWlmeSQxID0gZG9taWZ5O1xuXG5mdW5jdGlvbiBxdWVyeShzZWxlY3RvciwgZWwpIHtcbiAgZWwgPSBlbCB8fCBkb2N1bWVudDtcblxuICByZXR1cm4gZWwucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG59XG5cbmZ1bmN0aW9uIGFsbChzZWxlY3RvciwgZWwpIHtcbiAgZWwgPSBlbCB8fCBkb2N1bWVudDtcblxuICByZXR1cm4gZWwucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZShlbCkge1xuICBlbC5wYXJlbnROb2RlICYmIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xufVxuXG5leHBvcnQgeyBhc3NpZ24gYXMgYXNzaWduU3R5bGUsIGF0dHIsIGNsYXNzZXMsIGNsZWFyLCBjbG9zZXN0LCBkZWxlZ2F0ZSwgZG9taWZ5JDEgYXMgZG9taWZ5LCBldmVudCwgbWF0Y2hlcywgcXVlcnksIGFsbCBhcyBxdWVyeUFsbCwgcmVtb3ZlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lc20uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/min-dom/dist/index.esm.js\n");

/***/ }),

/***/ "./node_modules/path-intersection/intersect.js":
/*!*****************************************************!*\
  !*** ./node_modules/path-intersection/intersect.js ***!
  \*****************************************************/
/***/ ((module) => {

eval("\n\n/**\n * This file contains source code adapted from Snap.svg (licensed Apache-2.0).\n *\n * @see https://github.com/adobe-webplatform/Snap.svg/blob/master/src/path.js\n */\n\n/* eslint no-fallthrough: \"off\" */\n\nvar p2s = /,?([a-z]),?/gi,\n    toFloat = parseFloat,\n    math = Math,\n    PI = math.PI,\n    mmin = math.min,\n    mmax = math.max,\n    pow = math.pow,\n    abs = math.abs,\n    pathCommand = /([a-z])[\\s,]*((-?\\d*\\.?\\d*(?:e[-+]?\\d+)?[\\s]*,?[\\s]*)+)/ig,\n    pathValues = /(-?\\d*\\.?\\d*(?:e[-+]?\\d+)?)[\\s]*,?[\\s]*/ig;\n\nvar isArray = Array.isArray || function(o) { return o instanceof Array; };\n\nfunction hasProperty(obj, property) {\n  return Object.prototype.hasOwnProperty.call(obj, property);\n}\n\nfunction clone(obj) {\n\n  if (typeof obj == 'function' || Object(obj) !== obj) {\n    return obj;\n  }\n\n  var res = new obj.constructor;\n\n  for (var key in obj) {\n    if (hasProperty(obj, key)) {\n      res[key] = clone(obj[key]);\n    }\n  }\n\n  return res;\n}\n\nfunction repush(array, item) {\n  for (var i = 0, ii = array.length; i < ii; i++) if (array[i] === item) {\n    return array.push(array.splice(i, 1)[0]);\n  }\n}\n\nfunction cacher(f) {\n\n  function newf() {\n\n    var arg = Array.prototype.slice.call(arguments, 0),\n        args = arg.join('\\u2400'),\n        cache = newf.cache = newf.cache || {},\n        count = newf.count = newf.count || [];\n\n    if (hasProperty(cache, args)) {\n      repush(count, args);\n      return cache[args];\n    }\n\n    count.length >= 1e3 && delete cache[count.shift()];\n    count.push(args);\n    cache[args] = f.apply(0, arg);\n\n    return cache[args];\n  }\n  return newf;\n}\n\nfunction parsePathString(pathString) {\n\n  if (!pathString) {\n    return null;\n  }\n\n  var pth = paths(pathString);\n\n  if (pth.arr) {\n    return clone(pth.arr);\n  }\n\n  var paramCounts = { a: 7, c: 6, h: 1, l: 2, m: 2, q: 4, s: 4, t: 2, v: 1, z: 0 },\n      data = [];\n\n  if (isArray(pathString) && isArray(pathString[0])) { // rough assumption\n    data = clone(pathString);\n  }\n\n  if (!data.length) {\n\n    String(pathString).replace(pathCommand, function(a, b, c) {\n      var params = [],\n          name = b.toLowerCase();\n\n      c.replace(pathValues, function(a, b) {\n        b && params.push(+b);\n      });\n\n      if (name == 'm' && params.length > 2) {\n        data.push([b].concat(params.splice(0, 2)));\n        name = 'l';\n        b = b == 'm' ? 'l' : 'L';\n      }\n\n      while (params.length >= paramCounts[name]) {\n        data.push([b].concat(params.splice(0, paramCounts[name])));\n        if (!paramCounts[name]) {\n          break;\n        }\n      }\n    });\n  }\n\n  data.toString = paths.toString;\n  pth.arr = clone(data);\n\n  return data;\n}\n\nfunction paths(ps) {\n  var p = paths.ps = paths.ps || {};\n\n  if (p[ps]) {\n    p[ps].sleep = 100;\n  } else {\n    p[ps] = {\n      sleep: 100\n    };\n  }\n\n  setTimeout(function() {\n    for (var key in p) {\n      if (hasProperty(p, key) && key != ps) {\n        p[key].sleep--;\n        !p[key].sleep && delete p[key];\n      }\n    }\n  });\n\n  return p[ps];\n}\n\nfunction rectBBox(x, y, width, height) {\n\n  if (arguments.length === 1) {\n    y = x.y;\n    width = x.width;\n    height = x.height;\n    x = x.x;\n  }\n\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    x2: x + width,\n    y2: y + height\n  };\n}\n\nfunction pathToString() {\n  return this.join(',').replace(p2s, '$1');\n}\n\nfunction pathClone(pathArray) {\n  var res = clone(pathArray);\n  res.toString = pathToString;\n  return res;\n}\n\nfunction findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n  var t1 = 1 - t,\n      t13 = pow(t1, 3),\n      t12 = pow(t1, 2),\n      t2 = t * t,\n      t3 = t2 * t,\n      x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x,\n      y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y;\n\n  return {\n    x: fixError(x),\n    y: fixError(y)\n  };\n}\n\nfunction bezierBBox(points) {\n\n  var bbox = curveBBox.apply(null, points);\n\n  return rectBBox(\n    bbox.x0,\n    bbox.y0,\n    bbox.x1 - bbox.x0,\n    bbox.y1 - bbox.y0\n  );\n}\n\nfunction isPointInsideBBox(bbox, x, y) {\n  return x >= bbox.x &&\n    x <= bbox.x + bbox.width &&\n    y >= bbox.y &&\n    y <= bbox.y + bbox.height;\n}\n\nfunction isBBoxIntersect(bbox1, bbox2) {\n  bbox1 = rectBBox(bbox1);\n  bbox2 = rectBBox(bbox2);\n  return isPointInsideBBox(bbox2, bbox1.x, bbox1.y)\n    || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y)\n    || isPointInsideBBox(bbox2, bbox1.x, bbox1.y2)\n    || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y2)\n    || isPointInsideBBox(bbox1, bbox2.x, bbox2.y)\n    || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y)\n    || isPointInsideBBox(bbox1, bbox2.x, bbox2.y2)\n    || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y2)\n    || (bbox1.x < bbox2.x2 && bbox1.x > bbox2.x\n        || bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)\n    && (bbox1.y < bbox2.y2 && bbox1.y > bbox2.y\n        || bbox2.y < bbox1.y2 && bbox2.y > bbox1.y);\n}\n\nfunction base3(t, p1, p2, p3, p4) {\n  var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4,\n      t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n  return t * t2 - 3 * p1 + 3 * p2;\n}\n\nfunction bezlen(x1, y1, x2, y2, x3, y3, x4, y4, z) {\n\n  if (z == null) {\n    z = 1;\n  }\n\n  z = z > 1 ? 1 : z < 0 ? 0 : z;\n\n  var z2 = z / 2,\n      n = 12,\n      Tvalues = [-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],\n      Cvalues = [0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],\n      sum = 0;\n\n  for (var i = 0; i < n; i++) {\n    var ct = z2 * Tvalues[i] + z2,\n        xbase = base3(ct, x1, x2, x3, x4),\n        ybase = base3(ct, y1, y2, y3, y4),\n        comb = xbase * xbase + ybase * ybase;\n\n    sum += Cvalues[i] * math.sqrt(comb);\n  }\n\n  return z2 * sum;\n}\n\n\nfunction intersectLines(x1, y1, x2, y2, x3, y3, x4, y4) {\n\n  if (\n    mmax(x1, x2) < mmin(x3, x4) ||\n      mmin(x1, x2) > mmax(x3, x4) ||\n      mmax(y1, y2) < mmin(y3, y4) ||\n      mmin(y1, y2) > mmax(y3, y4)\n  ) {\n    return;\n  }\n\n  var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n      ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n      denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n\n  if (!denominator) {\n    return;\n  }\n\n  var px = fixError(nx / denominator),\n      py = fixError(ny / denominator),\n      px2 = +px.toFixed(2),\n      py2 = +py.toFixed(2);\n\n  if (\n    px2 < +mmin(x1, x2).toFixed(2) ||\n      px2 > +mmax(x1, x2).toFixed(2) ||\n      px2 < +mmin(x3, x4).toFixed(2) ||\n      px2 > +mmax(x3, x4).toFixed(2) ||\n      py2 < +mmin(y1, y2).toFixed(2) ||\n      py2 > +mmax(y1, y2).toFixed(2) ||\n      py2 < +mmin(y3, y4).toFixed(2) ||\n      py2 > +mmax(y3, y4).toFixed(2)\n  ) {\n    return;\n  }\n\n  return { x: px, y: py };\n}\n\nfunction fixError(number) {\n  return Math.round(number * 100000000000) / 100000000000;\n}\n\nfunction findBezierIntersections(bez1, bez2, justCount) {\n  var bbox1 = bezierBBox(bez1),\n      bbox2 = bezierBBox(bez2);\n\n  if (!isBBoxIntersect(bbox1, bbox2)) {\n    return justCount ? 0 : [];\n  }\n\n  // As an optimization, lines will have only 1 segment\n\n  var l1 = bezlen.apply(0, bez1),\n      l2 = bezlen.apply(0, bez2),\n      n1 = isLine(bez1) ? 1 : ~~(l1 / 5) || 1,\n      n2 = isLine(bez2) ? 1 : ~~(l2 / 5) || 1,\n      dots1 = [],\n      dots2 = [],\n      xy = {},\n      res = justCount ? 0 : [];\n\n  for (var i = 0; i < n1 + 1; i++) {\n    var p = findDotsAtSegment.apply(0, bez1.concat(i / n1));\n    dots1.push({ x: p.x, y: p.y, t: i / n1 });\n  }\n\n  for (i = 0; i < n2 + 1; i++) {\n    p = findDotsAtSegment.apply(0, bez2.concat(i / n2));\n    dots2.push({ x: p.x, y: p.y, t: i / n2 });\n  }\n\n  for (i = 0; i < n1; i++) {\n\n    for (var j = 0; j < n2; j++) {\n      var di = dots1[i],\n          di1 = dots1[i + 1],\n          dj = dots2[j],\n          dj1 = dots2[j + 1],\n          ci = abs(di1.x - di.x) < .01 ? 'y' : 'x',\n          cj = abs(dj1.x - dj.x) < .01 ? 'y' : 'x',\n          is = intersectLines(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y),\n          key;\n\n      if (is) {\n        key = is.x.toFixed(9) + '#' + is.y.toFixed(9);\n\n        if (xy[key]) {\n          continue;\n        }\n\n        xy[key] = true;\n\n        var t1 = di.t + abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t),\n            t2 = dj.t + abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n\n        if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {\n\n          if (justCount) {\n            res++;\n          } else {\n            res.push({\n              x: is.x,\n              y: is.y,\n              t1: t1,\n              t2: t2\n            });\n          }\n        }\n      }\n    }\n  }\n\n  return res;\n}\n\n\n/**\n * Find or counts the intersections between two SVG paths.\n *\n * Returns a number in counting mode and a list of intersections otherwise.\n *\n * A single intersection entry contains the intersection coordinates (x, y)\n * as well as additional information regarding the intersecting segments\n * on each path (segment1, segment2) and the relative location of the\n * intersection on these segments (t1, t2).\n *\n * The path may be an SVG path string or a list of path components\n * such as `[ [ 'M', 0, 10 ], [ 'L', 20, 0 ] ]`.\n *\n * @example\n *\n * var intersections = findPathIntersections(\n *   'M0,0L100,100',\n *   [ [ 'M', 0, 100 ], [ 'L', 100, 0 ] ]\n * );\n *\n * // intersections = [\n * //   { x: 50, y: 50, segment1: 1, segment2: 1, t1: 0.5, t2: 0.5 }\n * // ]\n *\n * @param {String|Array<PathDef>} path1\n * @param {String|Array<PathDef>} path2\n * @param {Boolean} [justCount=false]\n *\n * @return {Array<Intersection>|Number}\n */\nfunction findPathIntersections(path1, path2, justCount) {\n  path1 = pathToCurve(path1);\n  path2 = pathToCurve(path2);\n\n  var x1, y1, x2, y2, x1m, y1m, x2m, y2m, bez1, bez2,\n      res = justCount ? 0 : [];\n\n  for (var i = 0, ii = path1.length; i < ii; i++) {\n    var pi = path1[i];\n\n    if (pi[0] == 'M') {\n      x1 = x1m = pi[1];\n      y1 = y1m = pi[2];\n    } else {\n\n      if (pi[0] == 'C') {\n        bez1 = [x1, y1].concat(pi.slice(1));\n        x1 = bez1[6];\n        y1 = bez1[7];\n      } else {\n        bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n        x1 = x1m;\n        y1 = y1m;\n      }\n\n      for (var j = 0, jj = path2.length; j < jj; j++) {\n        var pj = path2[j];\n\n        if (pj[0] == 'M') {\n          x2 = x2m = pj[1];\n          y2 = y2m = pj[2];\n        } else {\n\n          if (pj[0] == 'C') {\n            bez2 = [x2, y2].concat(pj.slice(1));\n            x2 = bez2[6];\n            y2 = bez2[7];\n          } else {\n            bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n            x2 = x2m;\n            y2 = y2m;\n          }\n\n          var intr = findBezierIntersections(bez1, bez2, justCount);\n\n          if (justCount) {\n            res += intr;\n          } else {\n\n            for (var k = 0, kk = intr.length; k < kk; k++) {\n              intr[k].segment1 = i;\n              intr[k].segment2 = j;\n              intr[k].bez1 = bez1;\n              intr[k].bez2 = bez2;\n            }\n\n            res = res.concat(intr);\n          }\n        }\n      }\n    }\n  }\n\n  return res;\n}\n\n\nfunction pathToAbsolute(pathArray) {\n  var pth = paths(pathArray);\n\n  if (pth.abs) {\n    return pathClone(pth.abs);\n  }\n\n  if (!isArray(pathArray) || !isArray(pathArray && pathArray[0])) { // rough assumption\n    pathArray = parsePathString(pathArray);\n  }\n\n  if (!pathArray || !pathArray.length) {\n    return [['M', 0, 0]];\n  }\n\n  var res = [],\n      x = 0,\n      y = 0,\n      mx = 0,\n      my = 0,\n      start = 0,\n      pa0;\n\n  if (pathArray[0][0] == 'M') {\n    x = +pathArray[0][1];\n    y = +pathArray[0][2];\n    mx = x;\n    my = y;\n    start++;\n    res[0] = ['M', x, y];\n  }\n\n  for (var r, pa, i = start, ii = pathArray.length; i < ii; i++) {\n    res.push(r = []);\n    pa = pathArray[i];\n    pa0 = pa[0];\n\n    if (pa0 != pa0.toUpperCase()) {\n      r[0] = pa0.toUpperCase();\n\n      switch (r[0]) {\n      case 'A':\n        r[1] = pa[1];\n        r[2] = pa[2];\n        r[3] = pa[3];\n        r[4] = pa[4];\n        r[5] = pa[5];\n        r[6] = +pa[6] + x;\n        r[7] = +pa[7] + y;\n        break;\n      case 'V':\n        r[1] = +pa[1] + y;\n        break;\n      case 'H':\n        r[1] = +pa[1] + x;\n        break;\n      case 'M':\n        mx = +pa[1] + x;\n        my = +pa[2] + y;\n      default:\n        for (var j = 1, jj = pa.length; j < jj; j++) {\n          r[j] = +pa[j] + ((j % 2) ? x : y);\n        }\n      }\n    } else {\n      for (var k = 0, kk = pa.length; k < kk; k++) {\n        r[k] = pa[k];\n      }\n    }\n    pa0 = pa0.toUpperCase();\n\n    switch (r[0]) {\n    case 'Z':\n      x = +mx;\n      y = +my;\n      break;\n    case 'H':\n      x = r[1];\n      break;\n    case 'V':\n      y = r[1];\n      break;\n    case 'M':\n      mx = r[r.length - 2];\n      my = r[r.length - 1];\n    default:\n      x = r[r.length - 2];\n      y = r[r.length - 1];\n    }\n  }\n\n  res.toString = pathToString;\n  pth.abs = pathClone(res);\n\n  return res;\n}\n\nfunction isLine(bez) {\n  return (\n    bez[0] === bez[2] &&\n    bez[1] === bez[3] &&\n    bez[4] === bez[6] &&\n    bez[5] === bez[7]\n  );\n}\n\nfunction lineToCurve(x1, y1, x2, y2) {\n  return [\n    x1, y1, x2,\n    y2, x2, y2\n  ];\n}\n\nfunction qubicToCurve(x1, y1, ax, ay, x2, y2) {\n  var _13 = 1 / 3,\n      _23 = 2 / 3;\n\n  return [\n    _13 * x1 + _23 * ax,\n    _13 * y1 + _23 * ay,\n    _13 * x2 + _23 * ax,\n    _13 * y2 + _23 * ay,\n    x2,\n    y2\n  ];\n}\n\nfunction arcToCurve(x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n\n  // for more information of where this math came from visit:\n  // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n  var _120 = PI * 120 / 180,\n      rad = PI / 180 * (+angle || 0),\n      res = [],\n      xy,\n      rotate = cacher(function(x, y, rad) {\n        var X = x * math.cos(rad) - y * math.sin(rad),\n            Y = x * math.sin(rad) + y * math.cos(rad);\n\n        return { x: X, y: Y };\n      });\n\n  if (!recursive) {\n    xy = rotate(x1, y1, -rad);\n    x1 = xy.x;\n    y1 = xy.y;\n    xy = rotate(x2, y2, -rad);\n    x2 = xy.x;\n    y2 = xy.y;\n\n    var x = (x1 - x2) / 2,\n        y = (y1 - y2) / 2;\n\n    var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n\n    if (h > 1) {\n      h = math.sqrt(h);\n      rx = h * rx;\n      ry = h * ry;\n    }\n\n    var rx2 = rx * rx,\n        ry2 = ry * ry,\n        k = (large_arc_flag == sweep_flag ? -1 : 1) *\n            math.sqrt(abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x))),\n        cx = k * rx * y / ry + (x1 + x2) / 2,\n        cy = k * -ry * x / rx + (y1 + y2) / 2,\n        f1 = math.asin(((y1 - cy) / ry).toFixed(9)),\n        f2 = math.asin(((y2 - cy) / ry).toFixed(9));\n\n    f1 = x1 < cx ? PI - f1 : f1;\n    f2 = x2 < cx ? PI - f2 : f2;\n    f1 < 0 && (f1 = PI * 2 + f1);\n    f2 < 0 && (f2 = PI * 2 + f2);\n\n    if (sweep_flag && f1 > f2) {\n      f1 = f1 - PI * 2;\n    }\n    if (!sweep_flag && f2 > f1) {\n      f2 = f2 - PI * 2;\n    }\n  } else {\n    f1 = recursive[0];\n    f2 = recursive[1];\n    cx = recursive[2];\n    cy = recursive[3];\n  }\n\n  var df = f2 - f1;\n\n  if (abs(df) > _120) {\n    var f2old = f2,\n        x2old = x2,\n        y2old = y2;\n\n    f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n    x2 = cx + rx * math.cos(f2);\n    y2 = cy + ry * math.sin(f2);\n    res = arcToCurve(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n  }\n\n  df = f2 - f1;\n\n  var c1 = math.cos(f1),\n      s1 = math.sin(f1),\n      c2 = math.cos(f2),\n      s2 = math.sin(f2),\n      t = math.tan(df / 4),\n      hx = 4 / 3 * rx * t,\n      hy = 4 / 3 * ry * t,\n      m1 = [x1, y1],\n      m2 = [x1 + hx * s1, y1 - hy * c1],\n      m3 = [x2 + hx * s2, y2 - hy * c2],\n      m4 = [x2, y2];\n\n  m2[0] = 2 * m1[0] - m2[0];\n  m2[1] = 2 * m1[1] - m2[1];\n\n  if (recursive) {\n    return [m2, m3, m4].concat(res);\n  } else {\n    res = [m2, m3, m4].concat(res).join().split(',');\n    var newres = [];\n\n    for (var i = 0, ii = res.length; i < ii; i++) {\n      newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n    }\n\n    return newres;\n  }\n}\n\n// Returns bounding box of cubic bezier curve.\n// Source: http://blog.hackers-cafe.net/2009/06/how-to-calculate-bezier-curves-bounding.html\n// Original version: NISHIO Hirokazu\n// Modifications: https://github.com/timo22345\nfunction curveBBox(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var tvalues = [],\n      bounds = [[], []],\n      a, b, c, t, t1, t2, b2ac, sqrtb2ac;\n\n  for (var i = 0; i < 2; ++i) {\n\n    if (i == 0) {\n      b = 6 * x0 - 12 * x1 + 6 * x2;\n      a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n      c = 3 * x1 - 3 * x0;\n    } else {\n      b = 6 * y0 - 12 * y1 + 6 * y2;\n      a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n      c = 3 * y1 - 3 * y0;\n    }\n\n    if (abs(a) < 1e-12) {\n\n      if (abs(b) < 1e-12) {\n        continue;\n      }\n\n      t = -c / b;\n\n      if (0 < t && t < 1) {\n        tvalues.push(t);\n      }\n\n      continue;\n    }\n\n    b2ac = b * b - 4 * c * a;\n    sqrtb2ac = math.sqrt(b2ac);\n\n    if (b2ac < 0) {\n      continue;\n    }\n\n    t1 = (-b + sqrtb2ac) / (2 * a);\n\n    if (0 < t1 && t1 < 1) {\n      tvalues.push(t1);\n    }\n\n    t2 = (-b - sqrtb2ac) / (2 * a);\n\n    if (0 < t2 && t2 < 1) {\n      tvalues.push(t2);\n    }\n  }\n\n  var j = tvalues.length,\n      jlen = j,\n      mt;\n\n  while (j--) {\n    t = tvalues[j];\n    mt = 1 - t;\n    bounds[0][j] = (mt * mt * mt * x0) + (3 * mt * mt * t * x1) + (3 * mt * t * t * x2) + (t * t * t * x3);\n    bounds[1][j] = (mt * mt * mt * y0) + (3 * mt * mt * t * y1) + (3 * mt * t * t * y2) + (t * t * t * y3);\n  }\n\n  bounds[0][jlen] = x0;\n  bounds[1][jlen] = y0;\n  bounds[0][jlen + 1] = x3;\n  bounds[1][jlen + 1] = y3;\n  bounds[0].length = bounds[1].length = jlen + 2;\n\n  return {\n    x0: mmin.apply(0, bounds[0]),\n    y0: mmin.apply(0, bounds[1]),\n    x1: mmax.apply(0, bounds[0]),\n    y1: mmax.apply(0, bounds[1])\n  };\n}\n\nfunction pathToCurve(path) {\n\n  var pth = paths(path);\n\n  // return cached curve, if existing\n  if (pth.curve) {\n    return pathClone(pth.curve);\n  }\n\n  var curvedPath = pathToAbsolute(path),\n      attrs = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null },\n      processPath = function(path, d, pathCommand) {\n        var nx, ny;\n\n        if (!path) {\n          return ['C', d.x, d.y, d.x, d.y, d.x, d.y];\n        }\n\n        !(path[0] in { T: 1, Q: 1 }) && (d.qx = d.qy = null);\n\n        switch (path[0]) {\n        case 'M':\n          d.X = path[1];\n          d.Y = path[2];\n          break;\n        case 'A':\n          path = ['C'].concat(arcToCurve.apply(0, [d.x, d.y].concat(path.slice(1))));\n          break;\n        case 'S':\n          if (pathCommand == 'C' || pathCommand == 'S') {\n\n            // In 'S' case we have to take into account, if the previous command is C/S.\n            nx = d.x * 2 - d.bx;\n\n            // And reflect the previous\n            ny = d.y * 2 - d.by;\n\n            // command's control point relative to the current point.\n          }\n          else {\n\n            // or some else or nothing\n            nx = d.x;\n            ny = d.y;\n          }\n          path = ['C', nx, ny].concat(path.slice(1));\n          break;\n        case 'T':\n          if (pathCommand == 'Q' || pathCommand == 'T') {\n\n            // In 'T' case we have to take into account, if the previous command is Q/T.\n            d.qx = d.x * 2 - d.qx;\n\n            // And make a reflection similar\n            d.qy = d.y * 2 - d.qy;\n\n            // to case 'S'.\n          }\n          else {\n\n            // or something else or nothing\n            d.qx = d.x;\n            d.qy = d.y;\n          }\n          path = ['C'].concat(qubicToCurve(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n          break;\n        case 'Q':\n          d.qx = path[1];\n          d.qy = path[2];\n          path = ['C'].concat(qubicToCurve(d.x, d.y, path[1], path[2], path[3], path[4]));\n          break;\n        case 'L':\n          path = ['C'].concat(lineToCurve(d.x, d.y, path[1], path[2]));\n          break;\n        case 'H':\n          path = ['C'].concat(lineToCurve(d.x, d.y, path[1], d.y));\n          break;\n        case 'V':\n          path = ['C'].concat(lineToCurve(d.x, d.y, d.x, path[1]));\n          break;\n        case 'Z':\n          path = ['C'].concat(lineToCurve(d.x, d.y, d.X, d.Y));\n          break;\n        }\n\n        return path;\n      },\n\n      fixArc = function(pp, i) {\n\n        if (pp[i].length > 7) {\n          pp[i].shift();\n          var pi = pp[i];\n\n          while (pi.length) {\n            pathCommands[i] = 'A'; // if created multiple C:s, their original seg is saved\n            pp.splice(i++, 0, ['C'].concat(pi.splice(0, 6)));\n          }\n\n          pp.splice(i, 1);\n          ii = curvedPath.length;\n        }\n      },\n\n      pathCommands = [], // path commands of original path p\n      pfirst = '', // temporary holder for original path command\n      pathCommand = ''; // holder for previous path command of original path\n\n  for (var i = 0, ii = curvedPath.length; i < ii; i++) {\n    curvedPath[i] && (pfirst = curvedPath[i][0]); // save current path command\n\n    if (pfirst != 'C') // C is not saved yet, because it may be result of conversion\n    {\n      pathCommands[i] = pfirst; // Save current path command\n      i && (pathCommand = pathCommands[i - 1]); // Get previous path command pathCommand\n    }\n    curvedPath[i] = processPath(curvedPath[i], attrs, pathCommand); // Previous path command is inputted to processPath\n\n    if (pathCommands[i] != 'A' && pfirst == 'C') pathCommands[i] = 'C'; // A is the only command\n    // which may produce multiple C:s\n    // so we have to make sure that C is also C in original path\n\n    fixArc(curvedPath, i); // fixArc adds also the right amount of A:s to pathCommands\n\n    var seg = curvedPath[i],\n        seglen = seg.length;\n\n    attrs.x = seg[seglen - 2];\n    attrs.y = seg[seglen - 1];\n    attrs.bx = toFloat(seg[seglen - 4]) || attrs.x;\n    attrs.by = toFloat(seg[seglen - 3]) || attrs.y;\n  }\n\n  // cache curve\n  pth.curve = pathClone(curvedPath);\n\n  return curvedPath;\n}\n\nmodule.exports = findPathIntersections;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcGF0aC1pbnRlcnNlY3Rpb24vaW50ZXJzZWN0LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkNBQTZDOztBQUU3QztBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHFDQUFxQyxRQUFRO0FBQzdDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHNCQUFzQiw0REFBNEQ7QUFDbEY7O0FBRUEsdURBQXVEO0FBQ3ZEO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2tkYXlzLTIwMjMvLi9ub2RlX21vZHVsZXMvcGF0aC1pbnRlcnNlY3Rpb24vaW50ZXJzZWN0LmpzP2U1YWIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFRoaXMgZmlsZSBjb250YWlucyBzb3VyY2UgY29kZSBhZGFwdGVkIGZyb20gU25hcC5zdmcgKGxpY2Vuc2VkIEFwYWNoZS0yLjApLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Fkb2JlLXdlYnBsYXRmb3JtL1NuYXAuc3ZnL2Jsb2IvbWFzdGVyL3NyYy9wYXRoLmpzXG4gKi9cblxuLyogZXNsaW50IG5vLWZhbGx0aHJvdWdoOiBcIm9mZlwiICovXG5cbnZhciBwMnMgPSAvLD8oW2Etel0pLD8vZ2ksXG4gICAgdG9GbG9hdCA9IHBhcnNlRmxvYXQsXG4gICAgbWF0aCA9IE1hdGgsXG4gICAgUEkgPSBtYXRoLlBJLFxuICAgIG1taW4gPSBtYXRoLm1pbixcbiAgICBtbWF4ID0gbWF0aC5tYXgsXG4gICAgcG93ID0gbWF0aC5wb3csXG4gICAgYWJzID0gbWF0aC5hYnMsXG4gICAgcGF0aENvbW1hbmQgPSAvKFthLXpdKVtcXHMsXSooKC0/XFxkKlxcLj9cXGQqKD86ZVstK10/XFxkKyk/W1xcc10qLD9bXFxzXSopKykvaWcsXG4gICAgcGF0aFZhbHVlcyA9IC8oLT9cXGQqXFwuP1xcZCooPzplWy0rXT9cXGQrKT8pW1xcc10qLD9bXFxzXSovaWc7XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbihvKSB7IHJldHVybiBvIGluc3RhbmNlb2YgQXJyYXk7IH07XG5cbmZ1bmN0aW9uIGhhc1Byb3BlcnR5KG9iaiwgcHJvcGVydHkpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3BlcnR5KTtcbn1cblxuZnVuY3Rpb24gY2xvbmUob2JqKSB7XG5cbiAgaWYgKHR5cGVvZiBvYmogPT0gJ2Z1bmN0aW9uJyB8fCBPYmplY3Qob2JqKSAhPT0gb2JqKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciByZXMgPSBuZXcgb2JqLmNvbnN0cnVjdG9yO1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoaGFzUHJvcGVydHkob2JqLCBrZXkpKSB7XG4gICAgICByZXNba2V5XSA9IGNsb25lKG9ialtrZXldKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiByZXB1c2goYXJyYXksIGl0ZW0pIHtcbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gYXJyYXkubGVuZ3RoOyBpIDwgaWk7IGkrKykgaWYgKGFycmF5W2ldID09PSBpdGVtKSB7XG4gICAgcmV0dXJuIGFycmF5LnB1c2goYXJyYXkuc3BsaWNlKGksIDEpWzBdKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjYWNoZXIoZikge1xuXG4gIGZ1bmN0aW9uIG5ld2YoKSB7XG5cbiAgICB2YXIgYXJnID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSxcbiAgICAgICAgYXJncyA9IGFyZy5qb2luKCdcXHUyNDAwJyksXG4gICAgICAgIGNhY2hlID0gbmV3Zi5jYWNoZSA9IG5ld2YuY2FjaGUgfHwge30sXG4gICAgICAgIGNvdW50ID0gbmV3Zi5jb3VudCA9IG5ld2YuY291bnQgfHwgW107XG5cbiAgICBpZiAoaGFzUHJvcGVydHkoY2FjaGUsIGFyZ3MpKSB7XG4gICAgICByZXB1c2goY291bnQsIGFyZ3MpO1xuICAgICAgcmV0dXJuIGNhY2hlW2FyZ3NdO1xuICAgIH1cblxuICAgIGNvdW50Lmxlbmd0aCA+PSAxZTMgJiYgZGVsZXRlIGNhY2hlW2NvdW50LnNoaWZ0KCldO1xuICAgIGNvdW50LnB1c2goYXJncyk7XG4gICAgY2FjaGVbYXJnc10gPSBmLmFwcGx5KDAsIGFyZyk7XG5cbiAgICByZXR1cm4gY2FjaGVbYXJnc107XG4gIH1cbiAgcmV0dXJuIG5ld2Y7XG59XG5cbmZ1bmN0aW9uIHBhcnNlUGF0aFN0cmluZyhwYXRoU3RyaW5nKSB7XG5cbiAgaWYgKCFwYXRoU3RyaW5nKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgcHRoID0gcGF0aHMocGF0aFN0cmluZyk7XG5cbiAgaWYgKHB0aC5hcnIpIHtcbiAgICByZXR1cm4gY2xvbmUocHRoLmFycik7XG4gIH1cblxuICB2YXIgcGFyYW1Db3VudHMgPSB7IGE6IDcsIGM6IDYsIGg6IDEsIGw6IDIsIG06IDIsIHE6IDQsIHM6IDQsIHQ6IDIsIHY6IDEsIHo6IDAgfSxcbiAgICAgIGRhdGEgPSBbXTtcblxuICBpZiAoaXNBcnJheShwYXRoU3RyaW5nKSAmJiBpc0FycmF5KHBhdGhTdHJpbmdbMF0pKSB7IC8vIHJvdWdoIGFzc3VtcHRpb25cbiAgICBkYXRhID0gY2xvbmUocGF0aFN0cmluZyk7XG4gIH1cblxuICBpZiAoIWRhdGEubGVuZ3RoKSB7XG5cbiAgICBTdHJpbmcocGF0aFN0cmluZykucmVwbGFjZShwYXRoQ29tbWFuZCwgZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAgdmFyIHBhcmFtcyA9IFtdLFxuICAgICAgICAgIG5hbWUgPSBiLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgIGMucmVwbGFjZShwYXRoVmFsdWVzLCBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIGIgJiYgcGFyYW1zLnB1c2goK2IpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChuYW1lID09ICdtJyAmJiBwYXJhbXMubGVuZ3RoID4gMikge1xuICAgICAgICBkYXRhLnB1c2goW2JdLmNvbmNhdChwYXJhbXMuc3BsaWNlKDAsIDIpKSk7XG4gICAgICAgIG5hbWUgPSAnbCc7XG4gICAgICAgIGIgPSBiID09ICdtJyA/ICdsJyA6ICdMJztcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKHBhcmFtcy5sZW5ndGggPj0gcGFyYW1Db3VudHNbbmFtZV0pIHtcbiAgICAgICAgZGF0YS5wdXNoKFtiXS5jb25jYXQocGFyYW1zLnNwbGljZSgwLCBwYXJhbUNvdW50c1tuYW1lXSkpKTtcbiAgICAgICAgaWYgKCFwYXJhbUNvdW50c1tuYW1lXSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBkYXRhLnRvU3RyaW5nID0gcGF0aHMudG9TdHJpbmc7XG4gIHB0aC5hcnIgPSBjbG9uZShkYXRhKTtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gcGF0aHMocHMpIHtcbiAgdmFyIHAgPSBwYXRocy5wcyA9IHBhdGhzLnBzIHx8IHt9O1xuXG4gIGlmIChwW3BzXSkge1xuICAgIHBbcHNdLnNsZWVwID0gMTAwO1xuICB9IGVsc2Uge1xuICAgIHBbcHNdID0ge1xuICAgICAgc2xlZXA6IDEwMFxuICAgIH07XG4gIH1cblxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIGtleSBpbiBwKSB7XG4gICAgICBpZiAoaGFzUHJvcGVydHkocCwga2V5KSAmJiBrZXkgIT0gcHMpIHtcbiAgICAgICAgcFtrZXldLnNsZWVwLS07XG4gICAgICAgICFwW2tleV0uc2xlZXAgJiYgZGVsZXRlIHBba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwW3BzXTtcbn1cblxuZnVuY3Rpb24gcmVjdEJCb3goeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgeSA9IHgueTtcbiAgICB3aWR0aCA9IHgud2lkdGg7XG4gICAgaGVpZ2h0ID0geC5oZWlnaHQ7XG4gICAgeCA9IHgueDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgeDogeCxcbiAgICB5OiB5LFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB4MjogeCArIHdpZHRoLFxuICAgIHkyOiB5ICsgaGVpZ2h0XG4gIH07XG59XG5cbmZ1bmN0aW9uIHBhdGhUb1N0cmluZygpIHtcbiAgcmV0dXJuIHRoaXMuam9pbignLCcpLnJlcGxhY2UocDJzLCAnJDEnKTtcbn1cblxuZnVuY3Rpb24gcGF0aENsb25lKHBhdGhBcnJheSkge1xuICB2YXIgcmVzID0gY2xvbmUocGF0aEFycmF5KTtcbiAgcmVzLnRvU3RyaW5nID0gcGF0aFRvU3RyaW5nO1xuICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBmaW5kRG90c0F0U2VnbWVudChwMXgsIHAxeSwgYzF4LCBjMXksIGMyeCwgYzJ5LCBwMngsIHAyeSwgdCkge1xuICB2YXIgdDEgPSAxIC0gdCxcbiAgICAgIHQxMyA9IHBvdyh0MSwgMyksXG4gICAgICB0MTIgPSBwb3codDEsIDIpLFxuICAgICAgdDIgPSB0ICogdCxcbiAgICAgIHQzID0gdDIgKiB0LFxuICAgICAgeCA9IHQxMyAqIHAxeCArIHQxMiAqIDMgKiB0ICogYzF4ICsgdDEgKiAzICogdCAqIHQgKiBjMnggKyB0MyAqIHAyeCxcbiAgICAgIHkgPSB0MTMgKiBwMXkgKyB0MTIgKiAzICogdCAqIGMxeSArIHQxICogMyAqIHQgKiB0ICogYzJ5ICsgdDMgKiBwMnk7XG5cbiAgcmV0dXJuIHtcbiAgICB4OiBmaXhFcnJvcih4KSxcbiAgICB5OiBmaXhFcnJvcih5KVxuICB9O1xufVxuXG5mdW5jdGlvbiBiZXppZXJCQm94KHBvaW50cykge1xuXG4gIHZhciBiYm94ID0gY3VydmVCQm94LmFwcGx5KG51bGwsIHBvaW50cyk7XG5cbiAgcmV0dXJuIHJlY3RCQm94KFxuICAgIGJib3gueDAsXG4gICAgYmJveC55MCxcbiAgICBiYm94LngxIC0gYmJveC54MCxcbiAgICBiYm94LnkxIC0gYmJveC55MFxuICApO1xufVxuXG5mdW5jdGlvbiBpc1BvaW50SW5zaWRlQkJveChiYm94LCB4LCB5KSB7XG4gIHJldHVybiB4ID49IGJib3gueCAmJlxuICAgIHggPD0gYmJveC54ICsgYmJveC53aWR0aCAmJlxuICAgIHkgPj0gYmJveC55ICYmXG4gICAgeSA8PSBiYm94LnkgKyBiYm94LmhlaWdodDtcbn1cblxuZnVuY3Rpb24gaXNCQm94SW50ZXJzZWN0KGJib3gxLCBiYm94Mikge1xuICBiYm94MSA9IHJlY3RCQm94KGJib3gxKTtcbiAgYmJveDIgPSByZWN0QkJveChiYm94Mik7XG4gIHJldHVybiBpc1BvaW50SW5zaWRlQkJveChiYm94MiwgYmJveDEueCwgYmJveDEueSlcbiAgICB8fCBpc1BvaW50SW5zaWRlQkJveChiYm94MiwgYmJveDEueDIsIGJib3gxLnkpXG4gICAgfHwgaXNQb2ludEluc2lkZUJCb3goYmJveDIsIGJib3gxLngsIGJib3gxLnkyKVxuICAgIHx8IGlzUG9pbnRJbnNpZGVCQm94KGJib3gyLCBiYm94MS54MiwgYmJveDEueTIpXG4gICAgfHwgaXNQb2ludEluc2lkZUJCb3goYmJveDEsIGJib3gyLngsIGJib3gyLnkpXG4gICAgfHwgaXNQb2ludEluc2lkZUJCb3goYmJveDEsIGJib3gyLngyLCBiYm94Mi55KVxuICAgIHx8IGlzUG9pbnRJbnNpZGVCQm94KGJib3gxLCBiYm94Mi54LCBiYm94Mi55MilcbiAgICB8fCBpc1BvaW50SW5zaWRlQkJveChiYm94MSwgYmJveDIueDIsIGJib3gyLnkyKVxuICAgIHx8IChiYm94MS54IDwgYmJveDIueDIgJiYgYmJveDEueCA+IGJib3gyLnhcbiAgICAgICAgfHwgYmJveDIueCA8IGJib3gxLngyICYmIGJib3gyLnggPiBiYm94MS54KVxuICAgICYmIChiYm94MS55IDwgYmJveDIueTIgJiYgYmJveDEueSA+IGJib3gyLnlcbiAgICAgICAgfHwgYmJveDIueSA8IGJib3gxLnkyICYmIGJib3gyLnkgPiBiYm94MS55KTtcbn1cblxuZnVuY3Rpb24gYmFzZTModCwgcDEsIHAyLCBwMywgcDQpIHtcbiAgdmFyIHQxID0gLTMgKiBwMSArIDkgKiBwMiAtIDkgKiBwMyArIDMgKiBwNCxcbiAgICAgIHQyID0gdCAqIHQxICsgNiAqIHAxIC0gMTIgKiBwMiArIDYgKiBwMztcbiAgcmV0dXJuIHQgKiB0MiAtIDMgKiBwMSArIDMgKiBwMjtcbn1cblxuZnVuY3Rpb24gYmV6bGVuKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCwgeikge1xuXG4gIGlmICh6ID09IG51bGwpIHtcbiAgICB6ID0gMTtcbiAgfVxuXG4gIHogPSB6ID4gMSA/IDEgOiB6IDwgMCA/IDAgOiB6O1xuXG4gIHZhciB6MiA9IHogLyAyLFxuICAgICAgbiA9IDEyLFxuICAgICAgVHZhbHVlcyA9IFstLjEyNTIsLjEyNTIsLS4zNjc4LC4zNjc4LC0uNTg3MywuNTg3MywtLjc2OTksLjc2OTksLS45MDQxLC45MDQxLC0uOTgxNiwuOTgxNl0sXG4gICAgICBDdmFsdWVzID0gWzAuMjQ5MSwwLjI0OTEsMC4yMzM1LDAuMjMzNSwwLjIwMzIsMC4yMDMyLDAuMTYwMSwwLjE2MDEsMC4xMDY5LDAuMTA2OSwwLjA0NzIsMC4wNDcyXSxcbiAgICAgIHN1bSA9IDA7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICB2YXIgY3QgPSB6MiAqIFR2YWx1ZXNbaV0gKyB6MixcbiAgICAgICAgeGJhc2UgPSBiYXNlMyhjdCwgeDEsIHgyLCB4MywgeDQpLFxuICAgICAgICB5YmFzZSA9IGJhc2UzKGN0LCB5MSwgeTIsIHkzLCB5NCksXG4gICAgICAgIGNvbWIgPSB4YmFzZSAqIHhiYXNlICsgeWJhc2UgKiB5YmFzZTtcblxuICAgIHN1bSArPSBDdmFsdWVzW2ldICogbWF0aC5zcXJ0KGNvbWIpO1xuICB9XG5cbiAgcmV0dXJuIHoyICogc3VtO1xufVxuXG5cbmZ1bmN0aW9uIGludGVyc2VjdExpbmVzKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCkge1xuXG4gIGlmIChcbiAgICBtbWF4KHgxLCB4MikgPCBtbWluKHgzLCB4NCkgfHxcbiAgICAgIG1taW4oeDEsIHgyKSA+IG1tYXgoeDMsIHg0KSB8fFxuICAgICAgbW1heCh5MSwgeTIpIDwgbW1pbih5MywgeTQpIHx8XG4gICAgICBtbWluKHkxLCB5MikgPiBtbWF4KHkzLCB5NClcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG54ID0gKHgxICogeTIgLSB5MSAqIHgyKSAqICh4MyAtIHg0KSAtICh4MSAtIHgyKSAqICh4MyAqIHk0IC0geTMgKiB4NCksXG4gICAgICBueSA9ICh4MSAqIHkyIC0geTEgKiB4MikgKiAoeTMgLSB5NCkgLSAoeTEgLSB5MikgKiAoeDMgKiB5NCAtIHkzICogeDQpLFxuICAgICAgZGVub21pbmF0b3IgPSAoeDEgLSB4MikgKiAoeTMgLSB5NCkgLSAoeTEgLSB5MikgKiAoeDMgLSB4NCk7XG5cbiAgaWYgKCFkZW5vbWluYXRvcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBweCA9IGZpeEVycm9yKG54IC8gZGVub21pbmF0b3IpLFxuICAgICAgcHkgPSBmaXhFcnJvcihueSAvIGRlbm9taW5hdG9yKSxcbiAgICAgIHB4MiA9ICtweC50b0ZpeGVkKDIpLFxuICAgICAgcHkyID0gK3B5LnRvRml4ZWQoMik7XG5cbiAgaWYgKFxuICAgIHB4MiA8ICttbWluKHgxLCB4MikudG9GaXhlZCgyKSB8fFxuICAgICAgcHgyID4gK21tYXgoeDEsIHgyKS50b0ZpeGVkKDIpIHx8XG4gICAgICBweDIgPCArbW1pbih4MywgeDQpLnRvRml4ZWQoMikgfHxcbiAgICAgIHB4MiA+ICttbWF4KHgzLCB4NCkudG9GaXhlZCgyKSB8fFxuICAgICAgcHkyIDwgK21taW4oeTEsIHkyKS50b0ZpeGVkKDIpIHx8XG4gICAgICBweTIgPiArbW1heCh5MSwgeTIpLnRvRml4ZWQoMikgfHxcbiAgICAgIHB5MiA8ICttbWluKHkzLCB5NCkudG9GaXhlZCgyKSB8fFxuICAgICAgcHkyID4gK21tYXgoeTMsIHk0KS50b0ZpeGVkKDIpXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiB7IHg6IHB4LCB5OiBweSB9O1xufVxuXG5mdW5jdGlvbiBmaXhFcnJvcihudW1iZXIpIHtcbiAgcmV0dXJuIE1hdGgucm91bmQobnVtYmVyICogMTAwMDAwMDAwMDAwKSAvIDEwMDAwMDAwMDAwMDtcbn1cblxuZnVuY3Rpb24gZmluZEJlemllckludGVyc2VjdGlvbnMoYmV6MSwgYmV6MiwganVzdENvdW50KSB7XG4gIHZhciBiYm94MSA9IGJlemllckJCb3goYmV6MSksXG4gICAgICBiYm94MiA9IGJlemllckJCb3goYmV6Mik7XG5cbiAgaWYgKCFpc0JCb3hJbnRlcnNlY3QoYmJveDEsIGJib3gyKSkge1xuICAgIHJldHVybiBqdXN0Q291bnQgPyAwIDogW107XG4gIH1cblxuICAvLyBBcyBhbiBvcHRpbWl6YXRpb24sIGxpbmVzIHdpbGwgaGF2ZSBvbmx5IDEgc2VnbWVudFxuXG4gIHZhciBsMSA9IGJlemxlbi5hcHBseSgwLCBiZXoxKSxcbiAgICAgIGwyID0gYmV6bGVuLmFwcGx5KDAsIGJlejIpLFxuICAgICAgbjEgPSBpc0xpbmUoYmV6MSkgPyAxIDogfn4obDEgLyA1KSB8fCAxLFxuICAgICAgbjIgPSBpc0xpbmUoYmV6MikgPyAxIDogfn4obDIgLyA1KSB8fCAxLFxuICAgICAgZG90czEgPSBbXSxcbiAgICAgIGRvdHMyID0gW10sXG4gICAgICB4eSA9IHt9LFxuICAgICAgcmVzID0ganVzdENvdW50ID8gMCA6IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjEgKyAxOyBpKyspIHtcbiAgICB2YXIgcCA9IGZpbmREb3RzQXRTZWdtZW50LmFwcGx5KDAsIGJlejEuY29uY2F0KGkgLyBuMSkpO1xuICAgIGRvdHMxLnB1c2goeyB4OiBwLngsIHk6IHAueSwgdDogaSAvIG4xIH0pO1xuICB9XG5cbiAgZm9yIChpID0gMDsgaSA8IG4yICsgMTsgaSsrKSB7XG4gICAgcCA9IGZpbmREb3RzQXRTZWdtZW50LmFwcGx5KDAsIGJlejIuY29uY2F0KGkgLyBuMikpO1xuICAgIGRvdHMyLnB1c2goeyB4OiBwLngsIHk6IHAueSwgdDogaSAvIG4yIH0pO1xuICB9XG5cbiAgZm9yIChpID0gMDsgaSA8IG4xOyBpKyspIHtcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgbjI7IGorKykge1xuICAgICAgdmFyIGRpID0gZG90czFbaV0sXG4gICAgICAgICAgZGkxID0gZG90czFbaSArIDFdLFxuICAgICAgICAgIGRqID0gZG90czJbal0sXG4gICAgICAgICAgZGoxID0gZG90czJbaiArIDFdLFxuICAgICAgICAgIGNpID0gYWJzKGRpMS54IC0gZGkueCkgPCAuMDEgPyAneScgOiAneCcsXG4gICAgICAgICAgY2ogPSBhYnMoZGoxLnggLSBkai54KSA8IC4wMSA/ICd5JyA6ICd4JyxcbiAgICAgICAgICBpcyA9IGludGVyc2VjdExpbmVzKGRpLngsIGRpLnksIGRpMS54LCBkaTEueSwgZGoueCwgZGoueSwgZGoxLngsIGRqMS55KSxcbiAgICAgICAgICBrZXk7XG5cbiAgICAgIGlmIChpcykge1xuICAgICAgICBrZXkgPSBpcy54LnRvRml4ZWQoOSkgKyAnIycgKyBpcy55LnRvRml4ZWQoOSk7XG5cbiAgICAgICAgaWYgKHh5W2tleV0pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHh5W2tleV0gPSB0cnVlO1xuXG4gICAgICAgIHZhciB0MSA9IGRpLnQgKyBhYnMoKGlzW2NpXSAtIGRpW2NpXSkgLyAoZGkxW2NpXSAtIGRpW2NpXSkpICogKGRpMS50IC0gZGkudCksXG4gICAgICAgICAgICB0MiA9IGRqLnQgKyBhYnMoKGlzW2NqXSAtIGRqW2NqXSkgLyAoZGoxW2NqXSAtIGRqW2NqXSkpICogKGRqMS50IC0gZGoudCk7XG5cbiAgICAgICAgaWYgKHQxID49IDAgJiYgdDEgPD0gMSAmJiB0MiA+PSAwICYmIHQyIDw9IDEpIHtcblxuICAgICAgICAgIGlmIChqdXN0Q291bnQpIHtcbiAgICAgICAgICAgIHJlcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXMucHVzaCh7XG4gICAgICAgICAgICAgIHg6IGlzLngsXG4gICAgICAgICAgICAgIHk6IGlzLnksXG4gICAgICAgICAgICAgIHQxOiB0MSxcbiAgICAgICAgICAgICAgdDI6IHQyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzO1xufVxuXG5cbi8qKlxuICogRmluZCBvciBjb3VudHMgdGhlIGludGVyc2VjdGlvbnMgYmV0d2VlbiB0d28gU1ZHIHBhdGhzLlxuICpcbiAqIFJldHVybnMgYSBudW1iZXIgaW4gY291bnRpbmcgbW9kZSBhbmQgYSBsaXN0IG9mIGludGVyc2VjdGlvbnMgb3RoZXJ3aXNlLlxuICpcbiAqIEEgc2luZ2xlIGludGVyc2VjdGlvbiBlbnRyeSBjb250YWlucyB0aGUgaW50ZXJzZWN0aW9uIGNvb3JkaW5hdGVzICh4LCB5KVxuICogYXMgd2VsbCBhcyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyB0aGUgaW50ZXJzZWN0aW5nIHNlZ21lbnRzXG4gKiBvbiBlYWNoIHBhdGggKHNlZ21lbnQxLCBzZWdtZW50MikgYW5kIHRoZSByZWxhdGl2ZSBsb2NhdGlvbiBvZiB0aGVcbiAqIGludGVyc2VjdGlvbiBvbiB0aGVzZSBzZWdtZW50cyAodDEsIHQyKS5cbiAqXG4gKiBUaGUgcGF0aCBtYXkgYmUgYW4gU1ZHIHBhdGggc3RyaW5nIG9yIGEgbGlzdCBvZiBwYXRoIGNvbXBvbmVudHNcbiAqIHN1Y2ggYXMgYFsgWyAnTScsIDAsIDEwIF0sIFsgJ0wnLCAyMCwgMCBdIF1gLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGludGVyc2VjdGlvbnMgPSBmaW5kUGF0aEludGVyc2VjdGlvbnMoXG4gKiAgICdNMCwwTDEwMCwxMDAnLFxuICogICBbIFsgJ00nLCAwLCAxMDAgXSwgWyAnTCcsIDEwMCwgMCBdIF1cbiAqICk7XG4gKlxuICogLy8gaW50ZXJzZWN0aW9ucyA9IFtcbiAqIC8vICAgeyB4OiA1MCwgeTogNTAsIHNlZ21lbnQxOiAxLCBzZWdtZW50MjogMSwgdDE6IDAuNSwgdDI6IDAuNSB9XG4gKiAvLyBdXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8QXJyYXk8UGF0aERlZj59IHBhdGgxXG4gKiBAcGFyYW0ge1N0cmluZ3xBcnJheTxQYXRoRGVmPn0gcGF0aDJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2p1c3RDb3VudD1mYWxzZV1cbiAqXG4gKiBAcmV0dXJuIHtBcnJheTxJbnRlcnNlY3Rpb24+fE51bWJlcn1cbiAqL1xuZnVuY3Rpb24gZmluZFBhdGhJbnRlcnNlY3Rpb25zKHBhdGgxLCBwYXRoMiwganVzdENvdW50KSB7XG4gIHBhdGgxID0gcGF0aFRvQ3VydmUocGF0aDEpO1xuICBwYXRoMiA9IHBhdGhUb0N1cnZlKHBhdGgyKTtcblxuICB2YXIgeDEsIHkxLCB4MiwgeTIsIHgxbSwgeTFtLCB4Mm0sIHkybSwgYmV6MSwgYmV6MixcbiAgICAgIHJlcyA9IGp1c3RDb3VudCA/IDAgOiBbXTtcblxuICBmb3IgKHZhciBpID0gMCwgaWkgPSBwYXRoMS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgdmFyIHBpID0gcGF0aDFbaV07XG5cbiAgICBpZiAocGlbMF0gPT0gJ00nKSB7XG4gICAgICB4MSA9IHgxbSA9IHBpWzFdO1xuICAgICAgeTEgPSB5MW0gPSBwaVsyXTtcbiAgICB9IGVsc2Uge1xuXG4gICAgICBpZiAocGlbMF0gPT0gJ0MnKSB7XG4gICAgICAgIGJlejEgPSBbeDEsIHkxXS5jb25jYXQocGkuc2xpY2UoMSkpO1xuICAgICAgICB4MSA9IGJlejFbNl07XG4gICAgICAgIHkxID0gYmV6MVs3XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJlejEgPSBbeDEsIHkxLCB4MSwgeTEsIHgxbSwgeTFtLCB4MW0sIHkxbV07XG4gICAgICAgIHgxID0geDFtO1xuICAgICAgICB5MSA9IHkxbTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gcGF0aDIubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICB2YXIgcGogPSBwYXRoMltqXTtcblxuICAgICAgICBpZiAocGpbMF0gPT0gJ00nKSB7XG4gICAgICAgICAgeDIgPSB4Mm0gPSBwalsxXTtcbiAgICAgICAgICB5MiA9IHkybSA9IHBqWzJdO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgaWYgKHBqWzBdID09ICdDJykge1xuICAgICAgICAgICAgYmV6MiA9IFt4MiwgeTJdLmNvbmNhdChwai5zbGljZSgxKSk7XG4gICAgICAgICAgICB4MiA9IGJlejJbNl07XG4gICAgICAgICAgICB5MiA9IGJlejJbN107XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJlejIgPSBbeDIsIHkyLCB4MiwgeTIsIHgybSwgeTJtLCB4Mm0sIHkybV07XG4gICAgICAgICAgICB4MiA9IHgybTtcbiAgICAgICAgICAgIHkyID0geTJtO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBpbnRyID0gZmluZEJlemllckludGVyc2VjdGlvbnMoYmV6MSwgYmV6MiwganVzdENvdW50KTtcblxuICAgICAgICAgIGlmIChqdXN0Q291bnQpIHtcbiAgICAgICAgICAgIHJlcyArPSBpbnRyO1xuICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwLCBrayA9IGludHIubGVuZ3RoOyBrIDwga2s7IGsrKykge1xuICAgICAgICAgICAgICBpbnRyW2tdLnNlZ21lbnQxID0gaTtcbiAgICAgICAgICAgICAgaW50cltrXS5zZWdtZW50MiA9IGo7XG4gICAgICAgICAgICAgIGludHJba10uYmV6MSA9IGJlejE7XG4gICAgICAgICAgICAgIGludHJba10uYmV6MiA9IGJlejI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlcyA9IHJlcy5jb25jYXQoaW50cik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuXG5mdW5jdGlvbiBwYXRoVG9BYnNvbHV0ZShwYXRoQXJyYXkpIHtcbiAgdmFyIHB0aCA9IHBhdGhzKHBhdGhBcnJheSk7XG5cbiAgaWYgKHB0aC5hYnMpIHtcbiAgICByZXR1cm4gcGF0aENsb25lKHB0aC5hYnMpO1xuICB9XG5cbiAgaWYgKCFpc0FycmF5KHBhdGhBcnJheSkgfHwgIWlzQXJyYXkocGF0aEFycmF5ICYmIHBhdGhBcnJheVswXSkpIHsgLy8gcm91Z2ggYXNzdW1wdGlvblxuICAgIHBhdGhBcnJheSA9IHBhcnNlUGF0aFN0cmluZyhwYXRoQXJyYXkpO1xuICB9XG5cbiAgaWYgKCFwYXRoQXJyYXkgfHwgIXBhdGhBcnJheS5sZW5ndGgpIHtcbiAgICByZXR1cm4gW1snTScsIDAsIDBdXTtcbiAgfVxuXG4gIHZhciByZXMgPSBbXSxcbiAgICAgIHggPSAwLFxuICAgICAgeSA9IDAsXG4gICAgICBteCA9IDAsXG4gICAgICBteSA9IDAsXG4gICAgICBzdGFydCA9IDAsXG4gICAgICBwYTA7XG5cbiAgaWYgKHBhdGhBcnJheVswXVswXSA9PSAnTScpIHtcbiAgICB4ID0gK3BhdGhBcnJheVswXVsxXTtcbiAgICB5ID0gK3BhdGhBcnJheVswXVsyXTtcbiAgICBteCA9IHg7XG4gICAgbXkgPSB5O1xuICAgIHN0YXJ0Kys7XG4gICAgcmVzWzBdID0gWydNJywgeCwgeV07XG4gIH1cblxuICBmb3IgKHZhciByLCBwYSwgaSA9IHN0YXJ0LCBpaSA9IHBhdGhBcnJheS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgcmVzLnB1c2gociA9IFtdKTtcbiAgICBwYSA9IHBhdGhBcnJheVtpXTtcbiAgICBwYTAgPSBwYVswXTtcblxuICAgIGlmIChwYTAgIT0gcGEwLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgIHJbMF0gPSBwYTAudG9VcHBlckNhc2UoKTtcblxuICAgICAgc3dpdGNoIChyWzBdKSB7XG4gICAgICBjYXNlICdBJzpcbiAgICAgICAgclsxXSA9IHBhWzFdO1xuICAgICAgICByWzJdID0gcGFbMl07XG4gICAgICAgIHJbM10gPSBwYVszXTtcbiAgICAgICAgcls0XSA9IHBhWzRdO1xuICAgICAgICByWzVdID0gcGFbNV07XG4gICAgICAgIHJbNl0gPSArcGFbNl0gKyB4O1xuICAgICAgICByWzddID0gK3BhWzddICsgeTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdWJzpcbiAgICAgICAgclsxXSA9ICtwYVsxXSArIHk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnSCc6XG4gICAgICAgIHJbMV0gPSArcGFbMV0gKyB4O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ00nOlxuICAgICAgICBteCA9ICtwYVsxXSArIHg7XG4gICAgICAgIG15ID0gK3BhWzJdICsgeTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGZvciAodmFyIGogPSAxLCBqaiA9IHBhLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgICByW2pdID0gK3BhW2pdICsgKChqICUgMikgPyB4IDogeSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgayA9IDAsIGtrID0gcGEubGVuZ3RoOyBrIDwga2s7IGsrKykge1xuICAgICAgICByW2tdID0gcGFba107XG4gICAgICB9XG4gICAgfVxuICAgIHBhMCA9IHBhMC50b1VwcGVyQ2FzZSgpO1xuXG4gICAgc3dpdGNoIChyWzBdKSB7XG4gICAgY2FzZSAnWic6XG4gICAgICB4ID0gK214O1xuICAgICAgeSA9ICtteTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ0gnOlxuICAgICAgeCA9IHJbMV07XG4gICAgICBicmVhaztcbiAgICBjYXNlICdWJzpcbiAgICAgIHkgPSByWzFdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnTSc6XG4gICAgICBteCA9IHJbci5sZW5ndGggLSAyXTtcbiAgICAgIG15ID0gcltyLmxlbmd0aCAtIDFdO1xuICAgIGRlZmF1bHQ6XG4gICAgICB4ID0gcltyLmxlbmd0aCAtIDJdO1xuICAgICAgeSA9IHJbci5sZW5ndGggLSAxXTtcbiAgICB9XG4gIH1cblxuICByZXMudG9TdHJpbmcgPSBwYXRoVG9TdHJpbmc7XG4gIHB0aC5hYnMgPSBwYXRoQ2xvbmUocmVzKTtcblxuICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBpc0xpbmUoYmV6KSB7XG4gIHJldHVybiAoXG4gICAgYmV6WzBdID09PSBiZXpbMl0gJiZcbiAgICBiZXpbMV0gPT09IGJlelszXSAmJlxuICAgIGJlels0XSA9PT0gYmV6WzZdICYmXG4gICAgYmV6WzVdID09PSBiZXpbN11cbiAgKTtcbn1cblxuZnVuY3Rpb24gbGluZVRvQ3VydmUoeDEsIHkxLCB4MiwgeTIpIHtcbiAgcmV0dXJuIFtcbiAgICB4MSwgeTEsIHgyLFxuICAgIHkyLCB4MiwgeTJcbiAgXTtcbn1cblxuZnVuY3Rpb24gcXViaWNUb0N1cnZlKHgxLCB5MSwgYXgsIGF5LCB4MiwgeTIpIHtcbiAgdmFyIF8xMyA9IDEgLyAzLFxuICAgICAgXzIzID0gMiAvIDM7XG5cbiAgcmV0dXJuIFtcbiAgICBfMTMgKiB4MSArIF8yMyAqIGF4LFxuICAgIF8xMyAqIHkxICsgXzIzICogYXksXG4gICAgXzEzICogeDIgKyBfMjMgKiBheCxcbiAgICBfMTMgKiB5MiArIF8yMyAqIGF5LFxuICAgIHgyLFxuICAgIHkyXG4gIF07XG59XG5cbmZ1bmN0aW9uIGFyY1RvQ3VydmUoeDEsIHkxLCByeCwgcnksIGFuZ2xlLCBsYXJnZV9hcmNfZmxhZywgc3dlZXBfZmxhZywgeDIsIHkyLCByZWN1cnNpdmUpIHtcblxuICAvLyBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvZiB3aGVyZSB0aGlzIG1hdGggY2FtZSBmcm9tIHZpc2l0OlxuICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9pbXBsbm90ZS5odG1sI0FyY0ltcGxlbWVudGF0aW9uTm90ZXNcbiAgdmFyIF8xMjAgPSBQSSAqIDEyMCAvIDE4MCxcbiAgICAgIHJhZCA9IFBJIC8gMTgwICogKCthbmdsZSB8fCAwKSxcbiAgICAgIHJlcyA9IFtdLFxuICAgICAgeHksXG4gICAgICByb3RhdGUgPSBjYWNoZXIoZnVuY3Rpb24oeCwgeSwgcmFkKSB7XG4gICAgICAgIHZhciBYID0geCAqIG1hdGguY29zKHJhZCkgLSB5ICogbWF0aC5zaW4ocmFkKSxcbiAgICAgICAgICAgIFkgPSB4ICogbWF0aC5zaW4ocmFkKSArIHkgKiBtYXRoLmNvcyhyYWQpO1xuXG4gICAgICAgIHJldHVybiB7IHg6IFgsIHk6IFkgfTtcbiAgICAgIH0pO1xuXG4gIGlmICghcmVjdXJzaXZlKSB7XG4gICAgeHkgPSByb3RhdGUoeDEsIHkxLCAtcmFkKTtcbiAgICB4MSA9IHh5Lng7XG4gICAgeTEgPSB4eS55O1xuICAgIHh5ID0gcm90YXRlKHgyLCB5MiwgLXJhZCk7XG4gICAgeDIgPSB4eS54O1xuICAgIHkyID0geHkueTtcblxuICAgIHZhciB4ID0gKHgxIC0geDIpIC8gMixcbiAgICAgICAgeSA9ICh5MSAtIHkyKSAvIDI7XG5cbiAgICB2YXIgaCA9ICh4ICogeCkgLyAocnggKiByeCkgKyAoeSAqIHkpIC8gKHJ5ICogcnkpO1xuXG4gICAgaWYgKGggPiAxKSB7XG4gICAgICBoID0gbWF0aC5zcXJ0KGgpO1xuICAgICAgcnggPSBoICogcng7XG4gICAgICByeSA9IGggKiByeTtcbiAgICB9XG5cbiAgICB2YXIgcngyID0gcnggKiByeCxcbiAgICAgICAgcnkyID0gcnkgKiByeSxcbiAgICAgICAgayA9IChsYXJnZV9hcmNfZmxhZyA9PSBzd2VlcF9mbGFnID8gLTEgOiAxKSAqXG4gICAgICAgICAgICBtYXRoLnNxcnQoYWJzKChyeDIgKiByeTIgLSByeDIgKiB5ICogeSAtIHJ5MiAqIHggKiB4KSAvIChyeDIgKiB5ICogeSArIHJ5MiAqIHggKiB4KSkpLFxuICAgICAgICBjeCA9IGsgKiByeCAqIHkgLyByeSArICh4MSArIHgyKSAvIDIsXG4gICAgICAgIGN5ID0gayAqIC1yeSAqIHggLyByeCArICh5MSArIHkyKSAvIDIsXG4gICAgICAgIGYxID0gbWF0aC5hc2luKCgoeTEgLSBjeSkgLyByeSkudG9GaXhlZCg5KSksXG4gICAgICAgIGYyID0gbWF0aC5hc2luKCgoeTIgLSBjeSkgLyByeSkudG9GaXhlZCg5KSk7XG5cbiAgICBmMSA9IHgxIDwgY3ggPyBQSSAtIGYxIDogZjE7XG4gICAgZjIgPSB4MiA8IGN4ID8gUEkgLSBmMiA6IGYyO1xuICAgIGYxIDwgMCAmJiAoZjEgPSBQSSAqIDIgKyBmMSk7XG4gICAgZjIgPCAwICYmIChmMiA9IFBJICogMiArIGYyKTtcblxuICAgIGlmIChzd2VlcF9mbGFnICYmIGYxID4gZjIpIHtcbiAgICAgIGYxID0gZjEgLSBQSSAqIDI7XG4gICAgfVxuICAgIGlmICghc3dlZXBfZmxhZyAmJiBmMiA+IGYxKSB7XG4gICAgICBmMiA9IGYyIC0gUEkgKiAyO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmMSA9IHJlY3Vyc2l2ZVswXTtcbiAgICBmMiA9IHJlY3Vyc2l2ZVsxXTtcbiAgICBjeCA9IHJlY3Vyc2l2ZVsyXTtcbiAgICBjeSA9IHJlY3Vyc2l2ZVszXTtcbiAgfVxuXG4gIHZhciBkZiA9IGYyIC0gZjE7XG5cbiAgaWYgKGFicyhkZikgPiBfMTIwKSB7XG4gICAgdmFyIGYyb2xkID0gZjIsXG4gICAgICAgIHgyb2xkID0geDIsXG4gICAgICAgIHkyb2xkID0geTI7XG5cbiAgICBmMiA9IGYxICsgXzEyMCAqIChzd2VlcF9mbGFnICYmIGYyID4gZjEgPyAxIDogLTEpO1xuICAgIHgyID0gY3ggKyByeCAqIG1hdGguY29zKGYyKTtcbiAgICB5MiA9IGN5ICsgcnkgKiBtYXRoLnNpbihmMik7XG4gICAgcmVzID0gYXJjVG9DdXJ2ZSh4MiwgeTIsIHJ4LCByeSwgYW5nbGUsIDAsIHN3ZWVwX2ZsYWcsIHgyb2xkLCB5Mm9sZCwgW2YyLCBmMm9sZCwgY3gsIGN5XSk7XG4gIH1cblxuICBkZiA9IGYyIC0gZjE7XG5cbiAgdmFyIGMxID0gbWF0aC5jb3MoZjEpLFxuICAgICAgczEgPSBtYXRoLnNpbihmMSksXG4gICAgICBjMiA9IG1hdGguY29zKGYyKSxcbiAgICAgIHMyID0gbWF0aC5zaW4oZjIpLFxuICAgICAgdCA9IG1hdGgudGFuKGRmIC8gNCksXG4gICAgICBoeCA9IDQgLyAzICogcnggKiB0LFxuICAgICAgaHkgPSA0IC8gMyAqIHJ5ICogdCxcbiAgICAgIG0xID0gW3gxLCB5MV0sXG4gICAgICBtMiA9IFt4MSArIGh4ICogczEsIHkxIC0gaHkgKiBjMV0sXG4gICAgICBtMyA9IFt4MiArIGh4ICogczIsIHkyIC0gaHkgKiBjMl0sXG4gICAgICBtNCA9IFt4MiwgeTJdO1xuXG4gIG0yWzBdID0gMiAqIG0xWzBdIC0gbTJbMF07XG4gIG0yWzFdID0gMiAqIG0xWzFdIC0gbTJbMV07XG5cbiAgaWYgKHJlY3Vyc2l2ZSkge1xuICAgIHJldHVybiBbbTIsIG0zLCBtNF0uY29uY2F0KHJlcyk7XG4gIH0gZWxzZSB7XG4gICAgcmVzID0gW20yLCBtMywgbTRdLmNvbmNhdChyZXMpLmpvaW4oKS5zcGxpdCgnLCcpO1xuICAgIHZhciBuZXdyZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHJlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICBuZXdyZXNbaV0gPSBpICUgMiA/IHJvdGF0ZShyZXNbaSAtIDFdLCByZXNbaV0sIHJhZCkueSA6IHJvdGF0ZShyZXNbaV0sIHJlc1tpICsgMV0sIHJhZCkueDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3cmVzO1xuICB9XG59XG5cbi8vIFJldHVybnMgYm91bmRpbmcgYm94IG9mIGN1YmljIGJlemllciBjdXJ2ZS5cbi8vIFNvdXJjZTogaHR0cDovL2Jsb2cuaGFja2Vycy1jYWZlLm5ldC8yMDA5LzA2L2hvdy10by1jYWxjdWxhdGUtYmV6aWVyLWN1cnZlcy1ib3VuZGluZy5odG1sXG4vLyBPcmlnaW5hbCB2ZXJzaW9uOiBOSVNISU8gSGlyb2thenVcbi8vIE1vZGlmaWNhdGlvbnM6IGh0dHBzOi8vZ2l0aHViLmNvbS90aW1vMjIzNDVcbmZ1bmN0aW9uIGN1cnZlQkJveCh4MCwgeTAsIHgxLCB5MSwgeDIsIHkyLCB4MywgeTMpIHtcbiAgdmFyIHR2YWx1ZXMgPSBbXSxcbiAgICAgIGJvdW5kcyA9IFtbXSwgW11dLFxuICAgICAgYSwgYiwgYywgdCwgdDEsIHQyLCBiMmFjLCBzcXJ0YjJhYztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IDI7ICsraSkge1xuXG4gICAgaWYgKGkgPT0gMCkge1xuICAgICAgYiA9IDYgKiB4MCAtIDEyICogeDEgKyA2ICogeDI7XG4gICAgICBhID0gLTMgKiB4MCArIDkgKiB4MSAtIDkgKiB4MiArIDMgKiB4MztcbiAgICAgIGMgPSAzICogeDEgLSAzICogeDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGIgPSA2ICogeTAgLSAxMiAqIHkxICsgNiAqIHkyO1xuICAgICAgYSA9IC0zICogeTAgKyA5ICogeTEgLSA5ICogeTIgKyAzICogeTM7XG4gICAgICBjID0gMyAqIHkxIC0gMyAqIHkwO1xuICAgIH1cblxuICAgIGlmIChhYnMoYSkgPCAxZS0xMikge1xuXG4gICAgICBpZiAoYWJzKGIpIDwgMWUtMTIpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHQgPSAtYyAvIGI7XG5cbiAgICAgIGlmICgwIDwgdCAmJiB0IDwgMSkge1xuICAgICAgICB0dmFsdWVzLnB1c2godCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGIyYWMgPSBiICogYiAtIDQgKiBjICogYTtcbiAgICBzcXJ0YjJhYyA9IG1hdGguc3FydChiMmFjKTtcblxuICAgIGlmIChiMmFjIDwgMCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgdDEgPSAoLWIgKyBzcXJ0YjJhYykgLyAoMiAqIGEpO1xuXG4gICAgaWYgKDAgPCB0MSAmJiB0MSA8IDEpIHtcbiAgICAgIHR2YWx1ZXMucHVzaCh0MSk7XG4gICAgfVxuXG4gICAgdDIgPSAoLWIgLSBzcXJ0YjJhYykgLyAoMiAqIGEpO1xuXG4gICAgaWYgKDAgPCB0MiAmJiB0MiA8IDEpIHtcbiAgICAgIHR2YWx1ZXMucHVzaCh0Mik7XG4gICAgfVxuICB9XG5cbiAgdmFyIGogPSB0dmFsdWVzLmxlbmd0aCxcbiAgICAgIGpsZW4gPSBqLFxuICAgICAgbXQ7XG5cbiAgd2hpbGUgKGotLSkge1xuICAgIHQgPSB0dmFsdWVzW2pdO1xuICAgIG10ID0gMSAtIHQ7XG4gICAgYm91bmRzWzBdW2pdID0gKG10ICogbXQgKiBtdCAqIHgwKSArICgzICogbXQgKiBtdCAqIHQgKiB4MSkgKyAoMyAqIG10ICogdCAqIHQgKiB4MikgKyAodCAqIHQgKiB0ICogeDMpO1xuICAgIGJvdW5kc1sxXVtqXSA9IChtdCAqIG10ICogbXQgKiB5MCkgKyAoMyAqIG10ICogbXQgKiB0ICogeTEpICsgKDMgKiBtdCAqIHQgKiB0ICogeTIpICsgKHQgKiB0ICogdCAqIHkzKTtcbiAgfVxuXG4gIGJvdW5kc1swXVtqbGVuXSA9IHgwO1xuICBib3VuZHNbMV1bamxlbl0gPSB5MDtcbiAgYm91bmRzWzBdW2psZW4gKyAxXSA9IHgzO1xuICBib3VuZHNbMV1bamxlbiArIDFdID0geTM7XG4gIGJvdW5kc1swXS5sZW5ndGggPSBib3VuZHNbMV0ubGVuZ3RoID0gamxlbiArIDI7XG5cbiAgcmV0dXJuIHtcbiAgICB4MDogbW1pbi5hcHBseSgwLCBib3VuZHNbMF0pLFxuICAgIHkwOiBtbWluLmFwcGx5KDAsIGJvdW5kc1sxXSksXG4gICAgeDE6IG1tYXguYXBwbHkoMCwgYm91bmRzWzBdKSxcbiAgICB5MTogbW1heC5hcHBseSgwLCBib3VuZHNbMV0pXG4gIH07XG59XG5cbmZ1bmN0aW9uIHBhdGhUb0N1cnZlKHBhdGgpIHtcblxuICB2YXIgcHRoID0gcGF0aHMocGF0aCk7XG5cbiAgLy8gcmV0dXJuIGNhY2hlZCBjdXJ2ZSwgaWYgZXhpc3RpbmdcbiAgaWYgKHB0aC5jdXJ2ZSkge1xuICAgIHJldHVybiBwYXRoQ2xvbmUocHRoLmN1cnZlKTtcbiAgfVxuXG4gIHZhciBjdXJ2ZWRQYXRoID0gcGF0aFRvQWJzb2x1dGUocGF0aCksXG4gICAgICBhdHRycyA9IHsgeDogMCwgeTogMCwgYng6IDAsIGJ5OiAwLCBYOiAwLCBZOiAwLCBxeDogbnVsbCwgcXk6IG51bGwgfSxcbiAgICAgIHByb2Nlc3NQYXRoID0gZnVuY3Rpb24ocGF0aCwgZCwgcGF0aENvbW1hbmQpIHtcbiAgICAgICAgdmFyIG54LCBueTtcblxuICAgICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgICByZXR1cm4gWydDJywgZC54LCBkLnksIGQueCwgZC55LCBkLngsIGQueV07XG4gICAgICAgIH1cblxuICAgICAgICAhKHBhdGhbMF0gaW4geyBUOiAxLCBROiAxIH0pICYmIChkLnF4ID0gZC5xeSA9IG51bGwpO1xuXG4gICAgICAgIHN3aXRjaCAocGF0aFswXSkge1xuICAgICAgICBjYXNlICdNJzpcbiAgICAgICAgICBkLlggPSBwYXRoWzFdO1xuICAgICAgICAgIGQuWSA9IHBhdGhbMl07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgIHBhdGggPSBbJ0MnXS5jb25jYXQoYXJjVG9DdXJ2ZS5hcHBseSgwLCBbZC54LCBkLnldLmNvbmNhdChwYXRoLnNsaWNlKDEpKSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdTJzpcbiAgICAgICAgICBpZiAocGF0aENvbW1hbmQgPT0gJ0MnIHx8IHBhdGhDb21tYW5kID09ICdTJykge1xuXG4gICAgICAgICAgICAvLyBJbiAnUycgY2FzZSB3ZSBoYXZlIHRvIHRha2UgaW50byBhY2NvdW50LCBpZiB0aGUgcHJldmlvdXMgY29tbWFuZCBpcyBDL1MuXG4gICAgICAgICAgICBueCA9IGQueCAqIDIgLSBkLmJ4O1xuXG4gICAgICAgICAgICAvLyBBbmQgcmVmbGVjdCB0aGUgcHJldmlvdXNcbiAgICAgICAgICAgIG55ID0gZC55ICogMiAtIGQuYnk7XG5cbiAgICAgICAgICAgIC8vIGNvbW1hbmQncyBjb250cm9sIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBjdXJyZW50IHBvaW50LlxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcblxuICAgICAgICAgICAgLy8gb3Igc29tZSBlbHNlIG9yIG5vdGhpbmdcbiAgICAgICAgICAgIG54ID0gZC54O1xuICAgICAgICAgICAgbnkgPSBkLnk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhdGggPSBbJ0MnLCBueCwgbnldLmNvbmNhdChwYXRoLnNsaWNlKDEpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnVCc6XG4gICAgICAgICAgaWYgKHBhdGhDb21tYW5kID09ICdRJyB8fCBwYXRoQ29tbWFuZCA9PSAnVCcpIHtcblxuICAgICAgICAgICAgLy8gSW4gJ1QnIGNhc2Ugd2UgaGF2ZSB0byB0YWtlIGludG8gYWNjb3VudCwgaWYgdGhlIHByZXZpb3VzIGNvbW1hbmQgaXMgUS9ULlxuICAgICAgICAgICAgZC5xeCA9IGQueCAqIDIgLSBkLnF4O1xuXG4gICAgICAgICAgICAvLyBBbmQgbWFrZSBhIHJlZmxlY3Rpb24gc2ltaWxhclxuICAgICAgICAgICAgZC5xeSA9IGQueSAqIDIgLSBkLnF5O1xuXG4gICAgICAgICAgICAvLyB0byBjYXNlICdTJy5cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG5cbiAgICAgICAgICAgIC8vIG9yIHNvbWV0aGluZyBlbHNlIG9yIG5vdGhpbmdcbiAgICAgICAgICAgIGQucXggPSBkLng7XG4gICAgICAgICAgICBkLnF5ID0gZC55O1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXRoID0gWydDJ10uY29uY2F0KHF1YmljVG9DdXJ2ZShkLngsIGQueSwgZC5xeCwgZC5xeSwgcGF0aFsxXSwgcGF0aFsyXSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdRJzpcbiAgICAgICAgICBkLnF4ID0gcGF0aFsxXTtcbiAgICAgICAgICBkLnF5ID0gcGF0aFsyXTtcbiAgICAgICAgICBwYXRoID0gWydDJ10uY29uY2F0KHF1YmljVG9DdXJ2ZShkLngsIGQueSwgcGF0aFsxXSwgcGF0aFsyXSwgcGF0aFszXSwgcGF0aFs0XSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICBwYXRoID0gWydDJ10uY29uY2F0KGxpbmVUb0N1cnZlKGQueCwgZC55LCBwYXRoWzFdLCBwYXRoWzJdKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0gnOlxuICAgICAgICAgIHBhdGggPSBbJ0MnXS5jb25jYXQobGluZVRvQ3VydmUoZC54LCBkLnksIHBhdGhbMV0sIGQueSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdWJzpcbiAgICAgICAgICBwYXRoID0gWydDJ10uY29uY2F0KGxpbmVUb0N1cnZlKGQueCwgZC55LCBkLngsIHBhdGhbMV0pKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnWic6XG4gICAgICAgICAgcGF0aCA9IFsnQyddLmNvbmNhdChsaW5lVG9DdXJ2ZShkLngsIGQueSwgZC5YLCBkLlkpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgfSxcblxuICAgICAgZml4QXJjID0gZnVuY3Rpb24ocHAsIGkpIHtcblxuICAgICAgICBpZiAocHBbaV0ubGVuZ3RoID4gNykge1xuICAgICAgICAgIHBwW2ldLnNoaWZ0KCk7XG4gICAgICAgICAgdmFyIHBpID0gcHBbaV07XG5cbiAgICAgICAgICB3aGlsZSAocGkubGVuZ3RoKSB7XG4gICAgICAgICAgICBwYXRoQ29tbWFuZHNbaV0gPSAnQSc7IC8vIGlmIGNyZWF0ZWQgbXVsdGlwbGUgQzpzLCB0aGVpciBvcmlnaW5hbCBzZWcgaXMgc2F2ZWRcbiAgICAgICAgICAgIHBwLnNwbGljZShpKyssIDAsIFsnQyddLmNvbmNhdChwaS5zcGxpY2UoMCwgNikpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwcC5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgaWkgPSBjdXJ2ZWRQYXRoLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgcGF0aENvbW1hbmRzID0gW10sIC8vIHBhdGggY29tbWFuZHMgb2Ygb3JpZ2luYWwgcGF0aCBwXG4gICAgICBwZmlyc3QgPSAnJywgLy8gdGVtcG9yYXJ5IGhvbGRlciBmb3Igb3JpZ2luYWwgcGF0aCBjb21tYW5kXG4gICAgICBwYXRoQ29tbWFuZCA9ICcnOyAvLyBob2xkZXIgZm9yIHByZXZpb3VzIHBhdGggY29tbWFuZCBvZiBvcmlnaW5hbCBwYXRoXG5cbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gY3VydmVkUGF0aC5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgY3VydmVkUGF0aFtpXSAmJiAocGZpcnN0ID0gY3VydmVkUGF0aFtpXVswXSk7IC8vIHNhdmUgY3VycmVudCBwYXRoIGNvbW1hbmRcblxuICAgIGlmIChwZmlyc3QgIT0gJ0MnKSAvLyBDIGlzIG5vdCBzYXZlZCB5ZXQsIGJlY2F1c2UgaXQgbWF5IGJlIHJlc3VsdCBvZiBjb252ZXJzaW9uXG4gICAge1xuICAgICAgcGF0aENvbW1hbmRzW2ldID0gcGZpcnN0OyAvLyBTYXZlIGN1cnJlbnQgcGF0aCBjb21tYW5kXG4gICAgICBpICYmIChwYXRoQ29tbWFuZCA9IHBhdGhDb21tYW5kc1tpIC0gMV0pOyAvLyBHZXQgcHJldmlvdXMgcGF0aCBjb21tYW5kIHBhdGhDb21tYW5kXG4gICAgfVxuICAgIGN1cnZlZFBhdGhbaV0gPSBwcm9jZXNzUGF0aChjdXJ2ZWRQYXRoW2ldLCBhdHRycywgcGF0aENvbW1hbmQpOyAvLyBQcmV2aW91cyBwYXRoIGNvbW1hbmQgaXMgaW5wdXR0ZWQgdG8gcHJvY2Vzc1BhdGhcblxuICAgIGlmIChwYXRoQ29tbWFuZHNbaV0gIT0gJ0EnICYmIHBmaXJzdCA9PSAnQycpIHBhdGhDb21tYW5kc1tpXSA9ICdDJzsgLy8gQSBpcyB0aGUgb25seSBjb21tYW5kXG4gICAgLy8gd2hpY2ggbWF5IHByb2R1Y2UgbXVsdGlwbGUgQzpzXG4gICAgLy8gc28gd2UgaGF2ZSB0byBtYWtlIHN1cmUgdGhhdCBDIGlzIGFsc28gQyBpbiBvcmlnaW5hbCBwYXRoXG5cbiAgICBmaXhBcmMoY3VydmVkUGF0aCwgaSk7IC8vIGZpeEFyYyBhZGRzIGFsc28gdGhlIHJpZ2h0IGFtb3VudCBvZiBBOnMgdG8gcGF0aENvbW1hbmRzXG5cbiAgICB2YXIgc2VnID0gY3VydmVkUGF0aFtpXSxcbiAgICAgICAgc2VnbGVuID0gc2VnLmxlbmd0aDtcblxuICAgIGF0dHJzLnggPSBzZWdbc2VnbGVuIC0gMl07XG4gICAgYXR0cnMueSA9IHNlZ1tzZWdsZW4gLSAxXTtcbiAgICBhdHRycy5ieCA9IHRvRmxvYXQoc2VnW3NlZ2xlbiAtIDRdKSB8fCBhdHRycy54O1xuICAgIGF0dHJzLmJ5ID0gdG9GbG9hdChzZWdbc2VnbGVuIC0gM10pIHx8IGF0dHJzLnk7XG4gIH1cblxuICAvLyBjYWNoZSBjdXJ2ZVxuICBwdGguY3VydmUgPSBwYXRoQ2xvbmUoY3VydmVkUGF0aCk7XG5cbiAgcmV0dXJuIGN1cnZlZFBhdGg7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZmluZFBhdGhJbnRlcnNlY3Rpb25zO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/path-intersection/intersect.js\n");

/***/ }),

/***/ "./node_modules/tiny-svg/dist/index.esm.js":
/*!*************************************************!*\
  !*** ./node_modules/tiny-svg/dist/index.esm.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   append: () => (/* binding */ append),\n/* harmony export */   appendTo: () => (/* binding */ appendTo),\n/* harmony export */   attr: () => (/* binding */ attr),\n/* harmony export */   classes: () => (/* binding */ classes),\n/* harmony export */   clear: () => (/* binding */ clear),\n/* harmony export */   clone: () => (/* binding */ clone),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   createMatrix: () => (/* binding */ createMatrix),\n/* harmony export */   createPoint: () => (/* binding */ createPoint),\n/* harmony export */   createTransform: () => (/* binding */ createTransform),\n/* harmony export */   innerSVG: () => (/* binding */ innerSVG),\n/* harmony export */   off: () => (/* binding */ off),\n/* harmony export */   on: () => (/* binding */ on),\n/* harmony export */   prepend: () => (/* binding */ prepend),\n/* harmony export */   prependTo: () => (/* binding */ prependTo),\n/* harmony export */   remove: () => (/* binding */ remove),\n/* harmony export */   replace: () => (/* binding */ replace),\n/* harmony export */   select: () => (/* binding */ select),\n/* harmony export */   selectAll: () => (/* binding */ selectAll),\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\nfunction ensureImported(element, target) {\n\n  if (element.ownerDocument !== target.ownerDocument) {\n    try {\n\n      // may fail on webkit\n      return target.ownerDocument.importNode(element, true);\n    } catch (e) {\n\n      // ignore\n    }\n  }\n\n  return element;\n}\n\n/**\n * appendTo utility\n */\n\n/**\n * Append a node to a target element and return the appended node.\n *\n * @param  {SVGElement} element\n * @param  {SVGElement} target\n *\n * @return {SVGElement} the appended node\n */\nfunction appendTo(element, target) {\n  return target.appendChild(ensureImported(element, target));\n}\n\n/**\n * append utility\n */\n\n/**\n * Append a node to an element\n *\n * @param  {SVGElement} element\n * @param  {SVGElement} node\n *\n * @return {SVGElement} the element\n */\nfunction append(target, node) {\n  appendTo(node, target);\n  return target;\n}\n\n/**\n * attribute accessor utility\n */\n\nvar LENGTH_ATTR = 2;\n\nvar CSS_PROPERTIES = {\n  'alignment-baseline': 1,\n  'baseline-shift': 1,\n  'clip': 1,\n  'clip-path': 1,\n  'clip-rule': 1,\n  'color': 1,\n  'color-interpolation': 1,\n  'color-interpolation-filters': 1,\n  'color-profile': 1,\n  'color-rendering': 1,\n  'cursor': 1,\n  'direction': 1,\n  'display': 1,\n  'dominant-baseline': 1,\n  'enable-background': 1,\n  'fill': 1,\n  'fill-opacity': 1,\n  'fill-rule': 1,\n  'filter': 1,\n  'flood-color': 1,\n  'flood-opacity': 1,\n  'font': 1,\n  'font-family': 1,\n  'font-size': LENGTH_ATTR,\n  'font-size-adjust': 1,\n  'font-stretch': 1,\n  'font-style': 1,\n  'font-variant': 1,\n  'font-weight': 1,\n  'glyph-orientation-horizontal': 1,\n  'glyph-orientation-vertical': 1,\n  'image-rendering': 1,\n  'kerning': 1,\n  'letter-spacing': 1,\n  'lighting-color': 1,\n  'marker': 1,\n  'marker-end': 1,\n  'marker-mid': 1,\n  'marker-start': 1,\n  'mask': 1,\n  'opacity': 1,\n  'overflow': 1,\n  'pointer-events': 1,\n  'shape-rendering': 1,\n  'stop-color': 1,\n  'stop-opacity': 1,\n  'stroke': 1,\n  'stroke-dasharray': 1,\n  'stroke-dashoffset': 1,\n  'stroke-linecap': 1,\n  'stroke-linejoin': 1,\n  'stroke-miterlimit': 1,\n  'stroke-opacity': 1,\n  'stroke-width': LENGTH_ATTR,\n  'text-anchor': 1,\n  'text-decoration': 1,\n  'text-rendering': 1,\n  'unicode-bidi': 1,\n  'visibility': 1,\n  'word-spacing': 1,\n  'writing-mode': 1\n};\n\n\nfunction getAttribute(node, name) {\n  if (CSS_PROPERTIES[name]) {\n    return node.style[name];\n  } else {\n    return node.getAttributeNS(null, name);\n  }\n}\n\nfunction setAttribute(node, name, value) {\n  var hyphenated = name.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n\n  var type = CSS_PROPERTIES[hyphenated];\n\n  if (type) {\n\n    // append pixel unit, unless present\n    if (type === LENGTH_ATTR && typeof value === 'number') {\n      value = String(value) + 'px';\n    }\n\n    node.style[hyphenated] = value;\n  } else {\n    node.setAttributeNS(null, name, value);\n  }\n}\n\nfunction setAttributes(node, attrs) {\n\n  var names = Object.keys(attrs), i, name;\n\n  for (i = 0, name; (name = names[i]); i++) {\n    setAttribute(node, name, attrs[name]);\n  }\n}\n\n/**\n * Gets or sets raw attributes on a node.\n *\n * @param  {SVGElement} node\n * @param  {Object} [attrs]\n * @param  {String} [name]\n * @param  {String} [value]\n *\n * @return {String}\n */\nfunction attr(node, name, value) {\n  if (typeof name === 'string') {\n    if (value !== undefined) {\n      setAttribute(node, name, value);\n    } else {\n      return getAttribute(node, name);\n    }\n  } else {\n    setAttributes(node, name);\n  }\n\n  return node;\n}\n\n/**\r\n * Taken from https://github.com/component/classes\r\n *\r\n * Without the component bits.\r\n */\r\n\r\n/**\r\n * toString reference.\r\n */\r\n\r\nconst toString = Object.prototype.toString;\r\n\r\n/**\r\n  * Wrap `el` in a `ClassList`.\r\n  *\r\n  * @param {Element} el\r\n  * @return {ClassList}\r\n  * @api public\r\n  */\r\n\r\nfunction classes(el) {\r\n  return new ClassList(el);\r\n}\r\n\r\nfunction ClassList(el) {\r\n  if (!el || !el.nodeType) {\r\n    throw new Error('A DOM element reference is required');\r\n  }\r\n  this.el = el;\r\n  this.list = el.classList;\r\n}\r\n\r\n/**\r\n  * Add class `name` if not already present.\r\n  *\r\n  * @param {String} name\r\n  * @return {ClassList}\r\n  * @api public\r\n  */\r\n\r\nClassList.prototype.add = function(name) {\r\n  this.list.add(name);\r\n  return this;\r\n};\r\n\r\n/**\r\n  * Remove class `name` when present, or\r\n  * pass a regular expression to remove\r\n  * any which match.\r\n  *\r\n  * @param {String|RegExp} name\r\n  * @return {ClassList}\r\n  * @api public\r\n  */\r\n\r\nClassList.prototype.remove = function(name) {\r\n  if ('[object RegExp]' == toString.call(name)) {\r\n    return this.removeMatching(name);\r\n  }\r\n\r\n  this.list.remove(name);\r\n  return this;\r\n};\r\n\r\n/**\r\n  * Remove all classes matching `re`.\r\n  *\r\n  * @param {RegExp} re\r\n  * @return {ClassList}\r\n  * @api private\r\n  */\r\n\r\nClassList.prototype.removeMatching = function(re) {\r\n  const arr = this.array();\r\n  for (let i = 0; i < arr.length; i++) {\r\n    if (re.test(arr[i])) {\r\n      this.remove(arr[i]);\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n  * Toggle class `name`, can force state via `force`.\r\n  *\r\n  * For browsers that support classList, but do not support `force` yet,\r\n  * the mistake will be detected and corrected.\r\n  *\r\n  * @param {String} name\r\n  * @param {Boolean} force\r\n  * @return {ClassList}\r\n  * @api public\r\n  */\r\n\r\nClassList.prototype.toggle = function(name, force) {\r\n  if ('undefined' !== typeof force) {\r\n    if (force !== this.list.toggle(name, force)) {\r\n      this.list.toggle(name); // toggle again to correct\r\n    }\r\n  } else {\r\n    this.list.toggle(name);\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n  * Return an array of classes.\r\n  *\r\n  * @return {Array}\r\n  * @api public\r\n  */\r\n\r\nClassList.prototype.array = function() {\r\n  return Array.from(this.list);\r\n};\r\n\r\n/**\r\n  * Check if class `name` is present.\r\n  *\r\n  * @param {String} name\r\n  * @return {ClassList}\r\n  * @api public\r\n  */\r\n\r\nClassList.prototype.has =\r\n ClassList.prototype.contains = function(name) {\r\n   return this.list.contains(name);\r\n };\n\nfunction remove(element) {\n  var parent = element.parentNode;\n\n  if (parent) {\n    parent.removeChild(element);\n  }\n\n  return element;\n}\n\n/**\n * Clear utility\n */\n\n/**\n * Removes all children from the given element\n *\n * @param  {DOMElement} element\n * @return {DOMElement} the element (for chaining)\n */\nfunction clear(element) {\n  var child;\n\n  while ((child = element.firstChild)) {\n    remove(child);\n  }\n\n  return element;\n}\n\nfunction clone(element) {\n  return element.cloneNode(true);\n}\n\nvar ns = {\n  svg: 'http://www.w3.org/2000/svg'\n};\n\n/**\n * DOM parsing utility\n */\n\nvar SVG_START = '<svg xmlns=\"' + ns.svg + '\"';\n\nfunction parse(svg) {\n\n  var unwrap = false;\n\n  // ensure we import a valid svg document\n  if (svg.substring(0, 4) === '<svg') {\n    if (svg.indexOf(ns.svg) === -1) {\n      svg = SVG_START + svg.substring(4);\n    }\n  } else {\n\n    // namespace svg\n    svg = SVG_START + '>' + svg + '</svg>';\n    unwrap = true;\n  }\n\n  var parsed = parseDocument(svg);\n\n  if (!unwrap) {\n    return parsed;\n  }\n\n  var fragment = document.createDocumentFragment();\n\n  var parent = parsed.firstChild;\n\n  while (parent.firstChild) {\n    fragment.appendChild(parent.firstChild);\n  }\n\n  return fragment;\n}\n\nfunction parseDocument(svg) {\n\n  var parser;\n\n  // parse\n  parser = new DOMParser();\n  parser.async = false;\n\n  return parser.parseFromString(svg, 'text/xml');\n}\n\n/**\n * Create utility for SVG elements\n */\n\n\n/**\n * Create a specific type from name or SVG markup.\n *\n * @param {String} name the name or markup of the element\n * @param {Object} [attrs] attributes to set on the element\n *\n * @returns {SVGElement}\n */\nfunction create(name, attrs) {\n  var element;\n\n  if (name.charAt(0) === '<') {\n    element = parse(name).firstChild;\n    element = document.importNode(element, true);\n  } else {\n    element = document.createElementNS(ns.svg, name);\n  }\n\n  if (attrs) {\n    attr(element, attrs);\n  }\n\n  return element;\n}\n\n/**\n * Events handling utility\n */\n\nfunction on(node, event, listener, useCapture) {\n  node.addEventListener(event, listener, useCapture);\n}\n\nfunction off(node, event, listener, useCapture) {\n  node.removeEventListener(event, listener, useCapture);\n}\n\n/**\n * Geometry helpers\n */\n\n// fake node used to instantiate svg geometry elements\nvar node = null;\n\nfunction getNode() {\n  if (node === null) {\n    node = create('svg');\n  }\n\n  return node;\n}\n\nfunction extend(object, props) {\n  var i, k, keys = Object.keys(props);\n\n  for (i = 0; (k = keys[i]); i++) {\n    object[k] = props[k];\n  }\n\n  return object;\n}\n\n\nfunction createPoint(x, y) {\n  var point = getNode().createSVGPoint();\n\n  switch (arguments.length) {\n  case 0:\n    return point;\n  case 2:\n    x = {\n      x: x,\n      y: y\n    };\n    break;\n  }\n\n  return extend(point, x);\n}\n\n/**\n * Create matrix via args.\n *\n * @example\n *\n * createMatrix({ a: 1, b: 1 });\n * createMatrix();\n * createMatrix(1, 2, 0, 0, 30, 20);\n *\n * @return {SVGMatrix}\n */\nfunction createMatrix(a, b, c, d, e, f) {\n  var matrix = getNode().createSVGMatrix();\n\n  switch (arguments.length) {\n  case 0:\n    return matrix;\n  case 1:\n    return extend(matrix, a);\n  case 6:\n    return extend(matrix, {\n      a: a,\n      b: b,\n      c: c,\n      d: d,\n      e: e,\n      f: f\n    });\n  }\n}\n\nfunction createTransform(matrix) {\n  if (matrix) {\n    return getNode().createSVGTransformFromMatrix(matrix);\n  } else {\n    return getNode().createSVGTransform();\n  }\n}\n\n/**\n * Serialization util\n */\n\nvar TEXT_ENTITIES = /([&<>]{1})/g;\nvar ATTR_ENTITIES = /([\\n\\r\"]{1})/g;\n\nvar ENTITY_REPLACEMENT = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '\\''\n};\n\nfunction escape(str, pattern) {\n\n  function replaceFn(match, entity) {\n    return ENTITY_REPLACEMENT[entity] || entity;\n  }\n\n  return str.replace(pattern, replaceFn);\n}\n\nfunction serialize(node, output) {\n\n  var i, len, attrMap, attrNode, childNodes;\n\n  switch (node.nodeType) {\n\n  // TEXT\n  case 3:\n\n    // replace special XML characters\n    output.push(escape(node.textContent, TEXT_ENTITIES));\n    break;\n\n  // ELEMENT\n  case 1:\n    output.push('<', node.tagName);\n\n    if (node.hasAttributes()) {\n      attrMap = node.attributes;\n      for (i = 0, len = attrMap.length; i < len; ++i) {\n        attrNode = attrMap.item(i);\n        output.push(' ', attrNode.name, '=\"', escape(attrNode.value, ATTR_ENTITIES), '\"');\n      }\n    }\n\n    if (node.hasChildNodes()) {\n      output.push('>');\n      childNodes = node.childNodes;\n      for (i = 0, len = childNodes.length; i < len; ++i) {\n        serialize(childNodes.item(i), output);\n      }\n      output.push('</', node.tagName, '>');\n    } else {\n      output.push('/>');\n    }\n    break;\n\n  // COMMENT\n  case 8:\n    output.push('<!--', escape(node.nodeValue, TEXT_ENTITIES), '-->');\n    break;\n\n  // CDATA\n  case 4:\n    output.push('<![CDATA[', node.nodeValue, ']]>');\n    break;\n\n  default:\n    throw new Error('unable to handle node ' + node.nodeType);\n  }\n\n  return output;\n}\n\n/**\n * innerHTML like functionality for SVG elements.\n * based on innerSVG (https://code.google.com/p/innersvg)\n */\n\n\nfunction set(element, svg) {\n\n  var parsed = parse(svg);\n\n  // clear element contents\n  clear(element);\n\n  if (!svg) {\n    return;\n  }\n\n  if (!isFragment(parsed)) {\n\n    // extract <svg> from parsed document\n    parsed = parsed.documentElement;\n  }\n\n  var nodes = slice(parsed.childNodes);\n\n  // import + append each node\n  for (var i = 0; i < nodes.length; i++) {\n    appendTo(nodes[i], element);\n  }\n\n}\n\nfunction get(element) {\n  var child = element.firstChild,\n      output = [];\n\n  while (child) {\n    serialize(child, output);\n    child = child.nextSibling;\n  }\n\n  return output.join('');\n}\n\nfunction isFragment(node) {\n  return node.nodeName === '#document-fragment';\n}\n\nfunction innerSVG(element, svg) {\n\n  if (svg !== undefined) {\n\n    try {\n      set(element, svg);\n    } catch (e) {\n      throw new Error('error parsing SVG: ' + e.message);\n    }\n\n    return element;\n  } else {\n    return get(element);\n  }\n}\n\n\nfunction slice(arr) {\n  return Array.prototype.slice.call(arr);\n}\n\n/**\n * Selection utilities\n */\n\nfunction select(node, selector) {\n  return node.querySelector(selector);\n}\n\nfunction selectAll(node, selector) {\n  var nodes = node.querySelectorAll(selector);\n\n  return [].map.call(nodes, function(element) {\n    return element;\n  });\n}\n\n/**\n * prependTo utility\n */\n\n/**\n * Prepend a node to a target element and return the prepended node.\n *\n * @param  {SVGElement} node\n * @param  {SVGElement} target\n *\n * @return {SVGElement} the prepended node\n */\nfunction prependTo(node, target) {\n  return target.insertBefore(ensureImported(node, target), target.firstChild || null);\n}\n\n/**\n * prepend utility\n */\n\n/**\n * Prepend a node to a target element\n *\n * @param  {SVGElement} target\n * @param  {SVGElement} node\n *\n * @return {SVGElement} the target element\n */\nfunction prepend(target, node) {\n  prependTo(node, target);\n  return target;\n}\n\n/**\n * Replace utility\n */\n\nfunction replace(element, replacement) {\n  element.parentNode.replaceChild(ensureImported(replacement, element), element);\n  return replacement;\n}\n\n/**\n * transform accessor utility\n */\n\nfunction wrapMatrix(transformList, transform) {\n  if (transform instanceof SVGMatrix) {\n    return transformList.createSVGTransformFromMatrix(transform);\n  }\n\n  return transform;\n}\n\n\nfunction setTransforms(transformList, transforms) {\n  var i, t;\n\n  transformList.clear();\n\n  for (i = 0; (t = transforms[i]); i++) {\n    transformList.appendItem(wrapMatrix(transformList, t));\n  }\n}\n\n/**\n * Get or set the transforms on the given node.\n *\n * @param {SVGElement} node\n * @param  {SVGTransform|SVGMatrix|Array<SVGTransform|SVGMatrix>} [transforms]\n *\n * @return {SVGTransform} the consolidated transform\n */\nfunction transform(node, transforms) {\n  var transformList = node.transform.baseVal;\n\n  if (transforms) {\n\n    if (!Array.isArray(transforms)) {\n      transforms = [ transforms ];\n    }\n\n    setTransforms(transformList, transforms);\n  }\n\n  return transformList.consolidate();\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdGlueS1zdmcvZGlzdC9pbmRleC5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEIsWUFBWSxZQUFZO0FBQ3hCO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEIsWUFBWSxZQUFZO0FBQ3hCO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFD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WTtBQUN4QjtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCLFlBQVksWUFBWTtBQUN4QjtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTs7QUFFQSxjQUFjLHFCQUFxQjtBQUNuQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFlBQVksc0RBQXNEO0FBQ2xFO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVtTSIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2tkYXlzLTIwMjMvLi9ub2RlX21vZHVsZXMvdGlueS1zdmcvZGlzdC9pbmRleC5lc20uanM/NmI4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBlbnN1cmVJbXBvcnRlZChlbGVtZW50LCB0YXJnZXQpIHtcblxuICBpZiAoZWxlbWVudC5vd25lckRvY3VtZW50ICE9PSB0YXJnZXQub3duZXJEb2N1bWVudCkge1xuICAgIHRyeSB7XG5cbiAgICAgIC8vIG1heSBmYWlsIG9uIHdlYmtpdFxuICAgICAgcmV0dXJuIHRhcmdldC5vd25lckRvY3VtZW50LmltcG9ydE5vZGUoZWxlbWVudCwgdHJ1ZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuXG4gICAgICAvLyBpZ25vcmVcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cblxuLyoqXG4gKiBhcHBlbmRUbyB1dGlsaXR5XG4gKi9cblxuLyoqXG4gKiBBcHBlbmQgYSBub2RlIHRvIGEgdGFyZ2V0IGVsZW1lbnQgYW5kIHJldHVybiB0aGUgYXBwZW5kZWQgbm9kZS5cbiAqXG4gKiBAcGFyYW0gIHtTVkdFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0gIHtTVkdFbGVtZW50fSB0YXJnZXRcbiAqXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fSB0aGUgYXBwZW5kZWQgbm9kZVxuICovXG5mdW5jdGlvbiBhcHBlbmRUbyhlbGVtZW50LCB0YXJnZXQpIHtcbiAgcmV0dXJuIHRhcmdldC5hcHBlbmRDaGlsZChlbnN1cmVJbXBvcnRlZChlbGVtZW50LCB0YXJnZXQpKTtcbn1cblxuLyoqXG4gKiBhcHBlbmQgdXRpbGl0eVxuICovXG5cbi8qKlxuICogQXBwZW5kIGEgbm9kZSB0byBhbiBlbGVtZW50XG4gKlxuICogQHBhcmFtICB7U1ZHRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtICB7U1ZHRWxlbWVudH0gbm9kZVxuICpcbiAqIEByZXR1cm4ge1NWR0VsZW1lbnR9IHRoZSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGFwcGVuZCh0YXJnZXQsIG5vZGUpIHtcbiAgYXBwZW5kVG8obm9kZSwgdGFyZ2V0KTtcbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuLyoqXG4gKiBhdHRyaWJ1dGUgYWNjZXNzb3IgdXRpbGl0eVxuICovXG5cbnZhciBMRU5HVEhfQVRUUiA9IDI7XG5cbnZhciBDU1NfUFJPUEVSVElFUyA9IHtcbiAgJ2FsaWdubWVudC1iYXNlbGluZSc6IDEsXG4gICdiYXNlbGluZS1zaGlmdCc6IDEsXG4gICdjbGlwJzogMSxcbiAgJ2NsaXAtcGF0aCc6IDEsXG4gICdjbGlwLXJ1bGUnOiAxLFxuICAnY29sb3InOiAxLFxuICAnY29sb3ItaW50ZXJwb2xhdGlvbic6IDEsXG4gICdjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMnOiAxLFxuICAnY29sb3ItcHJvZmlsZSc6IDEsXG4gICdjb2xvci1yZW5kZXJpbmcnOiAxLFxuICAnY3Vyc29yJzogMSxcbiAgJ2RpcmVjdGlvbic6IDEsXG4gICdkaXNwbGF5JzogMSxcbiAgJ2RvbWluYW50LWJhc2VsaW5lJzogMSxcbiAgJ2VuYWJsZS1iYWNrZ3JvdW5kJzogMSxcbiAgJ2ZpbGwnOiAxLFxuICAnZmlsbC1vcGFjaXR5JzogMSxcbiAgJ2ZpbGwtcnVsZSc6IDEsXG4gICdmaWx0ZXInOiAxLFxuICAnZmxvb2QtY29sb3InOiAxLFxuICAnZmxvb2Qtb3BhY2l0eSc6IDEsXG4gICdmb250JzogMSxcbiAgJ2ZvbnQtZmFtaWx5JzogMSxcbiAgJ2ZvbnQtc2l6ZSc6IExFTkdUSF9BVFRSLFxuICAnZm9udC1zaXplLWFkanVzdCc6IDEsXG4gICdmb250LXN0cmV0Y2gnOiAxLFxuICAnZm9udC1zdHlsZSc6IDEsXG4gICdmb250LXZhcmlhbnQnOiAxLFxuICAnZm9udC13ZWlnaHQnOiAxLFxuICAnZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbCc6IDEsXG4gICdnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbCc6IDEsXG4gICdpbWFnZS1yZW5kZXJpbmcnOiAxLFxuICAna2VybmluZyc6IDEsXG4gICdsZXR0ZXItc3BhY2luZyc6IDEsXG4gICdsaWdodGluZy1jb2xvcic6IDEsXG4gICdtYXJrZXInOiAxLFxuICAnbWFya2VyLWVuZCc6IDEsXG4gICdtYXJrZXItbWlkJzogMSxcbiAgJ21hcmtlci1zdGFydCc6IDEsXG4gICdtYXNrJzogMSxcbiAgJ29wYWNpdHknOiAxLFxuICAnb3ZlcmZsb3cnOiAxLFxuICAncG9pbnRlci1ldmVudHMnOiAxLFxuICAnc2hhcGUtcmVuZGVyaW5nJzogMSxcbiAgJ3N0b3AtY29sb3InOiAxLFxuICAnc3RvcC1vcGFjaXR5JzogMSxcbiAgJ3N0cm9rZSc6IDEsXG4gICdzdHJva2UtZGFzaGFycmF5JzogMSxcbiAgJ3N0cm9rZS1kYXNob2Zmc2V0JzogMSxcbiAgJ3N0cm9rZS1saW5lY2FwJzogMSxcbiAgJ3N0cm9rZS1saW5lam9pbic6IDEsXG4gICdzdHJva2UtbWl0ZXJsaW1pdCc6IDEsXG4gICdzdHJva2Utb3BhY2l0eSc6IDEsXG4gICdzdHJva2Utd2lkdGgnOiBMRU5HVEhfQVRUUixcbiAgJ3RleHQtYW5jaG9yJzogMSxcbiAgJ3RleHQtZGVjb3JhdGlvbic6IDEsXG4gICd0ZXh0LXJlbmRlcmluZyc6IDEsXG4gICd1bmljb2RlLWJpZGknOiAxLFxuICAndmlzaWJpbGl0eSc6IDEsXG4gICd3b3JkLXNwYWNpbmcnOiAxLFxuICAnd3JpdGluZy1tb2RlJzogMVxufTtcblxuXG5mdW5jdGlvbiBnZXRBdHRyaWJ1dGUobm9kZSwgbmFtZSkge1xuICBpZiAoQ1NTX1BST1BFUlRJRVNbbmFtZV0pIHtcbiAgICByZXR1cm4gbm9kZS5zdHlsZVtuYW1lXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbm9kZS5nZXRBdHRyaWJ1dGVOUyhudWxsLCBuYW1lKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGUobm9kZSwgbmFtZSwgdmFsdWUpIHtcbiAgdmFyIGh5cGhlbmF0ZWQgPSBuYW1lLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csICckMS0kMicpLnRvTG93ZXJDYXNlKCk7XG5cbiAgdmFyIHR5cGUgPSBDU1NfUFJPUEVSVElFU1toeXBoZW5hdGVkXTtcblxuICBpZiAodHlwZSkge1xuXG4gICAgLy8gYXBwZW5kIHBpeGVsIHVuaXQsIHVubGVzcyBwcmVzZW50XG4gICAgaWYgKHR5cGUgPT09IExFTkdUSF9BVFRSICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKSArICdweCc7XG4gICAgfVxuXG4gICAgbm9kZS5zdHlsZVtoeXBoZW5hdGVkXSA9IHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIG5vZGUuc2V0QXR0cmlidXRlTlMobnVsbCwgbmFtZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXMobm9kZSwgYXR0cnMpIHtcblxuICB2YXIgbmFtZXMgPSBPYmplY3Qua2V5cyhhdHRycyksIGksIG5hbWU7XG5cbiAgZm9yIChpID0gMCwgbmFtZTsgKG5hbWUgPSBuYW1lc1tpXSk7IGkrKykge1xuICAgIHNldEF0dHJpYnV0ZShub2RlLCBuYW1lLCBhdHRyc1tuYW1lXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXRzIG9yIHNldHMgcmF3IGF0dHJpYnV0ZXMgb24gYSBub2RlLlxuICpcbiAqIEBwYXJhbSAge1NWR0VsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSAge09iamVjdH0gW2F0dHJzXVxuICogQHBhcmFtICB7U3RyaW5nfSBbbmFtZV1cbiAqIEBwYXJhbSAge1N0cmluZ30gW3ZhbHVlXVxuICpcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gYXR0cihub2RlLCBuYW1lLCB2YWx1ZSkge1xuICBpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHNldEF0dHJpYnV0ZShub2RlLCBuYW1lLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBnZXRBdHRyaWJ1dGUobm9kZSwgbmFtZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHNldEF0dHJpYnV0ZXMobm9kZSwgbmFtZSk7XG4gIH1cblxuICByZXR1cm4gbm9kZTtcbn1cblxuLyoqXHJcbiAqIFRha2VuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2NvbXBvbmVudC9jbGFzc2VzXHJcbiAqXHJcbiAqIFdpdGhvdXQgdGhlIGNvbXBvbmVudCBiaXRzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiB0b1N0cmluZyByZWZlcmVuY2UuXHJcbiAqL1xyXG5cclxuY29uc3QgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xyXG5cclxuLyoqXHJcbiAgKiBXcmFwIGBlbGAgaW4gYSBgQ2xhc3NMaXN0YC5cclxuICAqXHJcbiAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsXHJcbiAgKiBAcmV0dXJuIHtDbGFzc0xpc3R9XHJcbiAgKiBAYXBpIHB1YmxpY1xyXG4gICovXHJcblxyXG5mdW5jdGlvbiBjbGFzc2VzKGVsKSB7XHJcbiAgcmV0dXJuIG5ldyBDbGFzc0xpc3QoZWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBDbGFzc0xpc3QoZWwpIHtcclxuICBpZiAoIWVsIHx8ICFlbC5ub2RlVHlwZSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdBIERPTSBlbGVtZW50IHJlZmVyZW5jZSBpcyByZXF1aXJlZCcpO1xyXG4gIH1cclxuICB0aGlzLmVsID0gZWw7XHJcbiAgdGhpcy5saXN0ID0gZWwuY2xhc3NMaXN0O1xyXG59XHJcblxyXG4vKipcclxuICAqIEFkZCBjbGFzcyBgbmFtZWAgaWYgbm90IGFscmVhZHkgcHJlc2VudC5cclxuICAqXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxyXG4gICogQHJldHVybiB7Q2xhc3NMaXN0fVxyXG4gICogQGFwaSBwdWJsaWNcclxuICAqL1xyXG5cclxuQ2xhc3NMaXN0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgdGhpcy5saXN0LmFkZChuYW1lKTtcclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gICogUmVtb3ZlIGNsYXNzIGBuYW1lYCB3aGVuIHByZXNlbnQsIG9yXHJcbiAgKiBwYXNzIGEgcmVndWxhciBleHByZXNzaW9uIHRvIHJlbW92ZVxyXG4gICogYW55IHdoaWNoIG1hdGNoLlxyXG4gICpcclxuICAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gbmFtZVxyXG4gICogQHJldHVybiB7Q2xhc3NMaXN0fVxyXG4gICogQGFwaSBwdWJsaWNcclxuICAqL1xyXG5cclxuQ2xhc3NMaXN0LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgaWYgKCdbb2JqZWN0IFJlZ0V4cF0nID09IHRvU3RyaW5nLmNhbGwobmFtZSkpIHtcclxuICAgIHJldHVybiB0aGlzLnJlbW92ZU1hdGNoaW5nKG5hbWUpO1xyXG4gIH1cclxuXHJcbiAgdGhpcy5saXN0LnJlbW92ZShuYW1lKTtcclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gICogUmVtb3ZlIGFsbCBjbGFzc2VzIG1hdGNoaW5nIGByZWAuXHJcbiAgKlxyXG4gICogQHBhcmFtIHtSZWdFeHB9IHJlXHJcbiAgKiBAcmV0dXJuIHtDbGFzc0xpc3R9XHJcbiAgKiBAYXBpIHByaXZhdGVcclxuICAqL1xyXG5cclxuQ2xhc3NMaXN0LnByb3RvdHlwZS5yZW1vdmVNYXRjaGluZyA9IGZ1bmN0aW9uKHJlKSB7XHJcbiAgY29uc3QgYXJyID0gdGhpcy5hcnJheSgpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBpZiAocmUudGVzdChhcnJbaV0pKSB7XHJcbiAgICAgIHRoaXMucmVtb3ZlKGFycltpXSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAgKiBUb2dnbGUgY2xhc3MgYG5hbWVgLCBjYW4gZm9yY2Ugc3RhdGUgdmlhIGBmb3JjZWAuXHJcbiAgKlxyXG4gICogRm9yIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBjbGFzc0xpc3QsIGJ1dCBkbyBub3Qgc3VwcG9ydCBgZm9yY2VgIHlldCxcclxuICAqIHRoZSBtaXN0YWtlIHdpbGwgYmUgZGV0ZWN0ZWQgYW5kIGNvcnJlY3RlZC5cclxuICAqXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxyXG4gICogQHBhcmFtIHtCb29sZWFufSBmb3JjZVxyXG4gICogQHJldHVybiB7Q2xhc3NMaXN0fVxyXG4gICogQGFwaSBwdWJsaWNcclxuICAqL1xyXG5cclxuQ2xhc3NMaXN0LnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbihuYW1lLCBmb3JjZSkge1xyXG4gIGlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGZvcmNlKSB7XHJcbiAgICBpZiAoZm9yY2UgIT09IHRoaXMubGlzdC50b2dnbGUobmFtZSwgZm9yY2UpKSB7XHJcbiAgICAgIHRoaXMubGlzdC50b2dnbGUobmFtZSk7IC8vIHRvZ2dsZSBhZ2FpbiB0byBjb3JyZWN0XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIHRoaXMubGlzdC50b2dnbGUobmFtZSk7XHJcbiAgfVxyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAgKiBSZXR1cm4gYW4gYXJyYXkgb2YgY2xhc3Nlcy5cclxuICAqXHJcbiAgKiBAcmV0dXJuIHtBcnJheX1cclxuICAqIEBhcGkgcHVibGljXHJcbiAgKi9cclxuXHJcbkNsYXNzTGlzdC5wcm90b3R5cGUuYXJyYXkgPSBmdW5jdGlvbigpIHtcclxuICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmxpc3QpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAgKiBDaGVjayBpZiBjbGFzcyBgbmFtZWAgaXMgcHJlc2VudC5cclxuICAqXHJcbiAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxyXG4gICogQHJldHVybiB7Q2xhc3NMaXN0fVxyXG4gICogQGFwaSBwdWJsaWNcclxuICAqL1xyXG5cclxuQ2xhc3NMaXN0LnByb3RvdHlwZS5oYXMgPVxyXG4gQ2xhc3NMaXN0LnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uKG5hbWUpIHtcclxuICAgcmV0dXJuIHRoaXMubGlzdC5jb250YWlucyhuYW1lKTtcclxuIH07XG5cbmZ1bmN0aW9uIHJlbW92ZShlbGVtZW50KSB7XG4gIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG5cbiAgaWYgKHBhcmVudCkge1xuICAgIHBhcmVudC5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufVxuXG4vKipcbiAqIENsZWFyIHV0aWxpdHlcbiAqL1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGNoaWxkcmVuIGZyb20gdGhlIGdpdmVuIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0gIHtET01FbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJuIHtET01FbGVtZW50fSB0aGUgZWxlbWVudCAoZm9yIGNoYWluaW5nKVxuICovXG5mdW5jdGlvbiBjbGVhcihlbGVtZW50KSB7XG4gIHZhciBjaGlsZDtcblxuICB3aGlsZSAoKGNoaWxkID0gZWxlbWVudC5maXJzdENoaWxkKSkge1xuICAgIHJlbW92ZShjaGlsZCk7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cblxuZnVuY3Rpb24gY2xvbmUoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5jbG9uZU5vZGUodHJ1ZSk7XG59XG5cbnZhciBucyA9IHtcbiAgc3ZnOiAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnXG59O1xuXG4vKipcbiAqIERPTSBwYXJzaW5nIHV0aWxpdHlcbiAqL1xuXG52YXIgU1ZHX1NUQVJUID0gJzxzdmcgeG1sbnM9XCInICsgbnMuc3ZnICsgJ1wiJztcblxuZnVuY3Rpb24gcGFyc2Uoc3ZnKSB7XG5cbiAgdmFyIHVud3JhcCA9IGZhbHNlO1xuXG4gIC8vIGVuc3VyZSB3ZSBpbXBvcnQgYSB2YWxpZCBzdmcgZG9jdW1lbnRcbiAgaWYgKHN2Zy5zdWJzdHJpbmcoMCwgNCkgPT09ICc8c3ZnJykge1xuICAgIGlmIChzdmcuaW5kZXhPZihucy5zdmcpID09PSAtMSkge1xuICAgICAgc3ZnID0gU1ZHX1NUQVJUICsgc3ZnLnN1YnN0cmluZyg0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG5cbiAgICAvLyBuYW1lc3BhY2Ugc3ZnXG4gICAgc3ZnID0gU1ZHX1NUQVJUICsgJz4nICsgc3ZnICsgJzwvc3ZnPic7XG4gICAgdW53cmFwID0gdHJ1ZTtcbiAgfVxuXG4gIHZhciBwYXJzZWQgPSBwYXJzZURvY3VtZW50KHN2Zyk7XG5cbiAgaWYgKCF1bndyYXApIHtcbiAgICByZXR1cm4gcGFyc2VkO1xuICB9XG5cbiAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXG4gIHZhciBwYXJlbnQgPSBwYXJzZWQuZmlyc3RDaGlsZDtcblxuICB3aGlsZSAocGFyZW50LmZpcnN0Q2hpbGQpIHtcbiAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChwYXJlbnQuZmlyc3RDaGlsZCk7XG4gIH1cblxuICByZXR1cm4gZnJhZ21lbnQ7XG59XG5cbmZ1bmN0aW9uIHBhcnNlRG9jdW1lbnQoc3ZnKSB7XG5cbiAgdmFyIHBhcnNlcjtcblxuICAvLyBwYXJzZVxuICBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gIHBhcnNlci5hc3luYyA9IGZhbHNlO1xuXG4gIHJldHVybiBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHN2ZywgJ3RleHQveG1sJyk7XG59XG5cbi8qKlxuICogQ3JlYXRlIHV0aWxpdHkgZm9yIFNWRyBlbGVtZW50c1xuICovXG5cblxuLyoqXG4gKiBDcmVhdGUgYSBzcGVjaWZpYyB0eXBlIGZyb20gbmFtZSBvciBTVkcgbWFya3VwLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIHRoZSBuYW1lIG9yIG1hcmt1cCBvZiB0aGUgZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IFthdHRyc10gYXR0cmlidXRlcyB0byBzZXQgb24gdGhlIGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJucyB7U1ZHRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlKG5hbWUsIGF0dHJzKSB7XG4gIHZhciBlbGVtZW50O1xuXG4gIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gJzwnKSB7XG4gICAgZWxlbWVudCA9IHBhcnNlKG5hbWUpLmZpcnN0Q2hpbGQ7XG4gICAgZWxlbWVudCA9IGRvY3VtZW50LmltcG9ydE5vZGUoZWxlbWVudCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucy5zdmcsIG5hbWUpO1xuICB9XG5cbiAgaWYgKGF0dHJzKSB7XG4gICAgYXR0cihlbGVtZW50LCBhdHRycyk7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cblxuLyoqXG4gKiBFdmVudHMgaGFuZGxpbmcgdXRpbGl0eVxuICovXG5cbmZ1bmN0aW9uIG9uKG5vZGUsIGV2ZW50LCBsaXN0ZW5lciwgdXNlQ2FwdHVyZSkge1xuICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCB1c2VDYXB0dXJlKTtcbn1cblxuZnVuY3Rpb24gb2ZmKG5vZGUsIGV2ZW50LCBsaXN0ZW5lciwgdXNlQ2FwdHVyZSkge1xuICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCB1c2VDYXB0dXJlKTtcbn1cblxuLyoqXG4gKiBHZW9tZXRyeSBoZWxwZXJzXG4gKi9cblxuLy8gZmFrZSBub2RlIHVzZWQgdG8gaW5zdGFudGlhdGUgc3ZnIGdlb21ldHJ5IGVsZW1lbnRzXG52YXIgbm9kZSA9IG51bGw7XG5cbmZ1bmN0aW9uIGdldE5vZGUoKSB7XG4gIGlmIChub2RlID09PSBudWxsKSB7XG4gICAgbm9kZSA9IGNyZWF0ZSgnc3ZnJyk7XG4gIH1cblxuICByZXR1cm4gbm9kZTtcbn1cblxuZnVuY3Rpb24gZXh0ZW5kKG9iamVjdCwgcHJvcHMpIHtcbiAgdmFyIGksIGssIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wcyk7XG5cbiAgZm9yIChpID0gMDsgKGsgPSBrZXlzW2ldKTsgaSsrKSB7XG4gICAgb2JqZWN0W2tdID0gcHJvcHNba107XG4gIH1cblxuICByZXR1cm4gb2JqZWN0O1xufVxuXG5cbmZ1bmN0aW9uIGNyZWF0ZVBvaW50KHgsIHkpIHtcbiAgdmFyIHBvaW50ID0gZ2V0Tm9kZSgpLmNyZWF0ZVNWR1BvaW50KCk7XG5cbiAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gIGNhc2UgMDpcbiAgICByZXR1cm4gcG9pbnQ7XG4gIGNhc2UgMjpcbiAgICB4ID0ge1xuICAgICAgeDogeCxcbiAgICAgIHk6IHlcbiAgICB9O1xuICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIGV4dGVuZChwb2ludCwgeCk7XG59XG5cbi8qKlxuICogQ3JlYXRlIG1hdHJpeCB2aWEgYXJncy5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGNyZWF0ZU1hdHJpeCh7IGE6IDEsIGI6IDEgfSk7XG4gKiBjcmVhdGVNYXRyaXgoKTtcbiAqIGNyZWF0ZU1hdHJpeCgxLCAyLCAwLCAwLCAzMCwgMjApO1xuICpcbiAqIEByZXR1cm4ge1NWR01hdHJpeH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlTWF0cml4KGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgdmFyIG1hdHJpeCA9IGdldE5vZGUoKS5jcmVhdGVTVkdNYXRyaXgoKTtcblxuICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgY2FzZSAwOlxuICAgIHJldHVybiBtYXRyaXg7XG4gIGNhc2UgMTpcbiAgICByZXR1cm4gZXh0ZW5kKG1hdHJpeCwgYSk7XG4gIGNhc2UgNjpcbiAgICByZXR1cm4gZXh0ZW5kKG1hdHJpeCwge1xuICAgICAgYTogYSxcbiAgICAgIGI6IGIsXG4gICAgICBjOiBjLFxuICAgICAgZDogZCxcbiAgICAgIGU6IGUsXG4gICAgICBmOiBmXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlVHJhbnNmb3JtKG1hdHJpeCkge1xuICBpZiAobWF0cml4KSB7XG4gICAgcmV0dXJuIGdldE5vZGUoKS5jcmVhdGVTVkdUcmFuc2Zvcm1Gcm9tTWF0cml4KG1hdHJpeCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdldE5vZGUoKS5jcmVhdGVTVkdUcmFuc2Zvcm0oKTtcbiAgfVxufVxuXG4vKipcbiAqIFNlcmlhbGl6YXRpb24gdXRpbFxuICovXG5cbnZhciBURVhUX0VOVElUSUVTID0gLyhbJjw+XXsxfSkvZztcbnZhciBBVFRSX0VOVElUSUVTID0gLyhbXFxuXFxyXCJdezF9KS9nO1xuXG52YXIgRU5USVRZX1JFUExBQ0VNRU5UID0ge1xuICAnJic6ICcmYW1wOycsXG4gICc8JzogJyZsdDsnLFxuICAnPic6ICcmZ3Q7JyxcbiAgJ1wiJzogJ1xcJydcbn07XG5cbmZ1bmN0aW9uIGVzY2FwZShzdHIsIHBhdHRlcm4pIHtcblxuICBmdW5jdGlvbiByZXBsYWNlRm4obWF0Y2gsIGVudGl0eSkge1xuICAgIHJldHVybiBFTlRJVFlfUkVQTEFDRU1FTlRbZW50aXR5XSB8fCBlbnRpdHk7XG4gIH1cblxuICByZXR1cm4gc3RyLnJlcGxhY2UocGF0dGVybiwgcmVwbGFjZUZuKTtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplKG5vZGUsIG91dHB1dCkge1xuXG4gIHZhciBpLCBsZW4sIGF0dHJNYXAsIGF0dHJOb2RlLCBjaGlsZE5vZGVzO1xuXG4gIHN3aXRjaCAobm9kZS5ub2RlVHlwZSkge1xuXG4gIC8vIFRFWFRcbiAgY2FzZSAzOlxuXG4gICAgLy8gcmVwbGFjZSBzcGVjaWFsIFhNTCBjaGFyYWN0ZXJzXG4gICAgb3V0cHV0LnB1c2goZXNjYXBlKG5vZGUudGV4dENvbnRlbnQsIFRFWFRfRU5USVRJRVMpKTtcbiAgICBicmVhaztcblxuICAvLyBFTEVNRU5UXG4gIGNhc2UgMTpcbiAgICBvdXRwdXQucHVzaCgnPCcsIG5vZGUudGFnTmFtZSk7XG5cbiAgICBpZiAobm9kZS5oYXNBdHRyaWJ1dGVzKCkpIHtcbiAgICAgIGF0dHJNYXAgPSBub2RlLmF0dHJpYnV0ZXM7XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBhdHRyTWFwLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIGF0dHJOb2RlID0gYXR0ck1hcC5pdGVtKGkpO1xuICAgICAgICBvdXRwdXQucHVzaCgnICcsIGF0dHJOb2RlLm5hbWUsICc9XCInLCBlc2NhcGUoYXR0ck5vZGUudmFsdWUsIEFUVFJfRU5USVRJRVMpLCAnXCInKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobm9kZS5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgIG91dHB1dC5wdXNoKCc+Jyk7XG4gICAgICBjaGlsZE5vZGVzID0gbm9kZS5jaGlsZE5vZGVzO1xuICAgICAgZm9yIChpID0gMCwgbGVuID0gY2hpbGROb2Rlcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICBzZXJpYWxpemUoY2hpbGROb2Rlcy5pdGVtKGkpLCBvdXRwdXQpO1xuICAgICAgfVxuICAgICAgb3V0cHV0LnB1c2goJzwvJywgbm9kZS50YWdOYW1lLCAnPicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnLz4nKTtcbiAgICB9XG4gICAgYnJlYWs7XG5cbiAgLy8gQ09NTUVOVFxuICBjYXNlIDg6XG4gICAgb3V0cHV0LnB1c2goJzwhLS0nLCBlc2NhcGUobm9kZS5ub2RlVmFsdWUsIFRFWFRfRU5USVRJRVMpLCAnLS0+Jyk7XG4gICAgYnJlYWs7XG5cbiAgLy8gQ0RBVEFcbiAgY2FzZSA0OlxuICAgIG91dHB1dC5wdXNoKCc8IVtDREFUQVsnLCBub2RlLm5vZGVWYWx1ZSwgJ11dPicpO1xuICAgIGJyZWFrO1xuXG4gIGRlZmF1bHQ6XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bmFibGUgdG8gaGFuZGxlIG5vZGUgJyArIG5vZGUubm9kZVR5cGUpO1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuLyoqXG4gKiBpbm5lckhUTUwgbGlrZSBmdW5jdGlvbmFsaXR5IGZvciBTVkcgZWxlbWVudHMuXG4gKiBiYXNlZCBvbiBpbm5lclNWRyAoaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9pbm5lcnN2ZylcbiAqL1xuXG5cbmZ1bmN0aW9uIHNldChlbGVtZW50LCBzdmcpIHtcblxuICB2YXIgcGFyc2VkID0gcGFyc2Uoc3ZnKTtcblxuICAvLyBjbGVhciBlbGVtZW50IGNvbnRlbnRzXG4gIGNsZWFyKGVsZW1lbnQpO1xuXG4gIGlmICghc3ZnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFpc0ZyYWdtZW50KHBhcnNlZCkpIHtcblxuICAgIC8vIGV4dHJhY3QgPHN2Zz4gZnJvbSBwYXJzZWQgZG9jdW1lbnRcbiAgICBwYXJzZWQgPSBwYXJzZWQuZG9jdW1lbnRFbGVtZW50O1xuICB9XG5cbiAgdmFyIG5vZGVzID0gc2xpY2UocGFyc2VkLmNoaWxkTm9kZXMpO1xuXG4gIC8vIGltcG9ydCArIGFwcGVuZCBlYWNoIG5vZGVcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgIGFwcGVuZFRvKG5vZGVzW2ldLCBlbGVtZW50KTtcbiAgfVxuXG59XG5cbmZ1bmN0aW9uIGdldChlbGVtZW50KSB7XG4gIHZhciBjaGlsZCA9IGVsZW1lbnQuZmlyc3RDaGlsZCxcbiAgICAgIG91dHB1dCA9IFtdO1xuXG4gIHdoaWxlIChjaGlsZCkge1xuICAgIHNlcmlhbGl6ZShjaGlsZCwgb3V0cHV0KTtcbiAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dC5qb2luKCcnKTtcbn1cblxuZnVuY3Rpb24gaXNGcmFnbWVudChub2RlKSB7XG4gIHJldHVybiBub2RlLm5vZGVOYW1lID09PSAnI2RvY3VtZW50LWZyYWdtZW50Jztcbn1cblxuZnVuY3Rpb24gaW5uZXJTVkcoZWxlbWVudCwgc3ZnKSB7XG5cbiAgaWYgKHN2ZyAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICB0cnkge1xuICAgICAgc2V0KGVsZW1lbnQsIHN2Zyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdlcnJvciBwYXJzaW5nIFNWRzogJyArIGUubWVzc2FnZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdldChlbGVtZW50KTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHNsaWNlKGFycikge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyKTtcbn1cblxuLyoqXG4gKiBTZWxlY3Rpb24gdXRpbGl0aWVzXG4gKi9cblxuZnVuY3Rpb24gc2VsZWN0KG5vZGUsIHNlbGVjdG9yKSB7XG4gIHJldHVybiBub2RlLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xufVxuXG5mdW5jdGlvbiBzZWxlY3RBbGwobm9kZSwgc2VsZWN0b3IpIHtcbiAgdmFyIG5vZGVzID0gbm9kZS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcblxuICByZXR1cm4gW10ubWFwLmNhbGwobm9kZXMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfSk7XG59XG5cbi8qKlxuICogcHJlcGVuZFRvIHV0aWxpdHlcbiAqL1xuXG4vKipcbiAqIFByZXBlbmQgYSBub2RlIHRvIGEgdGFyZ2V0IGVsZW1lbnQgYW5kIHJldHVybiB0aGUgcHJlcGVuZGVkIG5vZGUuXG4gKlxuICogQHBhcmFtICB7U1ZHRWxlbWVudH0gbm9kZVxuICogQHBhcmFtICB7U1ZHRWxlbWVudH0gdGFyZ2V0XG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH0gdGhlIHByZXBlbmRlZCBub2RlXG4gKi9cbmZ1bmN0aW9uIHByZXBlbmRUbyhub2RlLCB0YXJnZXQpIHtcbiAgcmV0dXJuIHRhcmdldC5pbnNlcnRCZWZvcmUoZW5zdXJlSW1wb3J0ZWQobm9kZSwgdGFyZ2V0KSwgdGFyZ2V0LmZpcnN0Q2hpbGQgfHwgbnVsbCk7XG59XG5cbi8qKlxuICogcHJlcGVuZCB1dGlsaXR5XG4gKi9cblxuLyoqXG4gKiBQcmVwZW5kIGEgbm9kZSB0byBhIHRhcmdldCBlbGVtZW50XG4gKlxuICogQHBhcmFtICB7U1ZHRWxlbWVudH0gdGFyZ2V0XG4gKiBAcGFyYW0gIHtTVkdFbGVtZW50fSBub2RlXG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH0gdGhlIHRhcmdldCBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIHByZXBlbmQodGFyZ2V0LCBub2RlKSB7XG4gIHByZXBlbmRUbyhub2RlLCB0YXJnZXQpO1xuICByZXR1cm4gdGFyZ2V0O1xufVxuXG4vKipcbiAqIFJlcGxhY2UgdXRpbGl0eVxuICovXG5cbmZ1bmN0aW9uIHJlcGxhY2UoZWxlbWVudCwgcmVwbGFjZW1lbnQpIHtcbiAgZWxlbWVudC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChlbnN1cmVJbXBvcnRlZChyZXBsYWNlbWVudCwgZWxlbWVudCksIGVsZW1lbnQpO1xuICByZXR1cm4gcmVwbGFjZW1lbnQ7XG59XG5cbi8qKlxuICogdHJhbnNmb3JtIGFjY2Vzc29yIHV0aWxpdHlcbiAqL1xuXG5mdW5jdGlvbiB3cmFwTWF0cml4KHRyYW5zZm9ybUxpc3QsIHRyYW5zZm9ybSkge1xuICBpZiAodHJhbnNmb3JtIGluc3RhbmNlb2YgU1ZHTWF0cml4KSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybUxpc3QuY3JlYXRlU1ZHVHJhbnNmb3JtRnJvbU1hdHJpeCh0cmFuc2Zvcm0pO1xuICB9XG5cbiAgcmV0dXJuIHRyYW5zZm9ybTtcbn1cblxuXG5mdW5jdGlvbiBzZXRUcmFuc2Zvcm1zKHRyYW5zZm9ybUxpc3QsIHRyYW5zZm9ybXMpIHtcbiAgdmFyIGksIHQ7XG5cbiAgdHJhbnNmb3JtTGlzdC5jbGVhcigpO1xuXG4gIGZvciAoaSA9IDA7ICh0ID0gdHJhbnNmb3Jtc1tpXSk7IGkrKykge1xuICAgIHRyYW5zZm9ybUxpc3QuYXBwZW5kSXRlbSh3cmFwTWF0cml4KHRyYW5zZm9ybUxpc3QsIHQpKTtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBvciBzZXQgdGhlIHRyYW5zZm9ybXMgb24gdGhlIGdpdmVuIG5vZGUuXG4gKlxuICogQHBhcmFtIHtTVkdFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0gIHtTVkdUcmFuc2Zvcm18U1ZHTWF0cml4fEFycmF5PFNWR1RyYW5zZm9ybXxTVkdNYXRyaXg+fSBbdHJhbnNmb3Jtc11cbiAqXG4gKiBAcmV0dXJuIHtTVkdUcmFuc2Zvcm19IHRoZSBjb25zb2xpZGF0ZWQgdHJhbnNmb3JtXG4gKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybShub2RlLCB0cmFuc2Zvcm1zKSB7XG4gIHZhciB0cmFuc2Zvcm1MaXN0ID0gbm9kZS50cmFuc2Zvcm0uYmFzZVZhbDtcblxuICBpZiAodHJhbnNmb3Jtcykge1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHRyYW5zZm9ybXMpKSB7XG4gICAgICB0cmFuc2Zvcm1zID0gWyB0cmFuc2Zvcm1zIF07XG4gICAgfVxuXG4gICAgc2V0VHJhbnNmb3Jtcyh0cmFuc2Zvcm1MaXN0LCB0cmFuc2Zvcm1zKTtcbiAgfVxuXG4gIHJldHVybiB0cmFuc2Zvcm1MaXN0LmNvbnNvbGlkYXRlKCk7XG59XG5cbmV4cG9ydCB7IGFwcGVuZCwgYXBwZW5kVG8sIGF0dHIsIGNsYXNzZXMsIGNsZWFyLCBjbG9uZSwgY3JlYXRlLCBjcmVhdGVNYXRyaXgsIGNyZWF0ZVBvaW50LCBjcmVhdGVUcmFuc2Zvcm0sIGlubmVyU1ZHLCBvZmYsIG9uLCBwcmVwZW5kLCBwcmVwZW5kVG8sIHJlbW92ZSwgcmVwbGFjZSwgc2VsZWN0LCBzZWxlY3RBbGwsIHRyYW5zZm9ybSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/tiny-svg/dist/index.esm.js\n");

/***/ }),

/***/ "../bpmn-io/bpmn-js-color-picker/node_modules/min-dash/dist/index.esm.js":
/*!*******************************************************************************!*\
  !*** ../bpmn-io/bpmn-js-color-picker/node_modules/min-dash/dist/index.esm.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assign: () => (/* binding */ assign),\n/* harmony export */   bind: () => (/* binding */ bind),\n/* harmony export */   debounce: () => (/* binding */ debounce),\n/* harmony export */   ensureArray: () => (/* binding */ ensureArray),\n/* harmony export */   every: () => (/* binding */ every),\n/* harmony export */   filter: () => (/* binding */ filter),\n/* harmony export */   find: () => (/* binding */ find),\n/* harmony export */   findIndex: () => (/* binding */ findIndex),\n/* harmony export */   flatten: () => (/* binding */ flatten),\n/* harmony export */   forEach: () => (/* binding */ forEach),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   groupBy: () => (/* binding */ groupBy),\n/* harmony export */   has: () => (/* binding */ has),\n/* harmony export */   isArray: () => (/* binding */ isArray),\n/* harmony export */   isDefined: () => (/* binding */ isDefined),\n/* harmony export */   isFunction: () => (/* binding */ isFunction),\n/* harmony export */   isNil: () => (/* binding */ isNil),\n/* harmony export */   isNumber: () => (/* binding */ isNumber),\n/* harmony export */   isObject: () => (/* binding */ isObject),\n/* harmony export */   isString: () => (/* binding */ isString),\n/* harmony export */   isUndefined: () => (/* binding */ isUndefined),\n/* harmony export */   keys: () => (/* binding */ keys),\n/* harmony export */   map: () => (/* binding */ map),\n/* harmony export */   matchPattern: () => (/* binding */ matchPattern),\n/* harmony export */   merge: () => (/* binding */ merge),\n/* harmony export */   omit: () => (/* binding */ omit),\n/* harmony export */   pick: () => (/* binding */ pick),\n/* harmony export */   reduce: () => (/* binding */ reduce),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   size: () => (/* binding */ size),\n/* harmony export */   some: () => (/* binding */ some),\n/* harmony export */   sortBy: () => (/* binding */ sortBy),\n/* harmony export */   throttle: () => (/* binding */ throttle),\n/* harmony export */   unionBy: () => (/* binding */ unionBy),\n/* harmony export */   uniqueBy: () => (/* binding */ uniqueBy),\n/* harmony export */   values: () => (/* binding */ values),\n/* harmony export */   without: () => (/* binding */ without)\n/* harmony export */ });\n/**\n * Flatten array, one level deep.\n *\n * @param {Array<?>} arr\n *\n * @return {Array<?>}\n */\nfunction flatten(arr) {\n  return Array.prototype.concat.apply([], arr);\n}\n\nconst nativeToString = Object.prototype.toString;\nconst nativeHasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isUndefined(obj) {\n  return obj === undefined;\n}\n\nfunction isDefined(obj) {\n  return obj !== undefined;\n}\n\nfunction isNil(obj) {\n  return obj == null;\n}\n\nfunction isArray(obj) {\n  return nativeToString.call(obj) === '[object Array]';\n}\n\nfunction isObject(obj) {\n  return nativeToString.call(obj) === '[object Object]';\n}\n\nfunction isNumber(obj) {\n  return nativeToString.call(obj) === '[object Number]';\n}\n\nfunction isFunction(obj) {\n  const tag = nativeToString.call(obj);\n\n  return (\n    tag === '[object Function]' ||\n    tag === '[object AsyncFunction]' ||\n    tag === '[object GeneratorFunction]' ||\n    tag === '[object AsyncGeneratorFunction]' ||\n    tag === '[object Proxy]'\n  );\n}\n\nfunction isString(obj) {\n  return nativeToString.call(obj) === '[object String]';\n}\n\n\n/**\n * Ensure collection is an array.\n *\n * @param {Object} obj\n */\nfunction ensureArray(obj) {\n\n  if (isArray(obj)) {\n    return;\n  }\n\n  throw new Error('must supply array');\n}\n\n/**\n * Return true, if target owns a property with the given key.\n *\n * @param {Object} target\n * @param {String} key\n *\n * @return {Boolean}\n */\nfunction has(target, key) {\n  return nativeHasOwnProperty.call(target, key);\n}\n\n/**\n * Find element in collection.\n *\n * @param  {Array|Object} collection\n * @param  {Function|Object} matcher\n *\n * @return {Object}\n */\nfunction find(collection, matcher) {\n\n  matcher = toMatcher(matcher);\n\n  let match;\n\n  forEach(collection, function(val, key) {\n    if (matcher(val, key)) {\n      match = val;\n\n      return false;\n    }\n  });\n\n  return match;\n\n}\n\n\n/**\n * Find element index in collection.\n *\n * @param  {Array|Object} collection\n * @param  {Function} matcher\n *\n * @return {Object}\n */\nfunction findIndex(collection, matcher) {\n\n  matcher = toMatcher(matcher);\n\n  let idx = isArray(collection) ? -1 : undefined;\n\n  forEach(collection, function(val, key) {\n    if (matcher(val, key)) {\n      idx = key;\n\n      return false;\n    }\n  });\n\n  return idx;\n}\n\n\n/**\n * Find element in collection.\n *\n * @param  {Array|Object} collection\n * @param  {Function} matcher\n *\n * @return {Array} result\n */\nfunction filter(collection, matcher) {\n\n  let result = [];\n\n  forEach(collection, function(val, key) {\n    if (matcher(val, key)) {\n      result.push(val);\n    }\n  });\n\n  return result;\n}\n\n\n/**\n * Iterate over collection; returning something\n * (non-undefined) will stop iteration.\n *\n * @param  {Array|Object} collection\n * @param  {Function} iterator\n *\n * @return {Object} return result that stopped the iteration\n */\nfunction forEach(collection, iterator) {\n\n  let val,\n      result;\n\n  if (isUndefined(collection)) {\n    return;\n  }\n\n  const convertKey = isArray(collection) ? toNum : identity;\n\n  for (let key in collection) {\n\n    if (has(collection, key)) {\n      val = collection[key];\n\n      result = iterator(val, convertKey(key));\n\n      if (result === false) {\n        return val;\n      }\n    }\n  }\n}\n\n/**\n * Return collection without element.\n *\n * @param  {Array} arr\n * @param  {Function} matcher\n *\n * @return {Array}\n */\nfunction without(arr, matcher) {\n\n  if (isUndefined(arr)) {\n    return [];\n  }\n\n  ensureArray(arr);\n\n  matcher = toMatcher(matcher);\n\n  return arr.filter(function(el, idx) {\n    return !matcher(el, idx);\n  });\n\n}\n\n\n/**\n * Reduce collection, returning a single result.\n *\n * @param  {Object|Array} collection\n * @param  {Function} iterator\n * @param  {Any} result\n *\n * @return {Any} result returned from last iterator\n */\nfunction reduce(collection, iterator, result) {\n\n  forEach(collection, function(value, idx) {\n    result = iterator(result, value, idx);\n  });\n\n  return result;\n}\n\n\n/**\n * Return true if every element in the collection\n * matches the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\nfunction every(collection, matcher) {\n\n  return !!reduce(collection, function(matches, val, key) {\n    return matches && matcher(val, key);\n  }, true);\n}\n\n\n/**\n * Return true if some elements in the collection\n * match the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\nfunction some(collection, matcher) {\n\n  return !!find(collection, matcher);\n}\n\n\n/**\n * Transform a collection into another collection\n * by piping each member through the given fn.\n *\n * @param  {Object|Array}   collection\n * @param  {Function} fn\n *\n * @return {Array} transformed collection\n */\nfunction map(collection, fn) {\n\n  let result = [];\n\n  forEach(collection, function(val, key) {\n    result.push(fn(val, key));\n  });\n\n  return result;\n}\n\n\n/**\n * Get the collections keys.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\nfunction keys(collection) {\n  return collection && Object.keys(collection) || [];\n}\n\n\n/**\n * Shorthand for `keys(o).length`.\n *\n * @param  {Object|Array} collection\n *\n * @return {Number}\n */\nfunction size(collection) {\n  return keys(collection).length;\n}\n\n\n/**\n * Get the values in the collection.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\nfunction values(collection) {\n  return map(collection, (val) => val);\n}\n\n\n/**\n * Group collection members by attribute.\n *\n * @param  {Object|Array} collection\n * @param  {Function} extractor\n *\n * @return {Object} map with { attrValue => [ a, b, c ] }\n */\nfunction groupBy(collection, extractor, grouped = {}) {\n\n  extractor = toExtractor(extractor);\n\n  forEach(collection, function(val) {\n    let discriminator = extractor(val) || '_';\n\n    let group = grouped[discriminator];\n\n    if (!group) {\n      group = grouped[discriminator] = [];\n    }\n\n    group.push(val);\n  });\n\n  return grouped;\n}\n\n\nfunction uniqueBy(extractor, ...collections) {\n\n  extractor = toExtractor(extractor);\n\n  let grouped = {};\n\n  forEach(collections, (c) => groupBy(c, extractor, grouped));\n\n  let result = map(grouped, function(val, key) {\n    return val[0];\n  });\n\n  return result;\n}\n\n\nconst unionBy = uniqueBy;\n\n\n\n/**\n * Sort collection by criteria.\n *\n * @param  {Object|Array} collection\n * @param  {String|Function} extractor\n *\n * @return {Array}\n */\nfunction sortBy(collection, extractor) {\n\n  extractor = toExtractor(extractor);\n\n  let sorted = [];\n\n  forEach(collection, function(value, key) {\n    let disc = extractor(value, key);\n\n    let entry = {\n      d: disc,\n      v: value\n    };\n\n    for (var idx = 0; idx < sorted.length; idx++) {\n      let { d } = sorted[idx];\n\n      if (disc < d) {\n        sorted.splice(idx, 0, entry);\n        return;\n      }\n    }\n\n    // not inserted, append (!)\n    sorted.push(entry);\n  });\n\n  return map(sorted, (e) => e.v);\n}\n\n\n/**\n * Create an object pattern matcher.\n *\n * @example\n *\n * const matcher = matchPattern({ id: 1 });\n *\n * let element = find(elements, matcher);\n *\n * @param  {Object} pattern\n *\n * @return {Function} matcherFn\n */\nfunction matchPattern(pattern) {\n\n  return function(el) {\n\n    return every(pattern, function(val, key) {\n      return el[key] === val;\n    });\n\n  };\n}\n\n\nfunction toExtractor(extractor) {\n  return isFunction(extractor) ? extractor : (e) => {\n    return e[extractor];\n  };\n}\n\n\nfunction toMatcher(matcher) {\n  return isFunction(matcher) ? matcher : (e) => {\n    return e === matcher;\n  };\n}\n\n\nfunction identity(arg) {\n  return arg;\n}\n\nfunction toNum(arg) {\n  return Number(arg);\n}\n\n/**\n * Debounce fn, calling it only once if the given time\n * elapsed between calls.\n *\n * Lodash-style the function exposes methods to `#clear`\n * and `#flush` to control internal behavior.\n *\n * @param  {Function} fn\n * @param  {Number} timeout\n *\n * @return {Function} debounced function\n */\nfunction debounce(fn, timeout) {\n\n  let timer;\n\n  let lastArgs;\n  let lastThis;\n\n  let lastNow;\n\n  function fire(force) {\n\n    let now = Date.now();\n\n    let scheduledDiff = force ? 0 : (lastNow + timeout) - now;\n\n    if (scheduledDiff > 0) {\n      return schedule(scheduledDiff);\n    }\n\n    fn.apply(lastThis, lastArgs);\n\n    clear();\n  }\n\n  function schedule(timeout) {\n    timer = setTimeout(fire, timeout);\n  }\n\n  function clear() {\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = lastNow = lastArgs = lastThis = undefined;\n  }\n\n  function flush() {\n    if (timer) {\n      fire(true);\n    }\n\n    clear();\n  }\n\n  function callback(...args) {\n    lastNow = Date.now();\n\n    lastArgs = args;\n    lastThis = this;\n\n    // ensure an execution is scheduled\n    if (!timer) {\n      schedule(timeout);\n    }\n  }\n\n  callback.flush = flush;\n  callback.cancel = clear;\n\n  return callback;\n}\n\n/**\n * Throttle fn, calling at most once\n * in the given interval.\n *\n * @param  {Function} fn\n * @param  {Number} interval\n *\n * @return {Function} throttled function\n */\nfunction throttle(fn, interval) {\n  let throttling = false;\n\n  return function(...args) {\n\n    if (throttling) {\n      return;\n    }\n\n    fn(...args);\n    throttling = true;\n\n    setTimeout(() => {\n      throttling = false;\n    }, interval);\n  };\n}\n\n/**\n * Bind function against target <this>.\n *\n * @param  {Function} fn\n * @param  {Object}   target\n *\n * @return {Function} bound function\n */\nfunction bind(fn, target) {\n  return fn.bind(target);\n}\n\n/**\n * Convenience wrapper for `Object.assign`.\n *\n * @param {Object} target\n * @param {...Object} others\n *\n * @return {Object} the target\n */\nfunction assign(target, ...others) {\n  return Object.assign(target, ...others);\n}\n\n/**\n * Sets a nested property of a given object to the specified value.\n *\n * This mutates the object and returns it.\n *\n * @param {Object} target The target of the set operation.\n * @param {(string|number)[]} path The path to the nested value.\n * @param {any} value The value to set.\n */\nfunction set(target, path, value) {\n\n  let currentTarget = target;\n\n  forEach(path, function(key, idx) {\n\n    if (typeof key !== 'number' && typeof key !== 'string') {\n      throw new Error('illegal key type: ' + typeof key + '. Key should be of type number or string.');\n    }\n\n    if (key === 'constructor') {\n      throw new Error('illegal key: constructor');\n    }\n\n    if (key === '__proto__') {\n      throw new Error('illegal key: __proto__');\n    }\n\n    let nextKey = path[idx + 1];\n    let nextTarget = currentTarget[key];\n\n    if (isDefined(nextKey) && isNil(nextTarget)) {\n      nextTarget = currentTarget[key] = isNaN(+nextKey) ? {} : [];\n    }\n\n    if (isUndefined(nextKey)) {\n      if (isUndefined(value)) {\n        delete currentTarget[key];\n      } else {\n        currentTarget[key] = value;\n      }\n    } else {\n      currentTarget = nextTarget;\n    }\n  });\n\n  return target;\n}\n\n\n/**\n * Gets a nested property of a given object.\n *\n * @param {Object} target The target of the get operation.\n * @param {(string|number)[]} path The path to the nested value.\n * @param {any} [defaultValue] The value to return if no value exists.\n */\nfunction get(target, path, defaultValue) {\n\n  let currentTarget = target;\n\n  forEach(path, function(key) {\n\n    // accessing nil property yields <undefined>\n    if (isNil(currentTarget)) {\n      currentTarget = undefined;\n\n      return false;\n    }\n\n    currentTarget = currentTarget[key];\n  });\n\n  return isUndefined(currentTarget) ? defaultValue : currentTarget;\n}\n\n/**\n * Pick given properties from the target object.\n *\n * @param {Object} target\n * @param {Array} properties\n *\n * @return {Object} target\n */\nfunction pick(target, properties) {\n\n  let result = {};\n\n  let obj = Object(target);\n\n  forEach(properties, function(prop) {\n\n    if (prop in obj) {\n      result[prop] = target[prop];\n    }\n  });\n\n  return result;\n}\n\n/**\n * Pick all target properties, excluding the given ones.\n *\n * @param {Object} target\n * @param {Array} properties\n *\n * @return {Object} target\n */\nfunction omit(target, properties) {\n\n  let result = {};\n\n  let obj = Object(target);\n\n  forEach(obj, function(prop, key) {\n\n    if (properties.indexOf(key) === -1) {\n      result[key] = prop;\n    }\n  });\n\n  return result;\n}\n\n/**\n * Recursively merge `...sources` into given target.\n *\n * Does support merging objects; does not support merging arrays.\n *\n * @param {Object} target\n * @param {...Object} sources\n *\n * @return {Object} the target\n */\nfunction merge(target, ...sources) {\n\n  if (!sources.length) {\n    return target;\n  }\n\n  forEach(sources, function(source) {\n\n    // skip non-obj sources, i.e. null\n    if (!source || !isObject(source)) {\n      return;\n    }\n\n    forEach(source, function(sourceVal, key) {\n\n      if (key === '__proto__') {\n        return;\n      }\n\n      let targetVal = target[key];\n\n      if (isObject(sourceVal)) {\n\n        if (!isObject(targetVal)) {\n\n          // override target[key] with object\n          targetVal = {};\n        }\n\n        target[key] = merge(targetVal, sourceVal);\n      } else {\n        target[key] = sourceVal;\n      }\n\n    });\n  });\n\n  return target;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vYnBtbi1pby9icG1uLWpzLWNvbG9yLXBpY2tlci9ub2RlX21vZHVsZXMvbWluLWRhc2gvZGlzdC9pbmRleC5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCLFlBQVksaUJBQWlCO0FBQzdCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUIsWUFBWSxVQUFVO0FBQ3RCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQixZQUFZLFVBQVU7QUFDdEI7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQTs7QUFFQTs7QUFF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RUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCLFlBQVksVUFBVTtBQUN0QjtBQUNBLFlBQVksVUFBVTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxXQUFXO0FBQ3RCO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxtQkFBbUI7QUFDOUIsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDZEQUE2RDtBQUM3RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxtQkFBbUI7QUFDOUIsV0FBVyxLQUFLO0FBQ2hCO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsT0FBTztBQUNsQjtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFdBQVc7QUFDdEI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7O0FBRWlVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2RheXMtMjAyMy8uLi9icG1uLWlvL2JwbW4tanMtY29sb3ItcGlja2VyL25vZGVfbW9kdWxlcy9taW4tZGFzaC9kaXN0L2luZGV4LmVzbS5qcz85NzU5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRmxhdHRlbiBhcnJheSwgb25lIGxldmVsIGRlZXAuXG4gKlxuICogQHBhcmFtIHtBcnJheTw/Pn0gYXJyXG4gKlxuICogQHJldHVybiB7QXJyYXk8Pz59XG4gKi9cbmZ1bmN0aW9uIGZsYXR0ZW4oYXJyKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLCBhcnIpO1xufVxuXG5jb25zdCBuYXRpdmVUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCBuYXRpdmVIYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKG9iaikge1xuICByZXR1cm4gb2JqID09PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzRGVmaW5lZChvYmopIHtcbiAgcmV0dXJuIG9iaiAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBpc05pbChvYmopIHtcbiAgcmV0dXJuIG9iaiA9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc0FycmF5KG9iaikge1xuICByZXR1cm4gbmF0aXZlVG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgcmV0dXJuIG5hdGl2ZVRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKG9iaikge1xuICByZXR1cm4gbmF0aXZlVG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBOdW1iZXJdJztcbn1cblxuZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHtcbiAgY29uc3QgdGFnID0gbmF0aXZlVG9TdHJpbmcuY2FsbChvYmopO1xuXG4gIHJldHVybiAoXG4gICAgdGFnID09PSAnW29iamVjdCBGdW5jdGlvbl0nIHx8XG4gICAgdGFnID09PSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScgfHxcbiAgICB0YWcgPT09ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScgfHxcbiAgICB0YWcgPT09ICdbb2JqZWN0IEFzeW5jR2VuZXJhdG9yRnVuY3Rpb25dJyB8fFxuICAgIHRhZyA9PT0gJ1tvYmplY3QgUHJveHldJ1xuICApO1xufVxuXG5mdW5jdGlvbiBpc1N0cmluZyhvYmopIHtcbiAgcmV0dXJuIG5hdGl2ZVRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgU3RyaW5nXSc7XG59XG5cblxuLyoqXG4gKiBFbnN1cmUgY29sbGVjdGlvbiBpcyBhbiBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKi9cbmZ1bmN0aW9uIGVuc3VyZUFycmF5KG9iaikge1xuXG4gIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoJ211c3Qgc3VwcGx5IGFycmF5Jyk7XG59XG5cbi8qKlxuICogUmV0dXJuIHRydWUsIGlmIHRhcmdldCBvd25zIGEgcHJvcGVydHkgd2l0aCB0aGUgZ2l2ZW4ga2V5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBoYXModGFyZ2V0LCBrZXkpIHtcbiAgcmV0dXJuIG5hdGl2ZUhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBrZXkpO1xufVxuXG4vKipcbiAqIEZpbmQgZWxlbWVudCBpbiBjb2xsZWN0aW9uLlxuICpcbiAqIEBwYXJhbSAge0FycmF5fE9iamVjdH0gY29sbGVjdGlvblxuICogQHBhcmFtICB7RnVuY3Rpb258T2JqZWN0fSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBmaW5kKGNvbGxlY3Rpb24sIG1hdGNoZXIpIHtcblxuICBtYXRjaGVyID0gdG9NYXRjaGVyKG1hdGNoZXIpO1xuXG4gIGxldCBtYXRjaDtcblxuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgaWYgKG1hdGNoZXIodmFsLCBrZXkpKSB7XG4gICAgICBtYXRjaCA9IHZhbDtcblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIG1hdGNoO1xuXG59XG5cblxuLyoqXG4gKiBGaW5kIGVsZW1lbnQgaW5kZXggaW4gY29sbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBmaW5kSW5kZXgoY29sbGVjdGlvbiwgbWF0Y2hlcikge1xuXG4gIG1hdGNoZXIgPSB0b01hdGNoZXIobWF0Y2hlcik7XG5cbiAgbGV0IGlkeCA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyAtMSA6IHVuZGVmaW5lZDtcblxuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgaWYgKG1hdGNoZXIodmFsLCBrZXkpKSB7XG4gICAgICBpZHggPSBrZXk7XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBpZHg7XG59XG5cblxuLyoqXG4gKiBGaW5kIGVsZW1lbnQgaW4gY29sbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7QXJyYXl9IHJlc3VsdFxuICovXG5mdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgbWF0Y2hlcikge1xuXG4gIGxldCByZXN1bHQgPSBbXTtcblxuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgaWYgKG1hdGNoZXIodmFsLCBrZXkpKSB7XG4gICAgICByZXN1bHQucHVzaCh2YWwpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBjb2xsZWN0aW9uOyByZXR1cm5pbmcgc29tZXRoaW5nXG4gKiAobm9uLXVuZGVmaW5lZCkgd2lsbCBzdG9wIGl0ZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBpdGVyYXRvclxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gcmV0dXJuIHJlc3VsdCB0aGF0IHN0b3BwZWQgdGhlIGl0ZXJhdGlvblxuICovXG5mdW5jdGlvbiBmb3JFYWNoKGNvbGxlY3Rpb24sIGl0ZXJhdG9yKSB7XG5cbiAgbGV0IHZhbCxcbiAgICAgIHJlc3VsdDtcblxuICBpZiAoaXNVbmRlZmluZWQoY29sbGVjdGlvbikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjb252ZXJ0S2V5ID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IHRvTnVtIDogaWRlbnRpdHk7XG5cbiAgZm9yIChsZXQga2V5IGluIGNvbGxlY3Rpb24pIHtcblxuICAgIGlmIChoYXMoY29sbGVjdGlvbiwga2V5KSkge1xuICAgICAgdmFsID0gY29sbGVjdGlvbltrZXldO1xuXG4gICAgICByZXN1bHQgPSBpdGVyYXRvcih2YWwsIGNvbnZlcnRLZXkoa2V5KSk7XG5cbiAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUmV0dXJuIGNvbGxlY3Rpb24gd2l0aG91dCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSAge0FycmF5fSBhcnJcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIHdpdGhvdXQoYXJyLCBtYXRjaGVyKSB7XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGFycikpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBlbnN1cmVBcnJheShhcnIpO1xuXG4gIG1hdGNoZXIgPSB0b01hdGNoZXIobWF0Y2hlcik7XG5cbiAgcmV0dXJuIGFyci5maWx0ZXIoZnVuY3Rpb24oZWwsIGlkeCkge1xuICAgIHJldHVybiAhbWF0Y2hlcihlbCwgaWR4KTtcbiAgfSk7XG5cbn1cblxuXG4vKipcbiAqIFJlZHVjZSBjb2xsZWN0aW9uLCByZXR1cm5pbmcgYSBzaW5nbGUgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheX0gY29sbGVjdGlvblxuICogQHBhcmFtICB7RnVuY3Rpb259IGl0ZXJhdG9yXG4gKiBAcGFyYW0gIHtBbnl9IHJlc3VsdFxuICpcbiAqIEByZXR1cm4ge0FueX0gcmVzdWx0IHJldHVybmVkIGZyb20gbGFzdCBpdGVyYXRvclxuICovXG5mdW5jdGlvbiByZWR1Y2UoY29sbGVjdGlvbiwgaXRlcmF0b3IsIHJlc3VsdCkge1xuXG4gIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGlkeCkge1xuICAgIHJlc3VsdCA9IGl0ZXJhdG9yKHJlc3VsdCwgdmFsdWUsIGlkeCk7XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSBpZiBldmVyeSBlbGVtZW50IGluIHRoZSBjb2xsZWN0aW9uXG4gKiBtYXRjaGVzIHRoZSBjcml0ZXJpYS5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R8QXJyYXl9IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gZXZlcnkoY29sbGVjdGlvbiwgbWF0Y2hlcikge1xuXG4gIHJldHVybiAhIXJlZHVjZShjb2xsZWN0aW9uLCBmdW5jdGlvbihtYXRjaGVzLCB2YWwsIGtleSkge1xuICAgIHJldHVybiBtYXRjaGVzICYmIG1hdGNoZXIodmFsLCBrZXkpO1xuICB9LCB0cnVlKTtcbn1cblxuXG4vKipcbiAqIFJldHVybiB0cnVlIGlmIHNvbWUgZWxlbWVudHMgaW4gdGhlIGNvbGxlY3Rpb25cbiAqIG1hdGNoIHRoZSBjcml0ZXJpYS5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R8QXJyYXl9IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gc29tZShjb2xsZWN0aW9uLCBtYXRjaGVyKSB7XG5cbiAgcmV0dXJuICEhZmluZChjb2xsZWN0aW9uLCBtYXRjaGVyKTtcbn1cblxuXG4vKipcbiAqIFRyYW5zZm9ybSBhIGNvbGxlY3Rpb24gaW50byBhbm90aGVyIGNvbGxlY3Rpb25cbiAqIGJ5IHBpcGluZyBlYWNoIG1lbWJlciB0aHJvdWdoIHRoZSBnaXZlbiBmbi5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R8QXJyYXl9ICAgY29sbGVjdGlvblxuICogQHBhcmFtICB7RnVuY3Rpb259IGZuXG4gKlxuICogQHJldHVybiB7QXJyYXl9IHRyYW5zZm9ybWVkIGNvbGxlY3Rpb25cbiAqL1xuZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sIGZuKSB7XG5cbiAgbGV0IHJlc3VsdCA9IFtdO1xuXG4gIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgICByZXN1bHQucHVzaChmbih2YWwsIGtleSkpO1xuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cbi8qKlxuICogR2V0IHRoZSBjb2xsZWN0aW9ucyBrZXlzLlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheX0gY29sbGVjdGlvblxuICpcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5mdW5jdGlvbiBrZXlzKGNvbGxlY3Rpb24pIHtcbiAgcmV0dXJuIGNvbGxlY3Rpb24gJiYgT2JqZWN0LmtleXMoY29sbGVjdGlvbikgfHwgW107XG59XG5cblxuLyoqXG4gKiBTaG9ydGhhbmQgZm9yIGBrZXlzKG8pLmxlbmd0aGAuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5fSBjb2xsZWN0aW9uXG4gKlxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5mdW5jdGlvbiBzaXplKGNvbGxlY3Rpb24pIHtcbiAgcmV0dXJuIGtleXMoY29sbGVjdGlvbikubGVuZ3RoO1xufVxuXG5cbi8qKlxuICogR2V0IHRoZSB2YWx1ZXMgaW4gdGhlIGNvbGxlY3Rpb24uXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5fSBjb2xsZWN0aW9uXG4gKlxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIHZhbHVlcyhjb2xsZWN0aW9uKSB7XG4gIHJldHVybiBtYXAoY29sbGVjdGlvbiwgKHZhbCkgPT4gdmFsKTtcbn1cblxuXG4vKipcbiAqIEdyb3VwIGNvbGxlY3Rpb24gbWVtYmVycyBieSBhdHRyaWJ1dGUuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gZXh0cmFjdG9yXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBtYXAgd2l0aCB7IGF0dHJWYWx1ZSA9PiBbIGEsIGIsIGMgXSB9XG4gKi9cbmZ1bmN0aW9uIGdyb3VwQnkoY29sbGVjdGlvbiwgZXh0cmFjdG9yLCBncm91cGVkID0ge30pIHtcblxuICBleHRyYWN0b3IgPSB0b0V4dHJhY3RvcihleHRyYWN0b3IpO1xuXG4gIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsKSB7XG4gICAgbGV0IGRpc2NyaW1pbmF0b3IgPSBleHRyYWN0b3IodmFsKSB8fCAnXyc7XG5cbiAgICBsZXQgZ3JvdXAgPSBncm91cGVkW2Rpc2NyaW1pbmF0b3JdO1xuXG4gICAgaWYgKCFncm91cCkge1xuICAgICAgZ3JvdXAgPSBncm91cGVkW2Rpc2NyaW1pbmF0b3JdID0gW107XG4gICAgfVxuXG4gICAgZ3JvdXAucHVzaCh2YWwpO1xuICB9KTtcblxuICByZXR1cm4gZ3JvdXBlZDtcbn1cblxuXG5mdW5jdGlvbiB1bmlxdWVCeShleHRyYWN0b3IsIC4uLmNvbGxlY3Rpb25zKSB7XG5cbiAgZXh0cmFjdG9yID0gdG9FeHRyYWN0b3IoZXh0cmFjdG9yKTtcblxuICBsZXQgZ3JvdXBlZCA9IHt9O1xuXG4gIGZvckVhY2goY29sbGVjdGlvbnMsIChjKSA9PiBncm91cEJ5KGMsIGV4dHJhY3RvciwgZ3JvdXBlZCkpO1xuXG4gIGxldCByZXN1bHQgPSBtYXAoZ3JvdXBlZCwgZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgICByZXR1cm4gdmFsWzBdO1xuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cbmNvbnN0IHVuaW9uQnkgPSB1bmlxdWVCeTtcblxuXG5cbi8qKlxuICogU29ydCBjb2xsZWN0aW9uIGJ5IGNyaXRlcmlhLlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheX0gY29sbGVjdGlvblxuICogQHBhcmFtICB7U3RyaW5nfEZ1bmN0aW9ufSBleHRyYWN0b3JcbiAqXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24gc29ydEJ5KGNvbGxlY3Rpb24sIGV4dHJhY3Rvcikge1xuXG4gIGV4dHJhY3RvciA9IHRvRXh0cmFjdG9yKGV4dHJhY3Rvcik7XG5cbiAgbGV0IHNvcnRlZCA9IFtdO1xuXG4gIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIGxldCBkaXNjID0gZXh0cmFjdG9yKHZhbHVlLCBrZXkpO1xuXG4gICAgbGV0IGVudHJ5ID0ge1xuICAgICAgZDogZGlzYyxcbiAgICAgIHY6IHZhbHVlXG4gICAgfTtcblxuICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IHNvcnRlZC5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICBsZXQgeyBkIH0gPSBzb3J0ZWRbaWR4XTtcblxuICAgICAgaWYgKGRpc2MgPCBkKSB7XG4gICAgICAgIHNvcnRlZC5zcGxpY2UoaWR4LCAwLCBlbnRyeSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBub3QgaW5zZXJ0ZWQsIGFwcGVuZCAoISlcbiAgICBzb3J0ZWQucHVzaChlbnRyeSk7XG4gIH0pO1xuXG4gIHJldHVybiBtYXAoc29ydGVkLCAoZSkgPT4gZS52KTtcbn1cblxuXG4vKipcbiAqIENyZWF0ZSBhbiBvYmplY3QgcGF0dGVybiBtYXRjaGVyLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogY29uc3QgbWF0Y2hlciA9IG1hdGNoUGF0dGVybih7IGlkOiAxIH0pO1xuICpcbiAqIGxldCBlbGVtZW50ID0gZmluZChlbGVtZW50cywgbWF0Y2hlcik7XG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBwYXR0ZXJuXG4gKlxuICogQHJldHVybiB7RnVuY3Rpb259IG1hdGNoZXJGblxuICovXG5mdW5jdGlvbiBtYXRjaFBhdHRlcm4ocGF0dGVybikge1xuXG4gIHJldHVybiBmdW5jdGlvbihlbCkge1xuXG4gICAgcmV0dXJuIGV2ZXJ5KHBhdHRlcm4sIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgICByZXR1cm4gZWxba2V5XSA9PT0gdmFsO1xuICAgIH0pO1xuXG4gIH07XG59XG5cblxuZnVuY3Rpb24gdG9FeHRyYWN0b3IoZXh0cmFjdG9yKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKGV4dHJhY3RvcikgPyBleHRyYWN0b3IgOiAoZSkgPT4ge1xuICAgIHJldHVybiBlW2V4dHJhY3Rvcl07XG4gIH07XG59XG5cblxuZnVuY3Rpb24gdG9NYXRjaGVyKG1hdGNoZXIpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24obWF0Y2hlcikgPyBtYXRjaGVyIDogKGUpID0+IHtcbiAgICByZXR1cm4gZSA9PT0gbWF0Y2hlcjtcbiAgfTtcbn1cblxuXG5mdW5jdGlvbiBpZGVudGl0eShhcmcpIHtcbiAgcmV0dXJuIGFyZztcbn1cblxuZnVuY3Rpb24gdG9OdW0oYXJnKSB7XG4gIHJldHVybiBOdW1iZXIoYXJnKTtcbn1cblxuLyoqXG4gKiBEZWJvdW5jZSBmbiwgY2FsbGluZyBpdCBvbmx5IG9uY2UgaWYgdGhlIGdpdmVuIHRpbWVcbiAqIGVsYXBzZWQgYmV0d2VlbiBjYWxscy5cbiAqXG4gKiBMb2Rhc2gtc3R5bGUgdGhlIGZ1bmN0aW9uIGV4cG9zZXMgbWV0aG9kcyB0byBgI2NsZWFyYFxuICogYW5kIGAjZmx1c2hgIHRvIGNvbnRyb2wgaW50ZXJuYWwgYmVoYXZpb3IuXG4gKlxuICogQHBhcmFtICB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHRpbWVvdXRcbiAqXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gZGVib3VuY2VkIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGRlYm91bmNlKGZuLCB0aW1lb3V0KSB7XG5cbiAgbGV0IHRpbWVyO1xuXG4gIGxldCBsYXN0QXJncztcbiAgbGV0IGxhc3RUaGlzO1xuXG4gIGxldCBsYXN0Tm93O1xuXG4gIGZ1bmN0aW9uIGZpcmUoZm9yY2UpIHtcblxuICAgIGxldCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgbGV0IHNjaGVkdWxlZERpZmYgPSBmb3JjZSA/IDAgOiAobGFzdE5vdyArIHRpbWVvdXQpIC0gbm93O1xuXG4gICAgaWYgKHNjaGVkdWxlZERpZmYgPiAwKSB7XG4gICAgICByZXR1cm4gc2NoZWR1bGUoc2NoZWR1bGVkRGlmZik7XG4gICAgfVxuXG4gICAgZm4uYXBwbHkobGFzdFRoaXMsIGxhc3RBcmdzKTtcblxuICAgIGNsZWFyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBzY2hlZHVsZSh0aW1lb3V0KSB7XG4gICAgdGltZXIgPSBzZXRUaW1lb3V0KGZpcmUsIHRpbWVvdXQpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgaWYgKHRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIH1cblxuICAgIHRpbWVyID0gbGFzdE5vdyA9IGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICBpZiAodGltZXIpIHtcbiAgICAgIGZpcmUodHJ1ZSk7XG4gICAgfVxuXG4gICAgY2xlYXIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbGxiYWNrKC4uLmFyZ3MpIHtcbiAgICBsYXN0Tm93ID0gRGF0ZS5ub3coKTtcblxuICAgIGxhc3RBcmdzID0gYXJncztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG5cbiAgICAvLyBlbnN1cmUgYW4gZXhlY3V0aW9uIGlzIHNjaGVkdWxlZFxuICAgIGlmICghdGltZXIpIHtcbiAgICAgIHNjaGVkdWxlKHRpbWVvdXQpO1xuICAgIH1cbiAgfVxuXG4gIGNhbGxiYWNrLmZsdXNoID0gZmx1c2g7XG4gIGNhbGxiYWNrLmNhbmNlbCA9IGNsZWFyO1xuXG4gIHJldHVybiBjYWxsYmFjaztcbn1cblxuLyoqXG4gKiBUaHJvdHRsZSBmbiwgY2FsbGluZyBhdCBtb3N0IG9uY2VcbiAqIGluIHRoZSBnaXZlbiBpbnRlcnZhbC5cbiAqXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSAge051bWJlcn0gaW50ZXJ2YWxcbiAqXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gdGhyb3R0bGVkIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIHRocm90dGxlKGZuLCBpbnRlcnZhbCkge1xuICBsZXQgdGhyb3R0bGluZyA9IGZhbHNlO1xuXG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG5cbiAgICBpZiAodGhyb3R0bGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZuKC4uLmFyZ3MpO1xuICAgIHRocm90dGxpbmcgPSB0cnVlO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aHJvdHRsaW5nID0gZmFsc2U7XG4gICAgfSwgaW50ZXJ2YWwpO1xuICB9O1xufVxuXG4vKipcbiAqIEJpbmQgZnVuY3Rpb24gYWdhaW5zdCB0YXJnZXQgPHRoaXM+LlxuICpcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtICB7T2JqZWN0fSAgIHRhcmdldFxuICpcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBib3VuZCBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBiaW5kKGZuLCB0YXJnZXQpIHtcbiAgcmV0dXJuIGZuLmJpbmQodGFyZ2V0KTtcbn1cblxuLyoqXG4gKiBDb252ZW5pZW5jZSB3cmFwcGVyIGZvciBgT2JqZWN0LmFzc2lnbmAuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHsuLi5PYmplY3R9IG90aGVyc1xuICpcbiAqIEByZXR1cm4ge09iamVjdH0gdGhlIHRhcmdldFxuICovXG5mdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCAuLi5vdGhlcnMpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24odGFyZ2V0LCAuLi5vdGhlcnMpO1xufVxuXG4vKipcbiAqIFNldHMgYSBuZXN0ZWQgcHJvcGVydHkgb2YgYSBnaXZlbiBvYmplY3QgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZS5cbiAqXG4gKiBUaGlzIG11dGF0ZXMgdGhlIG9iamVjdCBhbmQgcmV0dXJucyBpdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IFRoZSB0YXJnZXQgb2YgdGhlIHNldCBvcGVyYXRpb24uXG4gKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKVtdfSBwYXRoIFRoZSBwYXRoIHRvIHRoZSBuZXN0ZWQgdmFsdWUuXG4gKiBAcGFyYW0ge2FueX0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqL1xuZnVuY3Rpb24gc2V0KHRhcmdldCwgcGF0aCwgdmFsdWUpIHtcblxuICBsZXQgY3VycmVudFRhcmdldCA9IHRhcmdldDtcblxuICBmb3JFYWNoKHBhdGgsIGZ1bmN0aW9uKGtleSwgaWR4KSB7XG5cbiAgICBpZiAodHlwZW9mIGtleSAhPT0gJ251bWJlcicgJiYgdHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaWxsZWdhbCBrZXkgdHlwZTogJyArIHR5cGVvZiBrZXkgKyAnLiBLZXkgc2hvdWxkIGJlIG9mIHR5cGUgbnVtYmVyIG9yIHN0cmluZy4nKTtcbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSAnY29uc3RydWN0b3InKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2lsbGVnYWwga2V5OiBjb25zdHJ1Y3RvcicpO1xuICAgIH1cblxuICAgIGlmIChrZXkgPT09ICdfX3Byb3RvX18nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2lsbGVnYWwga2V5OiBfX3Byb3RvX18nKTtcbiAgICB9XG5cbiAgICBsZXQgbmV4dEtleSA9IHBhdGhbaWR4ICsgMV07XG4gICAgbGV0IG5leHRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0W2tleV07XG5cbiAgICBpZiAoaXNEZWZpbmVkKG5leHRLZXkpICYmIGlzTmlsKG5leHRUYXJnZXQpKSB7XG4gICAgICBuZXh0VGFyZ2V0ID0gY3VycmVudFRhcmdldFtrZXldID0gaXNOYU4oK25leHRLZXkpID8ge30gOiBbXTtcbiAgICB9XG5cbiAgICBpZiAoaXNVbmRlZmluZWQobmV4dEtleSkpIHtcbiAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgZGVsZXRlIGN1cnJlbnRUYXJnZXRba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRUYXJnZXRba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50VGFyZ2V0ID0gbmV4dFRhcmdldDtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cblxuLyoqXG4gKiBHZXRzIGEgbmVzdGVkIHByb3BlcnR5IG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgVGhlIHRhcmdldCBvZiB0aGUgZ2V0IG9wZXJhdGlvbi5cbiAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpW119IHBhdGggVGhlIHBhdGggdG8gdGhlIG5lc3RlZCB2YWx1ZS5cbiAqIEBwYXJhbSB7YW55fSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgdG8gcmV0dXJuIGlmIG5vIHZhbHVlIGV4aXN0cy5cbiAqL1xuZnVuY3Rpb24gZ2V0KHRhcmdldCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG5cbiAgbGV0IGN1cnJlbnRUYXJnZXQgPSB0YXJnZXQ7XG5cbiAgZm9yRWFjaChwYXRoLCBmdW5jdGlvbihrZXkpIHtcblxuICAgIC8vIGFjY2Vzc2luZyBuaWwgcHJvcGVydHkgeWllbGRzIDx1bmRlZmluZWQ+XG4gICAgaWYgKGlzTmlsKGN1cnJlbnRUYXJnZXQpKSB7XG4gICAgICBjdXJyZW50VGFyZ2V0ID0gdW5kZWZpbmVkO1xuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXRba2V5XTtcbiAgfSk7XG5cbiAgcmV0dXJuIGlzVW5kZWZpbmVkKGN1cnJlbnRUYXJnZXQpID8gZGVmYXVsdFZhbHVlIDogY3VycmVudFRhcmdldDtcbn1cblxuLyoqXG4gKiBQaWNrIGdpdmVuIHByb3BlcnRpZXMgZnJvbSB0aGUgdGFyZ2V0IG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0ge0FycmF5fSBwcm9wZXJ0aWVzXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSB0YXJnZXRcbiAqL1xuZnVuY3Rpb24gcGljayh0YXJnZXQsIHByb3BlcnRpZXMpIHtcblxuICBsZXQgcmVzdWx0ID0ge307XG5cbiAgbGV0IG9iaiA9IE9iamVjdCh0YXJnZXQpO1xuXG4gIGZvckVhY2gocHJvcGVydGllcywgZnVuY3Rpb24ocHJvcCkge1xuXG4gICAgaWYgKHByb3AgaW4gb2JqKSB7XG4gICAgICByZXN1bHRbcHJvcF0gPSB0YXJnZXRbcHJvcF07XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFBpY2sgYWxsIHRhcmdldCBwcm9wZXJ0aWVzLCBleGNsdWRpbmcgdGhlIGdpdmVuIG9uZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHtBcnJheX0gcHJvcGVydGllc1xuICpcbiAqIEByZXR1cm4ge09iamVjdH0gdGFyZ2V0XG4gKi9cbmZ1bmN0aW9uIG9taXQodGFyZ2V0LCBwcm9wZXJ0aWVzKSB7XG5cbiAgbGV0IHJlc3VsdCA9IHt9O1xuXG4gIGxldCBvYmogPSBPYmplY3QodGFyZ2V0KTtcblxuICBmb3JFYWNoKG9iaiwgZnVuY3Rpb24ocHJvcCwga2V5KSB7XG5cbiAgICBpZiAocHJvcGVydGllcy5pbmRleE9mKGtleSkgPT09IC0xKSB7XG4gICAgICByZXN1bHRba2V5XSA9IHByb3A7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFJlY3Vyc2l2ZWx5IG1lcmdlIGAuLi5zb3VyY2VzYCBpbnRvIGdpdmVuIHRhcmdldC5cbiAqXG4gKiBEb2VzIHN1cHBvcnQgbWVyZ2luZyBvYmplY3RzOyBkb2VzIG5vdCBzdXBwb3J0IG1lcmdpbmcgYXJyYXlzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSB0aGUgdGFyZ2V0XG4gKi9cbmZ1bmN0aW9uIG1lcmdlKHRhcmdldCwgLi4uc291cmNlcykge1xuXG4gIGlmICghc291cmNlcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgZm9yRWFjaChzb3VyY2VzLCBmdW5jdGlvbihzb3VyY2UpIHtcblxuICAgIC8vIHNraXAgbm9uLW9iaiBzb3VyY2VzLCBpLmUuIG51bGxcbiAgICBpZiAoIXNvdXJjZSB8fCAhaXNPYmplY3Qoc291cmNlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvckVhY2goc291cmNlLCBmdW5jdGlvbihzb3VyY2VWYWwsIGtleSkge1xuXG4gICAgICBpZiAoa2V5ID09PSAnX19wcm90b19fJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCB0YXJnZXRWYWwgPSB0YXJnZXRba2V5XTtcblxuICAgICAgaWYgKGlzT2JqZWN0KHNvdXJjZVZhbCkpIHtcblxuICAgICAgICBpZiAoIWlzT2JqZWN0KHRhcmdldFZhbCkpIHtcblxuICAgICAgICAgIC8vIG92ZXJyaWRlIHRhcmdldFtrZXldIHdpdGggb2JqZWN0XG4gICAgICAgICAgdGFyZ2V0VmFsID0ge307XG4gICAgICAgIH1cblxuICAgICAgICB0YXJnZXRba2V5XSA9IG1lcmdlKHRhcmdldFZhbCwgc291cmNlVmFsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gc291cmNlVmFsO1xuICAgICAgfVxuXG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmV4cG9ydCB7IGFzc2lnbiwgYmluZCwgZGVib3VuY2UsIGVuc3VyZUFycmF5LCBldmVyeSwgZmlsdGVyLCBmaW5kLCBmaW5kSW5kZXgsIGZsYXR0ZW4sIGZvckVhY2gsIGdldCwgZ3JvdXBCeSwgaGFzLCBpc0FycmF5LCBpc0RlZmluZWQsIGlzRnVuY3Rpb24sIGlzTmlsLCBpc051bWJlciwgaXNPYmplY3QsIGlzU3RyaW5nLCBpc1VuZGVmaW5lZCwga2V5cywgbWFwLCBtYXRjaFBhdHRlcm4sIG1lcmdlLCBvbWl0LCBwaWNrLCByZWR1Y2UsIHNldCwgc2l6ZSwgc29tZSwgc29ydEJ5LCB0aHJvdHRsZSwgdW5pb25CeSwgdW5pcXVlQnksIHZhbHVlcywgd2l0aG91dCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../bpmn-io/bpmn-js-color-picker/node_modules/min-dash/dist/index.esm.js\n");

/***/ }),

/***/ "../bpmn-io/bpmn-js/node_modules/min-dash/dist/index.esm.js":
/*!******************************************************************!*\
  !*** ../bpmn-io/bpmn-js/node_modules/min-dash/dist/index.esm.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assign: () => (/* binding */ assign),\n/* harmony export */   bind: () => (/* binding */ bind),\n/* harmony export */   debounce: () => (/* binding */ debounce),\n/* harmony export */   ensureArray: () => (/* binding */ ensureArray),\n/* harmony export */   every: () => (/* binding */ every),\n/* harmony export */   filter: () => (/* binding */ filter),\n/* harmony export */   find: () => (/* binding */ find),\n/* harmony export */   findIndex: () => (/* binding */ findIndex),\n/* harmony export */   flatten: () => (/* binding */ flatten),\n/* harmony export */   forEach: () => (/* binding */ forEach),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   groupBy: () => (/* binding */ groupBy),\n/* harmony export */   has: () => (/* binding */ has),\n/* harmony export */   isArray: () => (/* binding */ isArray),\n/* harmony export */   isDefined: () => (/* binding */ isDefined),\n/* harmony export */   isFunction: () => (/* binding */ isFunction),\n/* harmony export */   isNil: () => (/* binding */ isNil),\n/* harmony export */   isNumber: () => (/* binding */ isNumber),\n/* harmony export */   isObject: () => (/* binding */ isObject),\n/* harmony export */   isString: () => (/* binding */ isString),\n/* harmony export */   isUndefined: () => (/* binding */ isUndefined),\n/* harmony export */   keys: () => (/* binding */ keys),\n/* harmony export */   map: () => (/* binding */ map),\n/* harmony export */   matchPattern: () => (/* binding */ matchPattern),\n/* harmony export */   merge: () => (/* binding */ merge),\n/* harmony export */   omit: () => (/* binding */ omit),\n/* harmony export */   pick: () => (/* binding */ pick),\n/* harmony export */   reduce: () => (/* binding */ reduce),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   size: () => (/* binding */ size),\n/* harmony export */   some: () => (/* binding */ some),\n/* harmony export */   sortBy: () => (/* binding */ sortBy),\n/* harmony export */   throttle: () => (/* binding */ throttle),\n/* harmony export */   unionBy: () => (/* binding */ unionBy),\n/* harmony export */   uniqueBy: () => (/* binding */ uniqueBy),\n/* harmony export */   values: () => (/* binding */ values),\n/* harmony export */   without: () => (/* binding */ without)\n/* harmony export */ });\n/**\n * Flatten array, one level deep.\n *\n * @template T\n *\n * @param {T[][]} arr\n *\n * @return {T[]}\n */\nfunction flatten(arr) {\n  return Array.prototype.concat.apply([], arr);\n}\n\nconst nativeToString = Object.prototype.toString;\nconst nativeHasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isUndefined(obj) {\n  return obj === undefined;\n}\n\nfunction isDefined(obj) {\n  return obj !== undefined;\n}\n\nfunction isNil(obj) {\n  return obj == null;\n}\n\nfunction isArray(obj) {\n  return nativeToString.call(obj) === '[object Array]';\n}\n\nfunction isObject(obj) {\n  return nativeToString.call(obj) === '[object Object]';\n}\n\nfunction isNumber(obj) {\n  return nativeToString.call(obj) === '[object Number]';\n}\n\n/**\n * @param {any} obj\n *\n * @return {boolean}\n */\nfunction isFunction(obj) {\n  const tag = nativeToString.call(obj);\n\n  return (\n    tag === '[object Function]' ||\n    tag === '[object AsyncFunction]' ||\n    tag === '[object GeneratorFunction]' ||\n    tag === '[object AsyncGeneratorFunction]' ||\n    tag === '[object Proxy]'\n  );\n}\n\nfunction isString(obj) {\n  return nativeToString.call(obj) === '[object String]';\n}\n\n\n/**\n * Ensure collection is an array.\n *\n * @param {Object} obj\n */\nfunction ensureArray(obj) {\n\n  if (isArray(obj)) {\n    return;\n  }\n\n  throw new Error('must supply array');\n}\n\n/**\n * Return true, if target owns a property with the given key.\n *\n * @param {Object} target\n * @param {String} key\n *\n * @return {Boolean}\n */\nfunction has(target, key) {\n  return nativeHasOwnProperty.call(target, key);\n}\n\n/**\n * @template T\n * @typedef { (\n *   ((e: T) => boolean) |\n *   ((e: T, idx: number) => boolean) |\n *   ((e: T, key: string) => boolean) |\n *   string |\n *   number\n * ) } Matcher\n */\n\n/**\n * @template T\n * @template U\n *\n * @typedef { (\n *   ((e: T) => U) | string | number\n * ) } Extractor\n */\n\n\n/**\n * @template T\n * @typedef { (val: T, key: any) => boolean } MatchFn\n */\n\n/**\n * @template T\n * @typedef { T[] } ArrayCollection\n */\n\n/**\n * @template T\n * @typedef { { [key: string]: T } } StringKeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { { [key: number]: T } } NumberKeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { StringKeyValueCollection<T> | NumberKeyValueCollection<T> } KeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { KeyValueCollection<T> | ArrayCollection<T> } Collection\n */\n\n/**\n * Find element in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {Object}\n */\nfunction find(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let match;\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      match = val;\n\n      return false;\n    }\n  });\n\n  return match;\n\n}\n\n\n/**\n * Find element index in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {number}\n */\nfunction findIndex(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let idx = isArray(collection) ? -1 : undefined;\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      idx = key;\n\n      return false;\n    }\n  });\n\n  return idx;\n}\n\n\n/**\n * Filter elements in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {T[]} result\n */\nfunction filter(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let result = [];\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      result.push(val);\n    }\n  });\n\n  return result;\n}\n\n\n/**\n * Iterate over collection; returning something\n * (non-undefined) will stop iteration.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param { ((item: T, idx: number) => (boolean|void)) | ((item: T, key: string) => (boolean|void)) } iterator\n *\n * @return {T} return result that stopped the iteration\n */\nfunction forEach(collection, iterator) {\n\n  let val,\n      result;\n\n  if (isUndefined(collection)) {\n    return;\n  }\n\n  const convertKey = isArray(collection) ? toNum : identity;\n\n  for (let key in collection) {\n\n    if (has(collection, key)) {\n      val = collection[key];\n\n      result = iterator(val, convertKey(key));\n\n      if (result === false) {\n        return val;\n      }\n    }\n  }\n}\n\n/**\n * Return collection without element.\n *\n * @template T\n * @param {ArrayCollection<T>} arr\n * @param {Matcher<T>} matcher\n *\n * @return {T[]}\n */\nfunction without(arr, matcher) {\n\n  if (isUndefined(arr)) {\n    return [];\n  }\n\n  ensureArray(arr);\n\n  const matchFn = toMatcher(matcher);\n\n  return arr.filter(function(el, idx) {\n    return !matchFn(el, idx);\n  });\n\n}\n\n\n/**\n * Reduce collection, returning a single result.\n *\n * @template T\n * @template V\n *\n * @param {Collection<T>} collection\n * @param {(result: V, entry: T, index: any) => V} iterator\n * @param {V} result\n *\n * @return {V} result returned from last iterator\n */\nfunction reduce(collection, iterator, result) {\n\n  forEach(collection, function(value, idx) {\n    result = iterator(result, value, idx);\n  });\n\n  return result;\n}\n\n\n/**\n * Return true if every element in the collection\n * matches the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\nfunction every(collection, matcher) {\n\n  return !!reduce(collection, function(matches, val, key) {\n    return matches && matcher(val, key);\n  }, true);\n}\n\n\n/**\n * Return true if some elements in the collection\n * match the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\nfunction some(collection, matcher) {\n\n  return !!find(collection, matcher);\n}\n\n\n/**\n * Transform a collection into another collection\n * by piping each member through the given fn.\n *\n * @param  {Object|Array}   collection\n * @param  {Function} fn\n *\n * @return {Array} transformed collection\n */\nfunction map(collection, fn) {\n\n  let result = [];\n\n  forEach(collection, function(val, key) {\n    result.push(fn(val, key));\n  });\n\n  return result;\n}\n\n\n/**\n * Get the collections keys.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\nfunction keys(collection) {\n  return collection && Object.keys(collection) || [];\n}\n\n\n/**\n * Shorthand for `keys(o).length`.\n *\n * @param  {Object|Array} collection\n *\n * @return {Number}\n */\nfunction size(collection) {\n  return keys(collection).length;\n}\n\n\n/**\n * Get the values in the collection.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\nfunction values(collection) {\n  return map(collection, (val) => val);\n}\n\n\n/**\n * Group collection members by attribute.\n *\n * @param {Object|Array} collection\n * @param {Extractor} extractor\n *\n * @return {Object} map with { attrValue => [ a, b, c ] }\n */\nfunction groupBy(collection, extractor, grouped = {}) {\n\n  extractor = toExtractor(extractor);\n\n  forEach(collection, function(val) {\n    let discriminator = extractor(val) || '_';\n\n    let group = grouped[discriminator];\n\n    if (!group) {\n      group = grouped[discriminator] = [];\n    }\n\n    group.push(val);\n  });\n\n  return grouped;\n}\n\n\nfunction uniqueBy(extractor, ...collections) {\n\n  extractor = toExtractor(extractor);\n\n  let grouped = {};\n\n  forEach(collections, (c) => groupBy(c, extractor, grouped));\n\n  let result = map(grouped, function(val, key) {\n    return val[0];\n  });\n\n  return result;\n}\n\n\nconst unionBy = uniqueBy;\n\n\n\n/**\n * Sort collection by criteria.\n *\n * @template T\n *\n * @param {Collection<T>} collection\n * @param {Extractor<T, number | string>} extractor\n *\n * @return {Array}\n */\nfunction sortBy(collection, extractor) {\n\n  extractor = toExtractor(extractor);\n\n  let sorted = [];\n\n  forEach(collection, function(value, key) {\n    let disc = extractor(value, key);\n\n    let entry = {\n      d: disc,\n      v: value\n    };\n\n    for (var idx = 0; idx < sorted.length; idx++) {\n      let { d } = sorted[idx];\n\n      if (disc < d) {\n        sorted.splice(idx, 0, entry);\n        return;\n      }\n    }\n\n    // not inserted, append (!)\n    sorted.push(entry);\n  });\n\n  return map(sorted, (e) => e.v);\n}\n\n\n/**\n * Create an object pattern matcher.\n *\n * @example\n *\n * ```javascript\n * const matcher = matchPattern({ id: 1 });\n *\n * let element = find(elements, matcher);\n * ```\n *\n * @template T\n *\n * @param {T} pattern\n *\n * @return { (el: any) =>  boolean } matcherFn\n */\nfunction matchPattern(pattern) {\n\n  return function(el) {\n\n    return every(pattern, function(val, key) {\n      return el[key] === val;\n    });\n\n  };\n}\n\n\n/**\n * @param {string | ((e: any) => any) } extractor\n *\n * @return { (e: any) => any }\n */\nfunction toExtractor(extractor) {\n\n  /**\n   * @satisfies { (e: any) => any }\n   */\n  return isFunction(extractor) ? extractor : (e) => {\n\n    // @ts-ignore: just works\n    return e[extractor];\n  };\n}\n\n\n/**\n * @template T\n * @param {Matcher<T>} matcher\n *\n * @return {MatchFn<T>}\n */\nfunction toMatcher(matcher) {\n  return isFunction(matcher) ? matcher : (e) => {\n    return e === matcher;\n  };\n}\n\n\nfunction identity(arg) {\n  return arg;\n}\n\nfunction toNum(arg) {\n  return Number(arg);\n}\n\n/* global setTimeout clearTimeout */\n\n/**\n * @typedef { {\n *   (...args: any[]): any;\n *   flush: () => void;\n *   cancel: () => void;\n * } } DebouncedFunction\n */\n\n/**\n * Debounce fn, calling it only once if the given time\n * elapsed between calls.\n *\n * Lodash-style the function exposes methods to `#clear`\n * and `#flush` to control internal behavior.\n *\n * @param  {Function} fn\n * @param  {Number} timeout\n *\n * @return {DebouncedFunction} debounced function\n */\nfunction debounce(fn, timeout) {\n\n  let timer;\n\n  let lastArgs;\n  let lastThis;\n\n  let lastNow;\n\n  function fire(force) {\n\n    let now = Date.now();\n\n    let scheduledDiff = force ? 0 : (lastNow + timeout) - now;\n\n    if (scheduledDiff > 0) {\n      return schedule(scheduledDiff);\n    }\n\n    fn.apply(lastThis, lastArgs);\n\n    clear();\n  }\n\n  function schedule(timeout) {\n    timer = setTimeout(fire, timeout);\n  }\n\n  function clear() {\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = lastNow = lastArgs = lastThis = undefined;\n  }\n\n  function flush() {\n    if (timer) {\n      fire(true);\n    }\n\n    clear();\n  }\n\n  /**\n   * @type { DebouncedFunction }\n   */\n  function callback(...args) {\n    lastNow = Date.now();\n\n    lastArgs = args;\n    lastThis = this;\n\n    // ensure an execution is scheduled\n    if (!timer) {\n      schedule(timeout);\n    }\n  }\n\n  callback.flush = flush;\n  callback.cancel = clear;\n\n  return callback;\n}\n\n/**\n * Throttle fn, calling at most once\n * in the given interval.\n *\n * @param  {Function} fn\n * @param  {Number} interval\n *\n * @return {Function} throttled function\n */\nfunction throttle(fn, interval) {\n  let throttling = false;\n\n  return function(...args) {\n\n    if (throttling) {\n      return;\n    }\n\n    fn(...args);\n    throttling = true;\n\n    setTimeout(() => {\n      throttling = false;\n    }, interval);\n  };\n}\n\n/**\n * Bind function against target <this>.\n *\n * @param  {Function} fn\n * @param  {Object}   target\n *\n * @return {Function} bound function\n */\nfunction bind(fn, target) {\n  return fn.bind(target);\n}\n\n/**\n * Convenience wrapper for `Object.assign`.\n *\n * @param {Object} target\n * @param {...Object} others\n *\n * @return {Object} the target\n */\nfunction assign(target, ...others) {\n  return Object.assign(target, ...others);\n}\n\n/**\n * Sets a nested property of a given object to the specified value.\n *\n * This mutates the object and returns it.\n *\n * @template T\n *\n * @param {T} target The target of the set operation.\n * @param {(string|number)[]} path The path to the nested value.\n * @param {any} value The value to set.\n *\n * @return {T}\n */\nfunction set(target, path, value) {\n\n  let currentTarget = target;\n\n  forEach(path, function(key, idx) {\n\n    if (typeof key !== 'number' && typeof key !== 'string') {\n      throw new Error('illegal key type: ' + typeof key + '. Key should be of type number or string.');\n    }\n\n    if (key === 'constructor') {\n      throw new Error('illegal key: constructor');\n    }\n\n    if (key === '__proto__') {\n      throw new Error('illegal key: __proto__');\n    }\n\n    let nextKey = path[idx + 1];\n    let nextTarget = currentTarget[key];\n\n    if (isDefined(nextKey) && isNil(nextTarget)) {\n      nextTarget = currentTarget[key] = isNaN(+nextKey) ? {} : [];\n    }\n\n    if (isUndefined(nextKey)) {\n      if (isUndefined(value)) {\n        delete currentTarget[key];\n      } else {\n        currentTarget[key] = value;\n      }\n    } else {\n      currentTarget = nextTarget;\n    }\n  });\n\n  return target;\n}\n\n\n/**\n * Gets a nested property of a given object.\n *\n * @param {Object} target The target of the get operation.\n * @param {(string|number)[]} path The path to the nested value.\n * @param {any} [defaultValue] The value to return if no value exists.\n *\n * @return {any}\n */\nfunction get(target, path, defaultValue) {\n\n  let currentTarget = target;\n\n  forEach(path, function(key) {\n\n    // accessing nil property yields <undefined>\n    if (isNil(currentTarget)) {\n      currentTarget = undefined;\n\n      return false;\n    }\n\n    currentTarget = currentTarget[key];\n  });\n\n  return isUndefined(currentTarget) ? defaultValue : currentTarget;\n}\n\n/**\n * Pick properties from the given target.\n *\n * @template T\n * @template {any[]} V\n *\n * @param {T} target\n * @param {V} properties\n *\n * @return Pick<T, V>\n */\nfunction pick(target, properties) {\n\n  let result = {};\n\n  let obj = Object(target);\n\n  forEach(properties, function(prop) {\n\n    if (prop in obj) {\n      result[prop] = target[prop];\n    }\n  });\n\n  return result;\n}\n\n/**\n * Pick all target properties, excluding the given ones.\n *\n * @template T\n * @template {any[]} V\n *\n * @param {T} target\n * @param {V} properties\n *\n * @return {Omit<T, V>} target\n */\nfunction omit(target, properties) {\n\n  let result = {};\n\n  let obj = Object(target);\n\n  forEach(obj, function(prop, key) {\n\n    if (properties.indexOf(key) === -1) {\n      result[key] = prop;\n    }\n  });\n\n  return result;\n}\n\n/**\n * Recursively merge `...sources` into given target.\n *\n * Does support merging objects; does not support merging arrays.\n *\n * @param {Object} target\n * @param {...Object} sources\n *\n * @return {Object} the target\n */\nfunction merge(target, ...sources) {\n\n  if (!sources.length) {\n    return target;\n  }\n\n  forEach(sources, function(source) {\n\n    // skip non-obj sources, i.e. null\n    if (!source || !isObject(source)) {\n      return;\n    }\n\n    forEach(source, function(sourceVal, key) {\n\n      if (key === '__proto__') {\n        return;\n      }\n\n      let targetVal = target[key];\n\n      if (isObject(sourceVal)) {\n\n        if (!isObject(targetVal)) {\n\n          // override target[key] with object\n          targetVal = {};\n        }\n\n        target[key] = merge(targetVal, sourceVal);\n      } else {\n        target[key] = sourceVal;\n      }\n\n    });\n  });\n\n  return target;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vYnBtbi1pby9icG1uLWpzL25vZGVfbW9kdWxlcy9taW4tZGFzaC9kaXN0L2luZGV4LmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxPQUFPO0FBQ1A7OztBQUdBO0FBQ0E7QUFDQSxjQUFjLGdDQUFnQztBQUM5Qzs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxNQUFNO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0IscUJBQXFCO0FBQ3JDOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0IscUJBQXFCO0FBQ3JDOztBQUVBO0FBQ0E7QUFDQSxjQUFjLDREQUE0RDtBQUMxRTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyw2Q0FBNkM7QUFDM0Q7O0FB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R0FBRztBQUNkO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFdBQVc7QUFDdEI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7O0FBRWlVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2RheXMtMjAyMy8uLi9icG1uLWlvL2JwbW4tanMvbm9kZV9tb2R1bGVzL21pbi1kYXNoL2Rpc3QvaW5kZXguZXNtLmpzPzJkMTciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGbGF0dGVuIGFycmF5LCBvbmUgbGV2ZWwgZGVlcC5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICpcbiAqIEBwYXJhbSB7VFtdW119IGFyclxuICpcbiAqIEByZXR1cm4ge1RbXX1cbiAqL1xuZnVuY3Rpb24gZmxhdHRlbihhcnIpIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sIGFycik7XG59XG5cbmNvbnN0IG5hdGl2ZVRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbmNvbnN0IG5hdGl2ZUhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQob2JqKSB7XG4gIHJldHVybiBvYmogPT09IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gaXNEZWZpbmVkKG9iaikge1xuICByZXR1cm4gb2JqICE9PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzTmlsKG9iaikge1xuICByZXR1cm4gb2JqID09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXkob2JqKSB7XG4gIHJldHVybiBuYXRpdmVUb1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICByZXR1cm4gbmF0aXZlVG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBPYmplY3RdJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIob2JqKSB7XG4gIHJldHVybiBuYXRpdmVUb1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IE51bWJlcl0nO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSBvYmpcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKG9iaikge1xuICBjb25zdCB0YWcgPSBuYXRpdmVUb1N0cmluZy5jYWxsKG9iaik7XG5cbiAgcmV0dXJuIChcbiAgICB0YWcgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgfHxcbiAgICB0YWcgPT09ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyB8fFxuICAgIHRhZyA9PT0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyB8fFxuICAgIHRhZyA9PT0gJ1tvYmplY3QgQXN5bmNHZW5lcmF0b3JGdW5jdGlvbl0nIHx8XG4gICAgdGFnID09PSAnW29iamVjdCBQcm94eV0nXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKG9iaikge1xuICByZXR1cm4gbmF0aXZlVG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBTdHJpbmddJztcbn1cblxuXG4vKipcbiAqIEVuc3VyZSBjb2xsZWN0aW9uIGlzIGFuIGFycmF5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqL1xuZnVuY3Rpb24gZW5zdXJlQXJyYXkob2JqKSB7XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcignbXVzdCBzdXBwbHkgYXJyYXknKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSwgaWYgdGFyZ2V0IG93bnMgYSBwcm9wZXJ0eSB3aXRoIHRoZSBnaXZlbiBrZXkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGhhcyh0YXJnZXQsIGtleSkge1xuICByZXR1cm4gbmF0aXZlSGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIGtleSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHsgKFxuICogICAoKGU6IFQpID0+IGJvb2xlYW4pIHxcbiAqICAgKChlOiBULCBpZHg6IG51bWJlcikgPT4gYm9vbGVhbikgfFxuICogICAoKGU6IFQsIGtleTogc3RyaW5nKSA9PiBib29sZWFuKSB8XG4gKiAgIHN0cmluZyB8XG4gKiAgIG51bWJlclxuICogKSB9IE1hdGNoZXJcbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdGVtcGxhdGUgVVxuICpcbiAqIEB0eXBlZGVmIHsgKFxuICogICAoKGU6IFQpID0+IFUpIHwgc3RyaW5nIHwgbnVtYmVyXG4gKiApIH0gRXh0cmFjdG9yXG4gKi9cblxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdHlwZWRlZiB7ICh2YWw6IFQsIGtleTogYW55KSA9PiBib29sZWFuIH0gTWF0Y2hGblxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHsgVFtdIH0gQXJyYXlDb2xsZWN0aW9uXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHR5cGVkZWYgeyB7IFtrZXk6IHN0cmluZ106IFQgfSB9IFN0cmluZ0tleVZhbHVlQ29sbGVjdGlvblxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHsgeyBba2V5OiBudW1iZXJdOiBUIH0gfSBOdW1iZXJLZXlWYWx1ZUNvbGxlY3Rpb25cbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdHlwZWRlZiB7IFN0cmluZ0tleVZhbHVlQ29sbGVjdGlvbjxUPiB8IE51bWJlcktleVZhbHVlQ29sbGVjdGlvbjxUPiB9IEtleVZhbHVlQ29sbGVjdGlvblxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHsgS2V5VmFsdWVDb2xsZWN0aW9uPFQ+IHwgQXJyYXlDb2xsZWN0aW9uPFQ+IH0gQ29sbGVjdGlvblxuICovXG5cbi8qKlxuICogRmluZCBlbGVtZW50IGluIGNvbGxlY3Rpb24uXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7Q29sbGVjdGlvbjxUPn0gY29sbGVjdGlvblxuICogQHBhcmFtIHtNYXRjaGVyPFQ+fSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBmaW5kKGNvbGxlY3Rpb24sIG1hdGNoZXIpIHtcblxuICBjb25zdCBtYXRjaEZuID0gdG9NYXRjaGVyKG1hdGNoZXIpO1xuXG4gIGxldCBtYXRjaDtcblxuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgaWYgKG1hdGNoRm4odmFsLCBrZXkpKSB7XG4gICAgICBtYXRjaCA9IHZhbDtcblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIG1hdGNoO1xuXG59XG5cblxuLyoqXG4gKiBGaW5kIGVsZW1lbnQgaW5kZXggaW4gY29sbGVjdGlvbi5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtDb2xsZWN0aW9uPFQ+fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0ge01hdGNoZXI8VD59IG1hdGNoZXJcbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGZpbmRJbmRleChjb2xsZWN0aW9uLCBtYXRjaGVyKSB7XG5cbiAgY29uc3QgbWF0Y2hGbiA9IHRvTWF0Y2hlcihtYXRjaGVyKTtcblxuICBsZXQgaWR4ID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IC0xIDogdW5kZWZpbmVkO1xuXG4gIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgICBpZiAobWF0Y2hGbih2YWwsIGtleSkpIHtcbiAgICAgIGlkeCA9IGtleTtcblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGlkeDtcbn1cblxuXG4vKipcbiAqIEZpbHRlciBlbGVtZW50cyBpbiBjb2xsZWN0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge0NvbGxlY3Rpb248VD59IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7TWF0Y2hlcjxUPn0gbWF0Y2hlclxuICpcbiAqIEByZXR1cm4ge1RbXX0gcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIGZpbHRlcihjb2xsZWN0aW9uLCBtYXRjaGVyKSB7XG5cbiAgY29uc3QgbWF0Y2hGbiA9IHRvTWF0Y2hlcihtYXRjaGVyKTtcblxuICBsZXQgcmVzdWx0ID0gW107XG5cbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgIGlmIChtYXRjaEZuKHZhbCwga2V5KSkge1xuICAgICAgcmVzdWx0LnB1c2godmFsKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgY29sbGVjdGlvbjsgcmV0dXJuaW5nIHNvbWV0aGluZ1xuICogKG5vbi11bmRlZmluZWQpIHdpbGwgc3RvcCBpdGVyYXRpb24uXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7Q29sbGVjdGlvbjxUPn0gY29sbGVjdGlvblxuICogQHBhcmFtIHsgKChpdGVtOiBULCBpZHg6IG51bWJlcikgPT4gKGJvb2xlYW58dm9pZCkpIHwgKChpdGVtOiBULCBrZXk6IHN0cmluZykgPT4gKGJvb2xlYW58dm9pZCkpIH0gaXRlcmF0b3JcbiAqXG4gKiBAcmV0dXJuIHtUfSByZXR1cm4gcmVzdWx0IHRoYXQgc3RvcHBlZCB0aGUgaXRlcmF0aW9uXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2goY29sbGVjdGlvbiwgaXRlcmF0b3IpIHtcblxuICBsZXQgdmFsLFxuICAgICAgcmVzdWx0O1xuXG4gIGlmIChpc1VuZGVmaW5lZChjb2xsZWN0aW9uKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNvbnZlcnRLZXkgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gdG9OdW0gOiBpZGVudGl0eTtcblxuICBmb3IgKGxldCBrZXkgaW4gY29sbGVjdGlvbikge1xuXG4gICAgaWYgKGhhcyhjb2xsZWN0aW9uLCBrZXkpKSB7XG4gICAgICB2YWwgPSBjb2xsZWN0aW9uW2tleV07XG5cbiAgICAgIHJlc3VsdCA9IGl0ZXJhdG9yKHZhbCwgY29udmVydEtleShrZXkpKTtcblxuICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gY29sbGVjdGlvbiB3aXRob3V0IGVsZW1lbnQuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7QXJyYXlDb2xsZWN0aW9uPFQ+fSBhcnJcbiAqIEBwYXJhbSB7TWF0Y2hlcjxUPn0gbWF0Y2hlclxuICpcbiAqIEByZXR1cm4ge1RbXX1cbiAqL1xuZnVuY3Rpb24gd2l0aG91dChhcnIsIG1hdGNoZXIpIHtcblxuICBpZiAoaXNVbmRlZmluZWQoYXJyKSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGVuc3VyZUFycmF5KGFycik7XG5cbiAgY29uc3QgbWF0Y2hGbiA9IHRvTWF0Y2hlcihtYXRjaGVyKTtcblxuICByZXR1cm4gYXJyLmZpbHRlcihmdW5jdGlvbihlbCwgaWR4KSB7XG4gICAgcmV0dXJuICFtYXRjaEZuKGVsLCBpZHgpO1xuICB9KTtcblxufVxuXG5cbi8qKlxuICogUmVkdWNlIGNvbGxlY3Rpb24sIHJldHVybmluZyBhIHNpbmdsZSByZXN1bHQuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0ZW1wbGF0ZSBWXG4gKlxuICogQHBhcmFtIHtDb2xsZWN0aW9uPFQ+fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0geyhyZXN1bHQ6IFYsIGVudHJ5OiBULCBpbmRleDogYW55KSA9PiBWfSBpdGVyYXRvclxuICogQHBhcmFtIHtWfSByZXN1bHRcbiAqXG4gKiBAcmV0dXJuIHtWfSByZXN1bHQgcmV0dXJuZWQgZnJvbSBsYXN0IGl0ZXJhdG9yXG4gKi9cbmZ1bmN0aW9uIHJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRvciwgcmVzdWx0KSB7XG5cbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaWR4KSB7XG4gICAgcmVzdWx0ID0gaXRlcmF0b3IocmVzdWx0LCB2YWx1ZSwgaWR4KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG4vKipcbiAqIFJldHVybiB0cnVlIGlmIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIGNvbGxlY3Rpb25cbiAqIG1hdGNoZXMgdGhlIGNyaXRlcmlhLlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheX0gY29sbGVjdGlvblxuICogQHBhcmFtICB7RnVuY3Rpb259IG1hdGNoZXJcbiAqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBldmVyeShjb2xsZWN0aW9uLCBtYXRjaGVyKSB7XG5cbiAgcmV0dXJuICEhcmVkdWNlKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKG1hdGNoZXMsIHZhbCwga2V5KSB7XG4gICAgcmV0dXJuIG1hdGNoZXMgJiYgbWF0Y2hlcih2YWwsIGtleSk7XG4gIH0sIHRydWUpO1xufVxuXG5cbi8qKlxuICogUmV0dXJuIHRydWUgaWYgc29tZSBlbGVtZW50cyBpbiB0aGUgY29sbGVjdGlvblxuICogbWF0Y2ggdGhlIGNyaXRlcmlhLlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheX0gY29sbGVjdGlvblxuICogQHBhcmFtICB7RnVuY3Rpb259IG1hdGNoZXJcbiAqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBzb21lKGNvbGxlY3Rpb24sIG1hdGNoZXIpIHtcblxuICByZXR1cm4gISFmaW5kKGNvbGxlY3Rpb24sIG1hdGNoZXIpO1xufVxuXG5cbi8qKlxuICogVHJhbnNmb3JtIGEgY29sbGVjdGlvbiBpbnRvIGFub3RoZXIgY29sbGVjdGlvblxuICogYnkgcGlwaW5nIGVhY2ggbWVtYmVyIHRocm91Z2ggdGhlIGdpdmVuIGZuLlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheX0gICBjb2xsZWN0aW9uXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm5cbiAqXG4gKiBAcmV0dXJuIHtBcnJheX0gdHJhbnNmb3JtZWQgY29sbGVjdGlvblxuICovXG5mdW5jdGlvbiBtYXAoY29sbGVjdGlvbiwgZm4pIHtcblxuICBsZXQgcmVzdWx0ID0gW107XG5cbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgIHJlc3VsdC5wdXNoKGZuKHZhbCwga2V5KSk7XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuLyoqXG4gKiBHZXQgdGhlIGNvbGxlY3Rpb25zIGtleXMuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5fSBjb2xsZWN0aW9uXG4gKlxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIGtleXMoY29sbGVjdGlvbikge1xuICByZXR1cm4gY29sbGVjdGlvbiAmJiBPYmplY3Qua2V5cyhjb2xsZWN0aW9uKSB8fCBbXTtcbn1cblxuXG4vKipcbiAqIFNob3J0aGFuZCBmb3IgYGtleXMobykubGVuZ3RoYC5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R8QXJyYXl9IGNvbGxlY3Rpb25cbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIHNpemUoY29sbGVjdGlvbikge1xuICByZXR1cm4ga2V5cyhjb2xsZWN0aW9uKS5sZW5ndGg7XG59XG5cblxuLyoqXG4gKiBHZXQgdGhlIHZhbHVlcyBpbiB0aGUgY29sbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R8QXJyYXl9IGNvbGxlY3Rpb25cbiAqXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24gdmFsdWVzKGNvbGxlY3Rpb24pIHtcbiAgcmV0dXJuIG1hcChjb2xsZWN0aW9uLCAodmFsKSA9PiB2YWwpO1xufVxuXG5cbi8qKlxuICogR3JvdXAgY29sbGVjdGlvbiBtZW1iZXJzIGJ5IGF0dHJpYnV0ZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gY29sbGVjdGlvblxuICogQHBhcmFtIHtFeHRyYWN0b3J9IGV4dHJhY3RvclxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gbWFwIHdpdGggeyBhdHRyVmFsdWUgPT4gWyBhLCBiLCBjIF0gfVxuICovXG5mdW5jdGlvbiBncm91cEJ5KGNvbGxlY3Rpb24sIGV4dHJhY3RvciwgZ3JvdXBlZCA9IHt9KSB7XG5cbiAgZXh0cmFjdG9yID0gdG9FeHRyYWN0b3IoZXh0cmFjdG9yKTtcblxuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbCkge1xuICAgIGxldCBkaXNjcmltaW5hdG9yID0gZXh0cmFjdG9yKHZhbCkgfHwgJ18nO1xuXG4gICAgbGV0IGdyb3VwID0gZ3JvdXBlZFtkaXNjcmltaW5hdG9yXTtcblxuICAgIGlmICghZ3JvdXApIHtcbiAgICAgIGdyb3VwID0gZ3JvdXBlZFtkaXNjcmltaW5hdG9yXSA9IFtdO1xuICAgIH1cblxuICAgIGdyb3VwLnB1c2godmFsKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGdyb3VwZWQ7XG59XG5cblxuZnVuY3Rpb24gdW5pcXVlQnkoZXh0cmFjdG9yLCAuLi5jb2xsZWN0aW9ucykge1xuXG4gIGV4dHJhY3RvciA9IHRvRXh0cmFjdG9yKGV4dHJhY3Rvcik7XG5cbiAgbGV0IGdyb3VwZWQgPSB7fTtcblxuICBmb3JFYWNoKGNvbGxlY3Rpb25zLCAoYykgPT4gZ3JvdXBCeShjLCBleHRyYWN0b3IsIGdyb3VwZWQpKTtcblxuICBsZXQgcmVzdWx0ID0gbWFwKGdyb3VwZWQsIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgcmV0dXJuIHZhbFswXTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG5jb25zdCB1bmlvbkJ5ID0gdW5pcXVlQnk7XG5cblxuXG4vKipcbiAqIFNvcnQgY29sbGVjdGlvbiBieSBjcml0ZXJpYS5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICpcbiAqIEBwYXJhbSB7Q29sbGVjdGlvbjxUPn0gY29sbGVjdGlvblxuICogQHBhcmFtIHtFeHRyYWN0b3I8VCwgbnVtYmVyIHwgc3RyaW5nPn0gZXh0cmFjdG9yXG4gKlxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIHNvcnRCeShjb2xsZWN0aW9uLCBleHRyYWN0b3IpIHtcblxuICBleHRyYWN0b3IgPSB0b0V4dHJhY3RvcihleHRyYWN0b3IpO1xuXG4gIGxldCBzb3J0ZWQgPSBbXTtcblxuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICBsZXQgZGlzYyA9IGV4dHJhY3Rvcih2YWx1ZSwga2V5KTtcblxuICAgIGxldCBlbnRyeSA9IHtcbiAgICAgIGQ6IGRpc2MsXG4gICAgICB2OiB2YWx1ZVxuICAgIH07XG5cbiAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBzb3J0ZWQubGVuZ3RoOyBpZHgrKykge1xuICAgICAgbGV0IHsgZCB9ID0gc29ydGVkW2lkeF07XG5cbiAgICAgIGlmIChkaXNjIDwgZCkge1xuICAgICAgICBzb3J0ZWQuc3BsaWNlKGlkeCwgMCwgZW50cnkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbm90IGluc2VydGVkLCBhcHBlbmQgKCEpXG4gICAgc29ydGVkLnB1c2goZW50cnkpO1xuICB9KTtcblxuICByZXR1cm4gbWFwKHNvcnRlZCwgKGUpID0+IGUudik7XG59XG5cblxuLyoqXG4gKiBDcmVhdGUgYW4gb2JqZWN0IHBhdHRlcm4gbWF0Y2hlci5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNvbnN0IG1hdGNoZXIgPSBtYXRjaFBhdHRlcm4oeyBpZDogMSB9KTtcbiAqXG4gKiBsZXQgZWxlbWVudCA9IGZpbmQoZWxlbWVudHMsIG1hdGNoZXIpO1xuICogYGBgXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqXG4gKiBAcGFyYW0ge1R9IHBhdHRlcm5cbiAqXG4gKiBAcmV0dXJuIHsgKGVsOiBhbnkpID0+ICBib29sZWFuIH0gbWF0Y2hlckZuXG4gKi9cbmZ1bmN0aW9uIG1hdGNoUGF0dGVybihwYXR0ZXJuKSB7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGVsKSB7XG5cbiAgICByZXR1cm4gZXZlcnkocGF0dGVybiwgZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgICAgIHJldHVybiBlbFtrZXldID09PSB2YWw7XG4gICAgfSk7XG5cbiAgfTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nIHwgKChlOiBhbnkpID0+IGFueSkgfSBleHRyYWN0b3JcbiAqXG4gKiBAcmV0dXJuIHsgKGU6IGFueSkgPT4gYW55IH1cbiAqL1xuZnVuY3Rpb24gdG9FeHRyYWN0b3IoZXh0cmFjdG9yKSB7XG5cbiAgLyoqXG4gICAqIEBzYXRpc2ZpZXMgeyAoZTogYW55KSA9PiBhbnkgfVxuICAgKi9cbiAgcmV0dXJuIGlzRnVuY3Rpb24oZXh0cmFjdG9yKSA/IGV4dHJhY3RvciA6IChlKSA9PiB7XG5cbiAgICAvLyBAdHMtaWdub3JlOiBqdXN0IHdvcmtzXG4gICAgcmV0dXJuIGVbZXh0cmFjdG9yXTtcbiAgfTtcbn1cblxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge01hdGNoZXI8VD59IG1hdGNoZXJcbiAqXG4gKiBAcmV0dXJuIHtNYXRjaEZuPFQ+fVxuICovXG5mdW5jdGlvbiB0b01hdGNoZXIobWF0Y2hlcikge1xuICByZXR1cm4gaXNGdW5jdGlvbihtYXRjaGVyKSA/IG1hdGNoZXIgOiAoZSkgPT4ge1xuICAgIHJldHVybiBlID09PSBtYXRjaGVyO1xuICB9O1xufVxuXG5cbmZ1bmN0aW9uIGlkZW50aXR5KGFyZykge1xuICByZXR1cm4gYXJnO1xufVxuXG5mdW5jdGlvbiB0b051bShhcmcpIHtcbiAgcmV0dXJuIE51bWJlcihhcmcpO1xufVxuXG4vKiBnbG9iYWwgc2V0VGltZW91dCBjbGVhclRpbWVvdXQgKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgKC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICogICBmbHVzaDogKCkgPT4gdm9pZDtcbiAqICAgY2FuY2VsOiAoKSA9PiB2b2lkO1xuICogfSB9IERlYm91bmNlZEZ1bmN0aW9uXG4gKi9cblxuLyoqXG4gKiBEZWJvdW5jZSBmbiwgY2FsbGluZyBpdCBvbmx5IG9uY2UgaWYgdGhlIGdpdmVuIHRpbWVcbiAqIGVsYXBzZWQgYmV0d2VlbiBjYWxscy5cbiAqXG4gKiBMb2Rhc2gtc3R5bGUgdGhlIGZ1bmN0aW9uIGV4cG9zZXMgbWV0aG9kcyB0byBgI2NsZWFyYFxuICogYW5kIGAjZmx1c2hgIHRvIGNvbnRyb2wgaW50ZXJuYWwgYmVoYXZpb3IuXG4gKlxuICogQHBhcmFtICB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHRpbWVvdXRcbiAqXG4gKiBAcmV0dXJuIHtEZWJvdW5jZWRGdW5jdGlvbn0gZGVib3VuY2VkIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGRlYm91bmNlKGZuLCB0aW1lb3V0KSB7XG5cbiAgbGV0IHRpbWVyO1xuXG4gIGxldCBsYXN0QXJncztcbiAgbGV0IGxhc3RUaGlzO1xuXG4gIGxldCBsYXN0Tm93O1xuXG4gIGZ1bmN0aW9uIGZpcmUoZm9yY2UpIHtcblxuICAgIGxldCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgbGV0IHNjaGVkdWxlZERpZmYgPSBmb3JjZSA/IDAgOiAobGFzdE5vdyArIHRpbWVvdXQpIC0gbm93O1xuXG4gICAgaWYgKHNjaGVkdWxlZERpZmYgPiAwKSB7XG4gICAgICByZXR1cm4gc2NoZWR1bGUoc2NoZWR1bGVkRGlmZik7XG4gICAgfVxuXG4gICAgZm4uYXBwbHkobGFzdFRoaXMsIGxhc3RBcmdzKTtcblxuICAgIGNsZWFyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBzY2hlZHVsZSh0aW1lb3V0KSB7XG4gICAgdGltZXIgPSBzZXRUaW1lb3V0KGZpcmUsIHRpbWVvdXQpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgaWYgKHRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIH1cblxuICAgIHRpbWVyID0gbGFzdE5vdyA9IGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICBpZiAodGltZXIpIHtcbiAgICAgIGZpcmUodHJ1ZSk7XG4gICAgfVxuXG4gICAgY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7IERlYm91bmNlZEZ1bmN0aW9uIH1cbiAgICovXG4gIGZ1bmN0aW9uIGNhbGxiYWNrKC4uLmFyZ3MpIHtcbiAgICBsYXN0Tm93ID0gRGF0ZS5ub3coKTtcblxuICAgIGxhc3RBcmdzID0gYXJncztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG5cbiAgICAvLyBlbnN1cmUgYW4gZXhlY3V0aW9uIGlzIHNjaGVkdWxlZFxuICAgIGlmICghdGltZXIpIHtcbiAgICAgIHNjaGVkdWxlKHRpbWVvdXQpO1xuICAgIH1cbiAgfVxuXG4gIGNhbGxiYWNrLmZsdXNoID0gZmx1c2g7XG4gIGNhbGxiYWNrLmNhbmNlbCA9IGNsZWFyO1xuXG4gIHJldHVybiBjYWxsYmFjaztcbn1cblxuLyoqXG4gKiBUaHJvdHRsZSBmbiwgY2FsbGluZyBhdCBtb3N0IG9uY2VcbiAqIGluIHRoZSBnaXZlbiBpbnRlcnZhbC5cbiAqXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSAge051bWJlcn0gaW50ZXJ2YWxcbiAqXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gdGhyb3R0bGVkIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIHRocm90dGxlKGZuLCBpbnRlcnZhbCkge1xuICBsZXQgdGhyb3R0bGluZyA9IGZhbHNlO1xuXG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG5cbiAgICBpZiAodGhyb3R0bGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZuKC4uLmFyZ3MpO1xuICAgIHRocm90dGxpbmcgPSB0cnVlO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aHJvdHRsaW5nID0gZmFsc2U7XG4gICAgfSwgaW50ZXJ2YWwpO1xuICB9O1xufVxuXG4vKipcbiAqIEJpbmQgZnVuY3Rpb24gYWdhaW5zdCB0YXJnZXQgPHRoaXM+LlxuICpcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtICB7T2JqZWN0fSAgIHRhcmdldFxuICpcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBib3VuZCBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBiaW5kKGZuLCB0YXJnZXQpIHtcbiAgcmV0dXJuIGZuLmJpbmQodGFyZ2V0KTtcbn1cblxuLyoqXG4gKiBDb252ZW5pZW5jZSB3cmFwcGVyIGZvciBgT2JqZWN0LmFzc2lnbmAuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHsuLi5PYmplY3R9IG90aGVyc1xuICpcbiAqIEByZXR1cm4ge09iamVjdH0gdGhlIHRhcmdldFxuICovXG5mdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCAuLi5vdGhlcnMpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24odGFyZ2V0LCAuLi5vdGhlcnMpO1xufVxuXG4vKipcbiAqIFNldHMgYSBuZXN0ZWQgcHJvcGVydHkgb2YgYSBnaXZlbiBvYmplY3QgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZS5cbiAqXG4gKiBUaGlzIG11dGF0ZXMgdGhlIG9iamVjdCBhbmQgcmV0dXJucyBpdC5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICpcbiAqIEBwYXJhbSB7VH0gdGFyZ2V0IFRoZSB0YXJnZXQgb2YgdGhlIHNldCBvcGVyYXRpb24uXG4gKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKVtdfSBwYXRoIFRoZSBwYXRoIHRvIHRoZSBuZXN0ZWQgdmFsdWUuXG4gKiBAcGFyYW0ge2FueX0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqXG4gKiBAcmV0dXJuIHtUfVxuICovXG5mdW5jdGlvbiBzZXQodGFyZ2V0LCBwYXRoLCB2YWx1ZSkge1xuXG4gIGxldCBjdXJyZW50VGFyZ2V0ID0gdGFyZ2V0O1xuXG4gIGZvckVhY2gocGF0aCwgZnVuY3Rpb24oa2V5LCBpZHgpIHtcblxuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnbnVtYmVyJyAmJiB0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbGxlZ2FsIGtleSB0eXBlOiAnICsgdHlwZW9mIGtleSArICcuIEtleSBzaG91bGQgYmUgb2YgdHlwZSBudW1iZXIgb3Igc3RyaW5nLicpO1xuICAgIH1cblxuICAgIGlmIChrZXkgPT09ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaWxsZWdhbCBrZXk6IGNvbnN0cnVjdG9yJyk7XG4gICAgfVxuXG4gICAgaWYgKGtleSA9PT0gJ19fcHJvdG9fXycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaWxsZWdhbCBrZXk6IF9fcHJvdG9fXycpO1xuICAgIH1cblxuICAgIGxldCBuZXh0S2V5ID0gcGF0aFtpZHggKyAxXTtcbiAgICBsZXQgbmV4dFRhcmdldCA9IGN1cnJlbnRUYXJnZXRba2V5XTtcblxuICAgIGlmIChpc0RlZmluZWQobmV4dEtleSkgJiYgaXNOaWwobmV4dFRhcmdldCkpIHtcbiAgICAgIG5leHRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0W2tleV0gPSBpc05hTigrbmV4dEtleSkgPyB7fSA6IFtdO1xuICAgIH1cblxuICAgIGlmIChpc1VuZGVmaW5lZChuZXh0S2V5KSkge1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICBkZWxldGUgY3VycmVudFRhcmdldFtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudFRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRUYXJnZXQgPSBuZXh0VGFyZ2V0O1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuXG4vKipcbiAqIEdldHMgYSBuZXN0ZWQgcHJvcGVydHkgb2YgYSBnaXZlbiBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBUaGUgdGFyZ2V0IG9mIHRoZSBnZXQgb3BlcmF0aW9uLlxuICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcilbXX0gcGF0aCBUaGUgcGF0aCB0byB0aGUgbmVzdGVkIHZhbHVlLlxuICogQHBhcmFtIHthbnl9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSB0byByZXR1cm4gaWYgbm8gdmFsdWUgZXhpc3RzLlxuICpcbiAqIEByZXR1cm4ge2FueX1cbiAqL1xuZnVuY3Rpb24gZ2V0KHRhcmdldCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG5cbiAgbGV0IGN1cnJlbnRUYXJnZXQgPSB0YXJnZXQ7XG5cbiAgZm9yRWFjaChwYXRoLCBmdW5jdGlvbihrZXkpIHtcblxuICAgIC8vIGFjY2Vzc2luZyBuaWwgcHJvcGVydHkgeWllbGRzIDx1bmRlZmluZWQ+XG4gICAgaWYgKGlzTmlsKGN1cnJlbnRUYXJnZXQpKSB7XG4gICAgICBjdXJyZW50VGFyZ2V0ID0gdW5kZWZpbmVkO1xuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXRba2V5XTtcbiAgfSk7XG5cbiAgcmV0dXJuIGlzVW5kZWZpbmVkKGN1cnJlbnRUYXJnZXQpID8gZGVmYXVsdFZhbHVlIDogY3VycmVudFRhcmdldDtcbn1cblxuLyoqXG4gKiBQaWNrIHByb3BlcnRpZXMgZnJvbSB0aGUgZ2l2ZW4gdGFyZ2V0LlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdGVtcGxhdGUge2FueVtdfSBWXG4gKlxuICogQHBhcmFtIHtUfSB0YXJnZXRcbiAqIEBwYXJhbSB7Vn0gcHJvcGVydGllc1xuICpcbiAqIEByZXR1cm4gUGljazxULCBWPlxuICovXG5mdW5jdGlvbiBwaWNrKHRhcmdldCwgcHJvcGVydGllcykge1xuXG4gIGxldCByZXN1bHQgPSB7fTtcblxuICBsZXQgb2JqID0gT2JqZWN0KHRhcmdldCk7XG5cbiAgZm9yRWFjaChwcm9wZXJ0aWVzLCBmdW5jdGlvbihwcm9wKSB7XG5cbiAgICBpZiAocHJvcCBpbiBvYmopIHtcbiAgICAgIHJlc3VsdFtwcm9wXSA9IHRhcmdldFtwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogUGljayBhbGwgdGFyZ2V0IHByb3BlcnRpZXMsIGV4Y2x1ZGluZyB0aGUgZ2l2ZW4gb25lcy5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHRlbXBsYXRlIHthbnlbXX0gVlxuICpcbiAqIEBwYXJhbSB7VH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1Z9IHByb3BlcnRpZXNcbiAqXG4gKiBAcmV0dXJuIHtPbWl0PFQsIFY+fSB0YXJnZXRcbiAqL1xuZnVuY3Rpb24gb21pdCh0YXJnZXQsIHByb3BlcnRpZXMpIHtcblxuICBsZXQgcmVzdWx0ID0ge307XG5cbiAgbGV0IG9iaiA9IE9iamVjdCh0YXJnZXQpO1xuXG4gIGZvckVhY2gob2JqLCBmdW5jdGlvbihwcm9wLCBrZXkpIHtcblxuICAgIGlmIChwcm9wZXJ0aWVzLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gcHJvcDtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogUmVjdXJzaXZlbHkgbWVyZ2UgYC4uLnNvdXJjZXNgIGludG8gZ2l2ZW4gdGFyZ2V0LlxuICpcbiAqIERvZXMgc3VwcG9ydCBtZXJnaW5nIG9iamVjdHM7IGRvZXMgbm90IHN1cHBvcnQgbWVyZ2luZyBhcnJheXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXNcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IHRoZSB0YXJnZXRcbiAqL1xuZnVuY3Rpb24gbWVyZ2UodGFyZ2V0LCAuLi5zb3VyY2VzKSB7XG5cbiAgaWYgKCFzb3VyY2VzLmxlbmd0aCkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBmb3JFYWNoKHNvdXJjZXMsIGZ1bmN0aW9uKHNvdXJjZSkge1xuXG4gICAgLy8gc2tpcCBub24tb2JqIHNvdXJjZXMsIGkuZS4gbnVsbFxuICAgIGlmICghc291cmNlIHx8ICFpc09iamVjdChzb3VyY2UpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yRWFjaChzb3VyY2UsIGZ1bmN0aW9uKHNvdXJjZVZhbCwga2V5KSB7XG5cbiAgICAgIGlmIChrZXkgPT09ICdfX3Byb3RvX18nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGV0IHRhcmdldFZhbCA9IHRhcmdldFtrZXldO1xuXG4gICAgICBpZiAoaXNPYmplY3Qoc291cmNlVmFsKSkge1xuXG4gICAgICAgIGlmICghaXNPYmplY3QodGFyZ2V0VmFsKSkge1xuXG4gICAgICAgICAgLy8gb3ZlcnJpZGUgdGFyZ2V0W2tleV0gd2l0aCBvYmplY3RcbiAgICAgICAgICB0YXJnZXRWYWwgPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhcmdldFtrZXldID0gbWVyZ2UodGFyZ2V0VmFsLCBzb3VyY2VWYWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2VWYWw7XG4gICAgICB9XG5cbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZXhwb3J0IHsgYXNzaWduLCBiaW5kLCBkZWJvdW5jZSwgZW5zdXJlQXJyYXksIGV2ZXJ5LCBmaWx0ZXIsIGZpbmQsIGZpbmRJbmRleCwgZmxhdHRlbiwgZm9yRWFjaCwgZ2V0LCBncm91cEJ5LCBoYXMsIGlzQXJyYXksIGlzRGVmaW5lZCwgaXNGdW5jdGlvbiwgaXNOaWwsIGlzTnVtYmVyLCBpc09iamVjdCwgaXNTdHJpbmcsIGlzVW5kZWZpbmVkLCBrZXlzLCBtYXAsIG1hdGNoUGF0dGVybiwgbWVyZ2UsIG9taXQsIHBpY2ssIHJlZHVjZSwgc2V0LCBzaXplLCBzb21lLCBzb3J0QnksIHRocm90dGxlLCB1bmlvbkJ5LCB1bmlxdWVCeSwgdmFsdWVzLCB3aXRob3V0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../bpmn-io/bpmn-js/node_modules/min-dash/dist/index.esm.js\n");

/***/ }),

/***/ "../bpmn-io/diagram-js/node_modules/min-dash/dist/index.esm.js":
/*!*********************************************************************!*\
  !*** ../bpmn-io/diagram-js/node_modules/min-dash/dist/index.esm.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assign: () => (/* binding */ assign),\n/* harmony export */   bind: () => (/* binding */ bind),\n/* harmony export */   debounce: () => (/* binding */ debounce),\n/* harmony export */   ensureArray: () => (/* binding */ ensureArray),\n/* harmony export */   every: () => (/* binding */ every),\n/* harmony export */   filter: () => (/* binding */ filter),\n/* harmony export */   find: () => (/* binding */ find),\n/* harmony export */   findIndex: () => (/* binding */ findIndex),\n/* harmony export */   flatten: () => (/* binding */ flatten),\n/* harmony export */   forEach: () => (/* binding */ forEach),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   groupBy: () => (/* binding */ groupBy),\n/* harmony export */   has: () => (/* binding */ has),\n/* harmony export */   isArray: () => (/* binding */ isArray),\n/* harmony export */   isDefined: () => (/* binding */ isDefined),\n/* harmony export */   isFunction: () => (/* binding */ isFunction),\n/* harmony export */   isNil: () => (/* binding */ isNil),\n/* harmony export */   isNumber: () => (/* binding */ isNumber),\n/* harmony export */   isObject: () => (/* binding */ isObject),\n/* harmony export */   isString: () => (/* binding */ isString),\n/* harmony export */   isUndefined: () => (/* binding */ isUndefined),\n/* harmony export */   keys: () => (/* binding */ keys),\n/* harmony export */   map: () => (/* binding */ map),\n/* harmony export */   matchPattern: () => (/* binding */ matchPattern),\n/* harmony export */   merge: () => (/* binding */ merge),\n/* harmony export */   omit: () => (/* binding */ omit),\n/* harmony export */   pick: () => (/* binding */ pick),\n/* harmony export */   reduce: () => (/* binding */ reduce),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   size: () => (/* binding */ size),\n/* harmony export */   some: () => (/* binding */ some),\n/* harmony export */   sortBy: () => (/* binding */ sortBy),\n/* harmony export */   throttle: () => (/* binding */ throttle),\n/* harmony export */   unionBy: () => (/* binding */ unionBy),\n/* harmony export */   uniqueBy: () => (/* binding */ uniqueBy),\n/* harmony export */   values: () => (/* binding */ values),\n/* harmony export */   without: () => (/* binding */ without)\n/* harmony export */ });\n/**\n * Flatten array, one level deep.\n *\n * @template T\n *\n * @param {T[][]} arr\n *\n * @return {T[]}\n */\nfunction flatten(arr) {\n  return Array.prototype.concat.apply([], arr);\n}\n\nconst nativeToString = Object.prototype.toString;\nconst nativeHasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isUndefined(obj) {\n  return obj === undefined;\n}\n\nfunction isDefined(obj) {\n  return obj !== undefined;\n}\n\nfunction isNil(obj) {\n  return obj == null;\n}\n\nfunction isArray(obj) {\n  return nativeToString.call(obj) === '[object Array]';\n}\n\nfunction isObject(obj) {\n  return nativeToString.call(obj) === '[object Object]';\n}\n\nfunction isNumber(obj) {\n  return nativeToString.call(obj) === '[object Number]';\n}\n\n/**\n * @param {any} obj\n *\n * @return {boolean}\n */\nfunction isFunction(obj) {\n  const tag = nativeToString.call(obj);\n\n  return (\n    tag === '[object Function]' ||\n    tag === '[object AsyncFunction]' ||\n    tag === '[object GeneratorFunction]' ||\n    tag === '[object AsyncGeneratorFunction]' ||\n    tag === '[object Proxy]'\n  );\n}\n\nfunction isString(obj) {\n  return nativeToString.call(obj) === '[object String]';\n}\n\n\n/**\n * Ensure collection is an array.\n *\n * @param {Object} obj\n */\nfunction ensureArray(obj) {\n\n  if (isArray(obj)) {\n    return;\n  }\n\n  throw new Error('must supply array');\n}\n\n/**\n * Return true, if target owns a property with the given key.\n *\n * @param {Object} target\n * @param {String} key\n *\n * @return {Boolean}\n */\nfunction has(target, key) {\n  return nativeHasOwnProperty.call(target, key);\n}\n\n/**\n * @template T\n * @typedef { (\n *   ((e: T) => boolean) |\n *   ((e: T, idx: number) => boolean) |\n *   ((e: T, key: string) => boolean) |\n *   string |\n *   number\n * ) } Matcher\n */\n\n/**\n * @template T\n * @template U\n *\n * @typedef { (\n *   ((e: T) => U) | string | number\n * ) } Extractor\n */\n\n\n/**\n * @template T\n * @typedef { (val: T, key: any) => boolean } MatchFn\n */\n\n/**\n * @template T\n * @typedef { T[] } ArrayCollection\n */\n\n/**\n * @template T\n * @typedef { { [key: string]: T } } StringKeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { { [key: number]: T } } NumberKeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { StringKeyValueCollection<T> | NumberKeyValueCollection<T> } KeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { KeyValueCollection<T> | ArrayCollection<T> } Collection\n */\n\n/**\n * Find element in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {Object}\n */\nfunction find(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let match;\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      match = val;\n\n      return false;\n    }\n  });\n\n  return match;\n\n}\n\n\n/**\n * Find element index in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {number}\n */\nfunction findIndex(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let idx = isArray(collection) ? -1 : undefined;\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      idx = key;\n\n      return false;\n    }\n  });\n\n  return idx;\n}\n\n\n/**\n * Filter elements in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {T[]} result\n */\nfunction filter(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let result = [];\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      result.push(val);\n    }\n  });\n\n  return result;\n}\n\n\n/**\n * Iterate over collection; returning something\n * (non-undefined) will stop iteration.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param { ((item: T, idx: number) => (boolean|void)) | ((item: T, key: string) => (boolean|void)) } iterator\n *\n * @return {T} return result that stopped the iteration\n */\nfunction forEach(collection, iterator) {\n\n  let val,\n      result;\n\n  if (isUndefined(collection)) {\n    return;\n  }\n\n  const convertKey = isArray(collection) ? toNum : identity;\n\n  for (let key in collection) {\n\n    if (has(collection, key)) {\n      val = collection[key];\n\n      result = iterator(val, convertKey(key));\n\n      if (result === false) {\n        return val;\n      }\n    }\n  }\n}\n\n/**\n * Return collection without element.\n *\n * @template T\n * @param {ArrayCollection<T>} arr\n * @param {Matcher<T>} matcher\n *\n * @return {T[]}\n */\nfunction without(arr, matcher) {\n\n  if (isUndefined(arr)) {\n    return [];\n  }\n\n  ensureArray(arr);\n\n  const matchFn = toMatcher(matcher);\n\n  return arr.filter(function(el, idx) {\n    return !matchFn(el, idx);\n  });\n\n}\n\n\n/**\n * Reduce collection, returning a single result.\n *\n * @template T\n * @template V\n *\n * @param {Collection<T>} collection\n * @param {(result: V, entry: T, index: any) => V} iterator\n * @param {V} result\n *\n * @return {V} result returned from last iterator\n */\nfunction reduce(collection, iterator, result) {\n\n  forEach(collection, function(value, idx) {\n    result = iterator(result, value, idx);\n  });\n\n  return result;\n}\n\n\n/**\n * Return true if every element in the collection\n * matches the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\nfunction every(collection, matcher) {\n\n  return !!reduce(collection, function(matches, val, key) {\n    return matches && matcher(val, key);\n  }, true);\n}\n\n\n/**\n * Return true if some elements in the collection\n * match the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\nfunction some(collection, matcher) {\n\n  return !!find(collection, matcher);\n}\n\n\n/**\n * Transform a collection into another collection\n * by piping each member through the given fn.\n *\n * @param  {Object|Array}   collection\n * @param  {Function} fn\n *\n * @return {Array} transformed collection\n */\nfunction map(collection, fn) {\n\n  let result = [];\n\n  forEach(collection, function(val, key) {\n    result.push(fn(val, key));\n  });\n\n  return result;\n}\n\n\n/**\n * Get the collections keys.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\nfunction keys(collection) {\n  return collection && Object.keys(collection) || [];\n}\n\n\n/**\n * Shorthand for `keys(o).length`.\n *\n * @param  {Object|Array} collection\n *\n * @return {Number}\n */\nfunction size(collection) {\n  return keys(collection).length;\n}\n\n\n/**\n * Get the values in the collection.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\nfunction values(collection) {\n  return map(collection, (val) => val);\n}\n\n\n/**\n * Group collection members by attribute.\n *\n * @param {Object|Array} collection\n * @param {Extractor} extractor\n *\n * @return {Object} map with { attrValue => [ a, b, c ] }\n */\nfunction groupBy(collection, extractor, grouped = {}) {\n\n  extractor = toExtractor(extractor);\n\n  forEach(collection, function(val) {\n    let discriminator = extractor(val) || '_';\n\n    let group = grouped[discriminator];\n\n    if (!group) {\n      group = grouped[discriminator] = [];\n    }\n\n    group.push(val);\n  });\n\n  return grouped;\n}\n\n\nfunction uniqueBy(extractor, ...collections) {\n\n  extractor = toExtractor(extractor);\n\n  let grouped = {};\n\n  forEach(collections, (c) => groupBy(c, extractor, grouped));\n\n  let result = map(grouped, function(val, key) {\n    return val[0];\n  });\n\n  return result;\n}\n\n\nconst unionBy = uniqueBy;\n\n\n\n/**\n * Sort collection by criteria.\n *\n * @template T\n *\n * @param {Collection<T>} collection\n * @param {Extractor<T, number | string>} extractor\n *\n * @return {Array}\n */\nfunction sortBy(collection, extractor) {\n\n  extractor = toExtractor(extractor);\n\n  let sorted = [];\n\n  forEach(collection, function(value, key) {\n    let disc = extractor(value, key);\n\n    let entry = {\n      d: disc,\n      v: value\n    };\n\n    for (var idx = 0; idx < sorted.length; idx++) {\n      let { d } = sorted[idx];\n\n      if (disc < d) {\n        sorted.splice(idx, 0, entry);\n        return;\n      }\n    }\n\n    // not inserted, append (!)\n    sorted.push(entry);\n  });\n\n  return map(sorted, (e) => e.v);\n}\n\n\n/**\n * Create an object pattern matcher.\n *\n * @example\n *\n * ```javascript\n * const matcher = matchPattern({ id: 1 });\n *\n * let element = find(elements, matcher);\n * ```\n *\n * @template T\n *\n * @param {T} pattern\n *\n * @return { (el: any) =>  boolean } matcherFn\n */\nfunction matchPattern(pattern) {\n\n  return function(el) {\n\n    return every(pattern, function(val, key) {\n      return el[key] === val;\n    });\n\n  };\n}\n\n\n/**\n * @param {string | ((e: any) => any) } extractor\n *\n * @return { (e: any) => any }\n */\nfunction toExtractor(extractor) {\n\n  /**\n   * @satisfies { (e: any) => any }\n   */\n  return isFunction(extractor) ? extractor : (e) => {\n\n    // @ts-ignore: just works\n    return e[extractor];\n  };\n}\n\n\n/**\n * @template T\n * @param {Matcher<T>} matcher\n *\n * @return {MatchFn<T>}\n */\nfunction toMatcher(matcher) {\n  return isFunction(matcher) ? matcher : (e) => {\n    return e === matcher;\n  };\n}\n\n\nfunction identity(arg) {\n  return arg;\n}\n\nfunction toNum(arg) {\n  return Number(arg);\n}\n\n/* global setTimeout clearTimeout */\n\n/**\n * @typedef { {\n *   (...args: any[]): any;\n *   flush: () => void;\n *   cancel: () => void;\n * } } DebouncedFunction\n */\n\n/**\n * Debounce fn, calling it only once if the given time\n * elapsed between calls.\n *\n * Lodash-style the function exposes methods to `#clear`\n * and `#flush` to control internal behavior.\n *\n * @param  {Function} fn\n * @param  {Number} timeout\n *\n * @return {DebouncedFunction} debounced function\n */\nfunction debounce(fn, timeout) {\n\n  let timer;\n\n  let lastArgs;\n  let lastThis;\n\n  let lastNow;\n\n  function fire(force) {\n\n    let now = Date.now();\n\n    let scheduledDiff = force ? 0 : (lastNow + timeout) - now;\n\n    if (scheduledDiff > 0) {\n      return schedule(scheduledDiff);\n    }\n\n    fn.apply(lastThis, lastArgs);\n\n    clear();\n  }\n\n  function schedule(timeout) {\n    timer = setTimeout(fire, timeout);\n  }\n\n  function clear() {\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = lastNow = lastArgs = lastThis = undefined;\n  }\n\n  function flush() {\n    if (timer) {\n      fire(true);\n    }\n\n    clear();\n  }\n\n  /**\n   * @type { DebouncedFunction }\n   */\n  function callback(...args) {\n    lastNow = Date.now();\n\n    lastArgs = args;\n    lastThis = this;\n\n    // ensure an execution is scheduled\n    if (!timer) {\n      schedule(timeout);\n    }\n  }\n\n  callback.flush = flush;\n  callback.cancel = clear;\n\n  return callback;\n}\n\n/**\n * Throttle fn, calling at most once\n * in the given interval.\n *\n * @param  {Function} fn\n * @param  {Number} interval\n *\n * @return {Function} throttled function\n */\nfunction throttle(fn, interval) {\n  let throttling = false;\n\n  return function(...args) {\n\n    if (throttling) {\n      return;\n    }\n\n    fn(...args);\n    throttling = true;\n\n    setTimeout(() => {\n      throttling = false;\n    }, interval);\n  };\n}\n\n/**\n * Bind function against target <this>.\n *\n * @param  {Function} fn\n * @param  {Object}   target\n *\n * @return {Function} bound function\n */\nfunction bind(fn, target) {\n  return fn.bind(target);\n}\n\n/**\n * Convenience wrapper for `Object.assign`.\n *\n * @param {Object} target\n * @param {...Object} others\n *\n * @return {Object} the target\n */\nfunction assign(target, ...others) {\n  return Object.assign(target, ...others);\n}\n\n/**\n * Sets a nested property of a given object to the specified value.\n *\n * This mutates the object and returns it.\n *\n * @template T\n *\n * @param {T} target The target of the set operation.\n * @param {(string|number)[]} path The path to the nested value.\n * @param {any} value The value to set.\n *\n * @return {T}\n */\nfunction set(target, path, value) {\n\n  let currentTarget = target;\n\n  forEach(path, function(key, idx) {\n\n    if (typeof key !== 'number' && typeof key !== 'string') {\n      throw new Error('illegal key type: ' + typeof key + '. Key should be of type number or string.');\n    }\n\n    if (key === 'constructor') {\n      throw new Error('illegal key: constructor');\n    }\n\n    if (key === '__proto__') {\n      throw new Error('illegal key: __proto__');\n    }\n\n    let nextKey = path[idx + 1];\n    let nextTarget = currentTarget[key];\n\n    if (isDefined(nextKey) && isNil(nextTarget)) {\n      nextTarget = currentTarget[key] = isNaN(+nextKey) ? {} : [];\n    }\n\n    if (isUndefined(nextKey)) {\n      if (isUndefined(value)) {\n        delete currentTarget[key];\n      } else {\n        currentTarget[key] = value;\n      }\n    } else {\n      currentTarget = nextTarget;\n    }\n  });\n\n  return target;\n}\n\n\n/**\n * Gets a nested property of a given object.\n *\n * @param {Object} target The target of the get operation.\n * @param {(string|number)[]} path The path to the nested value.\n * @param {any} [defaultValue] The value to return if no value exists.\n *\n * @return {any}\n */\nfunction get(target, path, defaultValue) {\n\n  let currentTarget = target;\n\n  forEach(path, function(key) {\n\n    // accessing nil property yields <undefined>\n    if (isNil(currentTarget)) {\n      currentTarget = undefined;\n\n      return false;\n    }\n\n    currentTarget = currentTarget[key];\n  });\n\n  return isUndefined(currentTarget) ? defaultValue : currentTarget;\n}\n\n/**\n * Pick properties from the given target.\n *\n * @template T\n * @template {any[]} V\n *\n * @param {T} target\n * @param {V} properties\n *\n * @return Pick<T, V>\n */\nfunction pick(target, properties) {\n\n  let result = {};\n\n  let obj = Object(target);\n\n  forEach(properties, function(prop) {\n\n    if (prop in obj) {\n      result[prop] = target[prop];\n    }\n  });\n\n  return result;\n}\n\n/**\n * Pick all target properties, excluding the given ones.\n *\n * @template T\n * @template {any[]} V\n *\n * @param {T} target\n * @param {V} properties\n *\n * @return {Omit<T, V>} target\n */\nfunction omit(target, properties) {\n\n  let result = {};\n\n  let obj = Object(target);\n\n  forEach(obj, function(prop, key) {\n\n    if (properties.indexOf(key) === -1) {\n      result[key] = prop;\n    }\n  });\n\n  return result;\n}\n\n/**\n * Recursively merge `...sources` into given target.\n *\n * Does support merging objects; does not support merging arrays.\n *\n * @param {Object} target\n * @param {...Object} sources\n *\n * @return {Object} the target\n */\nfunction merge(target, ...sources) {\n\n  if (!sources.length) {\n    return target;\n  }\n\n  forEach(sources, function(source) {\n\n    // skip non-obj sources, i.e. null\n    if (!source || !isObject(source)) {\n      return;\n    }\n\n    forEach(source, function(sourceVal, key) {\n\n      if (key === '__proto__') {\n        return;\n      }\n\n      let targetVal = target[key];\n\n      if (isObject(sourceVal)) {\n\n        if (!isObject(targetVal)) {\n\n          // override target[key] with object\n          targetVal = {};\n        }\n\n        target[key] = merge(targetVal, sourceVal);\n      } else {\n        target[key] = sourceVal;\n      }\n\n    });\n  });\n\n  return target;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vYnBtbi1pby9kaWFncmFtLWpzL25vZGVfbW9kdWxlcy9taW4tZGFzaC9kaXN0L2luZGV4LmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxPQUFPO0FBQ1A7OztBQUdBO0FBQ0E7QUFDQSxjQUFjLGdDQUFnQztBQUM5Qzs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxNQUFNO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0IscUJBQXFCO0FBQ3JDOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0IscUJBQXFCO0FBQ3JDOztBQUVBO0FBQ0E7QUFDQSxjQUFjLDREQUE0RDtBQUMxRTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyw2Q0FBNkM7QUFDM0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0EsWUFBWSxLQUFLO0FBQ2pCO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7OztBQUdBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixZQUFZLDBGQUEwRjtBQUN0RztBQUNBLFlBQVksR0FBRztBQUNmO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQixXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixXQUFXLHdDQUF3QztBQUNuRCxXQUFXLEdBQUc7QUFDZDtBQUNBLFlBQVksR0FBRztBQUNmO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUIsWUFBWSxVQUFVO0FBQ3RCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUIsWUFBWSxVQUFVO0FBQ3RCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdCQUFnQjtBQUM1QixZQUFZLFVBQVU7QUFDdEI7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxXQUFXO0FBQ3RCO0FBQ0EsWUFBWSxRQUFRLFdBQVc7QUFDL0I7QUFDQSxvREFBb0Q7O0FBRXBEOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOzs7QUFHQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOzs7QUFHQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsV0FBVywrQkFBK0I7QUFDMUM7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFzQixxQkFBcUI7QUFDM0MsWUFBWSxJQUFJOztBQUVoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxPQUFPO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkO0FBQ0EsYUFBYSx3QkFBd0I7QUFDckM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOzs7QUFHQTtBQUNBLFdBQVcsNkJBQTZCO0FBQ3hDO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksVUFBVTtBQUN0QixZQUFZLFFBQVE7QUFDcEI7QUFDQSxZQUFZLG1CQUFtQjtBQUMvQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksVUFBVTtBQUN0QixZQUFZLFFBQVE7QUFDcEI7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEIsWUFBWSxVQUFVO0FBQ3RCO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFdBQVc7QUFDdEI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLG1CQUFtQjtBQUM5QixXQUFXLEtBQUs7QUFDaEI7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsNkRBQTZEO0FBQzdEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLG1CQUFtQjtBQUM5QixXQUFXLEtBQUs7QUFDaEI7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBLFdBQVcsR0FBRztBQUNkLFdBQVcsR0FBRztBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBLFdBQVcsR0FBRztBQUNkLFdBQVcsR0FBRztBQUNkO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFdBQVc7QUFDdEI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7O0FBRWlVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFja2RheXMtMjAyMy8uLi9icG1uLWlvL2RpYWdyYW0tanMvbm9kZV9tb2R1bGVzL21pbi1kYXNoL2Rpc3QvaW5kZXguZXNtLmpzPzE5NmQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGbGF0dGVuIGFycmF5LCBvbmUgbGV2ZWwgZGVlcC5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICpcbiAqIEBwYXJhbSB7VFtdW119IGFyclxuICpcbiAqIEByZXR1cm4ge1RbXX1cbiAqL1xuZnVuY3Rpb24gZmxhdHRlbihhcnIpIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sIGFycik7XG59XG5cbmNvbnN0IG5hdGl2ZVRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbmNvbnN0IG5hdGl2ZUhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQob2JqKSB7XG4gIHJldHVybiBvYmogPT09IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gaXNEZWZpbmVkKG9iaikge1xuICByZXR1cm4gb2JqICE9PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzTmlsKG9iaikge1xuICByZXR1cm4gb2JqID09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXkob2JqKSB7XG4gIHJldHVybiBuYXRpdmVUb1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICByZXR1cm4gbmF0aXZlVG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBPYmplY3RdJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIob2JqKSB7XG4gIHJldHVybiBuYXRpdmVUb1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IE51bWJlcl0nO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSBvYmpcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKG9iaikge1xuICBjb25zdCB0YWcgPSBuYXRpdmVUb1N0cmluZy5jYWxsKG9iaik7XG5cbiAgcmV0dXJuIChcbiAgICB0YWcgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgfHxcbiAgICB0YWcgPT09ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyB8fFxuICAgIHRhZyA9PT0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyB8fFxuICAgIHRhZyA9PT0gJ1tvYmplY3QgQXN5bmNHZW5lcmF0b3JGdW5jdGlvbl0nIHx8XG4gICAgdGFnID09PSAnW29iamVjdCBQcm94eV0nXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKG9iaikge1xuICByZXR1cm4gbmF0aXZlVG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBTdHJpbmddJztcbn1cblxuXG4vKipcbiAqIEVuc3VyZSBjb2xsZWN0aW9uIGlzIGFuIGFycmF5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqL1xuZnVuY3Rpb24gZW5zdXJlQXJyYXkob2JqKSB7XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcignbXVzdCBzdXBwbHkgYXJyYXknKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSwgaWYgdGFyZ2V0IG93bnMgYSBwcm9wZXJ0eSB3aXRoIHRoZSBnaXZlbiBrZXkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGhhcyh0YXJnZXQsIGtleSkge1xuICByZXR1cm4gbmF0aXZlSGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIGtleSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHsgKFxuICogICAoKGU6IFQpID0+IGJvb2xlYW4pIHxcbiAqICAgKChlOiBULCBpZHg6IG51bWJlcikgPT4gYm9vbGVhbikgfFxuICogICAoKGU6IFQsIGtleTogc3RyaW5nKSA9PiBib29sZWFuKSB8XG4gKiAgIHN0cmluZyB8XG4gKiAgIG51bWJlclxuICogKSB9IE1hdGNoZXJcbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdGVtcGxhdGUgVVxuICpcbiAqIEB0eXBlZGVmIHsgKFxuICogICAoKGU6IFQpID0+IFUpIHwgc3RyaW5nIHwgbnVtYmVyXG4gKiApIH0gRXh0cmFjdG9yXG4gKi9cblxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdHlwZWRlZiB7ICh2YWw6IFQsIGtleTogYW55KSA9PiBib29sZWFuIH0gTWF0Y2hGblxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHsgVFtdIH0gQXJyYXlDb2xsZWN0aW9uXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHR5cGVkZWYgeyB7IFtrZXk6IHN0cmluZ106IFQgfSB9IFN0cmluZ0tleVZhbHVlQ29sbGVjdGlvblxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHsgeyBba2V5OiBudW1iZXJdOiBUIH0gfSBOdW1iZXJLZXlWYWx1ZUNvbGxlY3Rpb25cbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdHlwZWRlZiB7IFN0cmluZ0tleVZhbHVlQ29sbGVjdGlvbjxUPiB8IE51bWJlcktleVZhbHVlQ29sbGVjdGlvbjxUPiB9IEtleVZhbHVlQ29sbGVjdGlvblxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHsgS2V5VmFsdWVDb2xsZWN0aW9uPFQ+IHwgQXJyYXlDb2xsZWN0aW9uPFQ+IH0gQ29sbGVjdGlvblxuICovXG5cbi8qKlxuICogRmluZCBlbGVtZW50IGluIGNvbGxlY3Rpb24uXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7Q29sbGVjdGlvbjxUPn0gY29sbGVjdGlvblxuICogQHBhcmFtIHtNYXRjaGVyPFQ+fSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBmaW5kKGNvbGxlY3Rpb24sIG1hdGNoZXIpIHtcblxuICBjb25zdCBtYXRjaEZuID0gdG9NYXRjaGVyKG1hdGNoZXIpO1xuXG4gIGxldCBtYXRjaDtcblxuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgaWYgKG1hdGNoRm4odmFsLCBrZXkpKSB7XG4gICAgICBtYXRjaCA9IHZhbDtcblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIG1hdGNoO1xuXG59XG5cblxuLyoqXG4gKiBGaW5kIGVsZW1lbnQgaW5kZXggaW4gY29sbGVjdGlvbi5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtDb2xsZWN0aW9uPFQ+fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0ge01hdGNoZXI8VD59IG1hdGNoZXJcbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGZpbmRJbmRleChjb2xsZWN0aW9uLCBtYXRjaGVyKSB7XG5cbiAgY29uc3QgbWF0Y2hGbiA9IHRvTWF0Y2hlcihtYXRjaGVyKTtcblxuICBsZXQgaWR4ID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IC0xIDogdW5kZWZpbmVkO1xuXG4gIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgICBpZiAobWF0Y2hGbih2YWwsIGtleSkpIHtcbiAgICAgIGlkeCA9IGtleTtcblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGlkeDtcbn1cblxuXG4vKipcbiAqIEZpbHRlciBlbGVtZW50cyBpbiBjb2xsZWN0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge0NvbGxlY3Rpb248VD59IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7TWF0Y2hlcjxUPn0gbWF0Y2hlclxuICpcbiAqIEByZXR1cm4ge1RbXX0gcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIGZpbHRlcihjb2xsZWN0aW9uLCBtYXRjaGVyKSB7XG5cbiAgY29uc3QgbWF0Y2hGbiA9IHRvTWF0Y2hlcihtYXRjaGVyKTtcblxuICBsZXQgcmVzdWx0ID0gW107XG5cbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgIGlmIChtYXRjaEZuKHZhbCwga2V5KSkge1xuICAgICAgcmVzdWx0LnB1c2godmFsKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgY29sbGVjdGlvbjsgcmV0dXJuaW5nIHNvbWV0aGluZ1xuICogKG5vbi11bmRlZmluZWQpIHdpbGwgc3RvcCBpdGVyYXRpb24uXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7Q29sbGVjdGlvbjxUPn0gY29sbGVjdGlvblxuICogQHBhcmFtIHsgKChpdGVtOiBULCBpZHg6IG51bWJlcikgPT4gKGJvb2xlYW58dm9pZCkpIHwgKChpdGVtOiBULCBrZXk6IHN0cmluZykgPT4gKGJvb2xlYW58dm9pZCkpIH0gaXRlcmF0b3JcbiAqXG4gKiBAcmV0dXJuIHtUfSByZXR1cm4gcmVzdWx0IHRoYXQgc3RvcHBlZCB0aGUgaXRlcmF0aW9uXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2goY29sbGVjdGlvbiwgaXRlcmF0b3IpIHtcblxuICBsZXQgdmFsLFxuICAgICAgcmVzdWx0O1xuXG4gIGlmIChpc1VuZGVmaW5lZChjb2xsZWN0aW9uKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNvbnZlcnRLZXkgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gdG9OdW0gOiBpZGVudGl0eTtcblxuICBmb3IgKGxldCBrZXkgaW4gY29sbGVjdGlvbikge1xuXG4gICAgaWYgKGhhcyhjb2xsZWN0aW9uLCBrZXkpKSB7XG4gICAgICB2YWwgPSBjb2xsZWN0aW9uW2tleV07XG5cbiAgICAgIHJlc3VsdCA9IGl0ZXJhdG9yKHZhbCwgY29udmVydEtleShrZXkpKTtcblxuICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gY29sbGVjdGlvbiB3aXRob3V0IGVsZW1lbnQuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7QXJyYXlDb2xsZWN0aW9uPFQ+fSBhcnJcbiAqIEBwYXJhbSB7TWF0Y2hlcjxUPn0gbWF0Y2hlclxuICpcbiAqIEByZXR1cm4ge1RbXX1cbiAqL1xuZnVuY3Rpb24gd2l0aG91dChhcnIsIG1hdGNoZXIpIHtcblxuICBpZiAoaXNVbmRlZmluZWQoYXJyKSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGVuc3VyZUFycmF5KGFycik7XG5cbiAgY29uc3QgbWF0Y2hGbiA9IHRvTWF0Y2hlcihtYXRjaGVyKTtcblxuICByZXR1cm4gYXJyLmZpbHRlcihmdW5jdGlvbihlbCwgaWR4KSB7XG4gICAgcmV0dXJuICFtYXRjaEZuKGVsLCBpZHgpO1xuICB9KTtcblxufVxuXG5cbi8qKlxuICogUmVkdWNlIGNvbGxlY3Rpb24sIHJldHVybmluZyBhIHNpbmdsZSByZXN1bHQuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0ZW1wbGF0ZSBWXG4gKlxuICogQHBhcmFtIHtDb2xsZWN0aW9uPFQ+fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0geyhyZXN1bHQ6IFYsIGVudHJ5OiBULCBpbmRleDogYW55KSA9PiBWfSBpdGVyYXRvclxuICogQHBhcmFtIHtWfSByZXN1bHRcbiAqXG4gKiBAcmV0dXJuIHtWfSByZXN1bHQgcmV0dXJuZWQgZnJvbSBsYXN0IGl0ZXJhdG9yXG4gKi9cbmZ1bmN0aW9uIHJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRvciwgcmVzdWx0KSB7XG5cbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaWR4KSB7XG4gICAgcmVzdWx0ID0gaXRlcmF0b3IocmVzdWx0LCB2YWx1ZSwgaWR4KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG4vKipcbiAqIFJldHVybiB0cnVlIGlmIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIGNvbGxlY3Rpb25cbiAqIG1hdGNoZXMgdGhlIGNyaXRlcmlhLlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheX0gY29sbGVjdGlvblxuICogQHBhcmFtICB7RnVuY3Rpb259IG1hdGNoZXJcbiAqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBldmVyeShjb2xsZWN0aW9uLCBtYXRjaGVyKSB7XG5cbiAgcmV0dXJuICEhcmVkdWNlKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKG1hdGNoZXMsIHZhbCwga2V5KSB7XG4gICAgcmV0dXJuIG1hdGNoZXMgJiYgbWF0Y2hlcih2YWwsIGtleSk7XG4gIH0sIHRydWUpO1xufVxuXG5cbi8qKlxuICogUmV0dXJuIHRydWUgaWYgc29tZSBlbGVtZW50cyBpbiB0aGUgY29sbGVjdGlvblxuICogbWF0Y2ggdGhlIGNyaXRlcmlhLlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheX0gY29sbGVjdGlvblxuICogQHBhcmFtICB7RnVuY3Rpb259IG1hdGNoZXJcbiAqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBzb21lKGNvbGxlY3Rpb24sIG1hdGNoZXIpIHtcblxuICByZXR1cm4gISFmaW5kKGNvbGxlY3Rpb24sIG1hdGNoZXIpO1xufVxuXG5cbi8qKlxuICogVHJhbnNmb3JtIGEgY29sbGVjdGlvbiBpbnRvIGFub3RoZXIgY29sbGVjdGlvblxuICogYnkgcGlwaW5nIGVhY2ggbWVtYmVyIHRocm91Z2ggdGhlIGdpdmVuIGZuLlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheX0gICBjb2xsZWN0aW9uXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm5cbiAqXG4gKiBAcmV0dXJuIHtBcnJheX0gdHJhbnNmb3JtZWQgY29sbGVjdGlvblxuICovXG5mdW5jdGlvbiBtYXAoY29sbGVjdGlvbiwgZm4pIHtcblxuICBsZXQgcmVzdWx0ID0gW107XG5cbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgIHJlc3VsdC5wdXNoKGZuKHZhbCwga2V5KSk7XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuLyoqXG4gKiBHZXQgdGhlIGNvbGxlY3Rpb25zIGtleXMuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5fSBjb2xsZWN0aW9uXG4gKlxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIGtleXMoY29sbGVjdGlvbikge1xuICByZXR1cm4gY29sbGVjdGlvbiAmJiBPYmplY3Qua2V5cyhjb2xsZWN0aW9uKSB8fCBbXTtcbn1cblxuXG4vKipcbiAqIFNob3J0aGFuZCBmb3IgYGtleXMobykubGVuZ3RoYC5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R8QXJyYXl9IGNvbGxlY3Rpb25cbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIHNpemUoY29sbGVjdGlvbikge1xuICByZXR1cm4ga2V5cyhjb2xsZWN0aW9uKS5sZW5ndGg7XG59XG5cblxuLyoqXG4gKiBHZXQgdGhlIHZhbHVlcyBpbiB0aGUgY29sbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R8QXJyYXl9IGNvbGxlY3Rpb25cbiAqXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24gdmFsdWVzKGNvbGxlY3Rpb24pIHtcbiAgcmV0dXJuIG1hcChjb2xsZWN0aW9uLCAodmFsKSA9PiB2YWwpO1xufVxuXG5cbi8qKlxuICogR3JvdXAgY29sbGVjdGlvbiBtZW1iZXJzIGJ5IGF0dHJpYnV0ZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gY29sbGVjdGlvblxuICogQHBhcmFtIHtFeHRyYWN0b3J9IGV4dHJhY3RvclxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gbWFwIHdpdGggeyBhdHRyVmFsdWUgPT4gWyBhLCBiLCBjIF0gfVxuICovXG5mdW5jdGlvbiBncm91cEJ5KGNvbGxlY3Rpb24sIGV4dHJhY3RvciwgZ3JvdXBlZCA9IHt9KSB7XG5cbiAgZXh0cmFjdG9yID0gdG9FeHRyYWN0b3IoZXh0cmFjdG9yKTtcblxuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbCkge1xuICAgIGxldCBkaXNjcmltaW5hdG9yID0gZXh0cmFjdG9yKHZhbCkgfHwgJ18nO1xuXG4gICAgbGV0IGdyb3VwID0gZ3JvdXBlZFtkaXNjcmltaW5hdG9yXTtcblxuICAgIGlmICghZ3JvdXApIHtcbiAgICAgIGdyb3VwID0gZ3JvdXBlZFtkaXNjcmltaW5hdG9yXSA9IFtdO1xuICAgIH1cblxuICAgIGdyb3VwLnB1c2godmFsKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGdyb3VwZWQ7XG59XG5cblxuZnVuY3Rpb24gdW5pcXVlQnkoZXh0cmFjdG9yLCAuLi5jb2xsZWN0aW9ucykge1xuXG4gIGV4dHJhY3RvciA9IHRvRXh0cmFjdG9yKGV4dHJhY3Rvcik7XG5cbiAgbGV0IGdyb3VwZWQgPSB7fTtcblxuICBmb3JFYWNoKGNvbGxlY3Rpb25zLCAoYykgPT4gZ3JvdXBCeShjLCBleHRyYWN0b3IsIGdyb3VwZWQpKTtcblxuICBsZXQgcmVzdWx0ID0gbWFwKGdyb3VwZWQsIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgcmV0dXJuIHZhbFswXTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG5jb25zdCB1bmlvbkJ5ID0gdW5pcXVlQnk7XG5cblxuXG4vKipcbiAqIFNvcnQgY29sbGVjdGlvbiBieSBjcml0ZXJpYS5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICpcbiAqIEBwYXJhbSB7Q29sbGVjdGlvbjxUPn0gY29sbGVjdGlvblxuICogQHBhcmFtIHtFeHRyYWN0b3I8VCwgbnVtYmVyIHwgc3RyaW5nPn0gZXh0cmFjdG9yXG4gKlxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIHNvcnRCeShjb2xsZWN0aW9uLCBleHRyYWN0b3IpIHtcblxuICBleHRyYWN0b3IgPSB0b0V4dHJhY3RvcihleHRyYWN0b3IpO1xuXG4gIGxldCBzb3J0ZWQgPSBbXTtcblxuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICBsZXQgZGlzYyA9IGV4dHJhY3Rvcih2YWx1ZSwga2V5KTtcblxuICAgIGxldCBlbnRyeSA9IHtcbiAgICAgIGQ6IGRpc2MsXG4gICAgICB2OiB2YWx1ZVxuICAgIH07XG5cbiAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBzb3J0ZWQubGVuZ3RoOyBpZHgrKykge1xuICAgICAgbGV0IHsgZCB9ID0gc29ydGVkW2lkeF07XG5cbiAgICAgIGlmIChkaXNjIDwgZCkge1xuICAgICAgICBzb3J0ZWQuc3BsaWNlKGlkeCwgMCwgZW50cnkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbm90IGluc2VydGVkLCBhcHBlbmQgKCEpXG4gICAgc29ydGVkLnB1c2goZW50cnkpO1xuICB9KTtcblxuICByZXR1cm4gbWFwKHNvcnRlZCwgKGUpID0+IGUudik7XG59XG5cblxuLyoqXG4gKiBDcmVhdGUgYW4gb2JqZWN0IHBhdHRlcm4gbWF0Y2hlci5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNvbnN0IG1hdGNoZXIgPSBtYXRjaFBhdHRlcm4oeyBpZDogMSB9KTtcbiAqXG4gKiBsZXQgZWxlbWVudCA9IGZpbmQoZWxlbWVudHMsIG1hdGNoZXIpO1xuICogYGBgXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqXG4gKiBAcGFyYW0ge1R9IHBhdHRlcm5cbiAqXG4gKiBAcmV0dXJuIHsgKGVsOiBhbnkpID0+ICBib29sZWFuIH0gbWF0Y2hlckZuXG4gKi9cbmZ1bmN0aW9uIG1hdGNoUGF0dGVybihwYXR0ZXJuKSB7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGVsKSB7XG5cbiAgICByZXR1cm4gZXZlcnkocGF0dGVybiwgZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgICAgIHJldHVybiBlbFtrZXldID09PSB2YWw7XG4gICAgfSk7XG5cbiAgfTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nIHwgKChlOiBhbnkpID0+IGFueSkgfSBleHRyYWN0b3JcbiAqXG4gKiBAcmV0dXJuIHsgKGU6IGFueSkgPT4gYW55IH1cbiAqL1xuZnVuY3Rpb24gdG9FeHRyYWN0b3IoZXh0cmFjdG9yKSB7XG5cbiAgLyoqXG4gICAqIEBzYXRpc2ZpZXMgeyAoZTogYW55KSA9PiBhbnkgfVxuICAgKi9cbiAgcmV0dXJuIGlzRnVuY3Rpb24oZXh0cmFjdG9yKSA/IGV4dHJhY3RvciA6IChlKSA9PiB7XG5cbiAgICAvLyBAdHMtaWdub3JlOiBqdXN0IHdvcmtzXG4gICAgcmV0dXJuIGVbZXh0cmFjdG9yXTtcbiAgfTtcbn1cblxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge01hdGNoZXI8VD59IG1hdGNoZXJcbiAqXG4gKiBAcmV0dXJuIHtNYXRjaEZuPFQ+fVxuICovXG5mdW5jdGlvbiB0b01hdGNoZXIobWF0Y2hlcikge1xuICByZXR1cm4gaXNGdW5jdGlvbihtYXRjaGVyKSA/IG1hdGNoZXIgOiAoZSkgPT4ge1xuICAgIHJldHVybiBlID09PSBtYXRjaGVyO1xuICB9O1xufVxuXG5cbmZ1bmN0aW9uIGlkZW50aXR5KGFyZykge1xuICByZXR1cm4gYXJnO1xufVxuXG5mdW5jdGlvbiB0b051bShhcmcpIHtcbiAgcmV0dXJuIE51bWJlcihhcmcpO1xufVxuXG4vKiBnbG9iYWwgc2V0VGltZW91dCBjbGVhclRpbWVvdXQgKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgKC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICogICBmbHVzaDogKCkgPT4gdm9pZDtcbiAqICAgY2FuY2VsOiAoKSA9PiB2b2lkO1xuICogfSB9IERlYm91bmNlZEZ1bmN0aW9uXG4gKi9cblxuLyoqXG4gKiBEZWJvdW5jZSBmbiwgY2FsbGluZyBpdCBvbmx5IG9uY2UgaWYgdGhlIGdpdmVuIHRpbWVcbiAqIGVsYXBzZWQgYmV0d2VlbiBjYWxscy5cbiAqXG4gKiBMb2Rhc2gtc3R5bGUgdGhlIGZ1bmN0aW9uIGV4cG9zZXMgbWV0aG9kcyB0byBgI2NsZWFyYFxuICogYW5kIGAjZmx1c2hgIHRvIGNvbnRyb2wgaW50ZXJuYWwgYmVoYXZpb3IuXG4gKlxuICogQHBhcmFtICB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHRpbWVvdXRcbiAqXG4gKiBAcmV0dXJuIHtEZWJvdW5jZWRGdW5jdGlvbn0gZGVib3VuY2VkIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGRlYm91bmNlKGZuLCB0aW1lb3V0KSB7XG5cbiAgbGV0IHRpbWVyO1xuXG4gIGxldCBsYXN0QXJncztcbiAgbGV0IGxhc3RUaGlzO1xuXG4gIGxldCBsYXN0Tm93O1xuXG4gIGZ1bmN0aW9uIGZpcmUoZm9yY2UpIHtcblxuICAgIGxldCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgbGV0IHNjaGVkdWxlZERpZmYgPSBmb3JjZSA/IDAgOiAobGFzdE5vdyArIHRpbWVvdXQpIC0gbm93O1xuXG4gICAgaWYgKHNjaGVkdWxlZERpZmYgPiAwKSB7XG4gICAgICByZXR1cm4gc2NoZWR1bGUoc2NoZWR1bGVkRGlmZik7XG4gICAgfVxuXG4gICAgZm4uYXBwbHkobGFzdFRoaXMsIGxhc3RBcmdzKTtcblxuICAgIGNsZWFyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBzY2hlZHVsZSh0aW1lb3V0KSB7XG4gICAgdGltZXIgPSBzZXRUaW1lb3V0KGZpcmUsIHRpbWVvdXQpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgaWYgKHRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIH1cblxuICAgIHRpbWVyID0gbGFzdE5vdyA9IGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICBpZiAodGltZXIpIHtcbiAgICAgIGZpcmUodHJ1ZSk7XG4gICAgfVxuXG4gICAgY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7IERlYm91bmNlZEZ1bmN0aW9uIH1cbiAgICovXG4gIGZ1bmN0aW9uIGNhbGxiYWNrKC4uLmFyZ3MpIHtcbiAgICBsYXN0Tm93ID0gRGF0ZS5ub3coKTtcblxuICAgIGxhc3RBcmdzID0gYXJncztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG5cbiAgICAvLyBlbnN1cmUgYW4gZXhlY3V0aW9uIGlzIHNjaGVkdWxlZFxuICAgIGlmICghdGltZXIpIHtcbiAgICAgIHNjaGVkdWxlKHRpbWVvdXQpO1xuICAgIH1cbiAgfVxuXG4gIGNhbGxiYWNrLmZsdXNoID0gZmx1c2g7XG4gIGNhbGxiYWNrLmNhbmNlbCA9IGNsZWFyO1xuXG4gIHJldHVybiBjYWxsYmFjaztcbn1cblxuLyoqXG4gKiBUaHJvdHRsZSBmbiwgY2FsbGluZyBhdCBtb3N0IG9uY2VcbiAqIGluIHRoZSBnaXZlbiBpbnRlcnZhbC5cbiAqXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSAge051bWJlcn0gaW50ZXJ2YWxcbiAqXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gdGhyb3R0bGVkIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIHRocm90dGxlKGZuLCBpbnRlcnZhbCkge1xuICBsZXQgdGhyb3R0bGluZyA9IGZhbHNlO1xuXG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG5cbiAgICBpZiAodGhyb3R0bGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZuKC4uLmFyZ3MpO1xuICAgIHRocm90dGxpbmcgPSB0cnVlO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aHJvdHRsaW5nID0gZmFsc2U7XG4gICAgfSwgaW50ZXJ2YWwpO1xuICB9O1xufVxuXG4vKipcbiAqIEJpbmQgZnVuY3Rpb24gYWdhaW5zdCB0YXJnZXQgPHRoaXM+LlxuICpcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtICB7T2JqZWN0fSAgIHRhcmdldFxuICpcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBib3VuZCBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBiaW5kKGZuLCB0YXJnZXQpIHtcbiAgcmV0dXJuIGZuLmJpbmQodGFyZ2V0KTtcbn1cblxuLyoqXG4gKiBDb252ZW5pZW5jZSB3cmFwcGVyIGZvciBgT2JqZWN0LmFzc2lnbmAuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHsuLi5PYmplY3R9IG90aGVyc1xuICpcbiAqIEByZXR1cm4ge09iamVjdH0gdGhlIHRhcmdldFxuICovXG5mdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCAuLi5vdGhlcnMpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24odGFyZ2V0LCAuLi5vdGhlcnMpO1xufVxuXG4vKipcbiAqIFNldHMgYSBuZXN0ZWQgcHJvcGVydHkgb2YgYSBnaXZlbiBvYmplY3QgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZS5cbiAqXG4gKiBUaGlzIG11dGF0ZXMgdGhlIG9iamVjdCBhbmQgcmV0dXJucyBpdC5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICpcbiAqIEBwYXJhbSB7VH0gdGFyZ2V0IFRoZSB0YXJnZXQgb2YgdGhlIHNldCBvcGVyYXRpb24uXG4gKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKVtdfSBwYXRoIFRoZSBwYXRoIHRvIHRoZSBuZXN0ZWQgdmFsdWUuXG4gKiBAcGFyYW0ge2FueX0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqXG4gKiBAcmV0dXJuIHtUfVxuICovXG5mdW5jdGlvbiBzZXQodGFyZ2V0LCBwYXRoLCB2YWx1ZSkge1xuXG4gIGxldCBjdXJyZW50VGFyZ2V0ID0gdGFyZ2V0O1xuXG4gIGZvckVhY2gocGF0aCwgZnVuY3Rpb24oa2V5LCBpZHgpIHtcblxuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnbnVtYmVyJyAmJiB0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbGxlZ2FsIGtleSB0eXBlOiAnICsgdHlwZW9mIGtleSArICcuIEtleSBzaG91bGQgYmUgb2YgdHlwZSBudW1iZXIgb3Igc3RyaW5nLicpO1xuICAgIH1cblxuICAgIGlmIChrZXkgPT09ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaWxsZWdhbCBrZXk6IGNvbnN0cnVjdG9yJyk7XG4gICAgfVxuXG4gICAgaWYgKGtleSA9PT0gJ19fcHJvdG9fXycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaWxsZWdhbCBrZXk6IF9fcHJvdG9fXycpO1xuICAgIH1cblxuICAgIGxldCBuZXh0S2V5ID0gcGF0aFtpZHggKyAxXTtcbiAgICBsZXQgbmV4dFRhcmdldCA9IGN1cnJlbnRUYXJnZXRba2V5XTtcblxuICAgIGlmIChpc0RlZmluZWQobmV4dEtleSkgJiYgaXNOaWwobmV4dFRhcmdldCkpIHtcbiAgICAgIG5leHRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0W2tleV0gPSBpc05hTigrbmV4dEtleSkgPyB7fSA6IFtdO1xuICAgIH1cblxuICAgIGlmIChpc1VuZGVmaW5lZChuZXh0S2V5KSkge1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICBkZWxldGUgY3VycmVudFRhcmdldFtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudFRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRUYXJnZXQgPSBuZXh0VGFyZ2V0O1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuXG4vKipcbiAqIEdldHMgYSBuZXN0ZWQgcHJvcGVydHkgb2YgYSBnaXZlbiBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBUaGUgdGFyZ2V0IG9mIHRoZSBnZXQgb3BlcmF0aW9uLlxuICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcilbXX0gcGF0aCBUaGUgcGF0aCB0byB0aGUgbmVzdGVkIHZhbHVlLlxuICogQHBhcmFtIHthbnl9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSB0byByZXR1cm4gaWYgbm8gdmFsdWUgZXhpc3RzLlxuICpcbiAqIEByZXR1cm4ge2FueX1cbiAqL1xuZnVuY3Rpb24gZ2V0KHRhcmdldCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG5cbiAgbGV0IGN1cnJlbnRUYXJnZXQgPSB0YXJnZXQ7XG5cbiAgZm9yRWFjaChwYXRoLCBmdW5jdGlvbihrZXkpIHtcblxuICAgIC8vIGFjY2Vzc2luZyBuaWwgcHJvcGVydHkgeWllbGRzIDx1bmRlZmluZWQ+XG4gICAgaWYgKGlzTmlsKGN1cnJlbnRUYXJnZXQpKSB7XG4gICAgICBjdXJyZW50VGFyZ2V0ID0gdW5kZWZpbmVkO1xuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXRba2V5XTtcbiAgfSk7XG5cbiAgcmV0dXJuIGlzVW5kZWZpbmVkKGN1cnJlbnRUYXJnZXQpID8gZGVmYXVsdFZhbHVlIDogY3VycmVudFRhcmdldDtcbn1cblxuLyoqXG4gKiBQaWNrIHByb3BlcnRpZXMgZnJvbSB0aGUgZ2l2ZW4gdGFyZ2V0LlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdGVtcGxhdGUge2FueVtdfSBWXG4gKlxuICogQHBhcmFtIHtUfSB0YXJnZXRcbiAqIEBwYXJhbSB7Vn0gcHJvcGVydGllc1xuICpcbiAqIEByZXR1cm4gUGljazxULCBWPlxuICovXG5mdW5jdGlvbiBwaWNrKHRhcmdldCwgcHJvcGVydGllcykge1xuXG4gIGxldCByZXN1bHQgPSB7fTtcblxuICBsZXQgb2JqID0gT2JqZWN0KHRhcmdldCk7XG5cbiAgZm9yRWFjaChwcm9wZXJ0aWVzLCBmdW5jdGlvbihwcm9wKSB7XG5cbiAgICBpZiAocHJvcCBpbiBvYmopIHtcbiAgICAgIHJlc3VsdFtwcm9wXSA9IHRhcmdldFtwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogUGljayBhbGwgdGFyZ2V0IHByb3BlcnRpZXMsIGV4Y2x1ZGluZyB0aGUgZ2l2ZW4gb25lcy5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHRlbXBsYXRlIHthbnlbXX0gVlxuICpcbiAqIEBwYXJhbSB7VH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1Z9IHByb3BlcnRpZXNcbiAqXG4gKiBAcmV0dXJuIHtPbWl0PFQsIFY+fSB0YXJnZXRcbiAqL1xuZnVuY3Rpb24gb21pdCh0YXJnZXQsIHByb3BlcnRpZXMpIHtcblxuICBsZXQgcmVzdWx0ID0ge307XG5cbiAgbGV0IG9iaiA9IE9iamVjdCh0YXJnZXQpO1xuXG4gIGZvckVhY2gob2JqLCBmdW5jdGlvbihwcm9wLCBrZXkpIHtcblxuICAgIGlmIChwcm9wZXJ0aWVzLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gcHJvcDtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogUmVjdXJzaXZlbHkgbWVyZ2UgYC4uLnNvdXJjZXNgIGludG8gZ2l2ZW4gdGFyZ2V0LlxuICpcbiAqIERvZXMgc3VwcG9ydCBtZXJnaW5nIG9iamVjdHM7IGRvZXMgbm90IHN1cHBvcnQgbWVyZ2luZyBhcnJheXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXNcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IHRoZSB0YXJnZXRcbiAqL1xuZnVuY3Rpb24gbWVyZ2UodGFyZ2V0LCAuLi5zb3VyY2VzKSB7XG5cbiAgaWYgKCFzb3VyY2VzLmxlbmd0aCkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBmb3JFYWNoKHNvdXJjZXMsIGZ1bmN0aW9uKHNvdXJjZSkge1xuXG4gICAgLy8gc2tpcCBub24tb2JqIHNvdXJjZXMsIGkuZS4gbnVsbFxuICAgIGlmICghc291cmNlIHx8ICFpc09iamVjdChzb3VyY2UpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yRWFjaChzb3VyY2UsIGZ1bmN0aW9uKHNvdXJjZVZhbCwga2V5KSB7XG5cbiAgICAgIGlmIChrZXkgPT09ICdfX3Byb3RvX18nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGV0IHRhcmdldFZhbCA9IHRhcmdldFtrZXldO1xuXG4gICAgICBpZiAoaXNPYmplY3Qoc291cmNlVmFsKSkge1xuXG4gICAgICAgIGlmICghaXNPYmplY3QodGFyZ2V0VmFsKSkge1xuXG4gICAgICAgICAgLy8gb3ZlcnJpZGUgdGFyZ2V0W2tleV0gd2l0aCBvYmplY3RcbiAgICAgICAgICB0YXJnZXRWYWwgPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhcmdldFtrZXldID0gbWVyZ2UodGFyZ2V0VmFsLCBzb3VyY2VWYWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2VWYWw7XG4gICAgICB9XG5cbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZXhwb3J0IHsgYXNzaWduLCBiaW5kLCBkZWJvdW5jZSwgZW5zdXJlQXJyYXksIGV2ZXJ5LCBmaWx0ZXIsIGZpbmQsIGZpbmRJbmRleCwgZmxhdHRlbiwgZm9yRWFjaCwgZ2V0LCBncm91cEJ5LCBoYXMsIGlzQXJyYXksIGlzRGVmaW5lZCwgaXNGdW5jdGlvbiwgaXNOaWwsIGlzTnVtYmVyLCBpc09iamVjdCwgaXNTdHJpbmcsIGlzVW5kZWZpbmVkLCBrZXlzLCBtYXAsIG1hdGNoUGF0dGVybiwgbWVyZ2UsIG9taXQsIHBpY2ssIHJlZHVjZSwgc2V0LCBzaXplLCBzb21lLCBzb3J0QnksIHRocm90dGxlLCB1bmlvbkJ5LCB1bmlxdWVCeSwgdmFsdWVzLCB3aXRob3V0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../bpmn-io/diagram-js/node_modules/min-dash/dist/index.esm.js\n");

/***/ }),

/***/ "./node_modules/min-dash/dist/index.esm.js":
/*!*************************************************!*\
  !*** ./node_modules/min-dash/dist/index.esm.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assign: () => (/* binding */ assign),\n/* harmony export */   bind: () => (/* binding */ bind),\n/* harmony export */   debounce: () => (/* binding */ debounce),\n/* harmony export */   ensureArray: () => (/* binding */ ensureArray),\n/* harmony export */   every: () => (/* binding */ every),\n/* harmony export */   filter: () => (/* binding */ filter),\n/* harmony export */   find: () => (/* binding */ find),\n/* harmony export */   findIndex: () => (/* binding */ findIndex),\n/* harmony export */   flatten: () => (/* binding */ flatten),\n/* harmony export */   forEach: () => (/* binding */ forEach),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   groupBy: () => (/* binding */ groupBy),\n/* harmony export */   has: () => (/* binding */ has),\n/* harmony export */   isArray: () => (/* binding */ isArray),\n/* harmony export */   isDefined: () => (/* binding */ isDefined),\n/* harmony export */   isFunction: () => (/* binding */ isFunction),\n/* harmony export */   isNil: () => (/* binding */ isNil),\n/* harmony export */   isNumber: () => (/* binding */ isNumber),\n/* harmony export */   isObject: () => (/* binding */ isObject),\n/* harmony export */   isString: () => (/* binding */ isString),\n/* harmony export */   isUndefined: () => (/* binding */ isUndefined),\n/* harmony export */   keys: () => (/* binding */ keys),\n/* harmony export */   map: () => (/* binding */ map),\n/* harmony export */   matchPattern: () => (/* binding */ matchPattern),\n/* harmony export */   merge: () => (/* binding */ merge),\n/* harmony export */   omit: () => (/* binding */ omit),\n/* harmony export */   pick: () => (/* binding */ pick),\n/* harmony export */   reduce: () => (/* binding */ reduce),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   size: () => (/* binding */ size),\n/* harmony export */   some: () => (/* binding */ some),\n/* harmony export */   sortBy: () => (/* binding */ sortBy),\n/* harmony export */   throttle: () => (/* binding */ throttle),\n/* harmony export */   unionBy: () => (/* binding */ unionBy),\n/* harmony export */   uniqueBy: () => (/* binding */ uniqueBy),\n/* harmony export */   values: () => (/* binding */ values),\n/* harmony export */   without: () => (/* binding */ without)\n/* harmony export */ });\n/**\n * Flatten array, one level deep.\n *\n * @template T\n *\n * @param {T[][]} arr\n *\n * @return {T[]}\n */\nfunction flatten(arr) {\n  return Array.prototype.concat.apply([], arr);\n}\n\nconst nativeToString = Object.prototype.toString;\nconst nativeHasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isUndefined(obj) {\n  return obj === undefined;\n}\n\nfunction isDefined(obj) {\n  return obj !== undefined;\n}\n\nfunction isNil(obj) {\n  return obj == null;\n}\n\nfunction isArray(obj) {\n  return nativeToString.call(obj) === '[object Array]';\n}\n\nfunction isObject(obj) {\n  return nativeToString.call(obj) === '[object Object]';\n}\n\nfunction isNumber(obj) {\n  return nativeToString.call(obj) === '[object Number]';\n}\n\n/**\n * @param {any} obj\n *\n * @return {boolean}\n */\nfunction isFunction(obj) {\n  const tag = nativeToString.call(obj);\n\n  return (\n    tag === '[object Function]' ||\n    tag === '[object AsyncFunction]' ||\n    tag === '[object GeneratorFunction]' ||\n    tag === '[object AsyncGeneratorFunction]' ||\n    tag === '[object Proxy]'\n  );\n}\n\nfunction isString(obj) {\n  return nativeToString.call(obj) === '[object String]';\n}\n\n\n/**\n * Ensure collection is an array.\n *\n * @param {Object} obj\n */\nfunction ensureArray(obj) {\n\n  if (isArray(obj)) {\n    return;\n  }\n\n  throw new Error('must supply array');\n}\n\n/**\n * Return true, if target owns a property with the given key.\n *\n * @param {Object} target\n * @param {String} key\n *\n * @return {Boolean}\n */\nfunction has(target, key) {\n  return nativeHasOwnProperty.call(target, key);\n}\n\n/**\n * @template T\n * @typedef { (\n *   ((e: T) => boolean) |\n *   ((e: T, idx: number) => boolean) |\n *   ((e: T, key: string) => boolean) |\n *   string |\n *   number\n * ) } Matcher\n */\n\n/**\n * @template T\n * @template U\n *\n * @typedef { (\n *   ((e: T) => U) | string | number\n * ) } Extractor\n */\n\n\n/**\n * @template T\n * @typedef { (val: T, key: any) => boolean } MatchFn\n */\n\n/**\n * @template T\n * @typedef { T[] } ArrayCollection\n */\n\n/**\n * @template T\n * @typedef { { [key: string]: T } } StringKeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { { [key: number]: T } } NumberKeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { StringKeyValueCollection<T> | NumberKeyValueCollection<T> } KeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { KeyValueCollection<T> | ArrayCollection<T> } Collection\n */\n\n/**\n * Find element in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {Object}\n */\nfunction find(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let match;\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      match = val;\n\n      return false;\n    }\n  });\n\n  return match;\n\n}\n\n\n/**\n * Find element index in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {number}\n */\nfunction findIndex(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let idx = isArray(collection) ? -1 : undefined;\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      idx = key;\n\n      return false;\n    }\n  });\n\n  return idx;\n}\n\n\n/**\n * Filter elements in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {T[]} result\n */\nfunction filter(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let result = [];\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      result.push(val);\n    }\n  });\n\n  return result;\n}\n\n\n/**\n * Iterate over collection; returning something\n * (non-undefined) will stop iteration.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param { ((item: T, idx: number) => (boolean|void)) | ((item: T, key: string) => (boolean|void)) } iterator\n *\n * @return {T} return result that stopped the iteration\n */\nfunction forEach(collection, iterator) {\n\n  let val,\n      result;\n\n  if (isUndefined(collection)) {\n    return;\n  }\n\n  const convertKey = isArray(collection) ? toNum : identity;\n\n  for (let key in collection) {\n\n    if (has(collection, key)) {\n      val = collection[key];\n\n      result = iterator(val, convertKey(key));\n\n      if (result === false) {\n        return val;\n      }\n    }\n  }\n}\n\n/**\n * Return collection without element.\n *\n * @template T\n * @param {ArrayCollection<T>} arr\n * @param {Matcher<T>} matcher\n *\n * @return {T[]}\n */\nfunction without(arr, matcher) {\n\n  if (isUndefined(arr)) {\n    return [];\n  }\n\n  ensureArray(arr);\n\n  const matchFn = toMatcher(matcher);\n\n  return arr.filter(function(el, idx) {\n    return !matchFn(el, idx);\n  });\n\n}\n\n\n/**\n * Reduce collection, returning a single result.\n *\n * @template T\n * @template V\n *\n * @param {Collection<T>} collection\n * @param {(result: V, entry: T, index: any) => V} iterator\n * @param {V} result\n *\n * @return {V} result returned from last iterator\n */\nfunction reduce(collection, iterator, result) {\n\n  forEach(collection, function(value, idx) {\n    result = iterator(result, value, idx);\n  });\n\n  return result;\n}\n\n\n/**\n * Return true if every element in the collection\n * matches the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\nfunction every(collection, matcher) {\n\n  return !!reduce(collection, function(matches, val, key) {\n    return matches && matcher(val, key);\n  }, true);\n}\n\n\n/**\n * Return true if some elements in the collection\n * match the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\nfunction some(collection, matcher) {\n\n  return !!find(collection, matcher);\n}\n\n\n/**\n * Transform a collection into another collection\n * by piping each member through the given fn.\n *\n * @param  {Object|Array}   collection\n * @param  {Function} fn\n *\n * @return {Array} transformed collection\n */\nfunction map(collection, fn) {\n\n  let result = [];\n\n  forEach(collection, function(val, key) {\n    result.push(fn(val, key));\n  });\n\n  return result;\n}\n\n\n/**\n * Get the collections keys.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\nfunction keys(collection) {\n  return collection && Object.keys(collection) || [];\n}\n\n\n/**\n * Shorthand for `keys(o).length`.\n *\n * @param  {Object|Array} collection\n *\n * @return {Number}\n */\nfunction size(collection) {\n  return keys(collection).length;\n}\n\n\n/**\n * Get the values in the collection.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\nfunction values(collection) {\n  return map(collection, (val) => val);\n}\n\n\n/**\n * Group collection members by attribute.\n *\n * @param {Object|Array} collection\n * @param {Extractor} extractor\n *\n * @return {Object} map with { attrValue => [ a, b, c ] }\n */\nfunction groupBy(collection, extractor, grouped = {}) {\n\n  extractor = toExtractor(extractor);\n\n  forEach(collection, function(val) {\n    let discriminator = extractor(val) || '_';\n\n    let group = grouped[discriminator];\n\n    if (!group) {\n      group = grouped[discriminator] = [];\n    }\n\n    group.push(val);\n  });\n\n  return grouped;\n}\n\n\nfunction uniqueBy(extractor, ...collections) {\n\n  extractor = toExtractor(extractor);\n\n  let grouped = {};\n\n  forEach(collections, (c) => groupBy(c, extractor, grouped));\n\n  let result = map(grouped, function(val, key) {\n    return val[0];\n  });\n\n  return result;\n}\n\n\nconst unionBy = uniqueBy;\n\n\n\n/**\n * Sort collection by criteria.\n *\n * @template T\n *\n * @param {Collection<T>} collection\n * @param {Extractor<T, number | string>} extractor\n *\n * @return {Array}\n */\nfunction sortBy(collection, extractor) {\n\n  extractor = toExtractor(extractor);\n\n  let sorted = [];\n\n  forEach(collection, function(value, key) {\n    let disc = extractor(value, key);\n\n    let entry = {\n      d: disc,\n      v: value\n    };\n\n    for (var idx = 0; idx < sorted.length; idx++) {\n      let { d } = sorted[idx];\n\n      if (disc < d) {\n        sorted.splice(idx, 0, entry);\n        return;\n      }\n    }\n\n    // not inserted, append (!)\n    sorted.push(entry);\n  });\n\n  return map(sorted, (e) => e.v);\n}\n\n\n/**\n * Create an object pattern matcher.\n *\n * @example\n *\n * ```javascript\n * const matcher = matchPattern({ id: 1 });\n *\n * let element = find(elements, matcher);\n * ```\n *\n * @template T\n *\n * @param {T} pattern\n *\n * @return { (el: any) =>  boolean } matcherFn\n */\nfunction matchPattern(pattern) {\n\n  return function(el) {\n\n    return every(pattern, function(val, key) {\n      return el[key] === val;\n    });\n\n  };\n}\n\n\n/**\n * @param {string | ((e: any) => any) } extractor\n *\n * @return { (e: any) => any }\n */\nfunction toExtractor(extractor) {\n\n  /**\n   * @satisfies { (e: any) => any }\n   */\n  return isFunction(extractor) ? extractor : (e) => {\n\n    // @ts-ignore: just works\n    return e[extractor];\n  };\n}\n\n\n/**\n * @template T\n * @param {Matcher<T>} matcher\n *\n * @return {MatchFn<T>}\n */\nfunction toMatcher(matcher) {\n  return isFunction(matcher) ? matcher : (e) => {\n    return e === matcher;\n  };\n}\n\n\nfunction identity(arg) {\n  return arg;\n}\n\nfunction toNum(arg) {\n  return Number(arg);\n}\n\n/* global setTimeout clearTimeout */\n\n/**\n * @typedef { {\n *   (...args: any[]): any;\n *   flush: () => void;\n *   cancel: () => void;\n * } } DebouncedFunction\n */\n\n/**\n * Debounce fn, calling it only once if the given time\n * elapsed between calls.\n *\n * Lodash-style the function exposes methods to `#clear`\n * and `#flush` to control internal behavior.\n *\n * @param  {Function} fn\n * @param  {Number} timeout\n *\n * @return {DebouncedFunction} debounced function\n */\nfunction debounce(fn, timeout) {\n\n  let timer;\n\n  let lastArgs;\n  let lastThis;\n\n  let lastNow;\n\n  function fire(force) {\n\n    let now = Date.now();\n\n    let scheduledDiff = force ? 0 : (lastNow + timeout) - now;\n\n    if (scheduledDiff > 0) {\n      return schedule(scheduledDiff);\n    }\n\n    fn.apply(lastThis, lastArgs);\n\n    clear();\n  }\n\n  function schedule(timeout) {\n    timer = setTimeout(fire, timeout);\n  }\n\n  function clear() {\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = lastNow = lastArgs = lastThis = undefined;\n  }\n\n  function flush() {\n    if (timer) {\n      fire(true);\n    }\n\n    clear();\n  }\n\n  /**\n   * @type { DebouncedFunction }\n   */\n  function callback(...args) {\n    lastNow = Date.now();\n\n    lastArgs = args;\n    lastThis = this;\n\n    // ensure an execution is scheduled\n    if (!timer) {\n      schedule(timeout);\n    }\n  }\n\n  callback.flush = flush;\n  callback.cancel = clear;\n\n  return callback;\n}\n\n/**\n * Throttle fn, calling at most once\n * in the given interval.\n *\n * @param  {Function} fn\n * @param  {Number} interval\n *\n * @return {Function} throttled function\n */\nfunction throttle(fn, interval) {\n  let throttling = false;\n\n  return function(...args) {\n\n    if (throttling) {\n      return;\n    }\n\n    fn(...args);\n    throttling = true;\n\n    setTimeout(() => {\n      throttling = false;\n    }, interval);\n  };\n}\n\n/**\n * Bind function against target <this>.\n *\n * @param  {Function} fn\n * @param  {Object}   target\n *\n * @return {Function} bound function\n */\nfunction bind(fn, target) {\n  return fn.bind(target);\n}\n\n/**\n * Convenience wrapper for `Object.assign`.\n *\n * @param {Object} target\n * @param {...Object} others\n *\n * @return {Object} the target\n */\nfunction assign(target, ...others) {\n  return Object.assign(target, ...others);\n}\n\n/**\n * Sets a nested property of a given object to the specified value.\n *\n * This mutates the object and returns it.\n *\n * @template T\n *\n * @param {T} target The target of the set operation.\n * @param {(string|number)[]} path The path to the nested value.\n * @param {any} value The value to set.\n *\n * @return {T}\n */\nfunction set(target, path, value) {\n\n  let currentTarget = target;\n\n  forEach(path, function(key, idx) {\n\n    if (typeof key !== 'number' && typeof key !== 'string') {\n      throw new Error('illegal key type: ' + typeof key + '. Key should be of type number or string.');\n    }\n\n    if (key === 'constructor') {\n      throw new Error('illegal key: constructor');\n    }\n\n    if (key === '__proto__') {\n      throw new Error('illegal key: __proto__');\n    }\n\n    let nextKey = path[idx + 1];\n    let nextTarget = currentTarget[key];\n\n    if (isDefined(nextKey) && isNil(nextTarget)) {\n      nextTarget = currentTarget[key] = isNaN(+nextKey) ? {} : [];\n    }\n\n    if (isUndefined(nextKey)) {\n      if (isUndefined(value)) {\n        delete currentTarget[key];\n      } else {\n        currentTarget[key] = value;\n      }\n    } else {\n      currentTarget = nextTarget;\n    }\n  });\n\n  return target;\n}\n\n\n/**\n * Gets a nested property of a given object.\n *\n * @param {Object} target The target of the get operation.\n * @param {(string|number)[]} path The path to the nested value.\n * @param {any} [defaultValue] The value to return if no value exists.\n *\n * @return {any}\n */\nfunction get(target, path, defaultValue) {\n\n  let currentTarget = target;\n\n  forEach(path, function(key) {\n\n    // accessing nil property yields <undefined>\n    if (isNil(currentTarget)) {\n      currentTarget = undefined;\n\n      return false;\n    }\n\n    currentTarget = currentTarget[key];\n  });\n\n  return isUndefined(currentTarget) ? defaultValue : currentTarget;\n}\n\n/**\n * Pick properties from the given target.\n *\n * @template T\n * @template {any[]} V\n *\n * @param {T} target\n * @param {V} properties\n *\n * @return Pick<T, V>\n */\nfunction pick(target, properties) {\n\n  let result = {};\n\n  let obj = Object(target);\n\n  forEach(properties, function(prop) {\n\n    if (prop in obj) {\n      result[prop] = target[prop];\n    }\n  });\n\n  return result;\n}\n\n/**\n * Pick all target properties, excluding the given ones.\n *\n * @template T\n * @template {any[]} V\n *\n * @param {T} target\n * @param {V} properties\n *\n * @return {Omit<T, V>} target\n */\nfunction omit(target, properties) {\n\n  let result = {};\n\n  let obj = Object(target);\n\n  forEach(obj, function(prop, key) {\n\n    if (properties.indexOf(key) === -1) {\n      result[key] = prop;\n    }\n  });\n\n  return result;\n}\n\n/**\n * Recursively merge `...sources` into given target.\n *\n * Does support merging objects; does not support merging arrays.\n *\n * @param {Object} target\n * @param {...Object} sources\n *\n * @return {Object} the target\n */\nfunction merge(target, ...sources) {\n\n  if (!sources.length) {\n    return target;\n  }\n\n  forEach(sources, function(source) {\n\n    // skip non-obj sources, i.e. null\n    if (!source || !isObject(source)) {\n      return;\n    }\n\n    forEach(source, function(sourceVal, key) {\n\n      if (key === '__proto__') {\n        return;\n      }\n\n      let targetVal = target[key];\n\n      if (isObject(sourceVal)) {\n\n        if (!isObject(targetVal)) {\n\n          // override target[key] with object\n          targetVal = {};\n        }\n\n        target[key] = merge(targetVal, sourceVal);\n      } else {\n        target[key] = sourceVal;\n      }\n\n    });\n  });\n\n  return target;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWluLWRhc2gvZGlzdC9pbmRleC5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsS0FBSztBQUNoQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0EsT0FBTztBQUNQOzs7QUFHQTtBQUNBO0FBQ0EsY0FBYyxnQ0FBZ0M7QUFDOUM7O0FBRUE7QUFDQTtBQUNBLGNBQWMsTUFBTTtBQUNwQjs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCLHFCQUFxQjtBQUNyQzs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCLHFCQUFxQjtBQUNyQzs7QUFFQTtBQUNBO0FBQ0EsY0FBYyw0REFBNEQ7QUFDMUU7O0FBRUE7QUFDQTtBQUNBLGNBQWMsNkNBQTZDO0FBQzNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLFdBQVcsWUFBWTtBQUN2QjtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLFdBQVcsWUFBWTtBQUN2QjtBQUNBLFlBQVksS0FBSztBQUNqQjtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOzs7QUFHQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsWUFBWSwwRkFBMEY7QUFDdEc7QUFDQSxZQUFZLEdBQUc7QUFDZjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsV0FBVyx3Q0FBd0M7QUFDbkQsV0FBVyxHQUFHO0FBQ2Q7QUFDQSxZQUFZLEdBQUc7QUFDZjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCLFlBQVksVUFBVTtBQUN0QjtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCLFlBQVksVUFBVTtBQUN0QjtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnQkFBZ0I7QUFDNUIsWUFBWSxVQUFVO0FBQ3RCO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsV0FBVztBQUN0QjtBQUNBLFlBQVksUUFBUSxXQUFXO0FBQy9CO0FBQ0Esb0RBQW9EOztBQUVwRDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7O0FBR0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLFdBQVcsK0JBQStCO0FBQzFDO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IscUJBQXFCO0FBQzNDLFlBQVksSUFBSTs7QUFFaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsT0FBTztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZDtBQUNBLGFBQWEsd0JBQXdCO0FBQ3JDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7O0FBR0E7QUFDQSxXQUFXLDZCQUE2QjtBQUN4QztBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0EsWUFBWSxtQkFBbUI7QUFDL0I7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCLFlBQVksVUFBVTtBQUN0QjtBQUNBLFlBQVksVUFBVTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxXQUFXO0FBQ3RCO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsV0FBVyxtQkFBbUI7QUFDOUIsV0FBVyxLQUFLO0FBQ2hCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDZEQUE2RDtBQUM3RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxtQkFBbUI7QUFDOUIsV0FBVyxLQUFLO0FBQ2hCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZDtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxXQUFXO0FBQ3RCO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBOztBQUVpVSIsInNvdXJjZXMiOlsid2VicGFjazovL2hhY2tkYXlzLTIwMjMvLi9ub2RlX21vZHVsZXMvbWluLWRhc2gvZGlzdC9pbmRleC5lc20uanM/N2U1YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEZsYXR0ZW4gYXJyYXksIG9uZSBsZXZlbCBkZWVwLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKlxuICogQHBhcmFtIHtUW11bXX0gYXJyXG4gKlxuICogQHJldHVybiB7VFtdfVxuICovXG5mdW5jdGlvbiBmbGF0dGVuKGFycikge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgYXJyKTtcbn1cblxuY29uc3QgbmF0aXZlVG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgbmF0aXZlSGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChvYmopIHtcbiAgcmV0dXJuIG9iaiA9PT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBpc0RlZmluZWQob2JqKSB7XG4gIHJldHVybiBvYmogIT09IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gaXNOaWwob2JqKSB7XG4gIHJldHVybiBvYmogPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNBcnJheShvYmopIHtcbiAgcmV0dXJuIG5hdGl2ZVRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XG4gIHJldHVybiBuYXRpdmVUb1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xufVxuXG5mdW5jdGlvbiBpc051bWJlcihvYmopIHtcbiAgcmV0dXJuIG5hdGl2ZVRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgTnVtYmVyXSc7XG59XG5cbi8qKlxuICogQHBhcmFtIHthbnl9IG9ialxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24ob2JqKSB7XG4gIGNvbnN0IHRhZyA9IG5hdGl2ZVRvU3RyaW5nLmNhbGwob2JqKTtcblxuICByZXR1cm4gKFxuICAgIHRhZyA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJyB8fFxuICAgIHRhZyA9PT0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nIHx8XG4gICAgdGFnID09PSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nIHx8XG4gICAgdGFnID09PSAnW29iamVjdCBBc3luY0dlbmVyYXRvckZ1bmN0aW9uXScgfHxcbiAgICB0YWcgPT09ICdbb2JqZWN0IFByb3h5XSdcbiAgKTtcbn1cblxuZnVuY3Rpb24gaXNTdHJpbmcob2JqKSB7XG4gIHJldHVybiBuYXRpdmVUb1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IFN0cmluZ10nO1xufVxuXG5cbi8qKlxuICogRW5zdXJlIGNvbGxlY3Rpb24gaXMgYW4gYXJyYXkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICovXG5mdW5jdGlvbiBlbnN1cmVBcnJheShvYmopIHtcblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhyb3cgbmV3IEVycm9yKCdtdXN0IHN1cHBseSBhcnJheScpO1xufVxuXG4vKipcbiAqIFJldHVybiB0cnVlLCBpZiB0YXJnZXQgb3ducyBhIHByb3BlcnR5IHdpdGggdGhlIGdpdmVuIGtleS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaGFzKHRhcmdldCwga2V5KSB7XG4gIHJldHVybiBuYXRpdmVIYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwga2V5KTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHR5cGVkZWYgeyAoXG4gKiAgICgoZTogVCkgPT4gYm9vbGVhbikgfFxuICogICAoKGU6IFQsIGlkeDogbnVtYmVyKSA9PiBib29sZWFuKSB8XG4gKiAgICgoZTogVCwga2V5OiBzdHJpbmcpID0+IGJvb2xlYW4pIHxcbiAqICAgc3RyaW5nIHxcbiAqICAgbnVtYmVyXG4gKiApIH0gTWF0Y2hlclxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0ZW1wbGF0ZSBVXG4gKlxuICogQHR5cGVkZWYgeyAoXG4gKiAgICgoZTogVCkgPT4gVSkgfCBzdHJpbmcgfCBudW1iZXJcbiAqICkgfSBFeHRyYWN0b3JcbiAqL1xuXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHsgKHZhbDogVCwga2V5OiBhbnkpID0+IGJvb2xlYW4gfSBNYXRjaEZuXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHR5cGVkZWYgeyBUW10gfSBBcnJheUNvbGxlY3Rpb25cbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdHlwZWRlZiB7IHsgW2tleTogc3RyaW5nXTogVCB9IH0gU3RyaW5nS2V5VmFsdWVDb2xsZWN0aW9uXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHR5cGVkZWYgeyB7IFtrZXk6IG51bWJlcl06IFQgfSB9IE51bWJlcktleVZhbHVlQ29sbGVjdGlvblxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHsgU3RyaW5nS2V5VmFsdWVDb2xsZWN0aW9uPFQ+IHwgTnVtYmVyS2V5VmFsdWVDb2xsZWN0aW9uPFQ+IH0gS2V5VmFsdWVDb2xsZWN0aW9uXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHR5cGVkZWYgeyBLZXlWYWx1ZUNvbGxlY3Rpb248VD4gfCBBcnJheUNvbGxlY3Rpb248VD4gfSBDb2xsZWN0aW9uXG4gKi9cblxuLyoqXG4gKiBGaW5kIGVsZW1lbnQgaW4gY29sbGVjdGlvbi5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtDb2xsZWN0aW9uPFQ+fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0ge01hdGNoZXI8VD59IG1hdGNoZXJcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGZpbmQoY29sbGVjdGlvbiwgbWF0Y2hlcikge1xuXG4gIGNvbnN0IG1hdGNoRm4gPSB0b01hdGNoZXIobWF0Y2hlcik7XG5cbiAgbGV0IG1hdGNoO1xuXG4gIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgICBpZiAobWF0Y2hGbih2YWwsIGtleSkpIHtcbiAgICAgIG1hdGNoID0gdmFsO1xuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gbWF0Y2g7XG5cbn1cblxuXG4vKipcbiAqIEZpbmQgZWxlbWVudCBpbmRleCBpbiBjb2xsZWN0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge0NvbGxlY3Rpb248VD59IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7TWF0Y2hlcjxUPn0gbWF0Y2hlclxuICpcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gZmluZEluZGV4KGNvbGxlY3Rpb24sIG1hdGNoZXIpIHtcblxuICBjb25zdCBtYXRjaEZuID0gdG9NYXRjaGVyKG1hdGNoZXIpO1xuXG4gIGxldCBpZHggPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gLTEgOiB1bmRlZmluZWQ7XG5cbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgIGlmIChtYXRjaEZuKHZhbCwga2V5KSkge1xuICAgICAgaWR4ID0ga2V5O1xuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gaWR4O1xufVxuXG5cbi8qKlxuICogRmlsdGVyIGVsZW1lbnRzIGluIGNvbGxlY3Rpb24uXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7Q29sbGVjdGlvbjxUPn0gY29sbGVjdGlvblxuICogQHBhcmFtIHtNYXRjaGVyPFQ+fSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7VFtdfSByZXN1bHRcbiAqL1xuZnVuY3Rpb24gZmlsdGVyKGNvbGxlY3Rpb24sIG1hdGNoZXIpIHtcblxuICBjb25zdCBtYXRjaEZuID0gdG9NYXRjaGVyKG1hdGNoZXIpO1xuXG4gIGxldCByZXN1bHQgPSBbXTtcblxuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgaWYgKG1hdGNoRm4odmFsLCBrZXkpKSB7XG4gICAgICByZXN1bHQucHVzaCh2YWwpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBjb2xsZWN0aW9uOyByZXR1cm5pbmcgc29tZXRoaW5nXG4gKiAobm9uLXVuZGVmaW5lZCkgd2lsbCBzdG9wIGl0ZXJhdGlvbi5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtDb2xsZWN0aW9uPFQ+fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0geyAoKGl0ZW06IFQsIGlkeDogbnVtYmVyKSA9PiAoYm9vbGVhbnx2b2lkKSkgfCAoKGl0ZW06IFQsIGtleTogc3RyaW5nKSA9PiAoYm9vbGVhbnx2b2lkKSkgfSBpdGVyYXRvclxuICpcbiAqIEByZXR1cm4ge1R9IHJldHVybiByZXN1bHQgdGhhdCBzdG9wcGVkIHRoZSBpdGVyYXRpb25cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChjb2xsZWN0aW9uLCBpdGVyYXRvcikge1xuXG4gIGxldCB2YWwsXG4gICAgICByZXN1bHQ7XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGNvbGxlY3Rpb24pKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgY29udmVydEtleSA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyB0b051bSA6IGlkZW50aXR5O1xuXG4gIGZvciAobGV0IGtleSBpbiBjb2xsZWN0aW9uKSB7XG5cbiAgICBpZiAoaGFzKGNvbGxlY3Rpb24sIGtleSkpIHtcbiAgICAgIHZhbCA9IGNvbGxlY3Rpb25ba2V5XTtcblxuICAgICAgcmVzdWx0ID0gaXRlcmF0b3IodmFsLCBjb252ZXJ0S2V5KGtleSkpO1xuXG4gICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFJldHVybiBjb2xsZWN0aW9uIHdpdGhvdXQgZWxlbWVudC5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtBcnJheUNvbGxlY3Rpb248VD59IGFyclxuICogQHBhcmFtIHtNYXRjaGVyPFQ+fSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7VFtdfVxuICovXG5mdW5jdGlvbiB3aXRob3V0KGFyciwgbWF0Y2hlcikge1xuXG4gIGlmIChpc1VuZGVmaW5lZChhcnIpKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgZW5zdXJlQXJyYXkoYXJyKTtcblxuICBjb25zdCBtYXRjaEZuID0gdG9NYXRjaGVyKG1hdGNoZXIpO1xuXG4gIHJldHVybiBhcnIuZmlsdGVyKGZ1bmN0aW9uKGVsLCBpZHgpIHtcbiAgICByZXR1cm4gIW1hdGNoRm4oZWwsIGlkeCk7XG4gIH0pO1xuXG59XG5cblxuLyoqXG4gKiBSZWR1Y2UgY29sbGVjdGlvbiwgcmV0dXJuaW5nIGEgc2luZ2xlIHJlc3VsdC5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHRlbXBsYXRlIFZcbiAqXG4gKiBAcGFyYW0ge0NvbGxlY3Rpb248VD59IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7KHJlc3VsdDogViwgZW50cnk6IFQsIGluZGV4OiBhbnkpID0+IFZ9IGl0ZXJhdG9yXG4gKiBAcGFyYW0ge1Z9IHJlc3VsdFxuICpcbiAqIEByZXR1cm4ge1Z9IHJlc3VsdCByZXR1cm5lZCBmcm9tIGxhc3QgaXRlcmF0b3JcbiAqL1xuZnVuY3Rpb24gcmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdG9yLCByZXN1bHQpIHtcblxuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpZHgpIHtcbiAgICByZXN1bHQgPSBpdGVyYXRvcihyZXN1bHQsIHZhbHVlLCBpZHgpO1xuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cbi8qKlxuICogUmV0dXJuIHRydWUgaWYgZXZlcnkgZWxlbWVudCBpbiB0aGUgY29sbGVjdGlvblxuICogbWF0Y2hlcyB0aGUgY3JpdGVyaWEuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gbWF0Y2hlclxuICpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGV2ZXJ5KGNvbGxlY3Rpb24sIG1hdGNoZXIpIHtcblxuICByZXR1cm4gISFyZWR1Y2UoY29sbGVjdGlvbiwgZnVuY3Rpb24obWF0Y2hlcywgdmFsLCBrZXkpIHtcbiAgICByZXR1cm4gbWF0Y2hlcyAmJiBtYXRjaGVyKHZhbCwga2V5KTtcbiAgfSwgdHJ1ZSk7XG59XG5cblxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSBpZiBzb21lIGVsZW1lbnRzIGluIHRoZSBjb2xsZWN0aW9uXG4gKiBtYXRjaCB0aGUgY3JpdGVyaWEuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gbWF0Y2hlclxuICpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHNvbWUoY29sbGVjdGlvbiwgbWF0Y2hlcikge1xuXG4gIHJldHVybiAhIWZpbmQoY29sbGVjdGlvbiwgbWF0Y2hlcik7XG59XG5cblxuLyoqXG4gKiBUcmFuc2Zvcm0gYSBjb2xsZWN0aW9uIGludG8gYW5vdGhlciBjb2xsZWN0aW9uXG4gKiBieSBwaXBpbmcgZWFjaCBtZW1iZXIgdGhyb3VnaCB0aGUgZ2l2ZW4gZm4uXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5fSAgIGNvbGxlY3Rpb25cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmblxuICpcbiAqIEByZXR1cm4ge0FycmF5fSB0cmFuc2Zvcm1lZCBjb2xsZWN0aW9uXG4gKi9cbmZ1bmN0aW9uIG1hcChjb2xsZWN0aW9uLCBmbikge1xuXG4gIGxldCByZXN1bHQgPSBbXTtcblxuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgcmVzdWx0LnB1c2goZm4odmFsLCBrZXkpKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG4vKipcbiAqIEdldCB0aGUgY29sbGVjdGlvbnMga2V5cy5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R8QXJyYXl9IGNvbGxlY3Rpb25cbiAqXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24ga2V5cyhjb2xsZWN0aW9uKSB7XG4gIHJldHVybiBjb2xsZWN0aW9uICYmIE9iamVjdC5rZXlzKGNvbGxlY3Rpb24pIHx8IFtdO1xufVxuXG5cbi8qKlxuICogU2hvcnRoYW5kIGZvciBga2V5cyhvKS5sZW5ndGhgLlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheX0gY29sbGVjdGlvblxuICpcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuZnVuY3Rpb24gc2l6ZShjb2xsZWN0aW9uKSB7XG4gIHJldHVybiBrZXlzKGNvbGxlY3Rpb24pLmxlbmd0aDtcbn1cblxuXG4vKipcbiAqIEdldCB0aGUgdmFsdWVzIGluIHRoZSBjb2xsZWN0aW9uLlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheX0gY29sbGVjdGlvblxuICpcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5mdW5jdGlvbiB2YWx1ZXMoY29sbGVjdGlvbikge1xuICByZXR1cm4gbWFwKGNvbGxlY3Rpb24sICh2YWwpID0+IHZhbCk7XG59XG5cblxuLyoqXG4gKiBHcm91cCBjb2xsZWN0aW9uIG1lbWJlcnMgYnkgYXR0cmlidXRlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0ge0V4dHJhY3Rvcn0gZXh0cmFjdG9yXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBtYXAgd2l0aCB7IGF0dHJWYWx1ZSA9PiBbIGEsIGIsIGMgXSB9XG4gKi9cbmZ1bmN0aW9uIGdyb3VwQnkoY29sbGVjdGlvbiwgZXh0cmFjdG9yLCBncm91cGVkID0ge30pIHtcblxuICBleHRyYWN0b3IgPSB0b0V4dHJhY3RvcihleHRyYWN0b3IpO1xuXG4gIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsKSB7XG4gICAgbGV0IGRpc2NyaW1pbmF0b3IgPSBleHRyYWN0b3IodmFsKSB8fCAnXyc7XG5cbiAgICBsZXQgZ3JvdXAgPSBncm91cGVkW2Rpc2NyaW1pbmF0b3JdO1xuXG4gICAgaWYgKCFncm91cCkge1xuICAgICAgZ3JvdXAgPSBncm91cGVkW2Rpc2NyaW1pbmF0b3JdID0gW107XG4gICAgfVxuXG4gICAgZ3JvdXAucHVzaCh2YWwpO1xuICB9KTtcblxuICByZXR1cm4gZ3JvdXBlZDtcbn1cblxuXG5mdW5jdGlvbiB1bmlxdWVCeShleHRyYWN0b3IsIC4uLmNvbGxlY3Rpb25zKSB7XG5cbiAgZXh0cmFjdG9yID0gdG9FeHRyYWN0b3IoZXh0cmFjdG9yKTtcblxuICBsZXQgZ3JvdXBlZCA9IHt9O1xuXG4gIGZvckVhY2goY29sbGVjdGlvbnMsIChjKSA9PiBncm91cEJ5KGMsIGV4dHJhY3RvciwgZ3JvdXBlZCkpO1xuXG4gIGxldCByZXN1bHQgPSBtYXAoZ3JvdXBlZCwgZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgICByZXR1cm4gdmFsWzBdO1xuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cbmNvbnN0IHVuaW9uQnkgPSB1bmlxdWVCeTtcblxuXG5cbi8qKlxuICogU29ydCBjb2xsZWN0aW9uIGJ5IGNyaXRlcmlhLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKlxuICogQHBhcmFtIHtDb2xsZWN0aW9uPFQ+fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0ge0V4dHJhY3RvcjxULCBudW1iZXIgfCBzdHJpbmc+fSBleHRyYWN0b3JcbiAqXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24gc29ydEJ5KGNvbGxlY3Rpb24sIGV4dHJhY3Rvcikge1xuXG4gIGV4dHJhY3RvciA9IHRvRXh0cmFjdG9yKGV4dHJhY3Rvcik7XG5cbiAgbGV0IHNvcnRlZCA9IFtdO1xuXG4gIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIGxldCBkaXNjID0gZXh0cmFjdG9yKHZhbHVlLCBrZXkpO1xuXG4gICAgbGV0IGVudHJ5ID0ge1xuICAgICAgZDogZGlzYyxcbiAgICAgIHY6IHZhbHVlXG4gICAgfTtcblxuICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IHNvcnRlZC5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICBsZXQgeyBkIH0gPSBzb3J0ZWRbaWR4XTtcblxuICAgICAgaWYgKGRpc2MgPCBkKSB7XG4gICAgICAgIHNvcnRlZC5zcGxpY2UoaWR4LCAwLCBlbnRyeSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBub3QgaW5zZXJ0ZWQsIGFwcGVuZCAoISlcbiAgICBzb3J0ZWQucHVzaChlbnRyeSk7XG4gIH0pO1xuXG4gIHJldHVybiBtYXAoc29ydGVkLCAoZSkgPT4gZS52KTtcbn1cblxuXG4vKipcbiAqIENyZWF0ZSBhbiBvYmplY3QgcGF0dGVybiBtYXRjaGVyLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogY29uc3QgbWF0Y2hlciA9IG1hdGNoUGF0dGVybih7IGlkOiAxIH0pO1xuICpcbiAqIGxldCBlbGVtZW50ID0gZmluZChlbGVtZW50cywgbWF0Y2hlcik7XG4gKiBgYGBcbiAqXG4gKiBAdGVtcGxhdGUgVFxuICpcbiAqIEBwYXJhbSB7VH0gcGF0dGVyblxuICpcbiAqIEByZXR1cm4geyAoZWw6IGFueSkgPT4gIGJvb2xlYW4gfSBtYXRjaGVyRm5cbiAqL1xuZnVuY3Rpb24gbWF0Y2hQYXR0ZXJuKHBhdHRlcm4pIHtcblxuICByZXR1cm4gZnVuY3Rpb24oZWwpIHtcblxuICAgIHJldHVybiBldmVyeShwYXR0ZXJuLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgICAgcmV0dXJuIGVsW2tleV0gPT09IHZhbDtcbiAgICB9KTtcblxuICB9O1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmcgfCAoKGU6IGFueSkgPT4gYW55KSB9IGV4dHJhY3RvclxuICpcbiAqIEByZXR1cm4geyAoZTogYW55KSA9PiBhbnkgfVxuICovXG5mdW5jdGlvbiB0b0V4dHJhY3RvcihleHRyYWN0b3IpIHtcblxuICAvKipcbiAgICogQHNhdGlzZmllcyB7IChlOiBhbnkpID0+IGFueSB9XG4gICAqL1xuICByZXR1cm4gaXNGdW5jdGlvbihleHRyYWN0b3IpID8gZXh0cmFjdG9yIDogKGUpID0+IHtcblxuICAgIC8vIEB0cy1pZ25vcmU6IGp1c3Qgd29ya3NcbiAgICByZXR1cm4gZVtleHRyYWN0b3JdO1xuICB9O1xufVxuXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7TWF0Y2hlcjxUPn0gbWF0Y2hlclxuICpcbiAqIEByZXR1cm4ge01hdGNoRm48VD59XG4gKi9cbmZ1bmN0aW9uIHRvTWF0Y2hlcihtYXRjaGVyKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKG1hdGNoZXIpID8gbWF0Y2hlciA6IChlKSA9PiB7XG4gICAgcmV0dXJuIGUgPT09IG1hdGNoZXI7XG4gIH07XG59XG5cblxuZnVuY3Rpb24gaWRlbnRpdHkoYXJnKSB7XG4gIHJldHVybiBhcmc7XG59XG5cbmZ1bmN0aW9uIHRvTnVtKGFyZykge1xuICByZXR1cm4gTnVtYmVyKGFyZyk7XG59XG5cbi8qIGdsb2JhbCBzZXRUaW1lb3V0IGNsZWFyVGltZW91dCAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsge1xuICogICAoLi4uYXJnczogYW55W10pOiBhbnk7XG4gKiAgIGZsdXNoOiAoKSA9PiB2b2lkO1xuICogICBjYW5jZWw6ICgpID0+IHZvaWQ7XG4gKiB9IH0gRGVib3VuY2VkRnVuY3Rpb25cbiAqL1xuXG4vKipcbiAqIERlYm91bmNlIGZuLCBjYWxsaW5nIGl0IG9ubHkgb25jZSBpZiB0aGUgZ2l2ZW4gdGltZVxuICogZWxhcHNlZCBiZXR3ZWVuIGNhbGxzLlxuICpcbiAqIExvZGFzaC1zdHlsZSB0aGUgZnVuY3Rpb24gZXhwb3NlcyBtZXRob2RzIHRvIGAjY2xlYXJgXG4gKiBhbmQgYCNmbHVzaGAgdG8gY29udHJvbCBpbnRlcm5hbCBiZWhhdmlvci5cbiAqXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSAge051bWJlcn0gdGltZW91dFxuICpcbiAqIEByZXR1cm4ge0RlYm91bmNlZEZ1bmN0aW9ufSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gZGVib3VuY2UoZm4sIHRpbWVvdXQpIHtcblxuICBsZXQgdGltZXI7XG5cbiAgbGV0IGxhc3RBcmdzO1xuICBsZXQgbGFzdFRoaXM7XG5cbiAgbGV0IGxhc3ROb3c7XG5cbiAgZnVuY3Rpb24gZmlyZShmb3JjZSkge1xuXG4gICAgbGV0IG5vdyA9IERhdGUubm93KCk7XG5cbiAgICBsZXQgc2NoZWR1bGVkRGlmZiA9IGZvcmNlID8gMCA6IChsYXN0Tm93ICsgdGltZW91dCkgLSBub3c7XG5cbiAgICBpZiAoc2NoZWR1bGVkRGlmZiA+IDApIHtcbiAgICAgIHJldHVybiBzY2hlZHVsZShzY2hlZHVsZWREaWZmKTtcbiAgICB9XG5cbiAgICBmbi5hcHBseShsYXN0VGhpcywgbGFzdEFyZ3MpO1xuXG4gICAgY2xlYXIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNjaGVkdWxlKHRpbWVvdXQpIHtcbiAgICB0aW1lciA9IHNldFRpbWVvdXQoZmlyZSwgdGltZW91dCk7XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICBpZiAodGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgfVxuXG4gICAgdGltZXIgPSBsYXN0Tm93ID0gbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIGlmICh0aW1lcikge1xuICAgICAgZmlyZSh0cnVlKTtcbiAgICB9XG5cbiAgICBjbGVhcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHsgRGVib3VuY2VkRnVuY3Rpb24gfVxuICAgKi9cbiAgZnVuY3Rpb24gY2FsbGJhY2soLi4uYXJncykge1xuICAgIGxhc3ROb3cgPSBEYXRlLm5vdygpO1xuXG4gICAgbGFzdEFyZ3MgPSBhcmdzO1xuICAgIGxhc3RUaGlzID0gdGhpcztcblxuICAgIC8vIGVuc3VyZSBhbiBleGVjdXRpb24gaXMgc2NoZWR1bGVkXG4gICAgaWYgKCF0aW1lcikge1xuICAgICAgc2NoZWR1bGUodGltZW91dCk7XG4gICAgfVxuICB9XG5cbiAgY2FsbGJhY2suZmx1c2ggPSBmbHVzaDtcbiAgY2FsbGJhY2suY2FuY2VsID0gY2xlYXI7XG5cbiAgcmV0dXJuIGNhbGxiYWNrO1xufVxuXG4vKipcbiAqIFRocm90dGxlIGZuLCBjYWxsaW5nIGF0IG1vc3Qgb25jZVxuICogaW4gdGhlIGdpdmVuIGludGVydmFsLlxuICpcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtICB7TnVtYmVyfSBpbnRlcnZhbFxuICpcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUoZm4sIGludGVydmFsKSB7XG4gIGxldCB0aHJvdHRsaW5nID0gZmFsc2U7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcblxuICAgIGlmICh0aHJvdHRsaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm4oLi4uYXJncyk7XG4gICAgdGhyb3R0bGluZyA9IHRydWU7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRocm90dGxpbmcgPSBmYWxzZTtcbiAgICB9LCBpbnRlcnZhbCk7XG4gIH07XG59XG5cbi8qKlxuICogQmluZCBmdW5jdGlvbiBhZ2FpbnN0IHRhcmdldCA8dGhpcz4uXG4gKlxuICogQHBhcmFtICB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0gIHtPYmplY3R9ICAgdGFyZ2V0XG4gKlxuICogQHJldHVybiB7RnVuY3Rpb259IGJvdW5kIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGJpbmQoZm4sIHRhcmdldCkge1xuICByZXR1cm4gZm4uYmluZCh0YXJnZXQpO1xufVxuXG4vKipcbiAqIENvbnZlbmllbmNlIHdyYXBwZXIgZm9yIGBPYmplY3QuYXNzaWduYC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0gey4uLk9iamVjdH0gb3RoZXJzXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSB0aGUgdGFyZ2V0XG4gKi9cbmZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIC4uLm90aGVycykge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih0YXJnZXQsIC4uLm90aGVycyk7XG59XG5cbi8qKlxuICogU2V0cyBhIG5lc3RlZCBwcm9wZXJ0eSBvZiBhIGdpdmVuIG9iamVjdCB0byB0aGUgc3BlY2lmaWVkIHZhbHVlLlxuICpcbiAqIFRoaXMgbXV0YXRlcyB0aGUgb2JqZWN0IGFuZCByZXR1cm5zIGl0LlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKlxuICogQHBhcmFtIHtUfSB0YXJnZXQgVGhlIHRhcmdldCBvZiB0aGUgc2V0IG9wZXJhdGlvbi5cbiAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpW119IHBhdGggVGhlIHBhdGggdG8gdGhlIG5lc3RlZCB2YWx1ZS5cbiAqIEBwYXJhbSB7YW55fSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICpcbiAqIEByZXR1cm4ge1R9XG4gKi9cbmZ1bmN0aW9uIHNldCh0YXJnZXQsIHBhdGgsIHZhbHVlKSB7XG5cbiAgbGV0IGN1cnJlbnRUYXJnZXQgPSB0YXJnZXQ7XG5cbiAgZm9yRWFjaChwYXRoLCBmdW5jdGlvbihrZXksIGlkeCkge1xuXG4gICAgaWYgKHR5cGVvZiBrZXkgIT09ICdudW1iZXInICYmIHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2lsbGVnYWwga2V5IHR5cGU6ICcgKyB0eXBlb2Yga2V5ICsgJy4gS2V5IHNob3VsZCBiZSBvZiB0eXBlIG51bWJlciBvciBzdHJpbmcuJyk7XG4gICAgfVxuXG4gICAgaWYgKGtleSA9PT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbGxlZ2FsIGtleTogY29uc3RydWN0b3InKTtcbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSAnX19wcm90b19fJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbGxlZ2FsIGtleTogX19wcm90b19fJyk7XG4gICAgfVxuXG4gICAgbGV0IG5leHRLZXkgPSBwYXRoW2lkeCArIDFdO1xuICAgIGxldCBuZXh0VGFyZ2V0ID0gY3VycmVudFRhcmdldFtrZXldO1xuXG4gICAgaWYgKGlzRGVmaW5lZChuZXh0S2V5KSAmJiBpc05pbChuZXh0VGFyZ2V0KSkge1xuICAgICAgbmV4dFRhcmdldCA9IGN1cnJlbnRUYXJnZXRba2V5XSA9IGlzTmFOKCtuZXh0S2V5KSA/IHt9IDogW107XG4gICAgfVxuXG4gICAgaWYgKGlzVW5kZWZpbmVkKG5leHRLZXkpKSB7XG4gICAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgIGRlbGV0ZSBjdXJyZW50VGFyZ2V0W2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50VGFyZ2V0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudFRhcmdldCA9IG5leHRUYXJnZXQ7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5cbi8qKlxuICogR2V0cyBhIG5lc3RlZCBwcm9wZXJ0eSBvZiBhIGdpdmVuIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IFRoZSB0YXJnZXQgb2YgdGhlIGdldCBvcGVyYXRpb24uXG4gKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKVtdfSBwYXRoIFRoZSBwYXRoIHRvIHRoZSBuZXN0ZWQgdmFsdWUuXG4gKiBAcGFyYW0ge2FueX0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHRvIHJldHVybiBpZiBubyB2YWx1ZSBleGlzdHMuXG4gKlxuICogQHJldHVybiB7YW55fVxuICovXG5mdW5jdGlvbiBnZXQodGFyZ2V0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcblxuICBsZXQgY3VycmVudFRhcmdldCA9IHRhcmdldDtcblxuICBmb3JFYWNoKHBhdGgsIGZ1bmN0aW9uKGtleSkge1xuXG4gICAgLy8gYWNjZXNzaW5nIG5pbCBwcm9wZXJ0eSB5aWVsZHMgPHVuZGVmaW5lZD5cbiAgICBpZiAoaXNOaWwoY3VycmVudFRhcmdldCkpIHtcbiAgICAgIGN1cnJlbnRUYXJnZXQgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjdXJyZW50VGFyZ2V0ID0gY3VycmVudFRhcmdldFtrZXldO1xuICB9KTtcblxuICByZXR1cm4gaXNVbmRlZmluZWQoY3VycmVudFRhcmdldCkgPyBkZWZhdWx0VmFsdWUgOiBjdXJyZW50VGFyZ2V0O1xufVxuXG4vKipcbiAqIFBpY2sgcHJvcGVydGllcyBmcm9tIHRoZSBnaXZlbiB0YXJnZXQuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0ZW1wbGF0ZSB7YW55W119IFZcbiAqXG4gKiBAcGFyYW0ge1R9IHRhcmdldFxuICogQHBhcmFtIHtWfSBwcm9wZXJ0aWVzXG4gKlxuICogQHJldHVybiBQaWNrPFQsIFY+XG4gKi9cbmZ1bmN0aW9uIHBpY2sodGFyZ2V0LCBwcm9wZXJ0aWVzKSB7XG5cbiAgbGV0IHJlc3VsdCA9IHt9O1xuXG4gIGxldCBvYmogPSBPYmplY3QodGFyZ2V0KTtcblxuICBmb3JFYWNoKHByb3BlcnRpZXMsIGZ1bmN0aW9uKHByb3ApIHtcblxuICAgIGlmIChwcm9wIGluIG9iaikge1xuICAgICAgcmVzdWx0W3Byb3BdID0gdGFyZ2V0W3Byb3BdO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBQaWNrIGFsbCB0YXJnZXQgcHJvcGVydGllcywgZXhjbHVkaW5nIHRoZSBnaXZlbiBvbmVzLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdGVtcGxhdGUge2FueVtdfSBWXG4gKlxuICogQHBhcmFtIHtUfSB0YXJnZXRcbiAqIEBwYXJhbSB7Vn0gcHJvcGVydGllc1xuICpcbiAqIEByZXR1cm4ge09taXQ8VCwgVj59IHRhcmdldFxuICovXG5mdW5jdGlvbiBvbWl0KHRhcmdldCwgcHJvcGVydGllcykge1xuXG4gIGxldCByZXN1bHQgPSB7fTtcblxuICBsZXQgb2JqID0gT2JqZWN0KHRhcmdldCk7XG5cbiAgZm9yRWFjaChvYmosIGZ1bmN0aW9uKHByb3AsIGtleSkge1xuXG4gICAgaWYgKHByb3BlcnRpZXMuaW5kZXhPZihrZXkpID09PSAtMSkge1xuICAgICAgcmVzdWx0W2tleV0gPSBwcm9wO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBSZWN1cnNpdmVseSBtZXJnZSBgLi4uc291cmNlc2AgaW50byBnaXZlbiB0YXJnZXQuXG4gKlxuICogRG9lcyBzdXBwb3J0IG1lcmdpbmcgb2JqZWN0czsgZG9lcyBub3Qgc3VwcG9ydCBtZXJnaW5nIGFycmF5cy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlc1xuICpcbiAqIEByZXR1cm4ge09iamVjdH0gdGhlIHRhcmdldFxuICovXG5mdW5jdGlvbiBtZXJnZSh0YXJnZXQsIC4uLnNvdXJjZXMpIHtcblxuICBpZiAoIXNvdXJjZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIGZvckVhY2goc291cmNlcywgZnVuY3Rpb24oc291cmNlKSB7XG5cbiAgICAvLyBza2lwIG5vbi1vYmogc291cmNlcywgaS5lLiBudWxsXG4gICAgaWYgKCFzb3VyY2UgfHwgIWlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3JFYWNoKHNvdXJjZSwgZnVuY3Rpb24oc291cmNlVmFsLCBrZXkpIHtcblxuICAgICAgaWYgKGtleSA9PT0gJ19fcHJvdG9fXycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsZXQgdGFyZ2V0VmFsID0gdGFyZ2V0W2tleV07XG5cbiAgICAgIGlmIChpc09iamVjdChzb3VyY2VWYWwpKSB7XG5cbiAgICAgICAgaWYgKCFpc09iamVjdCh0YXJnZXRWYWwpKSB7XG5cbiAgICAgICAgICAvLyBvdmVycmlkZSB0YXJnZXRba2V5XSB3aXRoIG9iamVjdFxuICAgICAgICAgIHRhcmdldFZhbCA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGFyZ2V0W2tleV0gPSBtZXJnZSh0YXJnZXRWYWwsIHNvdXJjZVZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVZhbDtcbiAgICAgIH1cblxuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5leHBvcnQgeyBhc3NpZ24sIGJpbmQsIGRlYm91bmNlLCBlbnN1cmVBcnJheSwgZXZlcnksIGZpbHRlciwgZmluZCwgZmluZEluZGV4LCBmbGF0dGVuLCBmb3JFYWNoLCBnZXQsIGdyb3VwQnksIGhhcywgaXNBcnJheSwgaXNEZWZpbmVkLCBpc0Z1bmN0aW9uLCBpc05pbCwgaXNOdW1iZXIsIGlzT2JqZWN0LCBpc1N0cmluZywgaXNVbmRlZmluZWQsIGtleXMsIG1hcCwgbWF0Y2hQYXR0ZXJuLCBtZXJnZSwgb21pdCwgcGljaywgcmVkdWNlLCBzZXQsIHNpemUsIHNvbWUsIHNvcnRCeSwgdGhyb3R0bGUsIHVuaW9uQnksIHVuaXF1ZUJ5LCB2YWx1ZXMsIHdpdGhvdXQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/min-dash/dist/index.esm.js\n");

/***/ })

/******/ });
/************************************************************************/
/******/ // The module cache
/******/ var __webpack_module_cache__ = {};
/******/ 
/******/ // The require function
/******/ function __webpack_require__(moduleId) {
/******/ 	// Check if module is in cache
/******/ 	var cachedModule = __webpack_module_cache__[moduleId];
/******/ 	if (cachedModule !== undefined) {
/******/ 		return cachedModule.exports;
/******/ 	}
/******/ 	// Create a new module (and put it into the cache)
/******/ 	var module = __webpack_module_cache__[moduleId] = {
/******/ 		// no module.id needed
/******/ 		// no module.loaded needed
/******/ 		exports: {}
/******/ 	};
/******/ 
/******/ 	// Execute the module function
/******/ 	__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 
/******/ 	// Return the exports of the module
/******/ 	return module.exports;
/******/ }
/******/ 
/************************************************************************/
/******/ /* webpack/runtime/compat get default export */
/******/ (() => {
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = (module) => {
/******/ 		var getter = module && module.__esModule ?
/******/ 			() => (module['default']) :
/******/ 			() => (module);
/******/ 		__webpack_require__.d(getter, { a: getter });
/******/ 		return getter;
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/define property getters */
/******/ (() => {
/******/ 	// define getter functions for harmony exports
/******/ 	__webpack_require__.d = (exports, definition) => {
/******/ 		for(var key in definition) {
/******/ 			if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 				Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 			}
/******/ 		}
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/ (() => {
/******/ 	__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ })();
/******/ 
/******/ /* webpack/runtime/make namespace object */
/******/ (() => {
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = (exports) => {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/ })();
/******/ 
/************************************************************************/
/******/ 
/******/ // startup
/******/ // Load entry module and return exports
/******/ // This entry module can't be inlined because the eval-source-map devtool is used.
/******/ var __webpack_exports__ = __webpack_require__("./src/features/index.js");
/******/ var __webpack_exports__default = __webpack_exports__["default"];
/******/ export { __webpack_exports__default as default };
/******/ 
